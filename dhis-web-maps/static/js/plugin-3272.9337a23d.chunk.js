/*! For license information please see plugin-3272.9337a23d.chunk.js.LICENSE.txt */
(self.webpackChunkmaps_app=self.webpackChunkmaps_app||[]).push([[3272],{47756:(e,t,r)=>{"use strict";r.d(t,{X:()=>v});var n=r(47545),i=r(52868),a=r(33945),o=r(36727),s=r(3112),l=r(49474),u=r(36206),c=r.n(u),d=r(63665),h=r.n(d),p=r(2085);const m=["svg.jsx-4069423049{display:block;pointer-events:none;}","svg.jsx-4069423049 .border.jsx-4069423049{fill:".concat(a.O.grey800,";}"),"svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:".concat(a.O.white,";}"),"svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:".concat(a.O.teal500,";}"),"svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:".concat(a.O.blue600,";}"),"svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:".concat(a.O.yellow700,";}"),"svg.error.jsx-4069423049 .background.jsx-4069423049{fill:".concat(a.O.red500,";}"),"svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:".concat(a.O.teal900,";}"),"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}","svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:".concat(a.O.white,";}")];function f(e){let{className:t}=e;return p.createElement("svg",{viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["2753140462",[a.O.grey300,a.O.grey400,a.O.blue600,a.O.blue700,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red700]]])+" "+(t||"")},p.createElement("rect",{x:"0",y:"0",width:"18",height:"18",rx:"3",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["2753140462",[a.O.grey300,a.O.grey400,a.O.blue600,a.O.blue700,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red700]]])+" background"}),p.createElement("path",{d:"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["2753140462",[a.O.grey300,a.O.grey400,a.O.blue600,a.O.blue700,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red700]]])+" border"}),p.createElement("path",{d:"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["2753140462",[a.O.grey300,a.O.grey400,a.O.blue600,a.O.blue700,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red700]]])+" checkmark"}),p.createElement("rect",{x:"4",y:"8",width:"10",height:"2",rx:"1",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["2753140462",[a.O.grey300,a.O.grey400,a.O.blue600,a.O.blue700,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red700]]])+" indeterminate"}),p.createElement(n.default,{id:m.__hash},m),p.createElement(n.default,{id:"2753140462",dynamic:[a.O.grey300,a.O.grey400,a.O.blue600,a.O.blue700,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red700]},["svg.__jsx-style-dynamic-selector{width:18px;height:18px;}","svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:".concat(a.O.grey300,";}"),"svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.grey400,";}"),"svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.blue600,";}"),"svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.blue700,";}"),"svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.yellow700,";}"),"svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.yellow800,";}"),"svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.red500,";}"),"svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.red700,";}")]))}function y(e){let{className:t}=e;return p.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["86695588",[a.O.grey400,a.O.grey400,a.O.grey500,a.O.blue600,a.O.blue800,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red800]]])+" "+(t||"")},p.createElement("rect",{x:"0",y:"0",width:"14",height:"14",rx:"2",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["86695588",[a.O.grey400,a.O.grey400,a.O.grey500,a.O.blue600,a.O.blue800,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red800]]])+" background"}),p.createElement("path",{d:"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["86695588",[a.O.grey400,a.O.grey400,a.O.grey500,a.O.blue600,a.O.blue800,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red800]]])+" border"}),p.createElement("path",{d:"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["86695588",[a.O.grey400,a.O.grey400,a.O.grey500,a.O.blue600,a.O.blue800,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red800]]])+" checkmark"}),p.createElement("rect",{x:"3",y:"6",width:"8",height:"2",className:"jsx-".concat(m.__hash)+" "+n.default.dynamic([["86695588",[a.O.grey400,a.O.grey400,a.O.grey500,a.O.blue600,a.O.blue800,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red800]]])+" indeterminate"}),p.createElement(n.default,{id:m.__hash},m),p.createElement(n.default,{id:"86695588",dynamic:[a.O.grey400,a.O.grey400,a.O.grey500,a.O.blue600,a.O.blue800,a.O.yellow700,a.O.yellow800,a.O.red500,a.O.red800]},["svg.__jsx-style-dynamic-selector{width:14px;height:14px;}","svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:".concat(a.O.grey400,";}"),"svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.grey400,";}"),"svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.grey500,";}"),"svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.blue600,";}"),"svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.blue800,";}"),"svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.yellow700,";}"),"svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.yellow800,";}"),"svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.red500,";}"),"svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:".concat(a.O.red800,";}")]))}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}m.__hash="4069423049",f.propTypes={className:h().string},y.propTypes={className:h().string};class v extends p.Component{constructor(){super(...arguments),g(this,"ref",(0,p.createRef)()),g(this,"handleChange",(e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)})),g(this,"handleBlur",(e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)})),g(this,"handleFocus",(e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)})),g(this,"handleKeyDown",(e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)}))}componentDidMount(){this.props.initialFocus&&this.ref.current.focus(),this.setIndeterminate(this.props.indeterminate)}componentDidUpdate(e){e.indeterminate!==this.props.indeterminate&&this.setIndeterminate(this.props.indeterminate)}setIndeterminate(e){this.ref.current.indeterminate=e}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{checked:e,indeterminate:t,className:r,disabled:i,error:l,label:u,name:d,tabIndex:h,valid:m,value:g,warning:v,dense:_,dataTest:b}=this.props,x=c()({checked:e,indeterminate:t,disabled:i,valid:m,error:l,warning:v});return p.createElement("label",{"data-test":b,className:n.default.dynamic([["1088888266",[a.O.grey900,o.r.disabled,s.i.dp4,o.r.focus]]])+" "+(c()(r,{disabled:i,dense:_})||"")},p.createElement("input",{type:"checkbox",ref:this.ref,name:d,value:g,checked:e,disabled:i,tabIndex:h,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:n.default.dynamic([["1088888266",[a.O.grey900,o.r.disabled,s.i.dp4,o.r.focus]]])}),p.createElement("div",{className:n.default.dynamic([["1088888266",[a.O.grey900,o.r.disabled,s.i.dp4,o.r.focus]]])+" "+(c()("icon",{dense:_})||"")},_?p.createElement(y,{className:x}):p.createElement(f,{className:x})),u,p.createElement(n.default,{id:"1088888266",dynamic:[a.O.grey900,o.r.disabled,s.i.dp4,o.r.focus]},["label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:".concat(a.O.grey900,";font-size:14px;line-height:19px;}"),"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}","label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:".concat(o.r.disabled,";}"),"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;left:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}",".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:".concat(s.i.dp4,";border:2px solid transparent;padding:1px;border-radius:5px;}"),"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:4px;}","input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ".concat(o.r.focus,";outline-offset:-3px;}")]))}}v.defaultProps={checked:!1,indeterminate:!1,dataTest:"dhis2-uicore-checkbox"};const _=(0,i.t)(["checked","indeterminate"],h().bool);v.propTypes={checked:_,className:h().string,dataTest:h().string,dense:h().bool,disabled:h().bool,error:l.statusPropType,indeterminate:_,initialFocus:h().bool,label:h().node,name:h().string,tabIndex:h().string,valid:l.statusPropType,value:h().string,warning:l.statusPropType,onBlur:h().func,onChange:h().func,onFocus:h().func,onKeyDown:h().func}},44977:(e,t,r)=>{"use strict";r.d(t,{Y:()=>d});var n=r(47545),i=r(8352),a=r(36206),o=r.n(a),s=r(63665),l=r.n(s),u=r(2085);const c=e=>t=>{e&&t.target===t.currentTarget&&e({},t)},d=e=>{let{children:t,className:r,dataTest:a,onClick:s,translucent:l}=e;return u.createElement("div",{onClick:c(s),"data-test":a,className:n.default.dynamic([["3798453419",[i.u.applicationTop]]])+" "+(o()(r,{translucent:l})||"")},t,u.createElement(n.default,{id:"3798453419",dynamic:[i.u.applicationTop]},["div.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;bottom:0;left:0;z-index:".concat(i.u.applicationTop,";}"),"div.translucent.__jsx-style-dynamic-selector{background:rgba(33,43,54,0.4);}"]))};d.defaultProps={dataTest:"dhis2-uicore-componentcover"},d.propTypes={children:l().node,className:l().string,dataTest:l().string,translucent:l().bool,onClick:l().func}},93338:(e,t,r)=>{"use strict";r.d(t,{k:()=>y});var n={};r.r(n),r.d(n,{colors:()=>a.O,elevations:()=>u.P,layers:()=>s.u,sharedPropTypes:()=>c,spacers:()=>l.i,spacersNum:()=>l.b,theme:()=>o.r});var i=r(47545),a=r(33945),o=r(36727),s=r(8352),l=r(3112),u=r(17518),c=r(49474),d=r(63665),h=r.n(d),p=r(2085);const m=e=>Object.entries(n[e]).reduce(((t,r)=>{let[n,i]=r;return t["".concat(e,"-").concat(n)]=i,t}),{}),f=e=>Object.entries(e).map((e=>{let[t,r]=e;return"--".concat(t,": ").concat(r,";")})).join("\n"),y=e=>{let{colors:t,theme:r,layers:n,spacers:a,elevations:o}=e;const s={colors:t,theme:r,layers:n,spacers:a,elevations:o},l=Object.keys(s).filter((e=>s[e])).map(m).map(f).join("\n");return p.createElement(i.default,{id:"3443925957",dynamic:[l]},["html{".concat(l,";}")])};y.defaultProps={colors:!1,theme:!1,layers:!1,spacers:!1,elevations:!1},y.propTypes={colors:h().bool,elevations:h().bool,layers:h().bool,spacers:h().bool,theme:h().bool}},75125:(e,t,r)=>{"use strict";r.d(t,{N:()=>c});var n=r(49474),i=r(63665),a=r.n(i),o=r(2085),s=r(47545);const l=e=>{let{className:t,children:r,dataTest:n}=e;return o.createElement("fieldset",{"data-test":n,className:"jsx-3541500486 "+(t||"")},r,o.createElement(s.default,{id:"3541500486"},["fieldset.jsx-3541500486{border:none;margin:0;padding:0;}"]))};l.defaultProps={dataTest:"dhis2-uicore-fieldset"},l.propTypes={children:a().node,className:a().string,dataTest:a().string};var u=r(61112);const c=e=>{let{children:t,className:r,disabled:n,helpText:i,validationText:a,label:s,name:c,required:d,dataTest:h,valid:p,error:m,warning:f}=e;return o.createElement(l,{classname:r,dataTest:h},o.createElement(u.g,{label:s,disabled:n,required:d,helpText:i,validationText:a,error:m,warning:f,valid:p,name:c},t))};c.defaultProps={dataTest:"dhis2-uiwidgets-fieldsetfield"},c.propTypes={children:a().node,className:a().string,dataTest:a().string,disabled:a().bool,error:n.statusPropType,helpText:a().string,label:a().string,name:a().string,required:a().bool,valid:n.statusPropType,validationText:a().string,warning:n.statusPropType}},17775:(e,t,r)=>{"use strict";r.d(t,{J:()=>w});var n=r(47545),i=r(78594),a=r(1518),o=r(41562),s=r(33945),l=r(17518),u=r(49474),c=r(63665),d=r.n(c),h=r(2085),p=r(36206),m=r.n(p);const f=e=>{switch("string"==typeof e?e.split("-")[0]:""){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:return""}},y=(0,h.forwardRef)(((e,t)=>{let{hidden:r,popperPlacement:i,styles:a}=e;return h.createElement("div",{"data-test":"dhis2-uicore-popoverarrow",style:a,ref:t,className:n.default.dynamic([["1397459397",[8,8,4,4,4,4,4,s.O.white,s.O.white]]])+" "+(m()(f(i),{hidden:r})||"")},h.createElement(n.default,{id:"1397459397",dynamic:[8,8,4,4,4,4,4,s.O.white,s.O.white]},["div.__jsx-style-dynamic-selector{width:".concat(8,"px;height:").concat(8,"px;position:absolute;}"),"div.top.__jsx-style-dynamic-selector{top:-".concat(4,"px;}"),"div.right.__jsx-style-dynamic-selector{right:-".concat(4,"px;}"),"div.bottom.__jsx-style-dynamic-selector{bottom:-".concat(4,"px;}"),"div.left.__jsx-style-dynamic-selector{left:-".concat(4,"px;}"),"div.hidden.__jsx-style-dynamic-selector{visibility:hidden;}","div.__jsx-style-dynamic-selector::after{content:'';position:absolute;pointer-events:none;box-sizing:border-box;border-style:solid;border-width:".concat(4,"px;border-color:transparent transparent ").concat(s.O.white," ").concat(s.O.white,";box-shadow:-1px 1px 1px 0 rgba(64,75,90,0.08), -3px 3px 8px -6px rgba(64,75,90,0.15);}"),"div.bottom.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);}","div.top.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);}","div.right.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg);}","div.left.__jsx-style-dynamic-selector::after{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}"]))}));y.displayName="Arrow",y.propTypes={hidden:d().bool,popperPlacement:d().string,styles:d().shape({left:d().string,position:d().string,top:d().string,transform:d().string})};var g=r(81906);const v=()=>{const e=4+(Math.sqrt(2*Math.pow(8,2))-8)/2;return Math.ceil(e)},_=e=>{let{state:t}=e;const r=t.modifiersData.preventOverflow,n=t.rects.reference,i=Math.abs(r.x)>=n.width+4||Math.abs(r.y)>=n.height+4;return"object"!=typeof t.attributes.arrow&&(t.attributes.arrow={}),t.attributes.arrow["data-arrow-hidden"]=i,t},b=(e,t,r)=>{const n=(0,g.oH)(r);return e?[...n,{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{padding:v(),element:t}},{name:"hideArrowWhenDisplaced",enabled:!0,phase:"main",fn:_,requires:["preventOverflow"]}]:n};function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}const w=e=>{let{children:t,reference:r,arrow:l,className:u,dataTest:c,elevation:d,maxWidth:p,observePopperResize:m,observeReferenceResize:f,placement:g,onClickOutside:v}=e;const _=(0,a.C)(r),[w,T]=(0,h.useState)(null),[S,k]=(0,h.useState)(null),C=(0,h.useMemo)((()=>b(l,S,{observePopperResize:m,observeReferenceResize:f})),[l,S,m,f]),{styles:L,attributes:N}=(0,o.D)(_,w,{placement:g,modifiers:C});return h.createElement(i.m,{onBackdropClick:v},h.createElement("div",x({"data-test":c,ref:T,style:L.popper},N.popper,{className:n.default.dynamic([["632767479",[p,d,s.O.white]]])+" "+(N.popper&&null!=N.popper.className&&N.popper.className||u||"")}),t,l&&h.createElement(y,{hidden:N.arrow&&N.arrow["data-arrow-hidden"],popperPlacement:N.popper&&N.popper["data-popper-placement"],ref:k,styles:L.arrow}),h.createElement(n.default,{id:"632767479",dynamic:[p,d,s.O.white]},["div.__jsx-style-dynamic-selector{max-width:".concat(p,"px;box-shadow:").concat(d,";background-color:").concat(s.O.white,";border-radius:4px;}")])))};w.defaultProps={arrow:!0,dataTest:"dhis2-uicore-popover",elevation:l.P.e200,maxWidth:360,placement:"top"},w.propTypes={children:d().node.isRequired,arrow:d().bool,className:d().string,dataTest:d().string,elevation:d().string,maxWidth:d().number,observePopperResize:d().bool,observeReferenceResize:d().bool,placement:u.popperPlacementPropType,reference:u.popperReferencePropType,onClickOutside:d().func}},92718:(e,t,r)=>{"use strict";r.d(t,{Y:()=>g});var n=r(47545),i=r(33945),a=r(36727),o=r(3112),s=r(49474),l=r(36206),u=r.n(l),c=r(63665),d=r.n(c),h=r(2085);const p=["svg.jsx-1120332023{display:block;pointer-events:none;}","svg.jsx-1120332023{fill:".concat(i.O.grey800,";}"),"circle.background.jsx-1120332023{fill:".concat(i.O.white,";}"),"svg.checked.jsx-1120332023{fill:".concat(i.O.teal700,";}"),"svg.disabled.jsx-1120332023{fill:".concat(i.O.grey400,";}"),"svg.error.jsx-1120332023{fill:".concat(a.r.error,";}"),"svg.valid.jsx-1120332023{fill:".concat(a.r.valid,";}"),"svg.warning.jsx-1120332023{fill:".concat(a.r.warning,";}"),"svg.jsx-1120332023:not(.checked) .inner.jsx-1120332023,svg.jsx-1120332023:not(.checked) .outer.checked.jsx-1120332023{fill:none;}"];function m(e){let{className:t}=e;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",className:"jsx-1260643562 "+"jsx-".concat(p.__hash)+" "+(t||"")},h.createElement("circle",{cx:"9",cy:"9",r:"9",className:"jsx-1260643562 "+"jsx-".concat(p.__hash)+" background"}),h.createElement("path",{d:"M9,0 C13.9705627,0 18,4.02943725 18,9 C18,13.9705627 13.9705627,18 9,18 C4.02943725,18 0,13.9705627 0,9 C0,4.02943725 4.02943725,0 9,0 Z M9,1 C4.581722,1 1,4.581722 1,9 C1,13.418278 4.581722,17 9,17 C13.418278,17 17,13.418278 17,9 C17,4.581722 13.418278,1 9,1 Z",className:"jsx-1260643562 "+"jsx-".concat(p.__hash)+" outer unchecked"}),h.createElement("path",{d:"M9,18 C13.9705627,18 18,13.9705627 18,9 C18,4.02943725 13.9705627,0 9,0 C4.02943725,0 0,4.02943725 0,9 C0,13.9705627 4.02943725,18 9,18 Z M9,16 C5.13400675,16 2,12.8659932 2,9 C2,5.13400675 5.13400675,2 9,2 C12.8659932,2 16,5.13400675 16,9 C16,12.8659932 12.8659932,16 9,16 Z",className:"jsx-1260643562 "+"jsx-".concat(p.__hash)+" outer checked"}),h.createElement("circle",{cx:"9",cy:"9",r:"5",className:"jsx-1260643562 "+"jsx-".concat(p.__hash)+" inner"}),h.createElement(n.default,{id:"1260643562"},["svg.jsx-1260643562{height:18px;width:18px;}"]),h.createElement(n.default,{id:p.__hash},p))}function f(e){let{className:t}=e;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",className:"jsx-1659897952 "+"jsx-".concat(p.__hash)+" "+(t||"")},h.createElement("circle",{cx:"7",cy:"7",r:"7",className:"jsx-1659897952 "+"jsx-".concat(p.__hash)+" background"}),h.createElement("path",{d:"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,13 C3.6862915,13 1,10.3137085 1,7 C1,3.6862915 3.6862915,1 7,1 C10.3137085,1 13,3.6862915 13,7 C13,10.3137085 10.3137085,13 7,13 Z",className:"jsx-1659897952 "+"jsx-".concat(p.__hash)+" outer unchecked"}),h.createElement("path",{d:"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,12 C4.23857625,12 2,9.76142375 2,7 C2,4.23857625 4.23857625,2 7,2 C9.76142375,2 12,4.23857625 12,7 C12,9.76142375 9.76142375,12 7,12 Z",className:"jsx-1659897952 "+"jsx-".concat(p.__hash)+" outer checked"}),h.createElement("circle",{cx:"7",cy:"7",r:"3",className:"jsx-1659897952 "+"jsx-".concat(p.__hash)+" inner"}),h.createElement(n.default,{id:"1659897952"},["svg.jsx-1659897952{height:14px;width:14px;}"]),h.createElement(n.default,{id:p.__hash},p))}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}p.__hash="1120332023",m.propTypes={className:d().string},f.propTypes={className:d().string};class g extends h.Component{constructor(){super(...arguments),y(this,"ref",(0,h.createRef)()),y(this,"handleChange",(e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)})),y(this,"handleBlur",(e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)})),y(this,"handleFocus",(e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)})),y(this,"handleKeyDown",(e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)}))}componentDidMount(){this.props.initialFocus&&this.ref.current.focus()}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{checked:e=!1,className:t,disabled:r,error:s,label:l,name:c,tabIndex:d,valid:p,value:y,warning:g,dense:v,dataTest:_}=this.props,b=u()({checked:e,disabled:r,valid:p,error:s,warning:g});return h.createElement("label",{"data-test":_,className:n.default.dynamic([["4282914657",[i.O.grey900,a.r.disabled,l?o.i.dp4:0,a.r.focus]]])+" "+(u()(t,{disabled:r,dense:v})||"")},h.createElement("input",{type:"radio",ref:this.ref,name:c,value:y,checked:e,disabled:r,tabIndex:d,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:n.default.dynamic([["4282914657",[i.O.grey900,a.r.disabled,l?o.i.dp4:0,a.r.focus]]])}),h.createElement("div",{className:n.default.dynamic([["4282914657",[i.O.grey900,a.r.disabled,l?o.i.dp4:0,a.r.focus]]])+" "+(u()("icon",{dense:v})||"")},v?h.createElement(f,{className:b}):h.createElement(m,{className:b})),l,h.createElement(n.default,{id:"4282914657",dynamic:[i.O.grey900,a.r.disabled,l?o.i.dp4:0,a.r.focus]},["label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:".concat(i.O.grey900,";font-size:14px;line-height:19px;}"),"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}","label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:".concat(a.r.disabled,";}"),"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;left:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}",".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:".concat(l?o.i.dp4:0,";border:2px solid transparent;padding:1px;border-radius:50%;}"),"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;}","input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ".concat(a.r.focus,";outline-offset:-3px;}")]))}}g.defaultProps={dataTest:"dhis2-uicore-radio"},g.propTypes={checked:d().bool,className:d().string,dataTest:d().string,dense:d().bool,disabled:d().bool,error:s.statusPropType,initialFocus:d().bool,label:d().node,name:d().string,tabIndex:d().string,valid:s.statusPropType,value:d().string,warning:s.statusPropType,onBlur:d().func,onChange:d().func,onFocus:d().func,onKeyDown:d().func}},61657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var n=r(16259);const i=JSON.parse('{"Clear":"مسح","No data found":"لم يتم إيجاد بيانات","Type to filter options":"اكتب لتصفية الخيارات","Loading options":"تحميل الخيارات","No options found":"لم يتم العثور على خيارات"}'),a=JSON.parse('{"Clear":"مسح","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),o=JSON.parse('{"Clear":"پاککردنەوە","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),s=JSON.parse('{"Clear":"Vyčistit","No data found":"Nenalezena žádná data","Type to filter options":"Zadáním filtrujete možnosti","Loading options":"Možnosti načítání","No options found":"Nenalezeny žádné možnosti"}'),l=JSON.parse('{"Clear":"Clear","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),u=JSON.parse('{"Clear":"","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),c=JSON.parse('{"Clear":"Limpiar","No data found":"Datos no encontrados","Type to filter options":"Escriba para filtrar opciones","Loading options":"Cargando las opciones","No options found":"No se ha encontrado ninguna opción"}'),d=JSON.parse('{"Clear":"Limpiar","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),h=JSON.parse('{"Clear":"Effacer","No data found":"Aucune valeur trouvée","Type to filter options":"","Loading options":"","No options found":""}'),p=JSON.parse('{"Clear":"Hapus","No data found":"Tidak ada data yang ditemukan","Type to filter options":"Tipe opsi filter","Loading options":"Opsi mengunggah","No options found":"Opsi tidak tersedia"}'),m=JSON.parse('{"Clear":"សម្អាត","No data found":"មិនមានទិន្នន័យបង្ហាញ","Type to filter options":"វាយបញ្ចូលមុខងារដើម្បីច្រោះ","Loading options":"កំពុងទាញយកមុខងារ","No options found":"មិនមានមុខងារបង្ហាញ"}'),f=JSON.parse('{"Clear":"ລຶບ","No data found":"ບໍ່ພົບຂໍ້ມູນ","Type to filter options":"","Loading options":"","No options found":""}'),y=JSON.parse('{"Clear":"ရှင်းလင်းသည်","No data found":"data မတွေ့ပါ။","Type to filter options":"","Loading options":"","No options found":""}'),g=JSON.parse('{"Clear":"Fjern","No data found":"Ingen data funnet","Type to filter options":"Skriv for å filtrere alternativer","Loading options":"Laster alternativer","No options found":"Ingen alternativer funnet"}'),v=JSON.parse('{"Clear":"Duidelijk","No data found":"Geen gegevens gevonden","Type to filter options":"Typ om opties te filteren","Loading options":"Laad opties","No options found":"Geen opties gevonden"}'),_=JSON.parse('{"Clear":"پاک کردن","No data found":"هیچ معلوماتی یافت نشد","Type to filter options":"","Loading options":"","No options found":""}'),b=JSON.parse('{"Clear":"پاک یې کړئ","No data found":"هېڅ ډاټا یا مالومات ونه موندل شول","Type to filter options":"","Loading options":"","No options found":""}'),x=JSON.parse('{"Clear":"Limpar","No data found":"Dado não encontrado","Type to filter options":"","Loading options":"","No options found":""}'),w=JSON.parse('{"Clear":"Limpar","No data found":"Dado não encontrado","Type to filter options":"","Loading options":"","No options found":""}'),T=JSON.parse('{"Clear":"Очистить","No data found":"Данные не найдены","Type to filter options":"","Loading options":"","No options found":""}'),S=JSON.parse('{"Clear":"Klar","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),k=JSON.parse('{"Clear":"Hamós","No data found":"","Type to filter options":"","Loading options":"","No options found":""}'),C=JSON.parse('{"Clear":"Пок кардан","No data found":"Ягон иттилоот ёфт нашуд","Type to filter options":"","Loading options":"","No options found":""}'),L=JSON.parse('{"Clear":"Очистити","No data found":"Даних не знайдено","Type to filter options":"Введіть параметри фільтра","Loading options":"Параметри завантаження","No options found":"Варіантів не знайдено"}'),N=JSON.parse('{"Clear":"کلیئر","No data found":"کوئی ڈیٹا نہیں ملا","Type to filter options":"","Loading options":"","No options found":""}'),A=JSON.parse('{"Clear":"Тозалаш","No data found":"Маълумотлар топилмади","Type to filter options":"","Loading options":"","No options found":""}'),O=JSON.parse('{"Clear":"Аниқ","No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""}'),E=JSON.parse('{"Clear":"Xóa","No data found":"Không tìm thấy dữ liệu","Type to filter options":"","Loading options":"","No options found":""}'),P=JSON.parse('{"Clear":"清除","No data found":"没有发现数据","Type to filter options":"键入过滤选项","Loading options":"加载选项","No options found":"没有找到选项"}'),M=JSON.parse('{"Clear":"清除","No data found":"没有数据被找到","Type to filter options":"","Loading options":"","No options found":""}'),I="default";n.Z.addResources("ar",I,i),n.Z.addResources("ar_IQ",I,a),n.Z.addResources("ckb",I,o),n.Z.addResources("cs",I,s),n.Z.addResources("da",I,l),n.Z.addResources("en",I,u),n.Z.addResources("es",I,c),n.Z.addResources("es_419",I,d),n.Z.addResources("fr",I,h),n.Z.addResources("id",I,p),n.Z.addResources("km",I,m),n.Z.addResources("lo",I,f),n.Z.addResources("my",I,y),n.Z.addResources("nb",I,g),n.Z.addResources("nl",I,v),n.Z.addResources("prs",I,_),n.Z.addResources("ps",I,b),n.Z.addResources("pt",I,x),n.Z.addResources("pt_BR",I,w),n.Z.addResources("ru",I,T),n.Z.addResources("sv",I,S),n.Z.addResources("tet",I,k),n.Z.addResources("tg",I,C),n.Z.addResources("uk",I,L),n.Z.addResources("ur",I,N),n.Z.addResources("uz",I,A),n.Z.addResources("uz_Latn",I,O),n.Z.addResources("vi",I,E),n.Z.addResources("zh",I,P),n.Z.addResources("zh_CN",I,M);const D=n.Z},3376:(e,t,r)=>{"use strict";r.d(t,{n:()=>j});var n=r(50830),i=r(61112),a=r(49474),o=r(63665),s=r.n(o),l=r(2085),u=r(47545),c=r(20198),d=r(94497),h=r(3112),p=r(38194),m=r(94680),f=r(163),y=r(13913),g=r(69636);const v=(e,t)=>{t.stopPropagation(),t.preventDefault()},_=e=>{let{options:t,onChange:r,selected:n,empty:i,dataTest:a}=e;const o=(0,y.fg)(t);if(0===l.Children.count(o))return"string"==typeof i?l.createElement(g.H,{message:i,dataTest:"".concat(a,"-empty")}):i;const s=l.Children.map(t,(e=>{if(!(0,y.v_)(e))return e;const{value:t,label:i,disabled:a}=e.props,o=!!(0,y.ti)(t,n),s=a?v:(e=>{let{isActive:t,onChange:r,selected:n,value:i}=e;return(e,a)=>{if(a.stopPropagation(),t){const e=(0,y.Jk)(i,n);return r({selected:e},a)}const o={selected:n.concat([i])};return r(o,a)}})({isActive:o,onChange:r,selected:n,value:t,label:i});return l.cloneElement(e,{...e.props,onClick:s,active:o})}));return l.createElement(l.Fragment,null,s)};_.defaultProps={empty:""},_.propTypes={dataTest:s().string.isRequired,empty:s().node,options:s().node,selected:s().arrayOf(s().string),onChange:s().func};const b=e=>{let{dataTest:t,options:r,onChange:n,selected:i,empty:a,handleClose:o,handleFocusInput:s,placeholder:u,noMatchText:c}=e;return l.createElement(f.O,{dataTest:t,options:r,onChange:n,selected:i,empty:a,handleClose:o,handleFocusInput:s,placeholder:u,noMatchText:c,Menu:_})};b.propTypes={dataTest:s().string.isRequired,noMatchText:s().string.isRequired,empty:s().node,handleClose:s().func,handleFocusInput:s().func,options:s().node,placeholder:s().string,selected:s().arrayOf(s().string),onChange:s().func};var x=r(33945),w=r(36206),T=r.n(w),S=r(1882),k=r(98982),C=r(31171),L=r(36727);const N=e=>{let{children:t,overflow:r}=e;return l.createElement("span",{className:u.default.dynamic([["765109298",[h.i.dp12]]])+" "+(T()({overflow:r})||"")},t,l.createElement(u.default,{id:"765109298",dynamic:[h.i.dp12]},["span.__jsx-style-dynamic-selector{margin:0 ".concat(h.i.dp12,";color:inherit;white-space:nowrap;}"),".overflow.__jsx-style-dynamic-selector{max-width:150px;overflow:hidden;text-overflow:ellipsis;}"]))};N.propTypes={children:s().any,overflow:s().bool};const A=e=>{let{icon:t,dataTest:r}=e;return t?l.createElement("span",{"data-test":r,className:u.default.dynamic([["2159848327",[h.i.dp4]]])},t,l.createElement(u.default,{id:"2159848327",dynamic:[h.i.dp4]},["span.__jsx-style-dynamic-selector{width:24px;height:24px;margin-left:".concat(h.i.dp4,";margin-right:-6px;border-radius:50%;overflow:hidden;}"),"span.__jsx-style-dynamic-selector>*{max-height:24px;max-width:24px;}"])):null};function O(e){let{className:t}=e;return l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"jsx-2898942518 "+(t||"")},l.createElement("path",{d:"M11.2928932,3.29289322 L12.7071068,4.70710678 L9.41389322,7.99989322 L12.7071068,11.2928932 L11.2928932,12.7071068 L7.99989322,9.41389322 L4.70710678,12.7071068 L3.29289322,11.2928932 L6.58589322,7.99989322 L3.29289322,4.70710678 L4.70710678,3.29289322 L7.99989322,6.58589322 L11.2928932,3.29289322 Z",className:"jsx-2898942518"}),l.createElement(u.default,{id:"2898942518"},["svg.jsx-2898942518{fill:inherit;height:16px;width:16px;vertical-align:middle;pointer-events:none;}"]))}A.propTypes={dataTest:s().string.isRequired,icon:s().element},O.propTypes={className:s().string};const E=["span.jsx-1924786287{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;width:20px;margin-right:4px;border-radius:12px;margin-left:-8px;}","span.jsx-1924786287:hover{background:".concat(x.O.grey400,";}")];E.__hash="1924786287";const P={styles:l.createElement(u.default,{id:"2658726446"},["svg.jsx-2658726446{fill:".concat(x.O.grey600,";height:16px;width:16px;cursor:pointer;opacity:1;pointer-events:all;}")]),className:"jsx-2658726446"},M=e=>{let{onRemove:t,dataTest:r}=e;return t?l.createElement("span",{onClick:e=>{e.stopPropagation(),t({},e)},"data-test":r,className:"jsx-".concat(E.__hash)},l.createElement(O,{className:P.className}),P.styles,l.createElement(u.default,{id:E.__hash},E)):null};M.propTypes={dataTest:s().string.isRequired,onRemove:s().func};const I=e=>{let{selected:t,dense:r,disabled:n,dragging:i,overflow:a,className:o,children:s,onRemove:c,onClick:d,icon:h,dataTest:p,marginBottom:m,marginLeft:f,marginRight:y,marginTop:g}=e;return l.createElement("span",{onClick:e=>{!n&&d&&d({},e)},"data-test":p,className:u.default.dynamic([["3780556490",[x.O.grey200,x.O.grey900,x.O.grey300,L.r.secondary600,x.O.white]],["2231360490",[m&&"margin-bottom: ".concat(m,"px;"),f&&"margin-left: ".concat(f,"px;"),y&&"margin-right: ".concat(y,"px;"),g&&"margin-top: ".concat(g,"px")]]])+" "+(T()(o,{selected:t,dense:r,disabled:n,dragging:i})||"")},l.createElement(A,{icon:h,dataTest:"".concat(p,"-icon")}),l.createElement(N,{overflow:a},s),l.createElement(M,{onRemove:c,dataTest:"".concat(p,"-remove")}),l.createElement(u.default,{id:"3780556490",dynamic:[x.O.grey200,x.O.grey900,x.O.grey300,L.r.secondary600,x.O.white]},["span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;border-radius:16px;background-color:".concat(x.O.grey200,";font-size:14px;line-height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(x.O.grey900,";}"),".dense.__jsx-style-dynamic-selector{height:24px;font-size:13px;line-height:15px;}","span.__jsx-style-dynamic-selector:hover{background-color:".concat(x.O.grey300,";}"),".selected.__jsx-style-dynamic-selector{background-color:".concat(L.r.secondary600,";font-weight:500;}"),".selected.__jsx-style-dynamic-selector:hover{background-color:#00695c;}",".selected.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{color:".concat(x.O.white,";}"),".disabled.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:0.3;}",".disabled.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{pointer-events:none;}",".dragging.__jsx-style-dynamic-selector{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);}"]),l.createElement(u.default,{id:"2231360490",dynamic:[m&&"margin-bottom: ".concat(m,"px;"),f&&"margin-left: ".concat(f,"px;"),y&&"margin-right: ".concat(y,"px;"),g&&"margin-top: ".concat(g,"px")]},["span.__jsx-style-dynamic-selector{".concat(m&&"margin-bottom: ".concat(m,"px;")," ").concat(f&&"margin-left: ".concat(f,"px;")," ").concat(y&&"margin-right: ".concat(y,"px;")," ").concat(g&&"margin-top: ".concat(g,"px"),";}")]))};I.defaultProps={dataTest:"dhis2-uicore-chip",marginBottom:4,marginLeft:4,marginRight:4,marginTop:4},I.propTypes={children:s().any,className:s().string,dataTest:s().string,dense:s().bool,disabled:s().bool,dragging:s().bool,icon:s().element,marginBottom:s().number,marginLeft:s().number,marginRight:s().number,marginTop:s().number,overflow:s().bool,selected:s().bool,onClick:s().func,onRemove:s().func};const D=e=>{let{selected:t,onChange:r,disabled:n,options:i}=e;return l.createElement(l.Fragment,null,t.map((e=>{const a=(0,y.R4)(e,i);if(!a){const t='There is no option with the value: "'.concat(e,'". ')+"Make sure that all the values passed to the selected prop match the value of an existing option.";console.error(t)}const o=a&&a.props.disabled||n,s=a?a.props.label:e,u=o?void 0:(e=>{let{selected:t,onChange:r,value:n}=e;return(e,i)=>{const a=(0,y.Jk)(n,t);r({selected:a},i)}})({selected:t,onChange:r,value:e});return l.createElement(I,{key:e,onRemove:u,disabled:o,marginBottom:0,marginLeft:0,marginTop:0,marginRight:0,overflow:!0,dense:!0},s)})))};D.propTypes={disabled:s().bool,options:s().node,selected:s().arrayOf(s().string),onChange:s().func};const z=e=>{let{selected:t,onChange:r,clearable:n,clearText:i,placeholder:a,dataTest:o,prefix:s,options:c,className:d,disabled:h,inputMaxHeight:p}=e;const m=t.length>0;return l.createElement("div",{className:u.default.dynamic([["691091786",[x.O.grey900]],["1331770409",[p]]])+" "+(T()("root",d)||"")},l.createElement(S.Z,{prefix:s,dataTest:"".concat(o,"-prefix")}),!m&&!s&&l.createElement(k.U,{placeholder:a,dataTest:"".concat(o,"-placeholder")}),m&&l.createElement("div",{className:u.default.dynamic([["691091786",[x.O.grey900]],["1331770409",[p]]])+" root-input"},l.createElement(D,{selected:t,onChange:r,options:c,disabled:h})),m&&n&&!h&&l.createElement("div",{className:u.default.dynamic([["691091786",[x.O.grey900]],["1331770409",[p]]])+" root-right"},l.createElement(C.k,{onClear:(e,t)=>{t.stopPropagation(),r({selected:[]},t)},clearText:i,dataTest:"".concat(o,"-clear")})),l.createElement(u.default,{id:"691091786",dynamic:[x.O.grey900]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(x.O.grey900,";font-size:14px;line-height:16px;}"),".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;gap:4px;}",".root-right.__jsx-style-dynamic-selector{margin-left:auto;margin-right:10px;}"]),l.createElement(u.default,{id:"1331770409",dynamic:[p]},[".root-input.__jsx-style-dynamic-selector{max-height:".concat(p,";}")]))};z.defaultProps={inputMaxHeight:"100px"},z.propTypes={dataTest:s().string.isRequired,className:s().string,clearText:(0,d.C)((e=>e.clearable),s().string),clearable:s().bool,disabled:s().bool,inputMaxHeight:s().string,options:s().node,placeholder:s().string,prefix:s().string,selected:s().arrayOf(s().string),onChange:s().func};const R=e=>{let{className:t,selected:r,tabIndex:n,maxHeight:i,inputMaxHeight:a,onChange:o,onFocus:s,onKeyDown:d,onBlur:f,loading:y,error:g,warning:v,valid:x,disabled:w,children:T,clearable:S,clearText:k,filterable:C,filterPlaceholder:L,placeholder:N,prefix:A,empty:O,loadingText:E,noMatchText:P,initialFocus:M,dense:I,dataTest:D}=e;const R=C?l.createElement(b,{dataTest:D,empty:O,noMatchText:P,placeholder:L}):l.createElement(_,{empty:O,dataTest:D});return l.createElement("div",{"data-test":D,className:u.default.dynamic([["2180377457",[h.i.dp8]]])+" root"},l.createElement("div",{className:u.default.dynamic([["2180377457",[h.i.dp8]]])+" root-input"},l.createElement(p.P,{className:t,selected:r,input:l.createElement(z,{clearable:S,clearText:k,dataTest:D,placeholder:N,prefix:A,inputMaxHeight:a}),menu:R,tabIndex:n,maxHeight:i,onChange:o,onFocus:s,onKeyDown:d,onBlur:f,error:g,warning:v,valid:x,disabled:w,initialFocus:M,dense:I},T,y&&l.createElement(m.g,{message:E,dataTest:"".concat(D,"-loading")}))),l.createElement(c.J,{error:g,valid:x,warning:v}),l.createElement(u.default,{id:"2180377457",dynamic:[h.i.dp8]},[".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:".concat(h.i.dp8,";}"),".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};R.defaultProps={selected:[],dataTest:"dhis2-uicore-multiselect"},R.propTypes={children:s().node,className:s().string,clearText:(0,d.C)((e=>e.clearable),s().string),clearable:s().bool,dataTest:s().string,dense:s().bool,disabled:s().bool,empty:s().node,error:a.statusPropType,filterPlaceholder:s().string,filterable:s().bool,initialFocus:s().bool,inputMaxHeight:s().string,loading:s().bool,loadingText:s().string,maxHeight:s().string,noMatchText:(0,d.C)((e=>e.filterable),s().string),placeholder:s().string,prefix:s().string,selected:s().arrayOf(s().string),tabIndex:s().string,valid:a.statusPropType,warning:a.statusPropType,onBlur:s().func,onChange:s().func,onFocus:s().func,onKeyDown:s().func};var F=r(61657);const B=(e,t)=>"function"==typeof e?e(t):e;class j extends l.Component{render(){const{className:e,onChange:t,onFocus:r,onKeyDown:a,onBlur:o,required:s,label:u,valid:c,error:d,disabled:h,warning:p,loading:m,selected:f,tabIndex:y,helpText:g,validationText:v,maxHeight:_,inputMaxHeight:b,inputWidth:x,children:w,clearable:T,clearText:S,filterable:k,filterPlaceholder:C,placeholder:L,prefix:N,empty:A,loadingText:O,noMatchText:E,initialFocus:P,dense:M,dataTest:I}=this.props;return l.createElement(i.g,{className:e,dataTest:I,disabled:h,required:s,label:u,helpText:g,validationText:v,error:d,warning:p,valid:c},l.createElement(n.x,{width:x,minWidth:"100px"},l.createElement(R,{selected:f,tabIndex:y,maxHeight:_,inputMaxHeight:b,onChange:t,onFocus:r,onKeyDown:a,onBlur:o,loading:m,error:d,warning:p,valid:c,disabled:h,clearable:T,clearText:B(S),filterable:k,filterPlaceholder:B(C),placeholder:L,prefix:N,empty:B(A),loadingText:B(O),noMatchText:B(E),initialFocus:P,dense:M},w)))}}j.defaultProps={selected:[],dataTest:"dhis2-uiwidgets-multiselectfield",clearText:()=>F.Z.t("Clear"),empty:()=>F.Z.t("No data found"),filterPlaceholder:()=>F.Z.t("Type to filter options"),loadingText:()=>F.Z.t("Loading options"),noMatchText:()=>F.Z.t("No options found")},j.propTypes={children:s().node,className:s().string,clearText:s().oneOfType([s().string,s().func]),clearable:s().bool,dataTest:s().string,dense:s().bool,disabled:s().bool,empty:s().oneOfType([s().node,s().func]),error:a.statusPropType,filterPlaceholder:s().oneOfType([s().node,s().func]),filterable:s().bool,helpText:s().string,initialFocus:s().bool,inputMaxHeight:s().string,inputWidth:s().string,label:s().string,loading:s().bool,loadingText:s().oneOfType([s().string,s().func]),maxHeight:s().string,noMatchText:s().oneOfType([s().string,s().func]),placeholder:s().string,prefix:s().string,required:s().bool,selected:s().arrayOf(s().string),tabIndex:s().string,valid:a.statusPropType,validationText:s().string,warning:a.statusPropType,onBlur:s().func,onChange:s().func,onFocus:s().func,onKeyDown:s().func}},37126:(e,t,r)=>{"use strict";r.d(t,{M:()=>m});var n=r(47545),i=r(47756),a=r(3112),o=r(33945),s=r(36206),l=r.n(s),u=r(63665),c=r.n(u),d=r(2085);const{styles:h,className:p}={styles:d.createElement(n.default,{id:"2013783366"},[".jsx-2013783366{padding:".concat(a.i.dp8," ").concat(a.i.dp12,";}")]),className:"jsx-2013783366"},m=e=>{let{label:t,active:r,disabled:a,onClick:s,className:u,dataTest:c,value:m}=e;return d.createElement("div",{"data-test":c,"data-value":m,"data-label":t,className:n.default.dynamic([["3813980210",[o.O.grey200]]])+" "+(l()(u,{disabled:a})||"")},d.createElement(i.X,{name:t,className:p,checked:r,label:t,onChange:s,disabled:a,dense:!0}),h,d.createElement(n.default,{id:"3813980210",dynamic:[o.O.grey200]},["div.__jsx-style-dynamic-selector:hover{background-color:".concat(o.O.grey200,";}"),"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}"]))};m.defaultProps={dataTest:"dhis2-uicore-multiselectoption"},m.propTypes={label:c().string.isRequired,value:c().string.isRequired,active:c().bool,className:c().string,dataTest:c().string,disabled:c().bool,onClick:c().func}},69636:(e,t,r)=>{"use strict";r.d(t,{H:()=>c});var n=r(47545),i=r(33945),a=r(36727),o=r(3112),s=r(63665),l=r.n(s),u=r(2085);const c=e=>{let{message:t,className:r,dataTest:s}=e;return u.createElement("div",{"data-test":s,className:n.default.dynamic([["849993029",[i.O.grey700,a.r.fonts,o.i.dp8,o.i.dp24]]])+" "+(r||"")},t,u.createElement(n.default,{id:"849993029",dynamic:[i.O.grey700,a.r.fonts,o.i.dp8,o.i.dp24]},["div.__jsx-style-dynamic-selector{color:".concat(i.O.grey700,";font-family:").concat(a.r.fonts,";font-size:13px;line-height:16px;padding:").concat(o.i.dp8," ").concat(o.i.dp24,";text-align:center;}")]))};c.propTypes={dataTest:l().string.isRequired,message:l().string.isRequired,className:l().string}},163:(e,t,r)=>{"use strict";r.d(t,{O:()=>y});var n=r(63665),i=r.n(n),a=r(2085),o=r(47545),s=r(91521),l=r(33945),u=r(3112);const c=e=>{let{value:t,onChange:r,placeholder:n,className:i,dataTest:c}=e;return a.createElement("div",{className:o.default.dynamic([["1544004171",[l.O.white,u.i.dp8,u.i.dp8,u.i.dp4,u.i.dp8]]])+" "+(i||"")},a.createElement(s.I,{dense:!0,dataTest:c,value:t,onChange:r,type:"text",name:"filter",placeholder:n,initialFocus:!0}),a.createElement(o.default,{id:"1544004171",dynamic:[l.O.white,u.i.dp8,u.i.dp8,u.i.dp4,u.i.dp8]},["div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;top:0;background:".concat(l.O.white,";padding:").concat(u.i.dp8," ").concat(u.i.dp8," ").concat(u.i.dp4," ").concat(u.i.dp8,";z-index:1;}")]))};c.propTypes={dataTest:i().string.isRequired,value:i().string.isRequired,className:i().string,placeholder:i().string,onChange:i().func};var d=r(36727);const h=e=>{let{message:t,className:r}=e;return a.createElement("div",{className:o.default.dynamic([["849993029",[l.O.grey700,d.r.fonts,u.i.dp8,u.i.dp24]]])+" "+(r||"")},t,a.createElement(o.default,{id:"849993029",dynamic:[l.O.grey700,d.r.fonts,u.i.dp8,u.i.dp24]},["div.__jsx-style-dynamic-selector{color:".concat(l.O.grey700,";font-family:").concat(d.r.fonts,";font-size:13px;line-height:16px;padding:").concat(u.i.dp8," ").concat(u.i.dp24,";text-align:center;}")]))};h.propTypes={message:i().string.isRequired,className:i().string};var p=r(13913);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends a.Component{constructor(){super(...arguments),f(this,"state",{filter:""}),f(this,"onFilterChange",(e=>{let{value:t}=e;this.setState({filter:t})}))}render(){const{dataTest:e,options:t,onChange:r,selected:n,empty:i,handleClose:o,handleFocusInput:s,placeholder:l,noMatchText:u,Menu:d}=this.props,{filter:f}=this.state,y={onChange:r,selected:n,empty:i,handleClose:o,handleFocusInput:s,dataTest:e},g=(0,p.fg)(t);if(0===a.Children.count(g)||!f)return a.createElement(a.Fragment,null,a.createElement(c,{dataTest:"".concat(e,"-filterinput"),placeholder:l,value:f,onChange:this.onFilterChange}),a.createElement(d,m({},y,{options:t})));const v=a.Children.map(t,(e=>{if(!(0,p.v_)(e))return null;const{label:t}=e.props;return t.toLowerCase().includes(f.toLowerCase())?e:null})),_=a.Children.count(v)>0;return a.createElement(a.Fragment,null,a.createElement(c,{dataTest:"".concat(e,"-filterinput"),placeholder:l,value:f,onChange:this.onFilterChange}),_?a.createElement(d,m({},y,{options:v})):a.createElement(h,{message:u}))}}y.propTypes={Menu:i().elementType.isRequired,dataTest:i().string.isRequired,noMatchText:i().string.isRequired,selected:i().oneOfType([i().string,i().arrayOf(i().string)]).isRequired,empty:i().node,handleClose:i().func,handleFocusInput:i().func,options:i().node,placeholder:i().string,onChange:i().func}},31171:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(87538),i=r(63665),a=r.n(i),o=r(2085);const s=e=>{let{onClear:t,clearText:r,className:i,dataTest:a}=e;return o.createElement(n.z,{small:!0,secondary:!0,dataTest:a,onClick:t,type:"button",className:i},r)};s.propTypes={clearText:a().string.isRequired,dataTest:a().string.isRequired,onClear:a().func.isRequired,className:a().string}},98982:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var n=r(47545),i=r(33945),a=r(63665),o=r.n(a),s=r(2085);const l=e=>{let{placeholder:t,className:r,dataTest:a}=e;return t?s.createElement("div",{"data-test":a,className:n.default.dynamic([["1027033961",[i.O.grey600]]])+" "+(r||"")},t,s.createElement(n.default,{id:"1027033961",dynamic:[i.O.grey600]},["div.__jsx-style-dynamic-selector{color:".concat(i.O.grey600,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")])):null};l.propTypes={dataTest:o().string.isRequired,className:o().string,placeholder:o().string}},1882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(47545),i=r(33945),a=r(3112),o=r(63665),s=r.n(o),l=r(2085);const u=e=>{let{prefix:t,className:r,dataTest:o}=e;return t?l.createElement("div",{"data-test":o,className:n.default.dynamic([["2195210182",[i.O.grey600,a.i.dp12]]])+" "+(r||"")},t,l.createElement(n.default,{id:"2195210182",dynamic:[i.O.grey600,a.i.dp12]},["div.__jsx-style-dynamic-selector{color:".concat(i.O.grey600,";padding-right:").concat(a.i.dp12,";font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")])):null};u.propTypes={dataTest:s().string.isRequired,className:s().string,prefix:s().string}},94680:(e,t,r)=>{"use strict";r.d(t,{g:()=>p});var n=r(47545),i=r(46329),a=r(3112),o=r(33945),s=r(36727),l=r(36206),u=r.n(l),c=r(63665),d=r.n(c),h=r(2085);const p=e=>{let{message:t,className:r,dataTest:l}=e;return h.createElement("div",{"data-test":l,className:n.default.dynamic([["1068210086",[a.i.dp16,o.O.grey700,s.r.fonts,a.i.dp8,a.i.dp24]]])+" "+(u()(r,"container")||"")},h.createElement("div",{className:n.default.dynamic([["1068210086",[a.i.dp16,o.O.grey700,s.r.fonts,a.i.dp8,a.i.dp24]]])},h.createElement(i.V,{small:!0})),t,h.createElement(n.default,{id:"1068210086",dynamic:[a.i.dp16,o.O.grey700,s.r.fonts,a.i.dp8,a.i.dp24]},[".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:".concat(a.i.dp16,";-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:").concat(o.O.grey700,";font-family:").concat(s.r.fonts,";font-size:13px;padding:").concat(a.i.dp8," ").concat(a.i.dp24,";}")]))};p.propTypes={dataTest:d().string.isRequired,className:d().string,message:d().string}},13913:(e,t,r)=>{"use strict";r.d(t,{Jk:()=>l,R4:()=>o,fg:()=>a,ti:()=>s,v_:()=>i});var n=r(2085);const i=e=>e&&"props"in e&&"value"in e.props&&"label"in e.props,a=e=>n.Children.toArray(e).filter((e=>null!==e&&!1!==e&&void 0!==e)),o=(e,t)=>n.Children.toArray(t).find((t=>!!t.props&&e===t.props.value)),s=(e,t)=>t.find((t=>e===t)),l=(e,t)=>t.filter((t=>t!==e))},38194:(e,t,r)=>{"use strict";r.d(t,{P:()=>x});var n=r(49474),i=r(63665),a=r.n(i),o=r(2085),s=void 0;var l=r(47545),u=r(33945),c=r(36727);function d(e){let{color:t,dataTest:r}=e;return o.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},o.createElement("path",{d:"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z",fill:"currentColor"}))}d.propTypes={color:a().string,dataTest:a().string};const h=d;var p=r(36206),m=r.n(p);const f=e=>{let{dataTest:t,onToggle:r,children:n,tabIndex:i,error:a,warning:s,valid:d,disabled:p,dense:f,className:y,inputRef:g}=e;const v=m()(y,"root",{error:a,warning:s,valid:d,disabled:p,dense:f});return o.createElement("div",{onClick:r,tabIndex:i,ref:g,"data-test":t,className:l.default.dynamic([["2041994571",[u.O.grey500,c.r.focus,c.r.focus,c.r.valid,c.r.warning,c.r.error,u.O.grey100,u.O.grey500,c.r.disabled]]])+" "+(v||"")},o.createElement("div",{className:l.default.dynamic([["2041994571",[u.O.grey500,c.r.focus,c.r.focus,c.r.valid,c.r.warning,c.r.error,u.O.grey100,u.O.grey500,c.r.disabled]]])+" root-children"},n),o.createElement("div",{className:l.default.dynamic([["2041994571",[u.O.grey500,c.r.focus,c.r.focus,c.r.valid,c.r.warning,c.r.error,u.O.grey100,u.O.grey500,c.r.disabled]]])+" root-right"},o.createElement(h,null)),o.createElement(l.default,{id:"2041994571",dynamic:[u.O.grey500,c.r.focus,c.r.focus,c.r.valid,c.r.warning,c.r.error,u.O.grey100,u.O.grey500,c.r.disabled]},[".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid ".concat(u.O.grey500,";box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding:6px 12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}"),".root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px ".concat(c.r.focus,";border-color:").concat(c.r.focus,";}"),".root.valid.__jsx-style-dynamic-selector{border-color:".concat(c.r.valid,";}"),".root.warning.__jsx-style-dynamic-selector{border-color:".concat(c.r.warning,";}"),".root.error.__jsx-style-dynamic-selector{border-color:".concat(c.r.error,";}"),".root.disabled.__jsx-style-dynamic-selector{background-color:".concat(u.O.grey100,";border-color:").concat(u.O.grey500,";color:").concat(c.r.disabled,";cursor:not-allowed;}"),".root.dense.__jsx-style-dynamic-selector{padding:2px 8px;min-height:32px;}",".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".root-right.__jsx-style-dynamic-selector{margin:4px 0px 0px 8px;}"]))};f.defaultProps={tabIndex:"0"},f.propTypes={dataTest:a().string.isRequired,inputRef:a().object.isRequired,tabIndex:a().string.isRequired,onToggle:a().func.isRequired,children:a().element,className:a().string,dense:a().bool,disabled:a().bool,error:n.statusPropType,valid:n.statusPropType,warning:n.statusPropType};var y=r(78594),g=r(33447),v=r(17518);const _=e=>{let{children:t,dataTest:r,maxHeight:n,menuWidth:i,onClick:a,selectRef:s}=e;return o.createElement(y.m,{onBackdropClick:a,transparent:!0},o.createElement(g.r,{reference:s,placement:"bottom-start",observeReferenceResize:!0},o.createElement("div",{"data-test":"".concat(r,"-menuwrapper"),className:l.default.dynamic([["1363246346",[i,n,u.O.white,u.O.grey200,v.P.e300]]])},t,o.createElement(l.default,{id:"1363246346",dynamic:[i,n,u.O.white,u.O.grey200,v.P.e300]},["div.__jsx-style-dynamic-selector{width:".concat(i,";height:auto;max-height:").concat(n,";overflow:auto;background:").concat(u.O.white,";border:1px solid ").concat(u.O.grey200,";border-radius:3px;box-shadow:").concat(v.P.e300,";}")]))))};function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_.defaultProps={maxHeight:"280px"},_.propTypes={dataTest:a().string.isRequired,menuWidth:a().string.isRequired,selectRef:a().object.isRequired,children:a().node,maxHeight:a().string,onClick:a().func};class x extends o.Component{constructor(){super(...arguments),b(this,"state",{open:!1,menuWidth:"auto"}),b(this,"selectRef",o.createRef()),b(this,"inputRef",o.createRef()),b(this,"onResize",((e,t,r)=>{let n;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];const l=s,u=r&&!n;clearTimeout(n),n=setTimeout((()=>{n=null,r||e.apply(l,a)}),t),u&&e.apply(l,a)}})((()=>{const e=this.getMenuWidth();this.state.menuWidth!==e&&this.setState({menuWidth:e})}),50)),b(this,"handleFocusInput",(()=>{this.inputRef.current.focus()})),b(this,"onFocus",(e=>{const{onFocus:t,disabled:r,selected:n}=this.props;!r&&t&&t({selected:n},e)})),b(this,"handleOpen",(()=>{this.setState({open:!0,menuWidth:this.getMenuWidth()})})),b(this,"handleClose",(()=>{this.setState({open:!1})})),b(this,"onToggle",(e=>{this.props.disabled||(e.stopPropagation(),this.state.open?this.handleClose():this.handleOpen())})),b(this,"onOutsideClick",(e=>{const{onBlur:t,disabled:r,selected:n}=this.props;r||(this.handleClose(),t&&t({selected:n},e))})),b(this,"onKeyDown",(e=>{const{onKeyDown:t,disabled:r,selected:n}=this.props;if(r)return;if(t&&t({selected:n},e),e.defaultPrevented)return;e.stopPropagation();const{open:i}=this.state,{keyCode:a}=e,o=!i&&(32===a||38===a||40===a);return i&&27===a?this.handleClose():o?this.handleOpen():void 0}))}componentDidMount(){this.props.initialFocus&&this.inputRef.current.focus(),this.setState({menuWidth:this.getMenuWidth()}),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}getMenuWidth(){const{offsetWidth:e}=this.inputRef.current,{menuWidth:t}=this.state;return e&&"".concat(e,"px")!==t?"".concat(e,"px"):t}render(){const{open:e,menuWidth:t}=this.state,{children:r,className:n,selected:i,onChange:a,tabIndex:s,maxHeight:l,error:u,warning:c,valid:d,disabled:h,dense:p,dataTest:m}=this.props,y={selected:i,onChange:a,options:r,disabled:h},g=o.cloneElement(this.props.input,y),v={selected:i,onChange:a,options:r,handleClose:this.handleClose,handleFocusInput:this.handleFocusInput},b=o.cloneElement(this.props.menu,v);return o.createElement("div",{className:n,ref:this.selectRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"data-test":m},o.createElement(f,{onToggle:this.onToggle,inputRef:this.inputRef,tabIndex:h?"-1":s,error:u,warning:c,valid:d,disabled:h,dense:p,dataTest:"".concat(m,"-input")},g),e&&o.createElement(_,{onClick:this.onOutsideClick,maxHeight:l,selectRef:this.selectRef,menuWidth:t,dataTest:"".concat(m,"-menu")},b))}}x.defaultProps={dataTest:"dhis2-uicore-select"},x.propTypes={input:a().element.isRequired,menu:a().element.isRequired,selected:a().oneOfType([a().string,a().arrayOf(a().string)]).isRequired,children:a().node,className:a().string,dataTest:a().string,dense:a().bool,disabled:a().bool,error:n.statusPropType,initialFocus:a().bool,maxHeight:a().string,tabIndex:a().string,valid:n.statusPropType,warning:n.statusPropType,onBlur:a().func,onChange:a().func,onFocus:a().func,onKeyDown:a().func}},18275:(e,t,r)=>{"use strict";r.d(t,{n:()=>P});var n=r(50830),i=r(61112),a=r(49474),o=r(63665),s=r.n(o),l=r(2085),u=r(47545),c=r(20198),d=r(94497),h=r(3112),p=r(38194),m=r(94680),f=r(163),y=r(13913),g=r(69636);const v=(e,t)=>{t.stopPropagation(),t.preventDefault()},_=e=>{let{options:t,onChange:r,selected:n,empty:i,handleFocusInput:a,handleClose:o,dataTest:s}=e;const u=(0,y.fg)(t);if(0===l.Children.count(u))return"string"==typeof i?l.createElement(g.H,{message:i,dataTest:"".concat(s,"-empty")}):i;const c=l.Children.map(t,(e=>{if(!(0,y.v_)(e))return e;const{value:t,disabled:i}=e.props,s=t===n,u=s||i;return l.cloneElement(e,{...e.props,onClick:u?v:(e,n)=>{const i={selected:t};n.stopPropagation(),r(i,n),o(),a()},active:s})}));return l.createElement(l.Fragment,null,c)};_.defaultProps={empty:""},_.propTypes={dataTest:s().string.isRequired,empty:s().node,handleClose:s().func,handleFocusInput:s().func,options:s().node,selected:s().string,onChange:s().func};const b=e=>{let{dataTest:t,options:r,onChange:n,selected:i,empty:a,handleClose:o,handleFocusInput:s,placeholder:u,noMatchText:c}=e;return l.createElement(f.O,{dataTest:t,options:r,onChange:n,selected:i,empty:a,handleClose:o,handleFocusInput:s,placeholder:u,noMatchText:c,Menu:_})};b.propTypes={dataTest:s().string.isRequired,noMatchText:s().string.isRequired,empty:s().node,handleClose:s().func,handleFocusInput:s().func,options:s().node,placeholder:s().string,selected:s().string,onChange:s().func};var x=r(33945),w=r(36206),T=r.n(w),S=r(1882),k=r(98982),C=r(31171);const L=e=>{let{options:t,selected:r,className:n}=e;const i=(0,y.R4)(r,t);if(!i){const e='There is no option with the value: "'.concat(r,'". ')+"Make sure that the value passed to the selected prop matches the value of an existing option.";console.error(e)}const a=i&&i.props.icon,o=i?i.props.label:r;return l.createElement("div",{className:u.default.dynamic([["2249594316",[h.i.dp8,h.i.dp16,h.i.dp16]]])+" "+(T()(n,"root")||"")},a&&l.createElement("div",{className:u.default.dynamic([["2249594316",[h.i.dp8,h.i.dp16,h.i.dp16]]])+" root-icon"},a),o,l.createElement(u.default,{id:"2249594316",dynamic:[h.i.dp8,h.i.dp16,h.i.dp16]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".root-icon.__jsx-style-dynamic-selector{margin-right:".concat(h.i.dp8,";width:").concat(h.i.dp16,";height:").concat(h.i.dp16,";overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}")]))};L.propTypes={className:s().string,options:s().node,selected:s().string};const N=e=>{let{selected:t,onChange:r,clearable:n,clearText:i,placeholder:a,dataTest:o,prefix:s,options:c,className:d,disabled:h,inputMaxHeight:p}=e;const m=t&&"string"==typeof t;return l.createElement("div",{className:u.default.dynamic([["1360178250",[x.O.grey900]],["1331770409",[p]]])+" "+(T()("root",d)||"")},l.createElement(S.Z,{prefix:s,dataTest:"".concat(o,"-prefix")}),!m&&!s&&l.createElement(k.U,{placeholder:a,dataTest:"".concat(o,"-placeholder")}),m&&l.createElement("div",{className:u.default.dynamic([["1360178250",[x.O.grey900]],["1331770409",[p]]])+" root-input"},l.createElement(L,{selected:t,options:c})),m&&n&&!h&&l.createElement("div",{className:u.default.dynamic([["1360178250",[x.O.grey900]],["1331770409",[p]]])+" root-right"},l.createElement(C.k,{onClear:(e,t)=>{t.stopPropagation(),r({selected:""},t)},clearText:i,dataTest:"".concat(o,"-clear")})),l.createElement(u.default,{id:"1360178250",dynamic:[x.O.grey900]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(x.O.grey900,";font-size:14px;line-height:16px;}"),".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}",".root-right.__jsx-style-dynamic-selector{margin-left:auto;margin-right:10px;}"]),l.createElement(u.default,{id:"1331770409",dynamic:[p]},[".root-input.__jsx-style-dynamic-selector{max-height:".concat(p,";}")]))};N.defaultProps={inputMaxHeight:"100px"},N.propTypes={dataTest:s().string.isRequired,className:s().string,clearText:(0,d.C)((e=>e.clearable),s().string),clearable:s().bool,disabled:s().bool,inputMaxHeight:s().string,options:s().node,placeholder:s().string,prefix:s().string,selected:s().string,onChange:s().func};const A=e=>{let{className:t,selected:r,tabIndex:n,maxHeight:i,inputMaxHeight:a,onChange:o,onFocus:s,onKeyDown:d,onBlur:f,loading:y,error:g,warning:v,valid:x,disabled:w,children:T,clearable:S,clearText:k,filterable:C,filterPlaceholder:L,placeholder:A,prefix:O,empty:E,loadingText:P,noMatchText:M,initialFocus:I,dense:D,dataTest:z}=e;const R=C?l.createElement(b,{dataTest:z,empty:E,noMatchText:M,placeholder:L}):l.createElement(_,{empty:E,dataTest:z});return l.createElement("div",{"data-test":z,className:u.default.dynamic([["2180377457",[h.i.dp8]]])+" root"},l.createElement("div",{className:u.default.dynamic([["2180377457",[h.i.dp8]]])+" root-input"},l.createElement(p.P,{className:t,selected:r,input:l.createElement(N,{clearable:S,clearText:k,dataTest:z,placeholder:A,prefix:O,inputMaxHeight:a}),menu:R,tabIndex:n,maxHeight:i,onChange:o,onFocus:s,onKeyDown:d,onBlur:f,error:g,warning:v,valid:x,disabled:w,initialFocus:I,dense:D},T,y&&l.createElement(m.g,{message:P,dataTest:"".concat(z,"-loading")}))),l.createElement(c.J,{error:g,valid:x,warning:v}),l.createElement(u.default,{id:"2180377457",dynamic:[h.i.dp8]},[".root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:".concat(h.i.dp8,";}"),".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};A.defaultProps={selected:"",dataTest:"dhis2-uicore-singleselect"},A.propTypes={children:s().node,className:s().string,clearText:(0,d.C)((e=>e.clearable),s().string),clearable:s().bool,dataTest:s().string,dense:s().bool,disabled:s().bool,empty:s().node,error:a.statusPropType,filterPlaceholder:s().string,filterable:s().bool,initialFocus:s().bool,inputMaxHeight:s().string,loading:s().bool,loadingText:s().string,maxHeight:s().string,noMatchText:(0,d.C)((e=>e.filterable),s().string),placeholder:s().string,prefix:s().string,selected:s().string,tabIndex:s().string,valid:a.statusPropType,warning:a.statusPropType,onBlur:s().func,onChange:s().func,onFocus:s().func,onKeyDown:s().func};var O=r(61657);const E=(e,t)=>"function"==typeof e?e(t):e;class P extends l.Component{render(){const{className:e,onChange:t,onFocus:r,onKeyDown:a,onBlur:o,required:s,label:u,valid:c,error:d,warning:h,disabled:p,loading:m,selected:f,tabIndex:y,helpText:g,validationText:v,maxHeight:_,inputMaxHeight:b,inputWidth:x,children:w,clearable:T,clearText:S,filterable:k,filterPlaceholder:C,placeholder:L,prefix:N,empty:O,loadingText:P,noMatchText:M,initialFocus:I,dense:D,dataTest:z}=this.props;return l.createElement(i.g,{className:e,dataTest:z,disabled:p,required:s,label:u,helpText:g,validationText:v,error:d,warning:h,valid:c},l.createElement(n.x,{width:x,minWidth:"100px"},l.createElement(A,{selected:f,tabIndex:y,maxHeight:_,inputMaxHeight:b,onChange:t,onFocus:r,onKeyDown:a,onBlur:o,loading:m,error:d,warning:h,valid:c,disabled:p,clearable:T,clearText:E(S),filterable:k,filterPlaceholder:E(C),placeholder:L,prefix:N,empty:E(O),loadingText:E(P),noMatchText:E(M),initialFocus:I,dense:D},w)))}}P.defaultProps={dataTest:"dhis2-uiwidgets-singleselectfield",selected:"",clearText:()=>O.Z.t("Clear"),empty:()=>O.Z.t("No data found"),filterPlaceholder:()=>O.Z.t("Type to filter options"),loadingText:()=>O.Z.t("Loading options"),noMatchText:()=>O.Z.t("No options found")},P.propTypes={children:s().node,className:s().string,clearText:s().oneOfType([s().string,s().func]),clearable:s().bool,dataTest:s().string,dense:s().bool,disabled:s().bool,empty:s().oneOfType([s().node,s().func]),error:a.statusPropType,filterPlaceholder:s().oneOfType([s().node,s().func]),filterable:s().bool,helpText:s().string,initialFocus:s().bool,inputMaxHeight:s().string,inputWidth:s().string,label:s().string,loading:s().bool,loadingText:s().oneOfType([s().string,s().func]),maxHeight:s().string,noMatchText:s().oneOfType([s().string,s().func]),placeholder:s().string,prefix:s().string,required:s().bool,selected:s().string,tabIndex:s().string,valid:a.statusPropType,validationText:s().string,warning:a.statusPropType,onBlur:s().func,onChange:s().func,onFocus:s().func,onKeyDown:s().func}},86484:(e,t,r)=>{"use strict";r.d(t,{a:()=>d});var n=r(47545),i=r(33945),a=r(3112),o=r(36206),s=r.n(o),l=r(63665),u=r.n(l),c=r(2085);const d=e=>{let{label:t,active:r,disabled:o,onClick:l,className:u,dataTest:d,value:h}=e;return c.createElement("div",{onClick:e=>l({},e),"data-test":d,"data-value":h,"data-label":t,className:n.default.dynamic([["2046100779",[i.O.grey900,a.i.dp8,a.i.dp12,i.O.grey200,i.O.teal700,i.O.white,i.O.grey500]]])+" "+(s()(u,{disabled:o,active:r})||"")},t,c.createElement(n.default,{id:"2046100779",dynamic:[i.O.grey900,a.i.dp8,a.i.dp12,i.O.grey200,i.O.teal700,i.O.white,i.O.grey500]},["div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:".concat(i.O.grey900,";padding:").concat(a.i.dp8," ").concat(a.i.dp12,";}"),"div.__jsx-style-dynamic-selector:hover{background-color:".concat(i.O.grey200,";}"),"div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:".concat(i.O.teal700,";color:").concat(i.O.white,";cursor:auto;}"),"div.disabled.__jsx-style-dynamic-selector{color:".concat(i.O.grey500,";cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"),"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}"]))};d.defaultProps={dataTest:"dhis2-uicore-singleselectoption"},d.propTypes={label:u().string.isRequired,value:u().string.isRequired,active:u().bool,className:u().string,dataTest:u().string,disabled:u().bool,onClick:u().func}},61462:(e,t,r)=>{"use strict";r.d(t,{n:()=>S});var n=r(63665),i=r.n(n),a=r(2085),o=r(47545);function s(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z",fill:"currentColor"}))}s.propTypes={color:i().string,dataTest:i().string};const l=s;function u(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z",fill:"currentColor"}))}u.propTypes={color:i().string,dataTest:i().string};const c=u;var d=r(36206),h=r.n(d);const p=250,m=.5;function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.scrollLeft,i=function(e,t,r){const n=e.clientWidth*m,i=r?-1:1;return Math.floor(t+n*i)}(e,n,r),a=function(e){let t,r,n,{scrollBox:i,callback:a,startValue:o,endValue:s,change:l}=e;return function e(u){t||(t=u),r=u-t,n=function(e){let{currentTime:t,startValue:r,change:n}=e;return(t/=p/2)<1?n/2*t*t+r:-n/2*(--t*(t-2)-1)+r}({currentTime:r,DURATION:p,startValue:o,change:l}),r>=p?(n!==s&&(i.scrollLeft=s),a&&a()):(i.scrollLeft=n,window.requestAnimationFrame(e))}}({scrollBox:e,callback:t,startValue:n,endValue:i,change:i-n});window.requestAnimationFrame(a)}let y;const g="__vertical-scrollbar-height-test__",v="\n    .".concat(g," {\n        position: absolute;\n        top: -9999px;\n        width: 100px;\n        height: 100px;\n        overflow-x: scroll;\n    }\n    .").concat(g,"::-webkit-scrollbar {\n        display: none;\n    }\n");var _=r(33945);const b=e=>{let{children:t,disabled:r,hidden:n,onClick:i}=e;return a.createElement("button",{onClick:r?void 0:i,className:o.default.dynamic([["2701682090",[_.O.white,_.O.grey400,_.O.grey600,_.O.grey100,_.O.grey200,_.O.grey500]]])+" "+(h()("scroll-button",{disabled:r,hidden:n})||"")},t,a.createElement(o.default,{id:"2701682090",dynamic:[_.O.white,_.O.grey400,_.O.grey600,_.O.grey100,_.O.grey200,_.O.grey500]},[".scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:".concat(_.O.white,";border:none;border-bottom:1px solid ").concat(_.O.grey400,";outline:none;padding:16px 16px 11px 16px;cursor:pointer;}"),".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}",".scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:".concat(_.O.grey600,";-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}"),".scroll-button.__jsx-style-dynamic-selector:hover{background-color:".concat(_.O.grey100,";}"),".scroll-button.__jsx-style-dynamic-selector:active{background-color:".concat(_.O.grey200,";}"),".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}",".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}",".scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:".concat(_.O.grey500,";}")]))};function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}b.displayName="ScrollButton",b.propTypes={children:i().any.isRequired,disabled:i().bool,hidden:i().bool,onClick:i().func};class w extends a.Component{constructor(e){super(e),x(this,"scrollBox",(0,a.createRef)()),x(this,"scrollArea",(0,a.createRef)()),x(this,"horizontalScrollBarHeight",function(){if(y)return y;const e=document.createElement("style");e.innerHTML=v;const t=document.createElement("div");return t.classList.add(g),document.body.appendChild(e),document.body.appendChild(t),y=t.offsetHeight-t.clientHeight,document.body.removeChild(e),document.body.removeChild(t),y}()),x(this,"scrollBoxResizeObserver",null),x(this,"calculateShouldHideButtons",(()=>{this.setState({hideScrollButtonsInitialized:!1});const{current:e}=this.scrollBox,{current:t}=this.scrollArea,r=t.offsetWidth<=e.offsetWidth;this.setState({hideScrollButtons:r}),r||(this.state.scrolledToStart&&this.scrollLeft(),this.state.scrolledToEnd&&this.scrollRight()),this.setState({hideScrollButtonsInitialized:!0})})),x(this,"scrollRight",(()=>this.scroll())),x(this,"scrollLeft",(()=>this.scroll(!0))),x(this,"animatedScrollCallback",(()=>{this.updateScrolledToStates(),this.attachSideScrollListener()})),x(this,"updateScrolledToStates",(()=>{const{scrollLeft:e,offsetWidth:t}=this.scrollBox.current,{offsetWidth:r}=this.scrollArea.current,n=e<=0,i=e+t>=r;this.state.scrolledToStart===n&&this.state.scrolledToEnd===i||this.setState({scrolledToStart:n,scrolledToEnd:i})})),this.state={scrolledToStart:!0,scrolledToEnd:!1,hideScrollButtonsInitialized:!1,hideScrollButtons:!1},this.scrollBoxResizeObserver=new ResizeObserver(this.calculateShouldHideButtons)}componentDidMount(){this.scrollSelectedTabIntoView(),this.attachSideScrollListener(),this.manageShouldHideButtons()}componentWillUnmount(){this.removeSideScrollListener(),this.scrollBoxResizeObserver.disconnect()}manageShouldHideButtons(){const{current:e}=this.scrollBox;this.scrollBoxResizeObserver.observe(e),this.calculateShouldHideButtons()}scroll(e){this.removeSideScrollListener(),f(this.scrollBox.current,this.animatedScrollCallback,e)}scrollSelectedTabIntoView(){const e=this.scrollBox.current,t=e.querySelector(".tab.selected");if(t){const r=t.offsetLeft+t.offsetWidth;r>e.offsetWidth&&(e.scrollLeft=r-e.offsetWidth)}}attachSideScrollListener(){this.scrollBox.current.addEventListener("scroll",this.updateScrolledToStates)}removeSideScrollListener(){this.scrollBox.current.removeEventListener("scroll",this.updateScrolledToStates)}render(){const{scrolledToStart:e,scrolledToEnd:t,hideScrollButtonsInitialized:r,hideScrollButtons:n}=this.state,{children:i,className:s,dataTest:u}=this.props,d=!r||n;return a.createElement("div",{"data-test":u,className:"jsx-191575146 "+o.default.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" "+(h()("scroll-bar",s)||"")},a.createElement(b,{disabled:e,onClick:this.scrollLeft,hidden:d},a.createElement(l,null)),a.createElement("div",{className:"jsx-191575146 "+o.default.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box-clipper"},a.createElement("div",{ref:this.scrollBox,className:"jsx-191575146 "+o.default.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box"},a.createElement("div",{ref:this.scrollArea,className:"jsx-191575146 "+o.default.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-area"},i))),a.createElement(b,{disabled:t,onClick:this.scrollRight,hidden:d},a.createElement(c,null)),a.createElement(o.default,{id:"4174900658",dynamic:[-this.horizontalScrollBarHeight]},[".scroll-box.__jsx-style-dynamic-selector{margin-bottom:".concat(-this.horizontalScrollBarHeight,"px;}")]),a.createElement(o.default,{id:"191575146"},[".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}",".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}",".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}"]))}}w.propTypes={children:i().node.isRequired,dataTest:i().string.isRequired,className:i().string};const T=e=>{let{children:t,fixed:r,dataTest:n}=e;return a.createElement("div",{"data-test":n,className:o.default.dynamic([["2678989862",[_.O.grey400,_.O.white]]])+" "+(h()({fixed:r})||"")},t,a.createElement(o.default,{id:"2678989862",dynamic:[_.O.grey400,_.O.white]},["div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 ".concat(_.O.grey400,";-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:").concat(_.O.white,";}")]))};T.propTypes={dataTest:i().string.isRequired,children:i().node,fixed:i().bool};const S=e=>{let{fixed:t,children:r,className:n,scrollable:i,dataTest:o}=e;return i?a.createElement("div",{className:n,"data-test":o},a.createElement(w,{dataTest:"".concat(o,"-scrollbar")},a.createElement(T,{fixed:t,dataTest:"".concat(o,"-tabs")},r))):a.createElement("div",{className:n,"data-test":o},a.createElement(T,{fixed:t,dataTest:"".concat(o,"-tabs")},r))};S.defaultProps={dataTest:"dhis2-uicore-tabbar"},S.propTypes={children:i().node,className:i().string,dataTest:i().string,fixed:i().bool,scrollable:i().bool}},48556:(e,t,r)=>{"use strict";r.d(t,{O:()=>d});var n=r(47545),i=r(33945),a=r(36727),o=r(36206),s=r.n(o),l=r(63665),u=r.n(l),c=r(2085);const d=e=>{let{icon:t,onClick:r,selected:o,disabled:l,children:u,className:d,dataTest:h}=e;return c.createElement("button",{onClick:l?void 0:e=>r({},e),"data-test":h,className:n.default.dynamic([["1623786756",[i.O.grey400,i.O.grey600,a.r.focus,i.O.grey600,i.O.grey900,i.O.grey600,i.O.grey800,a.r.primary800,a.r.primary700,a.r.primary700,a.r.primary700,i.O.grey500,i.O.grey500]]])+" "+"".concat(s()("tab",d,{selected:o,disabled:l}))},t,c.createElement("span",{className:n.default.dynamic([["1623786756",[i.O.grey400,i.O.grey600,a.r.focus,i.O.grey600,i.O.grey900,i.O.grey600,i.O.grey800,a.r.primary800,a.r.primary700,a.r.primary700,a.r.primary700,i.O.grey500,i.O.grey500]]])},u),c.createElement(n.default,{id:"1623786756",dynamic:[i.O.grey400,i.O.grey600,a.r.focus,i.O.grey600,i.O.grey900,i.O.grey600,i.O.grey800,a.r.primary800,a.r.primary700,a.r.primary700,a.r.primary700,i.O.grey500,i.O.grey500]},["button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid ".concat(i.O.grey400,";color:").concat(i.O.grey600,";font-size:14px;line-height:20px;cursor:pointer;}"),".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}","button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;left:0;height:4px;width:100%;background-color:transparent;}","span.__jsx-style-dynamic-selector{max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}","button.__jsx-style-dynamic-selector:focus{outline:3px solid ".concat(a.r.focus,";outline-offset:-3px;}"),"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}","button.__jsx-style-dynamic-selector>svg{fill:".concat(i.O.grey600,";width:14px;height:14px;margin:0 4px 0 0;}"),"button.__jsx-style-dynamic-selector:hover{color:".concat(i.O.grey900,";}"),"button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:".concat(i.O.grey600,";height:2px;}"),"button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:".concat(i.O.grey800,";}"),"button.selected.__jsx-style-dynamic-selector{color:".concat(a.r.primary800,";}"),"button.selected.__jsx-style-dynamic-selector::after{background-color:".concat(a.r.primary700,";-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}"),"button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:".concat(a.r.primary700,";height:4px;}"),"button.selected.__jsx-style-dynamic-selector>svg{fill:".concat(a.r.primary700,";}"),"button.disabled.__jsx-style-dynamic-selector{color:".concat(i.O.grey500,";cursor:not-allowed;}"),"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}","button.disabled.__jsx-style-dynamic-selector>svg{fill:".concat(i.O.grey500,";}")]))};d.defaultProps={dataTest:"dhis2-uicore-tab"},d.propTypes={children:u().node,className:u().string,dataTest:u().string,disabled:u().bool,icon:u().element,selected:u().bool,onClick:u().func}},89308:(e,t,r)=>{"use strict";r.d(t,{u:()=>f});var n=r(47545),i=r(33447),a=r(83793),o=r(8352),s=r(33945),l=r(63665),u=r.n(l),c=r(2085);const d={styles:c.createElement(n.default,{id:"2999517824"},[".jsx-2999517824{z-index:".concat(o.u.applicationTop,";pointer-events:none;}"),'div[data-popper-reference-hidden="true"].jsx-2999517824{visibility:hidden;}']),className:"jsx-2999517824"},h={name:"offset",options:{offset:[0,4]}},p={name:"hide"},m={name:"flip",options:{altBoundary:!0}},f=e=>{let{children:t,className:r,closeDelay:o,content:l,dataTest:u,maxWidth:f,openDelay:y,placement:g}=e;const[v,_]=(0,c.useState)(!1),b=(0,c.useRef)(),x=(0,c.useRef)(null),w=(0,c.useRef)(null),T=()=>{clearTimeout(w.current),x.current=setTimeout((()=>{_(!0)}),y)},S=()=>{clearTimeout(x.current),w.current=setTimeout((()=>{_(!1)}),o)};return(0,c.useEffect)((()=>()=>{clearTimeout(x.current),clearTimeout(w.current)}),[]),c.createElement(c.Fragment,null,"function"==typeof t?t({onMouseOver:T,onMouseOut:S,ref:b}):c.createElement("span",{onMouseOver:T,onMouseOut:S,ref:b,"data-test":"".concat(u,"-reference"),className:n.default.dynamic([["3515683788",[f,s.O.grey900,s.O.white]]])},t),v&&c.createElement(a.h,null,c.createElement(i.r,{className:d.className,placement:g,reference:b,modifiers:[h,m,p]},c.createElement("div",{"data-test":"".concat(u,"-content"),className:n.default.dynamic([["3515683788",[f,s.O.grey900,s.O.white]]])+" "+(r||"")},l))),d.styles,c.createElement(n.default,{id:"3515683788",dynamic:[f,s.O.grey900,s.O.white]},["div.__jsx-style-dynamic-selector{max-width:".concat(f,"px;}"),"div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:".concat(s.O.grey900,";border-radius:3px;color:").concat(s.O.white,";font-size:13px;line-height:17px;}")]))};f.defaultProps={closeDelay:200,dataTest:"dhis2-uicore-tooltip",maxWidth:300,openDelay:200,placement:"top"},f.propTypes={children:u().oneOfType([u().node,u().func]),className:u().string,closeDelay:u().number,content:u().node,dataTest:u().string,maxWidth:u().number,openDelay:u().number,placement:u().oneOf(["top","right","bottom","left"])}},97363:(e,t,r)=>{"use strict";r.d(t,{AP:()=>y,At:()=>a,BI:()=>s,Eu:()=>l,F9:()=>_,FJ:()=>m,GN:()=>h,MA:()=>d,Nn:()=>c,O5:()=>n,P8:()=>p,VG:()=>x,bk:()=>o,fW:()=>i,hy:()=>g,tA:()=>b,uu:()=>u,xP:()=>f,y9:()=>v});const n="DAILY",i="WEEKLY",a="WEEKLYWED",o="WEEKLYTHU",s="WEEKLYSAT",l="WEEKLYSUN",u="WEEKS_THIS_YEAR",c="BIWEEKLY",d="MONTHLY",h="BIMONTHLY",p="QUARTERLY",m="SIXMONTHLY",f="SIXMONTHLYAPR",y="YEARLY",g="FINANCIAL",v="FYNOV",_="FYOCT",b="FYJUL",x="FYAPR"},33933:(e,t,r)=>{"use strict";r.d(t,{CU:()=>V});var n=r(16259);const i=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"لا يوجد وصف","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"","Notifications":"الإشعارات","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"نوع البيانات","All types":"جميع الأنواع","Totals only":"","Details only":"","Disaggregation":"تصنيف","No data":"لا توجد بيانات","Loading":"جار التحميل","Search by data item name":"","No items selected":"لم يتم تحديد عناصر","Selected Items":"العناصر المحددة","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"جميع المقاييس","Move to {{axisName}}":"تحريك إلى {{axisName}}","Add to {{axisName}}":"إضافة إلى {{axisName}}","Not available for {{visualizationType}}":"غير متوفر لـ {{visualizationType}}","Remove Assigned Categories":"إزالة الفئات المعينة","Add Assigned Categories":"إضافة فئات معينة","Remove":"إزالة","Filter dimensions":"تصفية الأبعاد","Main dimensions":"الأبعاد الرئيسية","Your dimensions":"الأبعاد الخاصة بك","Dimension recommended with selected data":"البعد موصى به مع البيانات المحددة","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"البحث","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"إلغاء","Delete":"حذف","File":"ملف","New":"جديد","Open…":"","Save":"حفظ","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"فتح في هذا التطبيق","Close":"إغلاق","Rename {{fileType}}":"","Name":"الإسم","Description":"الوصف","Rename":"إعادة التسمية","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"تقارير عن الأحداث","line list":"","map":"خريطة","visualization":"","Edit":"تعديل","Write a reply":"كتابة رد","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"تحديث","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"كتابة تفسير","Post interpretation":"","Interpretations":"التفسيرات","Unlike":"إلغاء الإعجاب","Like":"إعجاب","Reply":"رد","Share":"مشاركة","See interpretation":"","Manage sharing":"إدارة المشاركة","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"معاينة","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"لم يتم العثور على أي نتائج","Not available offline":"غير متوفر في وضع عدم الإتصال","Created by":"تم الإنشاء بواسطة","Anyone":"أي شخص","Only you":"","Others":"أخرى","Not supported by this app yet":"","Filter by name":"تصفية بواسطة الاسم","Created":"تم الإنشاء","Last updated":"آخر تحديث","Type":"النوع","Clear filters":"إلغاء عوامل التصفية","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"مفتوح","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"إنشاء جديد","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"الخيارات","Hide":"إخفاء","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"وحدة المنظمة للمستخدم","User sub-units":"وحدات المستخدم الفرعية","User sub-x2-units":"وحدات المستخدم الفرعية من المستوى الثاني","Select a level":"حدد مستوى","Select a group":"حدد مجموعة","Deselect all":"إلغاء تحديد الكل","Period type":"نوع الفترة الزمنية","Year":"سنة","Select year":"اختر السنة","Period":"الفترة الزمنية","Relative periods":"الفترات الزمنية النسبية","Fixed periods":"فترات زمنية ثابتة","Selected Periods":"الفترات المحددة","No periods selected":"لم يتم تحديد أية فترات زمنية","January":"يناير","February":"فبراير","March":"مارس","April":"ابريل","May":"مايو","June":"يونيو","July":"يوليو","August":"اغسطس","September":"سبتمبر","October":"اكتوبر","November":"نوفمبر","December":"ديسمبر","Week {{weekNumber}}":"الإسبوع {{weekNumber}}","Bi-Week {{biWeekNumber}}":"ثنائي الإسبوع {{biWeekNumber}}","Daily":"يومي","Weekly":"أسبوعي","Weekly (Start Wednesday)":"اسبوعياً (يبدأ الأربعاء)","Weekly (Start Thursday)":"اسبوعياً (يبدأ الخميس)","Weekly (Start Saturday)":"اسبوعياً (يبدأ السبت)","Weekly (Start Sunday)":"اسبوعياً (يبدأ الأحد)","Bi-weekly":"كل اسبوعين","Monthly":"شهري","Bi-monthly":"كل شهرين","Quarterly":"ربعي","Six-monthly":"كل ستة-أشهر","Six-monthly April":"نصف سنوي، كل ستة أشهر، ابريل","Yearly":"سنوي","Financial year (Start November)":"السنة المالية (تبدأ في نوفمبر)","Financial year (Start October)":"السنة المالية (تبدأ في اكتوبر)","Financial year (Start July)":"السنة المالية (تبدأ في يوليو)","Financial year (Start April)":"السنة المالية (تبدأ في ابريل)","Today":"اليوم","Yesterday":"الأمس","Last 3 days":"آخر 3 أيام","Last 7 days":"آخر 7 أيام","Last 14 days":"آخر 14 يوم","Last 30 days":"آخر 30 يوم","Last 60 days":"آخر 60 يومًا","Last 90 days":"آخر 90 يومًا","Last 180 days":"آخر 180 يوم","This week":"هذا الأسبوع","Last week":"الأسبوع الماضي","Last 4 weeks":"آخر 4 أسابيع","Last 12 weeks":"آخر 12 أسبوع","Last 52 weeks":"آخر 52 أسبوع","Weeks this year":"أسابيع السنة الحالية","This bi-week":"الأسبوعين الحاليين","Last bi-week":"آخر اسبوعين","Last 4 bi-weeks":"آخر 4 ثنائي اسابيع","This month":"الشهر الحالي","Last month":"الشهر الماضي","Last 3 months":"آخر 3 أشهر","Last 6 months":"آخر 6 أشهر","Last 12 months":"آخر 12 شهر","Months this year":"أشهر السنة الحالية","This bi-month":"الشهران المزدوجان الحاليان","Last bi-month":"آخر شهرين مزدوجين","Last 6 bi-months":"آخر 6 أشهر مزدوجة","Bi-months this year":"الأشهر المزدوجة في السنة الحالية","This quarter":"ربع السنة الحالي","Last quarter":"ربع السنة الماضي","Last 4 quarters":"آخر 4 أرباع السنة","Quarters this year":"أرباع السنة الحالية","This six-month":"الستة أشهر الحالية","Last six-month":"آخر ستة-أشهر","Last 2 six-month":"آخر نصفي سنة (فترتي ستة-أشهر)","This financial year":"السنة المالية الحالية","Last financial year":"السنة المالية الماضية","Last 5 financial years":"آخر 5 سنوات مالية","This year":"السنة الحالية","Last year":"السنة الماضية","Last 5 years":"آخر 5 سنوات","Last 10 years":"آخر 10 سنوات","Days":"‏‏الأيام","Weeks":"الأسابيع","Bi-weeks":"كل اسبوعين","Months":"الأشهر","Bi-months":"الأشهر المزدوجة","Quarters":"أرباع السنة","Six-months":"ستة-أشهر","Financial Years":"السنوات المالية","Years":"السنوات","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"سلسلة","Category":"الفئة","Filter":"عامل التصفية","Columns":"الأعمدة","Rows":"الصفوف","Points":"","Reporting rate":"معدل الإبلاغ","Reporting rate on time":"معدل الإبلاغ في الوقت المحدد","Actual reports":"الإبلاغات الفعلية","Actual reports on time":"الإبلاغات الفعلية في الوقت المحدد","Expected reports":"الإبلاغات المتوقعة","Program":"البرنامج","Select a program":"حدد برنامجاً","Indicators":"المؤشرات","Indicator group":"مجموعة المؤشرات","All groups":"","Indicator":"المؤشر","No indicator groups found":"","Loading indicator groups":"","Data elements":"عناصر البيانات","Data element group":"مجموعة عناصر البيانات","Data element":"عنصر البيانات","No data element groups found":"","Loading data element groups":"","Data sets":"حزم البيانات","Data set":"حزمة البيانات","All data sets":"","Loading data sets":"تحميل حزم البيانات","Event data items":"عناصر بيانات الحدث","All programs":"","Event data item":"عنصر بيانات حدث","No programs found":"","Loading programs":"","Program indicators":"مؤشرات البرنامج","Program indicator":"مؤشرات البرنامج","Extra Small":"صغير جدا","Small":"صغير","Regular":"عادي","Large":"كبير","Extra Large":"كبير جدا","Left":"الأيسر","Center":"المركز","Right":"الأيمن","Start":"البدء","Middle":"الوسط","End":"النهاية","Top":"القمة","Bottom":"الأسفل","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} و {{lastOuName}}","{{allDynamicOuNames}} levels":"مستويات {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"مجموعات {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"مستويات {{allDynamicOuNames}} في {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"مجموعات {{allDynamicOuNames}} في {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"بيانات","Organisation unit":"الوحدة التنظيمية","Assigned Categories":"الفئات المعينة","Pivot table":"الجدول المحوري","Area":"مساحة","Stacked area":"منطقة تراكمية","Bar":"مخطط شريطي","Stacked bar":"شريط تراكمي","Column":"العمود","Year over year (column)":"عام بعد عام (عمود)","Stacked column":"عمود تراكمي","Gauge":"مخطط قياس","Line":"مخطط خطي","Line list":"قائمة سطور","Year over year (line)":"عام بعد عام (خط)","Pie":"مخطط دائري","Radar":"مخطط رادار","Scatter":"","Single value":"قيمة مفردة","All charts":"","{{seriesName}} (trend)":"","Trend":"الاتجاه","No legend for this series":"لا معلومات مفاتيح إيضاحية لهذه السلسلة","and {{amount}} more...":"","Linear Regression":"","Target":"الهدف","Base":"الأساس","Axis {{axisId}}":"محور {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""}'),a=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"","Delete":"","File":"","New":"","Open…":"","Save":"","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"","Rename {{fileType}}":"","Name":"","Description":"","Rename":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"","Unlike":"","Like":"","Reply":"","Share":"","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"","Type":"","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"","Select year":"","Period":"","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"يناير","February":"فبراير","March":"مارس","April":"ابريل","May":"مايو","June":"يونيو","July":"يوليو","August":"أغسطس","September":"سبتمبر","October":"اكتوبر","November":"نوفمبر","December":"ديسمبر","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"","Weekly":"","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"","Bi-monthly":"","Quarterly":"","Six-monthly":"","Six-monthly April":"","Yearly":"","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"","Days":"","Weeks":"","Bi-weeks":"","Months":"","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"","Indicator group":"","All groups":"","Indicator":"","No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"","Organisation unit":"","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""}'),o=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"لا يوجد وصف","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Viewed {{count}} times_4":"","Viewed {{count}} times_5":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"جار التحميل","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"إزالة","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"البحث","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"إلغاء","Delete":"حذف","File":"","New":"جديد","Open…":"","Save":"حفظ","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"إغلاق","Rename {{fileType}}":"","Name":"الاسم","Description":"الوصف","Rename":"إعادة التسمية","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"تعديل","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"تحديث","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"التفسيرات","Unlike":"إلغاء الإعجاب","Like":"إعجاب","Reply":"رد","Share":"مشاركة","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"تم الإنشاء بواسطة","Anyone":"أي شخص","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"تم الإنشاء","Last updated":"آخر تحديث","Type":"","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"فتح","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"الخيارات","Hide":"إخفاء","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} org units_4":"","{{count}} org units_5":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} levels_4":"","{{count}} levels_5":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","{{count}} groups_4":"","{{count}} groups_5":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"وحدات المستخدم الفرعية","User sub-x2-units":"وحدات المستخدم الفرعية من المستوى الثاني","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"","Select year":"","Period":"","Relative periods":"الفترات الزمنية النسبية","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"","February":"","March":"","April":"","May":"","June":"","July":"","August":"","September":"","October":"","November":"","December":"","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"يومي","Weekly":"أسبوعي","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"كل اسبوعين","Monthly":"شهري","Bi-monthly":"أشهر مزدوجة","Quarterly":"ربع سنوي","Six-monthly":"ستة أشهر","Six-monthly April":"ستة أشهر نيسان","Yearly":"سنوي","Financial year (Start November)":"","Financial year (Start October)":"السنة المالية (بداية تشرين الأول)","Financial year (Start July)":"السنة المالية (بداية تموز)","Financial year (Start April)":"السنة المالية (بداية نيسان)","Today":"اليوم","Yesterday":"الأمس","Last 3 days":"آخر 3 أيام","Last 7 days":"آخر 7 أيام","Last 14 days":"آخر 14 يوم","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"الأسبوع الحالي","Last week":"الأسبوع الماضي","Last 4 weeks":"آخر 4 أسابيع","Last 12 weeks":"آخر 12 أسبوع","Last 52 weeks":"آخر 52 أسبوع","Weeks this year":"أسابيع السنة الحالية","This bi-week":"الأسبوعين الحاليين","Last bi-week":"آخر اسبوعين","Last 4 bi-weeks":"آخر 4 زوج اسابيع","This month":"الشهر الحالي","Last month":"الشهر الماضي","Last 3 months":"آخر 3 أشهر","Last 6 months":"آخر 6 أشهر","Last 12 months":"آخر 12 شهر","Months this year":"أشهر السنة الحالية","This bi-month":"الشهران المزدوجان الحاليان","Last bi-month":"آخر شهرين مزدوجين","Last 6 bi-months":"آخر 6 أشهر مزدوجة","Bi-months this year":"الأشهر المزدوجة في السنة الحالية","This quarter":"ربع السنة الحالي","Last quarter":"ربع السنة الماضي","Last 4 quarters":"آخر 4 أرباع السنة","Quarters this year":"أرباع السنة الحالية","This six-month":"نصف السنة الحالي (فترة من ستة أشهر)","Last six-month":"آخر ستة أشهر","Last 2 six-month":"","This financial year":"السنة المالية الحالية","Last financial year":"السنة المالية الماضية","Last 5 financial years":"آخر 5 سنوات مالية","This year":"السنة الحالية","Last year":"السنة الماضية","Last 5 years":"آخر 5 سنوات","Last 10 years":"","Days":"‏‏الأيام","Weeks":"الأسابيع","Bi-weeks":"كل اسبوعين","Months":"الأشهر","Bi-months":"الأشهر المزدوجة","Quarters":"أرباع السنة","Six-months":"ستة أشهر","Financial Years":"","Years":"السنوات","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"البرنامج","Select a program":"","Indicators":"المؤشرات","Indicator group":"","All groups":"","Indicator":"","No indicator groups found":"","Loading indicator groups":"","Data elements":"عناصر البيانات","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"حزم البيانات","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"صغير","Regular":"","Large":"كبير","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"القمة","Bottom":"الأسفل","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"البيانات","Organisation unit":"الوحدة التنظيمية","Assigned Categories":"","Pivot table":"الجدول المحوري","Area":"مساحة","Stacked area":"","Bar":"","Stacked bar":"","Column":"العمود","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"قائمة السطور","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","{{count}} items_4":"","{{count}} items_5":"","Reset zoom":""}'),s=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"لابردن","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"گەڕان","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"لابردن","Delete":"سڕینەوە","File":"","New":"نوێ","Open…":"","Save":"تۆمارکردن","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"داخستن","Rename {{fileType}}":"","Name":"","Description":"","Rename":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"دةستكاري","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"نوێ کردنەوە","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"","Unlike":"","Like":"","Reply":"","Share":"","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"","Anyone":"هەرکەسێک","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"","Type":"","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"شاردنەوە","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} groups_0":"","{{count}} groups_1":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"","Select year":"","Period":"ماوة","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"","February":"","March":"","April":"","May":"","June":"","July":"","August":"","September":"","October":"","November":"","December":"","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"","Weekly":"","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"","Bi-monthly":"","Quarterly":"","Six-monthly":"","Six-monthly April":"","Yearly":"","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"ئەمڕۆ","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ئەم هەفتەیە","Last week":"هەفتەی ڕابردوو","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ئەم مانگە","Last month":"مانگی ڕابردوو","Last 3 months":"٣ مانگ پێشووتر","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"","Days":"رۆژەکان","Weeks":"","Bi-weeks":"","Months":"مانگەکان","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"ساڵەکان","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"بةرنامة","Select a program":"","Indicators":"نیشاندەر","Indicator group":"","All groups":"","Indicator":"","No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"داتاي سةرةكي","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"","Organisation unit":"يةكةي ريكخراو","Assigned Categories":"","Pivot table":"","Area":"ناوچە","Stacked area":"","Bar":"","Stacked bar":"","Column":"ستوون","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","Reset zoom":""}'),l=JSON.parse('{"view only":"pouze zobrazit","view and edit":"zobrazit a upravit","all users ({{accessLevel}})":"všichni uživatelé ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Sdíleno s {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Nesdíleno s žádnými uživateli ani skupinami","No description":"Bez popisu","Last updated {{time}}":"Poslední aktualizace {{time}}","Created {{time}} by {{author}}":"Vytvořeno {{time}} uživatelem {{author}}","Created {{time}}":"Vytvořeno {{time}}","Viewed {{count}} times_0":"Zobrazeno 1 krát","Viewed {{count}} times_1":"Zobrazeno {{count}}krát","Viewed {{count}} times_2":"Zobrazeno {{count}}krát","Viewed {{count}} times_3":"Zobrazeno {{count}}krát","Notifications":"Oznámení","You\'re subscribed and getting updates about new interpretations.":"Jste přihlášeni k odběru a dostáváte aktualizace o nových interpretacích.","Unsubscribe":"Odhlásit odběr","Subscribe to get updates about new interpretations.":"Přihlaste se k odběru novinek o nových interpretacích.","Subscribe":"Odebírat","About this map":"O této mapě","About this line list":"O seznamu řádků","About this visualization":"O této vizualizaci","This app could not retrieve required data.":"Tato aplikace nemohla načíst požadovaná data.","Network error":"Chyba sítě","Data Type":"Typ dat","All types":"Všechny typy","Totals only":"Pouze součty","Details only":"Pouze podrobnosti","Disaggregation":"Rozčlenění","No data":"Nejsou data","Loading":"Načítání","Search by data item name":"Hledání podle názvu datové položky","No items selected":"Nevybrány žádné položky","Selected Items":"Vybrané položky","No indicators found":"Nebyly nalezeny žádné indikátory","No data elements found":"Nebyly nalezeny žádné datové prvky","No data sets found":"Nebyly nalezeny žádné datové soubory","No event data items found":"Nebyly nalezeny žádné datové položky události","No program indicators found":"Nebyly nalezeny žádné programové indikátory","No indicators found for \\"{{- searchTerm}}\\"":"Nebyly nalezeny žádné indikátory pro „{{- searchTerm}}“","No data elements found for \\"{{- searchTerm}}\\"":"Nebyly nalezeny žádné datové prvky pro „{{- searchTerm}}“","No data sets found for \\"{{- searchTerm}}\\"":"Nebyly nalezeny žádné soubory dat pro „{{- searchTerm}}“","No event data items found for \\"{{- searchTerm}}\\"":"Pro „{{- searchTerm}}“ nebyly nalezeny žádné datové položky události","No program indicators found for \\"{{- searchTerm}}\\"":"Nebyly nalezeny žádné programové indikátory pro „{{- searchTerm}}“","Nothing found for \\"{{- searchTerm}}\\"":"Pro dotaz „{{- searchTerm}}“ nebylo nic nalezeno","Metric type":"Metrický typ","All metrics":"Všechny metriky","Move to {{axisName}}":"Přesunout na {{axisName}}","Add to {{axisName}}":"Přidat k {{axisName}}","Not available for {{visualizationType}}":"Není k dispozici pro {{visualizationType}}","Remove Assigned Categories":"Odebrat přiřazené kategorie","Add Assigned Categories":"Přidat přiřazené kategorie","Remove":"Odebrat","Filter dimensions":"Rozsahy filtru","Main dimensions":"Hlavní rozměry","Your dimensions":"Vaše rozměry","Dimension recommended with selected data":"U vybraných dat je doporučen rozsah","All items":"Všechny položky","Automatically include all items":"Automaticky zahrnout všechny položky","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Vyberte všechny položky {{- dimensionTitle}}. Díky této možnosti budou automaticky přidány nové položky přidané v budoucnosti.","Manually select items...":"Ručně vybrat položky ...","Nothing found in {{- dimensionTitle}}":"V {{- dimensionTitle}} nebylo nic nalezeno","Search":"Hledat","Nothing found for {{- searchTerm}}":"Pro {{- searchTerm}} nebylo nic nalezeno.","Delete {{fileType}}":"Smazat {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Tento {{fileType}} a související interpretace budou smazány. Pokračovat?","Cancel":"Zrušit","Delete":"Smazat","File":"Soubor","New":"Nový","Open…":"Otevřít…","Save":"Uložit","Save…":"Uložit…","Save as…":"Uložit jako…","Rename…":"Přejmenovat…","Translate…":"Přeložit…","Share…":"Sdílet…","Get link…":"Získat odkaz ...","Open in this app":"Otevřít v této aplikaci","Close":"Zavřít","Rename {{fileType}}":"Přejmenovat {{fileType}}","Name":"Název","Description":"Popis","Rename":"Přejmenovat","{{objectName}} (copy)":"{{objectName}} (kopie)","Save {{fileType}} as":"Uložit {{fileType}} jako","event report":"zpráva o události","line list":"seznam řádků","map":"mapa","visualization":"vizualizace","Edit":"Upravit","Write a reply":"Napsat odpověď","Post reply":"Odpovědět","Could not update comment":"Komentář se nepodařilo aktualizovat","Enter comment text":"Zadejte text komentáře","Update":"Aktualizovat","Viewing interpretation: {{- visualisationName}}":"Zobrazení interpretace: {{- visualisationName}}","Could not load interpretation":"Interpretaci nelze načíst","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"Interpretaci se nepodařilo zobrazit. Zkuste to znovu nebo se obraťte na správce systému.","Hide interpretation":"Skrýt interpretaci","Write an interpretation":"Napsat interpretaci","Post interpretation":"Vložit interpretaci","Interpretations":"Interpretace","Unlike":"Na rozdíl od","Like":"Jako","Reply":"Odpovědět","Share":"Sdílet","See interpretation":"Zobrazit interpretaci","Manage sharing":"Spravovat sdílení","Could not update interpretation":"Interpretaci nelze aktualizovat","Enter interpretation text":"Zadejte text interpretace","Bold text":"Tučné písmo","Italic text":"Text kurzívou","Link to a URL":"Odkaz na URL","Mention a user":"Zmínit uživatele","Add emoji":"Přidat emotikony","Preview":"Náhled","Back to write mode":"Zpět do režimu zápisu","Too many results. Try refining the search.":"Příliš mnoho výsledků. Zkuste upřesnit vyhledávání.","Search for a user":"Vyhledat uživatele","Searching for \\"{{- searchText}}\\"":"Hledání \\"{{- searchText}}\\"","No results found":"Nenalezeny žádné výsledky","Not available offline":"Není k dispozici offline","Created by":"Vytvořil","Anyone":"Kdokoliv","Only you":"Jen vy","Others":"Ostatní","Not supported by this app yet":"Tato aplikace zatím nepodporuje","Filter by name":"Filtrovat podle názvu","Created":"Vytvořeno","Last updated":"Naposledy aktualizováno","Type":"Typ","Clear filters":"Vymazat filtry","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} z {{totalNumberOfItems}}","Open":"Otevřít","Couldn\'t load items":"Položky nelze načíst","There was a problem loading items. Try again or contact your system administrator.":"Při načítání položek došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No items found. Create a new to get started.":"Žádné položky nenalezeny. Začněte vytvořením nové.","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"Žádné položky nenalezeny. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","Create new":"Vytvořit nový","Open a visualization":"Otevřít vizualizaci","Loading visualizations":"Načítání vizualizací","Couldn\'t load visualizations":"Nelze načíst vizualizace","There was a problem loading visualizations. Try again or contact your system administrator.":"Při načítání vizualizací došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No visualizations found. Click New visualization to get started.":"Nebyly nalezeny žádné vizualizace. Začněte kliknutím na Nová vizualizace.","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"Nenalezeny žádné vizualizace. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","New visualization":"Nová vizualizace","Open a map":"Otevřít mapu","Loading maps":"Načítání map","Couldn\'t load maps":"Mapy se nepodařilo načíst","There was a problem loading maps. Try again or contact your system administrator.":"Při načítání map došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No maps found. Click New map to get started.":"Nenalezeny žádné mapy. Začněte kliknutím na Nová mapa.","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"Nenalezeny žádné mapy. Zkuste upravit možnosti vyhledávání nebo filtrování, abyste našli to, co hledáte.","New map":"Nová mapa","Open a line list":"Otevřít řádkový seznam","Loading line lists":"Načítání řádkových seznamů","Couldn\'t load line lists":"Řádkové seznamy se nepodařilo načíst","There was a problem loading line lists. Try again or contact your system administrator.":"Při načítání řádkových seznamů došlo k problému. Zkuste to znovu nebo se obraťte na správce systému.","No line lists found. Click New line list to get started.":"Nebyly nalezeny žádné řádkové seznamy. Začněte kliknutím na Nový řádkový seznam.","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"Nebyly nalezeny žádné řádkové seznamy. Zkuste upravit možnosti vyhledávání nebo filtru, abyste našli to, co hledáte.","New line list":"Nový řádkový seznam","Options":"Možnosti","Hide":"Skrýt","{{count}} org units_0":"{{count}} organizační jednotka","{{count}} org units_1":"{{count}} organizační jednotky","{{count}} org units_2":"{{count}} organizačních jednotek","{{count}} org units_3":"{{count}} organizačních jednotek","{{count}} levels_0":"{{count}} úroveň","{{count}} levels_1":"{{count}} úrovně","{{count}} levels_2":"{{count}} úrovní","{{count}} levels_3":"{{count}} úrovní","{{count}} groups_0":"{{count}} skupina","{{count}} groups_1":"{{count}} skupiny","{{count}} groups_2":"{{count}} skupin","{{count}} groups_3":"{{count}} skupin","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Vybráno: {{commaSeparatedListOfOfOrganisationUnits}}","Nothing selected":"Není vybráno nic","User organisation unit":"Organizační jednotka uživatele","User sub-units":"Podjednotky uživatele","User sub-x2-units":"Jednotky 2. řádu uživatele","Select a level":"Vybrat úroveň","Select a group":"Vybrat skupinu","Deselect all":"Odznačit vše","Period type":"Typ období","Year":"Rok","Select year":"Vybrat rok","Period":"Období","Relative periods":"Relativní období","Fixed periods":"Pevné období","Selected Periods":"Vybraná období","No periods selected":"Nejsou vybrána žádná období","January":"Leden","February":"únor","March":"březen","April":"Duben","May":"Květen","June":"červen","July":"červenec","August":"Srpen","September":"Září","October":"říjen","November":"Listopad","December":"prosinec","Week {{weekNumber}}":"Týden {{weekNumber}}","Bi-Week {{biWeekNumber}}":"dva týdny {{biWeekNumber}}","Daily":"Denně","Weekly":"Týdně","Weekly (Start Wednesday)":"Týdně (od středy)","Weekly (Start Thursday)":"Týdně (od čtvrtka)","Weekly (Start Saturday)":"Týdně (od soboty)","Weekly (Start Sunday)":"Týdně (začíná nedělí)","Bi-weekly":"po 14ti dnech","Monthly":"Měsíčně","Bi-monthly":"Dvakrát za měsíc","Quarterly":"Čtvrtletně","Six-monthly":"Šestiměsíční","Six-monthly April":"Duben šest měsíců","Yearly":"Ročně","Financial year (Start November)":"Finanční rok (od listopadu)","Financial year (Start October)":"Finanční rok (od října)","Financial year (Start July)":"Finanční rok (od července)","Financial year (Start April)":"Finanční rok (od dubna)","Today":"Dnes","Yesterday":"Včera","Last 3 days":"Poslední 3 dny","Last 7 days":"Posledních 7 dní","Last 14 days":"Posledních 14 dní","Last 30 days":"Poledních 30 dní","Last 60 days":"Posledních 60 dní","Last 90 days":"Posledních 90 dní","Last 180 days":"Posledních 180 dní","This week":"Tento týden","Last week":"Minulý týden","Last 4 weeks":"Poslední 4 týdny","Last 12 weeks":"Posledních 12 týdnů","Last 52 weeks":"Posledních 52 týdnů","Weeks this year":"Týdny tohoto roku","This bi-week":"Těchto 14 dní","Last bi-week":"Posledních dní ","Last 4 bi-weeks":"4 poslední dvoutýdny","This month":"Tento měsíc","Last month":"Minulý měsíc","Last 3 months":"Poslední 3 měsíce","Last 6 months":"Posledních 6 měsíců","Last 12 months":"Posledních 12 měsíců","Months this year":"Měsíce tohoto roku","This bi-month":"Těchto 14 dní","Last bi-month":"Poslední dva měsíce","Last 6 bi-months":"Posledních 6 dvou-měsíců","Bi-months this year":"Dvouměsíčně tento rok","This quarter":"Toto čtvrtletí","Last quarter":"Poslední čtvrtletí","Last 4 quarters":"Poslední 4 čtvrtletí ","Quarters this year":"Čtvrtletí tohoto roku","This six-month":"Tento půlrok","Last six-month":"Poslední půlrok","Last 2 six-month":"Poslední 2 půlroky","This financial year":"Tento finanční rok","Last financial year":"Poslední finanční rok","Last 5 financial years":"Posledních 5 finančních roků","This year":"Tento rok","Last year":"Poslední rok","Last 5 years":"Posledních 5 let","Last 10 years":"Posledních 10 let","Days":"Dnů","Weeks":"Týdnů","Bi-weeks":"14 dní","Months":"Měsíce","Bi-months":"Dva měsíce","Quarters":"Čtvrtletí","Six-months":"Půlrok","Financial Years":"Finanční roky","Years":"Let","Translating to":"Překlad do","Choose a locale":"Vyberte národní prostředí","Base locale reference":"Odkaz na základní národní prostředí","Choose a locale to translate from the menu above":"Z nabídky výše vyberte národní prostředí, které chcete přeložit","Translate: {{objectName}}":"Přeložit: {{objectName}}","Save translations":"Uložit překlady","Cannot save while offline":"Nelze ukládat v režimu offline","Could not load translations":"Nelze načíst překlady","Retry":"Opakovat","Series":"Série","Category":"Kategorie","Filter":"Filtr","Columns":"Sloupce","Rows":"Řádky","Points":"Body","Reporting rate":"Míra hlášení","Reporting rate on time":"Četnost hlášení na čas","Actual reports":"Aktuální zprávy","Actual reports on time":"Aktuální zprávy včas","Expected reports":"Očekávané zprávy","Program":"Program","Select a program":"Vybrat program","Indicators":"Indikátory","Indicator group":"Skupina indikátorů","All groups":"Všechny skupiny","Indicator":"Indikátor","No indicator groups found":"Nebyly nalezeny žádné skupiny indikátorů","Loading indicator groups":"Načítání skupin indikátorů","Data elements":"Datové prvky","Data element group":"Skupina datových prvků","Data element":"Datový prvek","No data element groups found":"Nenalezeny žádné skupiny datových prvků","Loading data element groups":"Načítání skupin datových prvků","Data sets":"Datové sady","Data set":"Datová sada","All data sets":"Všechny datové soubory","Loading data sets":"Načítání datových sad","Event data items":"Položky dat události","All programs":"Všechny programy","Event data item":"Datová položka události","No programs found":"Nebyly nalezeny žádné programy","Loading programs":"Načítání programů","Program indicators":"Indikátory programu","Program indicator":"Indikátor programu","Extra Small":"Velmi malý","Small":"Malý","Regular":"Pravidelný","Large":"Velký","Extra Large":"Velmi velký","Left":"Vlevo","Center":"střed","Right":"Vpravo","Start":"Start","Middle":"Střední","End":"Konec","Top":"Nahoře","Bottom":"Dole","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} a {{lastOuName}}","{{allDynamicOuNames}} levels":"úrovně {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"skupiny {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"úrovně {{allDynamicOuNames}} v {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"Skupiny {{allDynamicOuNames}} v {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% z celkových hodnot x","{{percentage}}% of total y values":"{{percentage}}% z celkových hodnot y","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Upravené nízké Z-skóre","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Upravené vysoké Z-skóre","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × nízké Z-skóre","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-skóre vysoké","Data":"Data","Organisation unit":"Organizační jednotka","Assigned Categories":"Přiřazené kategorie","Pivot table":"Kontingenční tabulka","Area":"Oblast","Stacked area":"Skládaná plocha","Bar":"LIšta","Stacked bar":"Skládaný lištový graf","Column":"Sloupec","Year over year (column)":"Rok po roce (sloupce)","Stacked column":"Skládaný sloupec","Gauge":"Gauge","Line":"Linie","Line list":"Seznam řádků","Year over year (line)":"Rok po roce (řádek)","Pie":"Výseč","Radar":"Radar","Scatter":"Rozptyl","Single value":"Jedna hodnota","All charts":"Všechny grafy","{{seriesName}} (trend)":"{{seriesName}} (trend)","Trend":"Trend","No legend for this series":"Pro tuto sérii není legenda","and {{amount}} more...":"a {{amount}} další ...","Linear Regression":"Lineární regrese","Target":"Cíl","Base":"Základ","Axis {{axisId}}":"Osa {{axisId}}","{{count}} items_0":"{{count}} položka","{{count}} items_1":" {{count}} položky","{{count}} items_2":" {{count}} položek","{{count}} items_3":"{{count}} položek","Reset zoom":"Obnovit přiblížení"}'),u=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"Remove","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Cancel","Delete":"Delete","File":"File","New":"New","Open…":"","Save":"Save","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Close","Rename {{fileType}}":"","Name":"Name","Description":"Description","Rename":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Update","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"Interpretations","Unlike":"","Like":"","Reply":"","Share":"","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"No results found","Created by":"Created by","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"Filter by name","Created":"","Last updated":"","Type":"","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Open","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"Year","Select year":"","Period":"","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"January","February":"February","March":"March","April":"April","May":"May","June":"June","July":"July","August":"August","September":"September","October":"October","November":"November","December":"December","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Daily","Weekly":"Weekly","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"Monthly","Bi-monthly":"Bi-monthly","Quarterly":"Quarterly","Six-monthly":"Six-monthly","Six-monthly April":"","Yearly":"Yearly","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Last week","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Last month","Last 3 months":"Last 3 months","Last 6 months":"Last 6 months","Last 12 months":"Last 12 months","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"","Days":"","Weeks":"","Bi-weeks":"","Months":"","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"Category","Filter":"Filter","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"Indicators","Indicator group":"Indicator group","All groups":"","Indicator":"Indicator","No indicator groups found":"","Loading indicator groups":"","Data elements":"Data elements","Data element group":"Data element group","Data element":"Data element","No data element groups found":"","Loading data element groups":"","Data sets":"Data sets","Data set":"Data set","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"","Organisation unit":"Organisation unit","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),c=JSON.parse('{"view only":"view only","view and edit":"view and edit","all users ({{accessLevel}})":"all users ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Shared with {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Not shared with any users or groups","No description":"No description","Last updated {{time}}":"Last updated {{time}}","Created {{time}} by {{author}}":"Created {{time}} by {{author}}","Created {{time}}":"Created {{time}}","Viewed {{count}} times":"Viewed 1 time","Viewed {{count}} times_plural":"Viewed {{count}} times","Notifications":"Notifications","You\'re subscribed and getting updates about new interpretations.":"You\'re subscribed and getting updates about new interpretations.","Unsubscribe":"Unsubscribe","Subscribe to get updates about new interpretations.":"Subscribe to get updates about new interpretations.","Subscribe":"Subscribe","About this map":"About this map","About this line list":"About this line list","About this visualization":"About this visualization","This app could not retrieve required data.":"This app could not retrieve required data.","Network error":"Network error","Data Type":"Data Type","All types":"All types","Totals only":"Totals only","Details only":"Details only","Disaggregation":"Disaggregation","No data":"No data","Loading":"Loading","Search by data item name":"Search by data item name","No items selected":"No items selected","Selected Items":"Selected Items","No indicators found":"No indicators found","No data elements found":"No data elements found","No data sets found":"No data sets found","No event data items found":"No event data items found","No program indicators found":"No program indicators found","No indicators found for \\"{{- searchTerm}}\\"":"No indicators found for \\"{{- searchTerm}}\\"","No data elements found for \\"{{- searchTerm}}\\"":"No data elements found for \\"{{- searchTerm}}\\"","No data sets found for \\"{{- searchTerm}}\\"":"No data sets found for \\"{{- searchTerm}}\\"","No event data items found for \\"{{- searchTerm}}\\"":"No event data items found for \\"{{- searchTerm}}\\"","No program indicators found for \\"{{- searchTerm}}\\"":"No program indicators found for \\"{{- searchTerm}}\\"","Nothing found for \\"{{- searchTerm}}\\"":"Nothing found for \\"{{- searchTerm}}\\"","Metric type":"Metric type","All metrics":"All metrics","Move to {{axisName}}":"Move to {{axisName}}","Add to {{axisName}}":"Add to {{axisName}}","Not available for {{visualizationType}}":"Not available for {{visualizationType}}","Remove Assigned Categories":"Remove Assigned Categories","Add Assigned Categories":"Add Assigned Categories","Remove":"Remove","Filter dimensions":"Filter dimensions","Main dimensions":"Main dimensions","Your dimensions":"Your dimensions","Dimension recommended with selected data":"Dimension recommended with selected data","All items":"All items","Automatically include all items":"Automatically include all items","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.","Manually select items...":"Manually select items...","Nothing found in {{- dimensionTitle}}":"Nothing found in {{- dimensionTitle}}","Search":"Search","Nothing found for {{- searchTerm}}":"Nothing found for {{- searchTerm}}","Delete {{fileType}}":"Delete {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"This {{fileType}} and related interpretations will be deleted. Continue?","Cancel":"Cancel","Delete":"Delete","File":"File","New":"New","Open…":"Open…","Save":"Save","Save…":"Save…","Save as…":"Save as…","Rename…":"Rename…","Translate…":"Translate…","Share…":"Share…","Get link…":"Get link…","Open in this app":"Open in this app","Close":"Close","Rename {{fileType}}":"Rename {{fileType}}","Name":"Name","Description":"Description","Rename":"Rename","{{- objectName}} (copy)":"{{- objectName}} (copy)","Save {{fileType}} as":"Save {{fileType}} as","event report":"event report","line list":"line list","map":"map","visualization":"visualization","Edit":"Edit","Write a reply":"Write a reply","Post reply":"Post reply","Could not update comment":"Could not update comment","Enter comment text":"Enter comment text","Update":"Update","Viewing interpretation: {{- visualisationName}}":"Viewing interpretation: {{- visualisationName}}","Could not load interpretation":"Could not load interpretation","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"The interpretation couldn’t be displayed. Try again or contact your system administrator.","Hide interpretation":"Hide interpretation","Write an interpretation":"Write an interpretation","Post interpretation":"Post interpretation","Interpretations":"Interpretations","Unlike":"Unlike","Like":"Like","Reply":"Reply","Share":"Share","See interpretation":"See interpretation","Manage sharing":"Manage sharing","Could not update interpretation":"Could not update interpretation","Enter interpretation text":"Enter interpretation text","Bold text":"Bold text","Italic text":"Italic text","Link to a URL":"Link to a URL","Mention a user":"Mention a user","Add emoji":"Add emoji","Preview":"Preview","Back to write mode":"Back to write mode","Too many results. Try refining the search.":"Too many results. Try refining the search.","Search for a user":"Search for a user","Searching for \\"{{- searchText}}\\"":"Searching for \\"{{- searchText}}\\"","No results found":"No results found","Not available offline":"Not available offline","Created by":"Created by","Anyone":"Anyone","Only you":"Only you","Others":"Others","Not supported by this app yet":"Not supported by this app yet","Filter by name":"Filter by name","Created":"Created","Last updated":"Last updated","Type":"Type","Clear filters":"Clear filters","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}","Open":"Open","Couldn\'t load items":"Couldn\'t load items","There was a problem loading items. Try again or contact your system administrator.":"There was a problem loading items. Try again or contact your system administrator.","No items found. Create a new to get started.":"No items found. Create a new to get started.","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"No items found. Try adjusting your search or filter options to find what you\'re looking for.","Create new":"Create new","Open a visualization":"Open a visualization","Loading visualizations":"Loading visualizations","Couldn\'t load visualizations":"Couldn\'t load visualizations","There was a problem loading visualizations. Try again or contact your system administrator.":"There was a problem loading visualizations. Try again or contact your system administrator.","No visualizations found. Click New visualization to get started.":"No visualizations found. Click New visualization to get started.","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.","New visualization":"New visualization","Open a map":"Open a map","Loading maps":"Loading maps","Couldn\'t load maps":"Couldn\'t load maps","There was a problem loading maps. Try again or contact your system administrator.":"There was a problem loading maps. Try again or contact your system administrator.","No maps found. Click New map to get started.":"No maps found. Click New map to get started.","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"No maps found. Try adjusting your search or filter options to find what you\'re looking for.","New map":"New map","Open a line list":"Open a line list","Loading line lists":"Loading line lists","Couldn\'t load line lists":"Couldn\'t load line lists","There was a problem loading line lists. Try again or contact your system administrator.":"There was a problem loading line lists. Try again or contact your system administrator.","No line lists found. Click New line list to get started.":"No line lists found. Click New line list to get started.","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"No line lists found. Try adjusting your search or filter options to find what you\'re looking for.","New line list":"New line list","Options":"Options","Hide":"Hide","{{count}} org units":"{{count}} org unit","{{count}} org units_plural":"{{count}} org units","{{count}} levels":"{{count}} level","{{count}} levels_plural":"{{count}} levels","{{count}} groups":"{{count}} group","{{count}} groups_plural":"{{count}} groups","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Selected: {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Nothing selected","User organisation unit":"User organisation unit","User sub-units":"User sub-units","User sub-x2-units":"User sub-x2-units","Select a level":"Select a level","Select a group":"Select a group","Deselect all":"Deselect all","Period type":"Period type","Year":"Year","Select year":"Select year","Period":"Period","Relative periods":"Relative periods","Fixed periods":"Fixed periods","Selected Periods":"Selected Periods","No periods selected":"No periods selected","Daily":"Daily","Weekly":"Weekly","Weekly (Start Wednesday)":"Weekly (Start Wednesday)","Weekly (Start Thursday)":"Weekly (Start Thursday)","Weekly (Start Saturday)":"Weekly (Start Saturday)","Weekly (Start Sunday)":"Weekly (Start Sunday)","Bi-weekly":"Bi-weekly","Monthly":"Monthly","Bi-monthly":"Bi-monthly","Quarterly":"Quarterly","Six-monthly":"Six-monthly","Six-monthly April":"Six-monthly April","Yearly":"Yearly","Financial year (Start November)":"Financial year (Start November)","Financial year (Start October)":"Financial year (Start October)","Financial year (Start July)":"Financial year (Start July)","Financial year (Start April)":"Financial year (Start April)","Today":"Today","Yesterday":"Yesterday","Last 3 days":"Last 3 days","Last 7 days":"Last 7 days","Last 14 days":"Last 14 days","Last 30 days":"Last 30 days","Last 60 days":"Last 60 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","This week":"This week","Last week":"Last week","Last 4 weeks":"Last 4 weeks","Last 12 weeks":"Last 12 weeks","Last 52 weeks":"Last 52 weeks","Weeks this year":"Weeks this year","This bi-week":"This bi-week","Last bi-week":"Last bi-week","Last 4 bi-weeks":"Last 4 bi-weeks","This month":"This month","Last month":"Last month","Last 3 months":"Last 3 months","Last 6 months":"Last 6 months","Last 12 months":"Last 12 months","Months this year":"Months this year","This bi-month":"This bi-month","Last bi-month":"Last bi-month","Last 6 bi-months":"Last 6 bi-months","Bi-months this year":"Bi-months this year","This quarter":"This quarter","Last quarter":"Last quarter","Last 4 quarters":"Last 4 quarters","Quarters this year":"Quarters this year","This six-month":"This six-month","Last six-month":"Last six-month","Last 2 six-month":"Last 2 six-month","This financial year":"This financial year","Last financial year":"Last financial year","Last 5 financial years":"Last 5 financial years","This year":"This year","Last year":"Last year","Last 5 years":"Last 5 years","Last 10 years":"Last 10 years","Days":"Days","Weeks":"Weeks","Bi-weeks":"Bi-weeks","Months":"Months","Bi-months":"Bi-months","Quarters":"Quarters","Six-months":"Six-months","Financial Years":"Financial Years","Years":"Years","Translating to":"Translating to","Choose a locale":"Choose a locale","Base locale reference":"Base locale reference","Choose a locale to translate from the menu above":"Choose a locale to translate from the menu above","Translate: {{objectName}}":"Translate: {{objectName}}","Save translations":"Save translations","Cannot save while offline":"Cannot save while offline","Could not load translations":"Could not load translations","Retry":"Retry","Series":"Series","Category":"Category","Filter":"Filter","Columns":"Columns","Rows":"Rows","Points":"Points","Reporting rate":"Reporting rate","Reporting rate on time":"Reporting rate on time","Actual reports":"Actual reports","Actual reports on time":"Actual reports on time","Expected reports":"Expected reports","Program":"Program","Select a program":"Select a program","Indicators":"Indicators","Indicator group":"Indicator group","All groups":"All groups","Indicator":"Indicator","No indicator groups found":"No indicator groups found","Loading indicator groups":"Loading indicator groups","Data elements":"Data elements","Data element group":"Data element group","Data element":"Data element","No data element groups found":"No data element groups found","Loading data element groups":"Loading data element groups","Data sets":"Data sets","Data set":"Data set","All data sets":"All data sets","Loading data sets":"Loading data sets","Event data items":"Event data items","All programs":"All programs","Event data item":"Event data item","No programs found":"No programs found","Loading programs":"Loading programs","Program indicators":"Program indicators","Program indicator":"Program indicator","Extra Small":"Extra Small","Small":"Small","Regular":"Regular","Large":"Large","Extra Large":"Extra Large","Left":"Left","Center":"Center","Right":"Right","Start":"Start","Middle":"Middle","End":"End","Top":"Top","Bottom":"Bottom","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} and {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} levels","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} groups","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} levels in {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} groups in {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% of total x values","{{percentage}}% of total y values":"{{percentage}}% of total y values","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modified Z-score low","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modified Z-score high","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score low","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score high","Data":"Data","Organisation unit":"Organisation unit","Assigned Categories":"Assigned Categories","Pivot table":"Pivot table","Area":"Area","Stacked area":"Stacked area","Bar":"Bar","Stacked bar":"Stacked bar","Column":"Column","Year over year (column)":"Year over year (column)","Stacked column":"Stacked column","Gauge":"Gauge","Line":"Line","Line list":"Line list","Year over year (line)":"Year over year (line)","Pie":"Pie","Radar":"Radar","Scatter":"Scatter","Single value":"Single value","All charts":"All charts","{{seriesName}} (trend)":"{{seriesName}} (trend)","Trend":"Trend","No legend for this series":"No legend for this series","and {{amount}} more...":"and {{amount}} more...","Linear Regression":"Linear Regression","Target":"Target","Base":"Base","Axis {{axisId}}":"Axis {{axisId}}","{{count}} items":"{{count}} item","{{count}} items_plural":"{{count}} items","Reset zoom":"Reset zoom"}'),d=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Sin descripción","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Tipo de datos","All types":"Todos los tipos","Totals only":"","Details only":"","Disaggregation":"Desagregación","No data":"No hay datos","Loading":"Cargando","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Todas las métricas","Move to {{axisName}}":"Mover a {{Nombredeleje}}","Add to {{axisName}}":"Añadir a {{Nombredeleje}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"Eliminar","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Buscar","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Cancelar","Delete":"Eliminar","File":"Fichero","New":"Nuevo","Open…":"","Save":"Guardar","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Abierto en esta aplicación","Close":"Cerrar","Rename {{fileType}}":"","Name":"Nombre","Description":"Descripción","Rename":"Renombrar","Save {{fileType}} as":"","event report":"informe de evento","line list":"","map":"mapa","visualization":"","Edit":"Editar","Write a reply":"Escribe una respuesta","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Actualizar","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Escribir una interpretación","Post interpretation":"","Interpretations":"Interpretaciones","Unlike":"diferente a","Like":"como","Reply":"Responder","Share":"Compartir","See interpretation":"","Manage sharing":"Administrar compartir","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"No results found","Created by":"Creado por","Anyone":"Alguien","Only you":"","Others":"Otros","Not supported by this app yet":"","Filter by name":"Filtrar por nombre","Created":"Creado","Last updated":"Última actualización","Type":"Tipo","Clear filters":"Limpiar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Abierto","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Crear nuevo","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Opciones","Hide":"Ocultar","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Usuario de unidad organizativa","User sub-units":"Subunidades de usuario","User sub-x2-units":"Sub-unidades-x2 de usuario","Select a level":"Selecciona un nivel","Select a group":"Selecciona un grupo","Deselect all":"Deseleccionar todo","Period type":"Tipo de periodo","Year":"Año","Select year":"Seleccionar año","Period":"Periodo","Relative periods":"Periodos relativos","Fixed periods":"Periodos fijos","Selected Periods":"","No periods selected":"No se ha seleccionado ningún periodo","January":"Enero","February":"Febrero","March":"Marzo","April":"Abril","May":"Mayo","June":"Junio","July":"Julio","August":"Agosto","September":"Septiembre","October":"Octubre","November":"Noviembre","December":"Diciembre","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Diario","Weekly":"Semanal","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"Quincenal","Monthly":"Mensual","Bi-monthly":"Bimestral","Quarterly":"Trimestral","Six-monthly":"Semestral","Six-monthly April":"Semestral Abril","Yearly":"Anual","Financial year (Start November)":"","Financial year (Start October)":"Año fiscal - Octubre","Financial year (Start July)":"Año fiscal - Julio","Financial year (Start April)":"Año fiscal - Abril","Today":"Hoy","Yesterday":"Ayer","Last 3 days":"Últimos 3 días","Last 7 days":"Últimos 7 diass","Last 14 days":"Últimos 14 días","Last 30 days":"Últimos 30 días","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimas 12 semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas de este año","This bi-week":"Esta quincena","Last bi-week":"Última quincena","Last 4 bi-weeks":"Últimas 4 quincenas","This month":"Este mes","Last month":"Mes anterior","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Ultimos 12 meses","Months this year":"Meses este año","This bi-month":"Este bimestre","Last bi-month":"Bimestre anterior","Last 6 bi-months":"Últimos 6 bimestres","Bi-months this year":"Bimestres de este año","This quarter":"Este trimestre","Last quarter":"El trimestre pasado","Last 4 quarters":"Últimos 4 trimestres","Quarters this year":"Trimestres de este año","This six-month":"Este semestre","Last six-month":"Último semestre","Last 2 six-month":"","This financial year":"Este año fiscal","Last financial year":"Último ejercicio financiero","Last 5 financial years":"Últimos 5 ejercicios financieros","This year":"Este año","Last year":"El año pasado","Last 5 years":"Últimos 5 años","Last 10 years":"","Days":"Días","Weeks":"Semanas","Bi-weeks":"Quincenales","Months":"Meses","Bi-months":"Bimestres","Quarters":"Trimestral","Six-months":"Semestres","Financial Years":"Años fiscales","Years":"Años","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"Categoría","Filter":"filtro","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Programa","Select a program":"","Indicators":"Indicadores","Indicator group":"Grupo de indicadores","All groups":"","Indicator":"Indicadores","No indicator groups found":"","Loading indicator groups":"","Data elements":"Elementos de datos","Data element group":"Grupo de elemento de datos","Data element":"Elemento de datos","No data element groups found":"","Loading data element groups":"","Data sets":"Sets de datos","Data set":"Set de Datos\\\\:","All data sets":"","Loading data sets":"","Event data items":"Datos de eventos","All programs":"","Event data item":"Event data item","No programs found":"","Loading programs":"","Program indicators":"Indicadores de programa","Program indicator":"","Extra Small":"","Small":"Pequeña","Regular":"Normal","Large":"Grande","Extra Large":"","Left":"Izquierdo","Center":"","Right":"Derecha","Start":"Comienzo","Middle":"","End":"","Top":"Arriba","Bottom":"Abajo","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Datos","Organisation unit":"Unidad organizativa","Assigned Categories":"","Pivot table":"Tabla dinámica","Area":"Área","Stacked area":"","Bar":"Barra","Stacked bar":"Barra apilada","Column":"Columna","Year over year (column)":"Año tras año (columna)","Stacked column":"Columna apilada","Gauge":"Calibre","Line":"Línea","Line list":"","Year over year (line)":"Año tras año (línea)","Pie":"Pastel","Radar":"Radar","Scatter":"","Single value":"Valor único","All charts":"","{{seriesName}} (trend)":"","Trend":"Tendencia","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Objetivo","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),h=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"No hay datos","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Buscar","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Cancelar","Delete":"Borrar","File":"","New":"","Open…":"","Save":"Guardar","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Cerrar","Rename {{fileType}}":"","Name":"Nombre","Description":"","Rename":"","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Actualizar","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"","Unlike":"","Like":"","Reply":"","Share":"Compartir","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Not available offline":"","Created by":"","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"","Type":"","Clear filters":"Limpiar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Abierto","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Crear nuevo","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"","Select year":"","Period":"Periodo","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"","February":"","March":"","April":"","May":"","June":"","July":"","August":"","September":"","October":"","November":"","December":"","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Diario","Weekly":"Semanal","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"Mensual","Bi-monthly":"","Quarterly":"","Six-monthly":"","Six-monthly April":"","Yearly":"Anual","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"Hoy","Yesterday":"Ayer","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"Semanas de este año","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Este mes","Last month":"Mes anterior","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"Meses este año","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"Este trimestre","Last quarter":"El trimestre pasado","Last 4 quarters":"","Quarters this year":"Trimestres de este año","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"Este año fiscal","Last financial year":"Último ejercicio financiero","Last 5 financial years":"","This year":"Este año","Last year":"El año pasado","Last 5 years":"","Last 10 years":"","Days":"Días","Weeks":"Semanas","Bi-weeks":"","Months":"Meses","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"Años","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"Indicadores","Indicator group":"","All groups":"","Indicator":"","No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"Sets de datos","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Datos","Organisation unit":"","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),p=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Aucune description","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"Notifications","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"Erreur réseau","Data Type":"Type de données","All types":"Tous les types","Totals only":"Totaux uniquement","Details only":"Détails seulement","Disaggregation":"Disaggregation","No data":"Aucune donnée","Loading":"Chargement","Search by data item name":"Rechercher par le nom de la donnée","No items selected":"Aucun élément sélectionné","Selected Items":"Éléments sélectionnés","No indicators found":"Aucun indicateur trouvé","No data elements found":"Aucun élément de donnée trouvé","No data sets found":"Aucun ensemble de données trouvé","No event data items found":"Aucun éléments de données événement trouvé","No program indicators found":"Aucun Indicateurs de programme trouvé","No indicators found for \\"{{- searchTerm}}\\"":"Aucun indicateur trouvé pour \\"{{- searchTerm}}\\"","No data elements found for \\"{{- searchTerm}}\\"":"Aucun élément de données trouvé pour \\"{{- searchTerm}}\\"","No data sets found for \\"{{- searchTerm}}\\"":"Aucune donnée trouvée pour \\"{{- searchTerm}}\\"","No event data items found for \\"{{- searchTerm}}\\"":"Aucune donnée événement retrouvée pour \\"{{- searchTerm}}\\"","No program indicators found for \\"{{- searchTerm}}\\"":"Aucun Indicateur de programme trouvé pour \\"{{- searchTerm}}\\"","Nothing found for \\"{{- searchTerm}}\\"":"Rien retrouvé pour \\"{{- searchTerm}}\\"","Metric type":"Type de métrique","All metrics":"Tous les éléments","Move to {{axisName}}":"Déménager à {{nomdel\'axe}}","Add to {{axisName}}":"Ajouter à {{nomdel\'axe}} ","Not available for {{visualizationType}}":"Non disponible pour {{Typedevisualisation}}","Remove Assigned Categories":"Supprimer les Catégories Attribuées","Add Assigned Categories":"Ajouter des Catégories Affectées","Remove":"Supprimer","Filter dimensions":"Dimensions du filtre","Main dimensions":"Dimensions principales","Your dimensions":"Vos dimensions","Dimension recommended with selected data":"Dimension recommandée avec les données sélectionnées","All items":"Tous les items","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Chercher","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Supprimer {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Annuler","Delete":"Supprimer","File":"Fichier","New":"Nouveau","Open…":"Ouvrir","Save":"Enregistrer","Save…":"Enregistrer...","Save as…":"Enregistrer sous...","Rename…":"Renommer...","Translate…":"Traduire...","Share…":"Partager...","Get link…":"Obtenir le lien...","Open in this app":"Ouvrir dans cette app","Close":"Fermer","Rename {{fileType}}":"Renommer {{fileType}}","Name":"Nom","Description":"Description","Rename":"Renommer","{{objectName}} (copy)":"","Save {{fileType}} as":"Enregistrer {{fileType}} comme","event report":"Rapport d\'évènements","line list":"","map":"carte","visualization":"","Edit":"Modifier","Write a reply":"Ecrire une réponse","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Mettre à jour","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Ecrire une interprétation","Post interpretation":"","Interpretations":"Interprétations","Unlike":"Je n\'aime plus","Like":"J\'aime","Reply":"Répondre","Share":"Partager","See interpretation":"","Manage sharing":"Gérer le partage","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"Aperçu","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Aucun résultat trouvé","Not available offline":"Non disponible hors ligne","Created by":"Créé par","Anyone":"Toute personne","Only you":"","Others":"Autres","Not supported by this app yet":"","Filter by name":"Filtrer par nom","Created":"Créé","Last updated":"Dernière mise à jour","Type":"Type","Clear filters":"Effacer les filtres","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Ouvrir","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Créer nouveau","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Options","Hide":"Masquer","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"Sélectionné : {{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"Rien n\'a été sélectionné","User organisation unit":"Unités d\'organisation de l\'utilisateur","User sub-units":"Sous-unités de l\'utilisateur","User sub-x2-units":"Sous-unités utilisateur x2","Select a level":"Sélectionnez un niveau","Select a group":"Sélectionner un groupe","Deselect all":"Desélectionner tout","Period type":"Type de période","Year":"Année","Select year":"Sélectionnez année","Period":"Période","Relative periods":"Périodes relatives","Fixed periods":"Périodes fixes","Selected Periods":"Périodes sélectionnées","No periods selected":"Aucune périodes n\'est sélectionnée","January":"Janvier","February":"Février","March":"Mars","April":"Avril","May":"Mai","June":"Juin","July":"Juillet","August":"Août","September":"Septembre","October":"Octobre","November":"Novembre","December":"Décembre","Week {{weekNumber}}":"Semaine{{NuméroSemaine}}","Bi-Week {{biWeekNumber}}":"Bimensuel{{biWeekNumber}}","Daily":"Quotidien","Weekly":"Hebdomadaire","Weekly (Start Wednesday)":"Hebdomadaire (début mercredi)","Weekly (Start Thursday)":"Hebdomadaire (début jeudi)","Weekly (Start Saturday)":"Hebdomadaire (début samedi)","Weekly (Start Sunday)":"Hebdomadaire (début dimanche)","Bi-weekly":"Bi-hebdomadaire","Monthly":"Mensuel","Bi-monthly":"Bimensuel","Quarterly":"Trimestriel","Six-monthly":"Semestriel","Six-monthly April":"Six-mois avril","Yearly":"Annuel","Financial year (Start November)":"Fiscale Novembre","Financial year (Start October)":"Financière Octobre","Financial year (Start July)":"Financière Juillet","Financial year (Start April)":"Financière Avril","Today":"Aujourd\'hui","Yesterday":"Hier","Last 3 days":"3 derniers jours","Last 7 days":"7 derniers jours","Last 14 days":"14 dernier jours","Last 30 days":"Les 30 derniers jours","Last 60 days":"60 derniers jours","Last 90 days":"90 derniers jours","Last 180 days":"180 derniers jours","This week":"Cette semaine","Last week":"Semaine passée","Last 4 weeks":"4 dernières semaines","Last 12 weeks":"12 dernières semaines","Last 52 weeks":"52 dernières semaines","Weeks this year":"Semaines cette année","This bi-week":"Cette quinzaine","Last bi-week":"Dernière quinzaine","Last 4 bi-weeks":"4 dernières quinzaines","This month":"Ce mois-ci","Last month":"Le mois dernier","Last 3 months":"3 derniers mois","Last 6 months":"6 derniers mois","Last 12 months":"12 derniers mois","Months this year":"Mois cette année","This bi-month":"Ces 2 dernières semaines","Last bi-month":"Dernier bi-mestre","Last 6 bi-months":"6 derniers bimestres","Bi-months this year":"Bimensuels cette année","This quarter":"Ce trimestre","Last quarter":"Trimestre précédent","Last 4 quarters":"4 derniers trimestres","Quarters this year":"Trimestres cette année","This six-month":"Ce semestre","Last six-month":"Dernier semestre","Last 2 six-month":"2 derniers semestres","This financial year":"Année fiscale en cours","Last financial year":"Dernière année financière","Last 5 financial years":"5 dernières années financières","This year":"Année en cours","Last year":"L\'année passée","Last 5 years":"5 dernières années","Last 10 years":"10 dernières années","Days":"Jours","Weeks":"Semaines","Bi-weeks":"Bi-hebdomadaires","Months":"Mois","Bi-months":"Bimensuel","Quarters":"Trimestres","Six-months":"Semestres","Financial Years":"Années fiscales","Years":"Années","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"Séries","Category":"Catégorie","Filter":"Filtrer","Columns":"Colonnes","Rows":"Lignes","Points":"Points","Reporting rate":"Taux de déclaration","Reporting rate on time":"Taux de notification à temps","Actual reports":"Rapports réels","Actual reports on time":"Rapports réels à temps","Expected reports":"Rapports attendus","Program":"Programme","Select a program":"Sélectionnez un programme","Indicators":"Indicateurs","Indicator group":"Groupe d\'indicateurs","All groups":" Tous les groupes","Indicator":"Indicateur","No indicator groups found":"Aucun groupe d\'indicateurs trouvé","Loading indicator groups":"Chargement des groupes d\'indicateurs","Data elements":"Eléments de données","Data element group":"Groupe d\'éléments de données","Data element":"Élément de données","No data element groups found":"Aucun groupe d\'éléments de donnée trouvé","Loading data element groups":"Chargement de groupes d\'éléments de données","Data sets":"Ensembles de données","Data set":"Ensemble de données","All data sets":"Tous les ensembles de données","Loading data sets":"Chargement d\'ensemble de données","Event data items":"Eléments de données évènement","All programs":"Tous les programmes","Event data item":"Elément de données évènement","No programs found":"Aucun programme trouvé","Loading programs":"Chargement des programmes","Program indicators":"Program indicators","Program indicator":"Gestion des indicateurs de programme","Extra Small":"Super petit","Small":"Petit","Regular":"Régulier","Large":"Grand","Extra Large":"Très grand","Left":"Gauche","Center":"Centre","Right":"Droite","Start":"Démarrer","Middle":"Milieu","End":"Fin","Top":"Haut","Bottom":"Bas","{{dynamicOuNames}} and {{lastOuName}}":"{{NomsOudynamiques}} et {{dernièreOuNom}}","{{allDynamicOuNames}} levels":"{{touslesnomsOudynamiques}} niveaux","{{allDynamicOuNames}} groups":"{{touslesnomsOudynamiques}} groupes","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{touslesnomsOudynamiques}} niveaux dans {{NomsOustatiques}} ","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{touslesnomsOudynamiques}} groupes dans {{NomsOustatiques}}","{{percentage}}% of total x values":"{{percentage}}% de nombre total de X valeurs","{{percentage}}% of total y values":"{{percentage}}% de nombre total de Y valeurs","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modifié Z-score faible","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modifié Z-score élevé","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-score faible","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}} × Z-score élevé","Data":"Données","Organisation unit":"Unité d\'organisation","Assigned Categories":"Catégories attribuées","Pivot table":"Tableau croisé dynamique","Area":"Aire","Stacked area":"Zone empilée","Bar":"Bar","Stacked bar":"Bar empilé","Column":"Colonne","Year over year (column)":"Année après année (colonne)","Stacked column":"Colonne empilée","Gauge":"Jauge","Line":"Ligne","Line list":"Liste des lignes","Year over year (line)":"Année après année (ligne)","Pie":"Tarte","Radar":"Radar","Scatter":"Dispersion","Single value":"Valeur unique","All charts":"","{{seriesName}} (trend)":"{{seriesName}} (tendance)","Trend":"Tendance","No legend for this series":"Aucune légende pour ces séries","and {{amount}} more...":"et {{amount}} plus...","Linear Regression":"Régression linéaire","Target":"Cible","Base":"Base","Axis {{axisId}}":"Axe {{{axisId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":"Réinitialiser le zoom"}'),m=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tidak ada deskripsi","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Tipe Data","All types":"Semua jenis","Totals only":"Total saja","Details only":"Detail saja","Disaggregation":"Disagregasi","No data":"Tidak ada data","Loading":"Loading","Search by data item name":"Cari berdasarkan nama item data","No items selected":"Tidak ada item yang dipilih","Selected Items":"Item yang Dipilih","No indicators found":"Tidak ada indikator yang ditemukan","No data elements found":"Tidak ada elemen data yang ditemukan","No data sets found":"Tidak ada kumpulan data yang ditemukan","No event data items found":"Tidak ada item data acara yang ditemukan","No program indicators found":"Tidak ada indikator program yang ditemukan","No indicators found for \\"{{- searchTerm}}\\"":"Tidak ada indikator yang ditemukan untuk \\"{{- searchTerm}}\\"","No data elements found for \\"{{- searchTerm}}\\"":"Tidak ada elemen data yang ditemukan untuk \\"{{- searchTerm}}\\"","No data sets found for \\"{{- searchTerm}}\\"":"Tidak ada kumpulan data yang ditemukan untuk \\"{{- searchTerm}}\\"","No event data items found for \\"{{- searchTerm}}\\"":"Tidak ditemukan item data peristiwa untuk \\"{{- searchTerm}}\\"","No program indicators found for \\"{{- searchTerm}}\\"":"Tidak ada indikator program yang ditemukan untuk \\"{{- searchTerm}}\\"","Nothing found for \\"{{- searchTerm}}\\"":"Tidak ada yang ditemukan untuk \\"{{- searchTerm}}\\"","Metric type":"Jenis metrik","All metrics":"Semua metrik","Move to {{axisName}}":"Pindah ke {{axisName}}","Add to {{axisName}}":"Tambahkan ke {{axisName}}","Not available for {{visualizationType}}":"Tidak tersedia untuk {{visualizationType}}","Remove Assigned Categories":"Hapus Kategori yang Ditugaskan","Add Assigned Categories":"Tambahkan Kategori yang Ditugaskan","Remove":"Hapus","Filter dimensions":"Filter dimensi","Main dimensions":"Dimensi utama","Your dimensions":"Dimensi Anda","Dimension recommended with selected data":"Dimensi yang direkomendasikan dengan data terpilih","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Pencarian","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Hapus {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"{{fileType}} ini dan interpretasi terkait akan dihapus. Terus?","Cancel":"Batal","Delete":"Hapus","File":"Mengajukan","New":"Baru","Open…":"Buka…","Save":"Simpan","Save…":"Menyimpan…","Save as…":"Simpan sebagai…","Rename…":"Ganti nama…","Translate…":"Menterjemahkan…","Share…":"Bagikan…","Get link…":"Dapatkan tautan…","Open in this app":"Buka di aplikasi ini","Close":"Tutup","Rename {{fileType}}":"Ganti nama {{fileType}}","Name":"Nama","Description":"Deskripsi","Rename":"Ganti nama","Save {{fileType}} as":"Simpan {{fileType}} sebagai","event report":"","line list":"","map":"","visualization":"","Edit":"Sunting","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Perbarui","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"Interpretasi","Unlike":"Batalkan Suka","Like":"Suka","Reply":"Balas","Share":"Bagikan","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Tidak ada hasil ditemukan","Created by":"Dibuat oleh","Anyone":"Siapa saja","Only you":"Hanya kamu","Others":"Yang lain","Not supported by this app yet":"","Filter by name":"Filter menurut nama","Created":"Dibuat","Last updated":"Terakhir diperbarui","Type":"Tipe","Clear filters":"Hapus penyaring","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} dari {{totalNumberOfItems}}","Open":"Buka","Couldn\'t load items":"Tidak dapat memuat item","There was a problem loading items. Try again or contact your system administrator.":"Terjadi masalah saat memuat item. Coba lagi atau hubungi administrator sistem Anda.","No items found. Create a new to get started.":"Tidak ada item yang ditemukan. Buat yang baru untuk memulai.","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"Tidak ada item yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","Create new":"Membuat baru","Open a visualization":"Buka visualisasi","Loading visualizations":"Memuat visualisasi","Couldn\'t load visualizations":"Tidak dapat memuat visualisasi","There was a problem loading visualizations. Try again or contact your system administrator.":"Terjadi masalah saat memuat visualisasi. Coba lagi atau hubungi administrator sistem Anda.","No visualizations found. Click New visualization to get started.":"Tidak ada visualisasi yang ditemukan. Klik Visualisasi baru untuk memulai.","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"Tidak ada visualisasi yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","New visualization":"Visualisasi baru","Open a map":"Buka peta","Loading maps":"Memuat peta","Couldn\'t load maps":"Tidak dapat memuat peta","There was a problem loading maps. Try again or contact your system administrator.":"Terjadi masalah saat memuat peta. Coba lagi atau hubungi administrator sistem Anda.","No maps found. Click New map to get started.":"Tidak ada peta yang ditemukan. Klik Peta baru untuk memulai.","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"Tidak ada peta yang ditemukan. Coba sesuaikan opsi penelusuran atau filter untuk menemukan apa yang Anda cari.","New map":"peta baru","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Opsi","Hide":"Sembunyikan","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"Subunit pengguna","User sub-x2-units":"Sub-x2-unit pengguna","Select a level":"","Select a group":"","Deselect all":"Batal pilih semua","Period type":"Tipe periode","Year":"Tahun","Select year":"Pilih tahun","Period":"Periode","Relative periods":"Periode relatif","Fixed periods":"Periode tetap","Selected Periods":"Periode yang Dipilih","No periods selected":"Tidak ada periode yang dipilih","January":"Januari","February":"Februari","March":"Maret","April":"April","May":"Mei","June":"Juni","July":"Juli","August":"Agustus","September":"September","October":"Oktober","November":"November","December":"Desember","Week {{weekNumber}}":"Minggu {{weekNumber}}","Bi-Week {{biWeekNumber}}":"Dua Minggu {{biWeekNumber}}","Daily":"Harian","Weekly":"Mingguan","Weekly (Start Wednesday)":"Mingguan (Mulai Rabu)","Weekly (Start Thursday)":"Mingguan (Mulai Kamis)","Weekly (Start Saturday)":"Mingguan (Mulai Sabtu)","Weekly (Start Sunday)":"Mingguan (Mulai Minggu)","Bi-weekly":"Dwiwulanan","Monthly":"Bulanan","Bi-monthly":"Dwiwulanan","Quarterly":"Triwulanan","Six-monthly":"Semester","Six-monthly April":"Semester April","Yearly":"Tahunan","Financial year (Start November)":"Keuangan tahunan (Mulai November)","Financial year (Start October)":"Financial October","Financial year (Start July)":"Financial July","Financial year (Start April)":"Financial April","Today":"Hari ini","Yesterday":"Kemarin","Last 3 days":"3 hari terakhir","Last 7 days":"7 hari terakhir","Last 14 days":"14 hari terakhir","Last 30 days":"30 hari terakhir","Last 60 days":"60 hari terakhir","Last 90 days":"90 hari terakhir","Last 180 days":"180 hari terakhir","This week":"Minggu ini","Last week":"Minggu lalu","Last 4 weeks":"4 minggu terakhir","Last 12 weeks":"12 minggu terakhir","Last 52 weeks":"52 minggu terakhir","Weeks this year":"Mingguan tahun ini","This bi-week":"Dwiwulan ini","Last bi-week":"Dwiwulan terakhir","Last 4 bi-weeks":"4 dwiwulan terakhir","This month":"Bulan ini","Last month":"Bulan lalu","Last 3 months":"3 bulan terakhir","Last 6 months":"6 bulan terakhir","Last 12 months":"12 bulan terakhir","Months this year":"Bulanan tahun ini","This bi-month":"2 bulan ini","Last bi-month":"Dwiwulan terakhir","Last 6 bi-months":"6 dwiwulan terakhir","Bi-months this year":"Dwiwulanan tahun ini","This quarter":"Triwulan ini","Last quarter":"Triwulan yang lalu","Last 4 quarters":"4 triwulan terakhir","Quarters this year":"Triwulanan tahun ini","This six-month":"6 bulan ini","Last six-month":"Semester lalu","Last 2 six-month":"2 enam bulan terakhir","This financial year":"Tahun finansial ini","Last financial year":"Tahun finansial kemarin","Last 5 financial years":"5 tahun finansial terakhir","This year":"Tahun ini","Last year":"Tahun kemarin","Last 5 years":"5 tahun terakhir","Last 10 years":"10 tahun terakhir","Days":"Hari","Weeks":"Minggu","Bi-weeks":"Dwiwulan","Months":"Bulan","Bi-months":"Dwiwulan","Quarters":"Triwulan","Six-months":"Semester","Financial Years":"Keuangan tahunan","Years":"Tahun","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Seri","Category":"Kategori","Filter":"Saring","Columns":"kolom","Rows":"Baris","Points":"Poin","Reporting rate":"Tingkat pelaporan","Reporting rate on time":"Tingkat pelaporan tepat waktu","Actual reports":"Laporan sesungguhnya","Actual reports on time":"Laporan sesungguhnya yang tepat waktu","Expected reports":"Laporan yang diharapkan","Program":"Program","Select a program":"Pilih program","Indicators":"Indikator","Indicator group":"grup indikator","All groups":"Semua grup","Indicator":"Indikator","No indicator groups found":"Tidak ada grup indikator yang ditemukan","Loading indicator groups":"Memuat grup indikator","Data elements":"Data elemen","Data element group":"Grup elemen data","Data element":"Elemen data","No data element groups found":"Tidak ada grup elemen data yang ditemukan","Loading data element groups":"Memuat grup elemen data","Data sets":"Data set","Data set":"Data set","All data sets":"Semua kumpulan data","Loading data sets":"Memuat kumpulan data","Event data items":"Item data event","All programs":"Semua program","Event data item":"Data item pada even","No programs found":"Tidak ada program yang ditemukan","Loading programs":"Memuat program","Program indicators":"Indikator program","Program indicator":"Indikator program","Extra Small":"Ekstra kecil","Small":"Kecil","Regular":"Reguler","Large":"Besar","Extra Large":"Ekstra besar","Left":"Kiri","Center":"Pusat","Right":"Kanan","Start":"Mulai","Middle":"Tengah","End":"Akhir","Top":"Atas","Bottom":"Bawah","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} dan {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} level","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} grup","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} level di {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} grup di {{staticOuNames}}","{{percentage}}% of total x values":"{{percentage}}% dari total nilai x","{{percentage}}% of total y values":"{{percentage}}% dari total nilai y","{{thresholdFactor}} × IQR Q1":"{{faktor ambang}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{Faktor ambang}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}} × Modifikasi Z-score rendah","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}} × Modifikasi Z-score tinggi","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}} × Z-skor rendah","{{thresholdFactor}} × Z-score high":"{{ThresholdFactor}} × Z-skor tinggi","Data":"Data","Organisation unit":"Unit organisasi","Assigned Categories":"Kategori yang Ditugaskan","Pivot table":"Tabel Pivot","Area":"Area","Stacked area":"Area bertumpuk","Bar":"Bar","Stacked bar":"Bar tumpuk","Column":"Kolom","Year over year (column)":"Tahun ke tahun (kolom)","Stacked column":"Kolom tumpuk","Gauge":"Meteran","Line":"Garis","Line list":"Daftar garis","Year over year (line)":"Tahun ke tahun (garis)","Pie":"Pie","Radar":"Radar","Scatter":"Scatter","Single value":"Nilai tunggal","All charts":"Semua grafik","{{seriesName}} (trend)":"{{seriesName}} (tren)","Trend":"Tren","No legend for this series":"Tidak ada legenda untuk seri ini","and {{amount}} more...":"dan {{jumlah}} lainnya...","Linear Regression":"Regresi linier","Target":"Target","Base":"Dasar","Axis {{axisId}}":"Sumbu {{axisId}}","{{count}} items":"","Reset zoom":"Setel ulang zoom"}'),f=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"Loading","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"យកចេញ","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"ស្វែងរក","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"បោះបង់","Delete":"​លុប​","File":"","New":"ថ្មី","Open…":"","Save":"រក្សាទុក​","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"បិទ","Rename {{fileType}}":"","Name":"ឈ្មោះ","Description":"ការ​ពិពណ៌នា","Rename":"ប្ដូរ​ឈ្មោះ","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"កែសម្រួល​","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"ធ្វើ​បច្ចុប្បន្នភាព","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"កន្លែងសន្ទនារ","Unlike":"","Like":"","Reply":"ឆ្លើយតប","Share":"ចែករំលែក","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"បាន​ធ្វើ​បច្ចុប្បន្នភាព​ចុងក្រោយ","Type":"","Clear filters":"លុបចោលការច្រោះមើលទិន្នន័យ","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"បើក","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Period type","Year":"ឆ្នាំ","Select year":"","Period":"កំឡុងពេល","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"មករា​","February":"កុម្ភៈ​","March":"មីនា​","April":"មេសា​","May":"ឧសភា​","June":"មិថុនា​","July":"កក្កដា​","August":"សីហា​","September":"កញ្ញា​","October":"តុលា​","November":"វិច្ឆិកា​","December":"ធ្នូ​","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"រាល់​ថ្ងៃ","Weekly":"រាល់​សប្ដាហ៍","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"រាល់​ខែ","Bi-monthly":"រាល់ពីរសប្តាហ៍","Quarterly":"រាល់ត្រីមាស","Six-monthly":"រាល់ឆមាស","Six-monthly April":"ប្រចាំឆមាស​ពីខែមេសា","Yearly":"ប្រចាំឆ្នាំ","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"","Days":"ថ្ងៃ","Weeks":"សប្ដាហ៏","Bi-weeks":"","Months":"ខែ","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"ឆ្នាំ","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"Indicators","Indicator group":"Indicator group","All groups":"","Indicator":"","No indicator groups found":"","Loading indicator groups":"","Data elements":"Data elements","Data element group":"","Data element":"ទិន្នន័យធាតុដើម","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Data set","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"Left","Center":"","Right":"Right","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Data","Organisation unit":"ផ្នែក​នៃ​អង្គការ","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""}'),y=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"ບໍ່ມີລາຍລະອຽດ","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"Disaggregation","No data":"ບໍ່ມີຂໍ້ມູນ","Loading":"ກໍາລັງໂຫຼດ","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"ທຸກການປັບປຸງ","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"ລົບອອກ","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"ຄົນຫາ","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Cancel","Delete":"ລົບ","File":"ເອກະສານ","New":"ສ້າງໃຫມ່","Open…":"","Save":"ບັນທຶກ","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"ປິດ","Rename {{fileType}}":"","Name":"ຊື່","Description":"ລາຍລະອຽດ","Rename":"ປ່ຽນຊື່","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"ແກ້ໄຂ","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"ປັບປຸງ","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"ການແປຂໍ້ມູນ","Unlike":"ບໍ່ມັກ","Like":"ມັກ","Reply":"ຕອບກັບ","Share":"ເຜີຍແຜ່","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Not available offline":"","Created by":"ສ້າງໂດຍ","Anyone":"","Only you":"","Others":"Others","Not supported by this app yet":"","Filter by name":"Filter by name","Created":"ສ້າງແລ້ວ","Last updated":"ປັບປຸງ​ຄັ້ງຫລ້າສຸດ","Type":"Type","Clear filters":"ປັບປຸງເຄື່ອງມືຄັດຈ້ອນ","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"ເປີດ","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"ສ້າງໃໝ່","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"ຈັດການ","Hide":"ເຊື່ອງ","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"ຫົວໜ່ວຍຍ່ອຍຂອງທ່ານ","User sub-x2-units":"ຫົວໜ່ວຍຍ່ອຍຂັ້ນສອງຂອງທ່ານ","Select a level":"","Select a group":"","Deselect all":"ຍົກເລີກການເລືອກທັງໝົດ","Period type":"ແບບຊ່ວງເວລາ","Year":"ປີ","Select year":"","Period":"ຊ່ວງເວລາ","Relative periods":"​ໄລ​ຍະ​ເວ​ລາ​ໄກ້​ຄຽງ","Fixed periods":"ໄລຍະເວລາທີ່ໄດ້ກຳນົດ","Selected Periods":"","No periods selected":"ບໍ່ທັນໄດ້ເລືອກໄລຍະເວລາ","January":"ມັງກອນ","February":"ກຸມພາ","March":"ມີນາ","April":"ເມສາ","May":"ພຶດສະພາ","June":"ມີຖຸນາ","July":"ກໍລະກົດ","August":"ສິງຫາ","September":"ກັນຍາ","October":"ຕຸລາ","November":"ພະຈິກ","December":"ທັນວາ","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"ທຸກໆມື້","Weekly":"ເປັນອາທິດ","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"ລາຍເດືອນ","Bi-monthly":"ທຸກໆສອງເດືອນ","Quarterly":"ໄຕມາດ","Six-monthly":"ແຕ່ລະ 6 ເດືອນ","Six-monthly April":"ແຕ່ລະຫົກເດືອນ ແລະ ເດືອນເມສາ","Yearly":"ລາຍປີ","Financial year (Start November)":"","Financial year (Start October)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນຕຸລາ)","Financial year (Start July)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນມິຖຸນາ)","Financial year (Start April)":"ສົກປີງົບປະມານ (ເລີ່ມແຕ່ເດືອນເມສາ)","Today":"ມື້ນີ້","Yesterday":"ມື້ວານນີ","Last 3 days":"3 ມື້ກ່ອນ","Last 7 days":"7 ມື້ກ່ອນ","Last 14 days":"14 ມື້ກ່ອນ","Last 30 days":"Last 30 days","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ທິດນີ້","Last week":"ອາທິດທີ່ຜ່ານມາ","Last 4 weeks":"4 ອາທິດຍ້ອນຫຼັງ","Last 12 weeks":"12 ອາທິດຍ້ອນຫຼັງ","Last 52 weeks":"52 ອາທິດຜ່ານມາ","Weeks this year":"ອາທິດ ຂອງປີນີ້","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ເດືອນນີ້","Last month":"ເດືອນຜ່ານມາ","Last 3 months":"3 ເດືອນຍ້ອນຫຼັງ","Last 6 months":"6 ເດືອນຜ່ານມາ","Last 12 months":"12 ເດືອນຍ້ອນຫຼັງ","Months this year":"​ເດືອນ​ໃນ​ປີ","This bi-month":"ສອງເດືອນນີ້","Last bi-month":"ສອງເດືອນກ່ອນທ້າຍປີ","Last 6 bi-months":"6 ຂອງສອງເດືອນສຸດທ້າຍ","Bi-months this year":"ສອງເດືອນ ຂອງປີນີ້","This quarter":"ໄຕມານີ້","Last quarter":"ໄຕມາດຜ່ານມາ","Last 4 quarters":"4 ໄຕມາດຍ້ອນຫຼັງ","Quarters this year":"​ໄຕຼມາດ​ໃນ​ປີ","This six-month":"6 ເດືອນນີ້","Last six-month":"6 ເດືອນຜ່ານມາ","Last 2 six-month":"","This financial year":"ສົກປີງົບປະມານຂອງປິນີ້","Last financial year":"​ສົກ​ປີ​ງົບ​ປະ​ມານ​ປີ​ກາຍ","Last 5 financial years":"​ສົກ​ປິ​ງົບ​ປະ​ມານ 5ປີ​ຜ່ານ​ມາ","This year":"ປີນີ້","Last year":"ປີກາຍ","Last 5 years":"5 ປີຍ້ອນຫຼັງ","Last 10 years":"","Days":"ມື້","Weeks":"ອາທິດ","Bi-weeks":"","Months":"ເດືອນ","Bi-months":"2ເດືອນ","Quarters":"ໄຕມາດ","Six-months":"6 ເດືອນ","Financial Years":"","Years":"ປີ","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"ແທ່ງ","Category":"ລວງນອນ","Filter":"Filter","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Program","Select a program":"","Indicators":"ຕົວຊີ້ວັດ","Indicator group":"ກຸ່ມຂອງຕົວຊີ້ວັດ","All groups":"","Indicator":"ຕົວຊີ້ວັດ","No indicator groups found":"","Loading indicator groups":"","Data elements":"ອົງປະກອບຂໍ້ມູນ","Data element group":"ກຸ່ມຂອລອົງປະກອບຂໍ້ມູນ","Data element":"Data Element","No data element groups found":"","Loading data element groups":"","Data sets":"ແບບຟອມ","Data set":"Data set\\\\:","All data sets":"","Loading data sets":"","Event data items":"ຂໍ້ມູນລາຍບຸກຄົນ","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"ຕົວຊີ້ວັດສະເພາະວຽກຂອງຂະແໜງ","Program indicator":"Program Indicator Management","Extra Small":"","Small":"ນ້ອຍ","Regular":"Regular","Large":"ໃຫຍ່","Extra Large":"","Left":"ຊ້າຍ","Center":"","Right":"ຂວາ","Start":"Start","Middle":"","End":"","Top":"ເທິງສຸດ","Bottom":"ລຸ່ມສຸດ","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"ຂໍ້ມູນ","Organisation unit":"​ຫົວ​ໜ່ວຍ​ການ​ຈັດ​ຕັ້ງ","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"ຖັນ","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"ແນວໂນ້ມ","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"ເປົ້າໝາຍ","Base":"ຖານ","Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""}'),g=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"အချက်အလက်မရှိပါ။","Loading":"Loading, please wait","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"ဖယ်ရှားခြင်း","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"ပယ်ဖျက်သည်","Delete":"ဖျက်ဆီးသည်","File":"File","New":"အသစ်","Open…":"","Save":"သိမ်းဆည်းသည်","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"ပိတ်သည်","Rename {{fileType}}":"","Name":"အမည်","Description":"ဖော်ပြချက်","Rename":"အမည်သစ်ပေးခြင်း","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"တည်းဖြတ်သည်","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"‌နောက်ဆုံးသတင်းကိုရစေခြင်း","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"ဘာသာပြန်ခြင်းများ","Unlike":"Больше не нравится","Like":"Нравится","Reply":"အကြောင်းပြန်သည်","Share":"","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"No results found","Created by":"Created by","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"အမည်ဖြင့်ရှာဖွေထုတ်သည်","Created":"","Last updated":"နောက်ဆုံး အသစ်ဆက်ဆက်","Type":"ပုံစံ","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Open","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Period type","Year":"ခုနှစ်","Select year":"","Period":"အချိန်ကာလ","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"သက်ဆိုင်ရာ အချိန်ကာလကို မရွေးချယ်ထားပါ။","January":"ဇန်နဝါရီ","February":"ဖေဖော်ဝါရီ","March":"မတ်","April":"ဧပြီ","May":"မေ","June":"ဇွန်","July":"ဇူလိုင်","August":"သြဂုတ်","September":"စက်တင်ဘာ","October":"အောက်တိုဘာ","November":"နိုဝင်ဘာ","December":"ဒီဇင်ဘာ","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"နေ့စဉ်","Weekly":"အပတ်စဉ်","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"လစဉ်","Bi-monthly":"နှစ်လတစ်ကြိမ်","Quarterly":"သုံးလတစ်ကြိမ်","Six-monthly":"ခြောက်လတစ်ကြိမ်","Six-monthly April":"","Yearly":"နှစ်စဉ်","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Last week","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"ယခင်လ","Last 3 months":"လွန်ခဲ့သော ၁၂လ","Last 6 months":"Last 6 months","Last 12 months":"လွန်ခဲ့သော ၁၂လ","Months this year":"","This bi-month":"","Last bi-month":"လွန်ခဲ့သော ၆လက","Last 6 bi-months":"လွန်ခဲ့သော ၆လ(၂ကြိမ်)","Bi-months this year":"","This quarter":"","Last quarter":"လွန်ခဲ့သော ၃လက","Last 4 quarters":"လွန်ခဲ့သော ၁၂လက","Quarters this year":"Quarters this year","This six-month":"","Last six-month":"လွန်ခဲ့သော ၆လက","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"ဒီနှစ်","Last year":"ယခင်နှစ်","Last 5 years":"လွန်ခဲ့သော ၅ နှစ်","Last 10 years":"","Days":"","Weeks":"","Bi-weeks":"","Months":"လများ","Bi-months":"Двухмесячные промежутки","Quarters":"၃လမြောက်","Six-months":"၆ လ","Financial Years":"","Years":"နှစ်များ","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"အစဉ်အတန်းများ","Category":"category","Filter":"ရှာဖွေထုတ်သည်","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"အညွှန်းများ","Indicator group":"Indicator group","All groups":"","Indicator":"indicator","No indicator groups found":"","Loading indicator groups":"","Data elements":"အချက်အလတ်အစိတ်အပိုင်းများ","Data element group":"data element အုပ်စု","Data element":"data element","No data element groups found":"","Loading data element groups":"","Data sets":"စီမံချက်","Data set":"Dataset","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"Left","Center":"","Right":"Right","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"အချက်အလက်","Organisation unit":"Organisation unit","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"လမ်းကြောင်း","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"ပစ်မှတ်/ ဦးတည်ချက်","Base":"အခြေ","Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""}'),v=JSON.parse('{"view only":"kun visning","view and edit":"vis og endre","all users ({{accessLevel}})":"alle brukere ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"Delt med {{commaSeparatedListOfUsersAndGroups}}","Not shared with any users or groups":"Ikke delt med noen brukere eller grupper","No description":"Ingen beskrivelse","Last updated {{time}}":"Sist oppdatert {{time}}","Created {{time}} by {{author}}":"Opprettet {{time}} av {{author}}","Created {{time}}":"","Viewed {{count}} times":"Vist 1 gang","Viewed {{count}} times_plural":"Vist {{count}} ganger","Notifications":"Varsler","You\'re subscribed and getting updates about new interpretations.":"Du abonnerer og får oppdateringer om nye tolkninger.","Unsubscribe":"Avslutt abonnementet","Subscribe to get updates about new interpretations.":"Abonner for å få oppdateringer om nye tolkninger.","Subscribe":"Abonner","About this map":"","About this line list":"","About this visualization":"Om denne visualiseringen","This app could not retrieve required data.":"","Network error":"","Data Type":"Datatype","All types":"Alle typer","Totals only":"Kun totaler","Details only":"Kun detaljer","Disaggregation":"Disaggregering","No data":"Ingen data","Loading":"Laster","Search by data item name":"Søk etter datapunktnavn","No items selected":"Ingen elementer er valgt","Selected Items":"Valgte elementer","No indicators found":"Ingen indikatorer funnet","No data elements found":"Ingen dataelementer funnet","No data sets found":"Ingen datasett funnet","No event data items found":"Ingen hendelsesdataelementer funnet","No program indicators found":"Ingen programindikatorer funnet","No indicators found for \\"{{- searchTerm}}\\"":"Ingen indikatorer funnet for \\"{{- searchTerm}}\\"","No data elements found for \\"{{- searchTerm}}\\"":"Ingen dataelementer funnet for \\"{{- searchTerm}}\\"","No data sets found for \\"{{- searchTerm}}\\"":"Ingen datasett funnet for \\"{{- searchTerm}}\\"","No event data items found for \\"{{- searchTerm}}\\"":"Ingen hendelsesdataelementer funnet for \\"{{- searchTerm}}\\"","No program indicators found for \\"{{- searchTerm}}\\"":"Ingen programindikatorer funnet for \\"{{- searchTerm}}\\"","Nothing found for \\"{{- searchTerm}}\\"":"Ingenting funnet for \\"{{- searchTerm}}\\"","Metric type":"Metrisk type","All metrics":"Alle beregninger","Move to {{axisName}}":"Flytt til {{axisName}}","Add to {{axisName}}":"Legg til {{axisName}}","Not available for {{visualizationType}}":"Ikke tilgjengelig for {{visualizationType}}","Remove Assigned Categories":"Fjern Tildelte Kategorier","Add Assigned Categories":"Legg tildelte kategorier","Remove":"Fjern","Filter dimensions":"Filterdimensjoner","Main dimensions":"Hoveddimensjoner","Your dimensions":"Dine dimensjoner","Dimension recommended with selected data":"Dimensjon anbefalt med valgte data","All items":"Alle elementer","Automatically include all items":"Inkluder automatisk alle elementer","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"Velg alle {{- dimensionTitle}} elementer. Med dette alternativet vil nye elementer som legges til i fremtiden automatisk inkluderes.","Manually select items...":"Velg elementer manuelt...","Nothing found in {{- dimensionTitle}}":"Ingenting funnet i {{- dimensionTitle}}","Search":"Søk","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"Slett {{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"Denne {{fileType}} og relaterte tolkninger vil bli slettet. Fortsette?","Cancel":"Avbryt","Delete":"Slett","File":"Fil","New":"Ny","Open…":"Åpne...","Save":"Lagre","Save…":"Lagre...","Save as…":"Lagre som...","Rename…":"Gi nytt navn...","Translate…":"Oversette...","Share…":"Dele...","Get link…":"Få lenke…","Open in this app":"Åpne i denne appen","Close":"Lukk","Rename {{fileType}}":"Gi nytt navn til {{fileType}}","Name":"Navn","Description":"Beskrivelse","Rename":"Gi nytt navn","Save {{fileType}} as":"Lagre {{fileType}} som","event report":"hendelsesrapport","line list":"","map":"kart","visualization":"","Edit":"Rediger","Write a reply":"Skriv et svar","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Oppdater","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Skriv en tolkning","Post interpretation":"","Interpretations":"Tolkninger","Unlike":"Fjern like","Like":"Like","Reply":"Svar","Share":"Del","See interpretation":"","Manage sharing":"Administrer deling","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"Forhåndsvisning","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Ingen resultater funnet","Created by":"Opprettet av","Anyone":"Hvem som helst","Only you":"Bare deg","Others":"Andre","Not supported by this app yet":"","Filter by name":"Filtrer etter navn","Created":"Opprettet","Last updated":"Sist oppdatert","Type":"Type","Clear filters":"Tøm filtre","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} av {{totalNumberOfItems}}","Open":"Åpne","Couldn\'t load items":"Kunne ikke laste inn elementer","There was a problem loading items. Try again or contact your system administrator.":"Det oppsto et problem med å laste elementer. Prøv igjen eller kontakt systemadministratoren.","No items found. Create a new to get started.":"Ingen elementer funnet. Opprett en ny for å komme i gang.","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Opprett ny","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Alternativ","Hide":"Skjul","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Brukerorganisasjonsenhet","User sub-units":"Underenheter","User sub-x2-units":"Under-x2-enheter","Select a level":"Velg et nivå","Select a group":"Velg en gruppe","Deselect all":"Fjern valg","Period type":"Periodetype","Year":"År","Select year":"Velg år","Period":"Periode","Relative periods":"Relative perioder","Fixed periods":"Faste perioder","Selected Periods":"Valgte perioder","No periods selected":"Ingen perioder er valgt","January":"Januar","February":"Februar","March":"Mars","April":"April","May":"Mai","June":"Juni","July":"Juli","August":"August","September":"September","October":"Oktober","November":"November","December":"Desember","Week {{weekNumber}}":"Uke {{weekNumber}}","Bi-Week {{biWeekNumber}}":"Touke {{biWeekNumber}}","Daily":"Daglig","Weekly":"Ukentlig","Weekly (Start Wednesday)":"Ukentlig (start onsdag)","Weekly (Start Thursday)":"Ukentlig (start torsdag)","Weekly (Start Saturday)":"Ukentlig (start lørdag)","Weekly (Start Sunday)":"Ukentlig (start søndag)","Bi-weekly":"Toukentlig","Monthly":"Månedlig","Bi-monthly":"Tomånedlig","Quarterly":"Kvartalsvis","Six-monthly":"Halvårlig","Six-monthly April":"Halvårig April","Yearly":"Årlig","Financial year (Start November)":"Regnskapsår (start november)","Financial year (Start October)":"Regnskapsår (start oktober)","Financial year (Start July)":"Regnskapsår (start juli)","Financial year (Start April)":"Regnskapsår (start april)","Today":"I dag","Yesterday":"I går","Last 3 days":"Siste 3 dager","Last 7 days":"Siste 7 dager","Last 14 days":"Siste 14 dager","Last 30 days":"Siste 30 dager","Last 60 days":"Siste 60 dager","Last 90 days":"Siste 90 dager","Last 180 days":"Siste 180 dager","This week":"Denne uken","Last week":"Forrige uke","Last 4 weeks":"Siste 4 uker","Last 12 weeks":"Siste 12 uker","Last 52 weeks":"Siste 52 uker","Weeks this year":"Uker inneværende år","This bi-week":"Denne touken","Last bi-week":"Sist touke","Last 4 bi-weeks":"Siste 4 touker","This month":"Denne måneden","Last month":"Forrige måned","Last 3 months":"Siste 3 måneder","Last 6 months":"Siste 6 måneder","Last 12 months":"Siste 12 måneder","Months this year":"Måneder i år","This bi-month":"Denne tomåneden","Last bi-month":"Siste tomåned","Last 6 bi-months":"Siste 6 tomåneder","Bi-months this year":"Tomåneder i år","This quarter":"Dette kvartalet","Last quarter":"Siste kvartal","Last 4 quarters":"Siste 4 kvartaler","Quarters this year":"Kvartaler i år","This six-month":"Dette halvåret","Last six-month":"Siste halvår","Last 2 six-month":"Siste to halvår","This financial year":"Dette regnskapsåret","Last financial year":"Siste regnskapsår","Last 5 financial years":"Siste 5 regnskapsår","This year":"Dette året","Last year":"Forrige år","Last 5 years":"Siste 5 år","Last 10 years":"Siste 10 år","Days":"Dager","Weeks":"Uker","Bi-weeks":"Touker","Months":"Måneder","Bi-months":"Tomåneder","Quarters":"Kvartaler","Six-months":"Halvår","Financial Years":"Regnskapsår","Years":"År","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Serie","Category":"Kategori","Filter":"Filter","Columns":"Kolonner","Rows":"Rader","Points":"Punkter","Reporting rate":"Rapporteringfrekvens","Reporting rate on time":"Rapporteringsfrekvens i tide","Actual reports":"Faktiske rapporter","Actual reports on time":"Faktiske rapporter i tide","Expected reports":"Forventede rapporter","Program":"Program","Select a program":"Velg et program","Indicators":"Indikatorer","Indicator group":"Indikatorgruppe","All groups":"","Indicator":"Indikator","No indicator groups found":"","Loading indicator groups":"","Data elements":"Dataelementer","Data element group":"Dataelementgruppe","Data element":"Dataelement","No data element groups found":"","Loading data element groups":"","Data sets":"Datasett","Data set":"Datasett","All data sets":"","Loading data sets":"","Event data items":"Hendelsesdatapunkter","All programs":"","Event data item":"Hendelsesdatapunkt","No programs found":"","Loading programs":"","Program indicators":"Programindikatorer","Program indicator":"Programindikator","Extra Small":"Ekstra liten","Small":"Liten","Regular":"Regelmessig","Large":"Stor","Extra Large":"Ekstra stor","Left":"Venstre","Center":"Sentrum","Right":"Høyre","Start":"Start","Middle":"Midten","End":"Slutt","Top":"Topp","Bottom":"Bunn","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} og {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}}-nivåer","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}}-grupper","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} nivåer i {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}}-grupper i {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Data","Organisation unit":"Organisasjonsenhet","Assigned Categories":"Tildelte Kategorier","Pivot table":"Pivottabell","Area":"Areal","Stacked area":"Stablet område","Bar":"Liggende stolpe","Stacked bar":"Liggende stablet stolpe","Column":"Stolpe","Year over year (column)":"År over år (stolpe)","Stacked column":"Stablet stående stolpe","Gauge":"Radialmåler","Line":"Linje","Line list":"Linjeliste","Year over year (line)":"År over år (linje)","Pie":"Sektor","Radar":"Radar","Scatter":" Spredning","Single value":"Enkeltverdi","All charts":"Alle diagrammer","{{seriesName}} (trend)":"","Trend":"Trend","No legend for this series":"Ingen tegnforklaring for denne serien","and {{amount}} more...":"","Linear Regression":"","Target":"Mål","Base":"Grunn","Axis {{axisId}}":"Akse {{axisId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),_=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"Geen gegevens","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"Voeg toe aan {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"Voeg Toegewezen Categorieën toe","Remove":"Verwijderen","Filter dimensions":"Filter dimensies","Main dimensions":"Hoofddimensies","Your dimensions":"Uw dimensies","Dimension recommended with selected data":"","All items":"Alle items","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Annuleer","Delete":"Verwijderen","File":"","New":"","Open…":"","Save":"Sla op","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Sluit","Rename {{fileType}}":"","Name":"Naam","Description":"Beschrijving","Rename":"","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"Bewerk","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Bijwerken","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"Interpretaties","Unlike":"","Like":"","Reply":"","Share":"","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Geen resultaten gevonden","Not available offline":"Niet beschikbaar offline","Created by":"Gecreëerd door","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"Laatst bijgewerkt","Type":"Soort","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Opties","Hide":"Verbergen","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Soort periode","Year":"Jaar","Select year":"","Period":"Periode","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"","February":"","March":"","April":"","May":"","June":"","July":"","August":"","September":"","October":"","November":"","December":"","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Dagelijks","Weekly":"Wekelijks","Weekly (Start Wednesday)":"Wekelijks (Start op woensdag)","Weekly (Start Thursday)":"Wekelijks (Start op donderdag)","Weekly (Start Saturday)":"Wekelijks (Start op zaterdag)","Weekly (Start Sunday)":"Wekelijks (Start op zondag)","Bi-weekly":"Tweewekelijks","Monthly":"Maandelijks","Bi-monthly":"Tweemaandelijks","Quarterly":"Driemaandelijks","Six-monthly":"Zesmaandelijks","Six-monthly April":"Zesmaandelijks april","Yearly":"Jaarlijks","Financial year (Start November)":"Financieel jaar (Start november)","Financial year (Start October)":"Financieel jaar (Start oktober)","Financial year (Start July)":"Financieel jaar (Start juli)","Financial year (Start April)":"Financieel jaar (Start april)","Today":"Vandaag","Yesterday":"Gisteren","Last 3 days":"Laatste 3 dagen","Last 7 days":"Laatste 7 dagen","Last 14 days":"Laatste 14 dagen","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Deze week","Last week":"Laatste week","Last 4 weeks":"Laatste 4 weken","Last 12 weeks":"Laatste 12 weken","Last 52 weeks":"Laatste 52 weken","Weeks this year":"Weken dit jaar","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Deze maand","Last month":"Laatste maand","Last 3 months":"Laatste 3 maanden","Last 6 months":"Laatste 6 maanden","Last 12 months":"Laatste 12 maanden","Months this year":"Maanden dit jaar","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"Dit kwartier","Last quarter":"Laatste kwartier","Last 4 quarters":"Laatste 4 kwartieren","Quarters this year":"Kwartieren dit jaar","This six-month":"Dit halfjaar","Last six-month":"Laatste halfjaar","Last 2 six-month":"","This financial year":"Dit financieel jaar","Last financial year":"Laatste financieel jaar","Last 5 financial years":"Laatste 5 financiële jaren","This year":"Dit jaar","Last year":"Laatste jaar","Last 5 years":"Laatste 5 jaren","Last 10 years":"","Days":"","Weeks":"","Bi-weeks":"","Months":"","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"Reeks","Category":"Categorie","Filter":"Filter","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Programma","Select a program":"","Indicators":"","Indicator group":"Indicatorgroep","All groups":"","Indicator":"Indicator","No indicator groups found":"","Loading indicator groups":"","Data elements":"Gegevenselementen","Data element group":"Gegevenselementengroep","Data element":"informatie onderdeel","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Gegevensreeks","All data sets":"","Loading data sets":"","Event data items":"Gebeurtenisgegevensitems","All programs":"","Event data item":"Gebeurtenisgegevensitem","No programs found":"","Loading programs":"","Program indicators":"Programmaindicators","Program indicator":"Programmaindicator","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Gegevens","Organisation unit":"Organisatieëenheid","Assigned Categories":"","Pivot table":"","Area":"Oppervlakte","Stacked area":"","Bar":"Staaf","Stacked bar":"Gestapelde staaf","Column":"Kolom","Year over year (column)":"Jaar over jaar (kolom)","Stacked column":"Gestapelde kolom","Gauge":"Graadmeter","Line":"Lijn","Line list":"","Year over year (line)":"Jaar over jaar (lijn)","Pie":"Taart","Radar":"Radar","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),b=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"","Delete":"","File":"","New":"","Open…":"","Save":"","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"","Rename {{fileType}}":"","Name":"","Description":"","Rename":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"","Unlike":"","Like":"","Reply":"","Share":"","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"","Type":"","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"","Select year":"","Period":"","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"","February":"","March":"","April":"","May":"","June":"","July":"","August":"","September":"","October":"","November":"","December":"","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"","Weekly":"ସାପ୍ତାହିକ","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"ମାସିକ","Bi-monthly":"","Quarterly":"","Six-monthly":"","Six-monthly April":"","Yearly":"ବାର୍ଷିକ","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"ଆଜି","Yesterday":"ଗତକାଲି","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"ଚଳିତ ସପ୍ତାହ","Last week":"ଗତ ସପ୍ତାହ","Last 4 weeks":"","Last 12 weeks":"","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ଚଳିତ ମାସ","Last month":"ଗତ ମାସ","Last 3 months":"","Last 6 months":"","Last 12 months":"","Months this year":"","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"","Last 4 quarters":"","Quarters this year":"","This six-month":"","Last six-month":"","Last 2 six-month":"","This financial year":"","Last financial year":"","Last 5 financial years":"","This year":"","Last year":"","Last 5 years":"","Last 10 years":"","Days":"","Weeks":"","Bi-weeks":"","Months":"","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"","Indicator group":"","All groups":"","Indicator":"","No indicator groups found":"","Loading indicator groups":"","Data elements":"","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"","Organisation unit":"","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),x=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"بدون شرح","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"تکثیر","No data":"معلوماتی وجود ندارد","Loading":"در حال بار کردن","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"همه متریکس ها","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"حذف","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"جستجو","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"انصراف","Delete":"حذف","File":"فایل","New":"جدید","Open…":"","Save":"ذخیره","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"بستن","Rename {{fileType}}":"","Name":"نام","Description":"شرح","Rename":"تغییر نام","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"تجدید","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"تجدید","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"تفسیر ها","Unlike":"غیرموافق","Like":"موافق","Reply":"پاسخ","Share":"اشتراک","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"پیش‌نمایش","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"هیج نتیجه ی یافت نشد","Created by":"ایجاد شده توسط","Anyone":"","Only you":"","Others":"دیگران","Not supported by this app yet":"","Filter by name":"فلتر با اسم","Created":"ایجاد شده","Last updated":"تجدید آخیر","Type":"نمونه/ډول","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"باز کردن","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"گزینه‌ها","Hide":"مخفی کردن","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} groups_0":"","{{count}} groups_1":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"د کاروونکي سازمان واحدونه","User sub-units":"زیر-واحد ها استفاده کننده گان","User sub-x2-units":"زیر- x2-واحد های استفاده کننده گان","Select a level":"","Select a group":"","Deselect all":"همه از حالت انتخاب خارج","Period type":"د مودې ډول","Year":"سال","Select year":"غوره کال","Period":"دوره","Relative periods":"دوره های ارتباطی","Fixed periods":"ثابتې مودې","Selected Periods":"","No periods selected":"هېڅ مودې نه دي غوره شوې","January":"جنوری","February":"فبروری","March":"مارچ","April":"آپریل","May":"می","June":"جون","July":"جولای","August":"آگست","September":"سپتامبر","October":"اکتبر","November":"نوامبر","December":"دسامبر","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"روزنه","Weekly":"هفته وار","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"ماهانه","Bi-monthly":"دوبار در- ماه","Quarterly":"سه ماهه","Six-monthly":"شش-ماهه","Six-monthly April":"شش-ماهه اپریل","Yearly":"سالانه","Financial year (Start November)":"","Financial year (Start October)":"اکتوبر مالی","Financial year (Start July)":"مالی جولای","Financial year (Start April)":"مالی اپریل","Today":"امروز","Yesterday":"دیروز","Last 3 days":"3 روز گذشته","Last 7 days":"7 روز گذشته","Last 14 days":"14 روز گذشته","Last 30 days":"30 روز گذشته","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"هفته جاری","Last week":"هفته گذشته","Last 4 weeks":"4 هفته گذشته","Last 12 weeks":"12 هفته گذشته","Last 52 weeks":"52 هفته گذشته","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ماه جاری","Last month":"ماه گذشته","Last 3 months":"3 ماهه گذشته","Last 6 months":"6 ماه گذشته","Last 12 months":"12 ماهه گذشته","Months this year":"ماه های سال هذا","This bi-month":"دوبار در ماه جاری","Last bi-month":"دوبار در ماه گذشته","Last 6 bi-months":"دروبار در شش-ماه گذشته","Bi-months this year":"","This quarter":"سه ماهه جاری","Last quarter":"سه ماهه آخیر","Last 4 quarters":"4 سه ماهه آخیر","Quarters this year":"ربع های سال هذا","This six-month":"شش-ماه جاری","Last six-month":"شش-ماهه گذشته","Last 2 six-month":"","This financial year":"سال مالی جاری","Last financial year":"سال گذشته مالی","Last 5 financial years":"5 سال گذشته مالی","This year":"سال جاری","Last year":"سال گذشته","Last 5 years":"5 سال گذشته","Last 10 years":"10 سال آخیر","Days":"روزها","Weeks":"هفته ها","Bi-weeks":"","Months":"ماه ها","Bi-months":"دوبار در ماه","Quarters":"سه ماهه","Six-months":"شش-ماهه","Financial Years":"","Years":"سالانه","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"سلسله (لړۍ)","Category":"دسته بندی","Filter":"فلتر","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"برنامه","Select a program":"","Indicators":"شاخص ها","Indicator group":"د شاخص ګروپ","All groups":"","Indicator":"شاخص","No indicator groups found":"","Loading indicator groups":"","Data elements":"دیتا ایلمنت ها","Data element group":"د مالوماتو (ډاټا) د برخې ګروپ","Data element":"عناصر معلومات","No data element groups found":"","Loading data element groups":"","Data sets":"دیتا سیت ها","Data set":"د مالوماتو (ډاټا) ټولګه","All data sets":"","Loading data sets":"","Event data items":"د پېښې د مالوماتو (ډاټا) موضوعات","All programs":"","Event data item":"د پېښې طبقه","No programs found":"","Loading programs":"","Program indicators":"د پروګرام شاخصونه","Program indicator":"ایجاد پروگرام شاخص","Extra Small":"","Small":"کوچک","Regular":"منظم","Large":"بزرگ","Extra Large":"","Left":"چپ","Center":"","Right":"راست","Start":"شروع","Middle":"","End":"","Top":"بالا","Bottom":"پایین","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"دیتا","Organisation unit":"واحد سازمان","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"ستون","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"محاسبه","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"موخه","Base":"اساس","Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","Reset zoom":""}'),w=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"هېڅ ډول تشریح نه لري","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"د مالوماتو (ډاټا) نشتوالۍ","Loading":"د پورته کېدو یا لوډینګ په حال کې","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"ټول متریک","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"لرې کول","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"جستجو","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"رد یې کړئ [ ژباړه ـ ردول ]","Delete":"خذف یې کړئ","File":"فایل","New":"نوی","Open…":"","Save":"ثبت یې کړئ [ ژباړه - ثبت کړئ ]","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"بند یې کړئ","Rename {{fileType}}":"","Name":"نوم","Description":"تشریح [ ژباړه ـ نښه ـ تشریح ]","Rename":"بیا نومول","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"درست یې کړئ","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"تجدید یا نوي یې کړئ","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"شفاهي ژباړې","Unlike":"نه خوښول.","Like":"د خوښې وړ.","Reply":"ځواب ورکړئ","Share":"شریک یې کړئ","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"هېڅ پایله ترلاسه نه شوه","Created by":"لخوا ایجاد یا رامنځ ته شوی","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"د نوم له مخې یې فیلټر کړئ","Created":"ایجاد شوی دی","Last updated":"د وروستي ځل لپاره تجدید شوې","Type":"نمونه/ډول","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"خلاص یې کړئ","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"ګزینه","Hide":"پټ یې کړئ","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"کارکوڼکی واحدو سازمان","User sub-units":"واحد های فرعی استفاده کننده","User sub-x2-units":"واحد های نیم فرعی استفاده کننده","Select a level":"","Select a group":"","Deselect all":"","Period type":"د مودې ډول","Year":"کال","Select year":"کال ټاکل","Period":"معیاد","Relative periods":"اړونده مودط","Fixed periods":"ثابتې مودې","Selected Periods":"","No periods selected":"هېڅ مودې نه دي غوره شوې","January":"جنوري","February":"فبروري","March":"مارچ","April":"اپرېل","May":"می [ میاشت. می]","June":"جون","July":"جولای","August":"اګست","September":"سپټمبر","October":"اکتوبر","November":"نومبر","December":"ډیسمبر","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"ورځني [ د مودې ډول ]","Weekly":"اوونیز","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"میاشتنۍ","Bi-monthly":"دوه میاشتنۍ","Quarterly":"درې میاشتنۍ","Six-monthly":"شپږ- میاشتنۍ","Six-monthly April":"شپږ - د اپرېل میاشتنۍ","Yearly":"کلنۍ","Financial year (Start November)":"","Financial year (Start October)":"مالی کال- اکتوبر","Financial year (Start July)":"مالی کال- جولای","Financial year (Start April)":"مالی کال- آپریل","Today":"نن ورځ","Yesterday":"پرونۍ ورځ","Last 3 days":"تېرې درې ورځې","Last 7 days":"تېرې اوه ورځې","Last 14 days":"تېرې څورلس ورځې","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"هفته هذا","Last week":"تېره اونۍ","Last 4 weeks":"تېرې 4 اونۍ","Last 12 weeks":"تېرو 12 اونۍ","Last 52 weeks":"تېرې دوه پنځوس اونۍ","Weeks this year":"په روان کال کې اونۍ","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"ماه هذا","Last month":"تېره میاشت","Last 3 months":"تېرې 3 میاشتې","Last 6 months":"تېرې شپږ میاشتې","Last 12 months":"تېرې 12 میاشتې","Months this year":"د روان کال میاشتې","This bi-month":"این دوماهه","Last bi-month":"تېرې دوه میاشتې","Last 6 bi-months":"په تېرو شپږو میاشتو کې ډوه ځلې","Bi-months this year":"په روان کال کې دوه میاشتې","This quarter":"ربع هذا","Last quarter":"تېره ربعه","Last 4 quarters":"تېرې 4ربعې","Quarters this year":"د سږ کال ربعې","This six-month":"شش ماه هذا","Last six-month":"تېرې شپږ میاشتې [ تېرې ـ شپږ ـ میاشتې ]","Last 2 six-month":"","This financial year":"سږنۍ مالي کال","Last financial year":"تېر مالي کال","Last 5 financial years":"تېر 5 مالي کلونه","This year":"روان کال","Last year":"تېر کال","Last 5 years":"تېر 5 کلونه","Last 10 years":"لس کلونه","Days":"ورځې","Weeks":"اونۍ","Bi-weeks":"","Months":"میاشت","Bi-months":"دوه میاشتنۍ","Quarters":"ربعې","Six-months":"شپږ میاشتې","Financial Years":"","Years":"کلونه","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"سلسله (لړۍ)","Category":"کټګوري","Filter":"فیلټر","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"پروګرام","Select a program":"","Indicators":"شاخصونه","Indicator group":"د شاخص ګروپ","All groups":"","Indicator":"شاخص","No indicator groups found":"","Loading indicator groups":"","Data elements":"د مالوماتو (ډاټا) برخې","Data element group":"د مالوماتو (ډاټا) د برخې ګروپ","Data element":"د مالوماتو (ډاټا) برخه","No data element groups found":"","Loading data element groups":"","Data sets":"د مالوماتو یا ډاټا ټولګې","Data set":"د مالوماتو (ډاټا) ټولګه","All data sets":"","Loading data sets":"","Event data items":"د پېښې د ډاټا یا مالوماتو محتویات","All programs":"","Event data item":"لایه رویداد","No programs found":"","Loading programs":"","Program indicators":"د پروګرام شاخص","Program indicator":"","Extra Small":"","Small":"کوچنۍ","Regular":"","Large":"لوی","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"پورتنۍ برخه","Bottom":"لاندینۍ برخه","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"مالومات (ډاټا)","Organisation unit":"د سازمان واحد","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"ستون","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"محاسبه","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"هدف","Base":"اساس","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),T=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Sem descrição","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"Notificação","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Tipo de dados","All types":"Todos os tipos","Totals only":"","Details only":"","Disaggregation":"Desagregação","No data":"Não ha dados","Loading":"Carregando..","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Todas métricas","Move to {{axisName}}":"Mover para {{Nomedoeixo}}","Add to {{axisName}}":"Adicionar à {{Nomedoeixo}}","Not available for {{visualizationType}}":"Não disponível para {{Tipodevisualização}}","Remove Assigned Categories":"Remover categorias atribuídas","Add Assigned Categories":"Adicionar categorias atribuídas","Remove":"Remover","Filter dimensions":"Dimensões do filtro","Main dimensions":"Dimensões principais","Your dimensions":"Suas dimensões","Dimension recommended with selected data":"Dimensão recomendada com dados selecionados","All items":"Todos Itens","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Pesquisar","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Cancelar","Delete":"Suprimir","File":"Arquivo","New":"Novo","Open…":"","Save":"Salvar","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Abrir neste aplicativo","Close":"Fechar","Rename {{fileType}}":"","Name":"Nome","Description":"Descrição","Rename":"Renomear","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"relatório de evento","line list":"","map":"mapa","visualization":"","Edit":"Editar","Write a reply":"Escreva uma resposta","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Actualizar","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Escreva uma interpretação","Post interpretation":"","Interpretations":"Interpretações","Unlike":"Ao contrário","Like":"como","Reply":"Responder","Share":"Partilha","See interpretation":"","Manage sharing":"Gerenciar compartilhamento","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"Pré-visualização","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Nenhum resultado encontrado","Not available offline":"Não disponível offline","Created by":"Criado por","Anyone":"","Only you":"","Others":"Outros","Not supported by this app yet":"","Filter by name":"Filtrar por nome","Created":"Criado","Last updated":"Última actualização","Type":"Tipo","Clear filters":"Limpar filtros","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Abrir","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Crie um novo","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Opções","Hide":"Esconder","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Unidade organizacional do utilizador","User sub-units":"Dois níveis abaixo","User sub-x2-units":"Dois níveis abaixo","Select a level":"Selecione um nível","Select a group":"Selecione um grupo","Deselect all":"Desmarcar todos","Period type":"Tipo de periodo","Year":"Ano","Select year":"Selecionar ano","Period":"Período","Relative periods":"Períodos relativos","Fixed periods":"Períodos fixos","Selected Periods":"","No periods selected":"Não há períodos relativos seleccionados","January":"Janeiro","February":"Fevereiro","March":"Março","April":"Abril","May":"Maio","June":"Junho","July":"Julho","August":"Agosto","September":"Setembro","October":"Outubro","November":"Novembro","December":"Dezembro","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Diário","Weekly":"Semanal","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"Quinzenal","Monthly":"Mensal","Bi-monthly":"Bimensal","Quarterly":"Trimestral","Six-monthly":"Semestral","Six-monthly April":"Semestral a partir de Abril","Yearly":"Anualmente","Financial year (Start November)":"","Financial year (Start October)":"Ano Financeiro - Outubro","Financial year (Start July)":"Ano Financeiro - Julho","Financial year (Start April)":"Ano Financeiro - Abril","Today":"Hoje","Yesterday":"Ontém","Last 3 days":"Últimos 3 dias","Last 7 days":"Últimos 7 dias","Last 14 days":"Últimos 14  dias","Last 30 days":"Últimos 30 dias","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Esta semana","Last week":"Última semana","Last 4 weeks":"Últimas quatro semanas","Last 12 weeks":"Últimas doze semanas","Last 52 weeks":"Últimas 52 semanas","Weeks this year":"Semanas deste ano ","This bi-week":"Nesta bisemanal","Last bi-week":"Ultimo bimensal ","Last 4 bi-weeks":"Nas últimas 4 semanas","This month":"Este mês","Last month":"Último mês","Last 3 months":"Últimos três meses","Last 6 months":"Últimos seis meses","Last 12 months":"Últimos doze meses","Months this year":"Meses deste ano","This bi-month":"Este bi-mês","Last bi-month":"Último bimestre","Last 6 bi-months":"Últimos seis bi-meses","Bi-months this year":"Bimensais este ano","This quarter":"Este Trimestre","Last quarter":"Último trimestre","Last 4 quarters":"Últimos quatro trimestres","Quarters this year":"Trimestres deste ano","This six-month":"Estes seis meses","Last six-month":"Último semestre","Last 2 six-month":"","This financial year":"Ano financeiro","Last financial year":"Último ano fiscal","Last 5 financial years":"Últimos cinco anos fiscais","This year":"Este ano","Last year":"Último ano","Last 5 years":"Últimos cinco anos","Last 10 years":"Últimos 10 anos","Days":"Dias","Weeks":"Semanas","Bi-weeks":"Bisemanal","Months":"Meses","Bi-months":"Bi-mensal","Quarters":"Trimestres","Six-months":"Seis meses","Financial Years":"Ano financeiro ","Years":"Anos","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"Série","Category":"Categoria","Filter":"Filtro","Columns":"Colunas","Rows":"Linhas","Points":"","Reporting rate":"Taxa de relatórios","Reporting rate on time":"Taxa de relatórios no prazo","Actual reports":"Relatórios reais","Actual reports on time":"Relatórios reais dentro do prazo","Expected reports":"Relatórios esperados","Program":"Programa","Select a program":"Selecione um programa","Indicators":"Indicadores","Indicator group":"Grupo de Indicador","All groups":"","Indicator":"Indicador","No indicator groups found":"","Loading indicator groups":"","Data elements":"Elementos de Dados","Data element group":"Grupo de Elemento de Dados","Data element":"Elemento de dado","No data element groups found":"","Loading data element groups":"","Data sets":"Agregação de Dados","Data set":"Ficha","All data sets":"","Loading data sets":"Carregando conjuntos de dados","Event data items":"Itens de dados do evento","All programs":"","Event data item":"Item de dados do evento","No programs found":"","Loading programs":"","Program indicators":"Indicador do programa","Program indicator":"Gestão do indicadores de programa","Extra Small":"","Small":"Pequeno","Regular":"Regula","Large":"Largo","Extra Large":"","Left":"Esquerda","Center":"","Right":"Direita","Start":"Inicio","Middle":"","End":"","Top":"Topo","Bottom":"Inferior","{{dynamicOuNames}} and {{lastOuName}}":"{{nomesdinâmicosOu}} e {{últimoNomeOu}}","{{allDynamicOuNames}} levels":"{{tudoDynamicOuNomes}} níveis","{{allDynamicOuNames}} groups":"{{tudoDynamicOuNomes}} grupos","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{tudoDynamicOuNomes}} níveis em {{NomesestáticosOu}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{tudoDynamicOuNomes}} grupos em {{NomesestáticosOu}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Dados","Organisation unit":"Unidade organizacional","Assigned Categories":"Categorias atribuídas","Pivot table":"Tabela Dinâmica","Area":"Área","Stacked area":"","Bar":"Barra","Stacked bar":"Barra empilhada","Column":"Coluna","Year over year (column)":"Ano após ano (coluna)","Stacked column":"Coluna empilhada","Gauge":"Calibre","Line":"Linha","Line list":"lista de linhas ","Year over year (line)":"Ano após ano (linha)","Pie":"Torta","Radar":"Radar","Scatter":"","Single value":"Valor unico","All charts":"","{{seriesName}} (trend)":"","Trend":"Tendência","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Meta","Base":"Base","Axis {{axisId}}":"Eixo {{eixoId}}","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),S=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"Não ha dados","Loading":"Carregando..","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"Remover","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Pesquisar","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Cancelar","Delete":"Apagar","File":"Arquivo","New":"Novo","Open…":"","Save":"Salvar","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Fechar","Rename {{fileType}}":"","Name":"Nome","Description":"Descrição","Rename":"Renomear","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"Editar","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Actualizar","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"Interpretações","Unlike":"","Like":"","Reply":"Responder","Share":"Partilhar","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"","Anyone":"","Only you":"","Others":"Outros","Not supported by this app yet":"","Filter by name":"Filtrar por nome","Created":"","Last updated":"Última actualização","Type":"Tipo","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Opções","Hide":"","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Tipo de período","Year":"Ano","Select year":"","Period":"Período","Relative periods":"Períodos relativos","Fixed periods":"Periodos fixos","Selected Periods":"","No periods selected":"Não há períodos relativos seleccionados","January":"Janeiro","February":"Fevereiro","March":"Março","April":"Abril","May":"Maio","June":"Junho","July":"Julho","August":"Agosto","September":"Setembro","October":"Outubro","November":"Novembro","December":"Dezembro","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Diário","Weekly":"Semanal","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"Mensal","Bi-monthly":"Bimensal","Quarterly":"Trimestral","Six-monthly":"Semestral","Six-monthly April":"","Yearly":"Anual","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"Hoje","Yesterday":"Ontém","Last 3 days":"","Last 7 days":"Últimos 7 dias","Last 14 days":"","Last 30 days":"Últimos 30 dias","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Última semana","Last 4 weeks":"Últimas 4 semanas","Last 12 weeks":"Últimoas 12 semanas","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Mês passado","Last 3 months":"Últimos 3 meses","Last 6 months":"Últimos 6 meses","Last 12 months":"Últimos 12 meses","Months this year":"Meses deste ano","This bi-month":"","Last bi-month":"","Last 6 bi-months":"Últimos 6 bi-meses","Bi-months this year":"","This quarter":"","Last quarter":"Último trimestre","Last 4 quarters":"Últimos 4 trimestresÚltimo 4 trimestre","Quarters this year":"Trimestres deste ano","This six-month":"","Last six-month":"Últimos 6 meses","Last 2 six-month":"","This financial year":"","Last financial year":"último ano financeiro","Last 5 financial years":"Últimos 5 anos financeiros","This year":"Este ano","Last year":"Ano passado","Last 5 years":"Últimos 5 anos","Last 10 years":"","Days":"","Weeks":"","Bi-weeks":"","Months":"Meses","Bi-months":"","Quarters":"Trimestres","Six-months":"","Financial Years":"","Years":"Anos","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Série","Category":"Categoria","Filter":"Filtro","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Programa","Select a program":"","Indicators":"Indicadores","Indicator group":"Grupo do indicador","All groups":"","Indicator":"Indicador","No indicator groups found":"","Loading indicator groups":"","Data elements":"Os elementos de dados","Data element group":"Grupo de elemento de dado","Data element":"Elemento de dado","No data element groups found":"","Loading data element groups":"","Data sets":"Agregação de Dados","Data set":"Conjunto de dados","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"Regula","Large":"","Extra Large":"","Left":"Esquerda","Center":"","Right":"Direita","Start":"Inicio","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Dados","Organisation unit":"Unidade organizacional","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"Coluna","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"Tendência","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Meta","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),k=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Căutare","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Anulare","Delete":"Lichidare","File":"Fişier","New":"Nou","Open…":"","Save":"salva","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Închidere","Rename {{fileType}}":"","Name":"","Description":"Descriere","Rename":"","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"Editare","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Actualizare","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"","Unlike":"","Like":"","Reply":"","Share":"Partajare","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Nu au fost găsite rezultate","Created by":"","Anyone":"Oricine","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"","Created":"","Last updated":"Ultima actualizare","Type":"","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"","Hide":"","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Tipul perioadei","Year":"An","Select year":"","Period":"","Relative periods":"Perioade relative","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"","February":"","March":"","April":"","May":"","June":"","July":"","August":"","September":"","October":"","November":"","December":"","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"","Weekly":"","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"Lunar","Bi-monthly":"","Quarterly":"Trimestrial","Six-monthly":"","Six-monthly April":"","Yearly":"Anual","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"Astăzi","Yesterday":"Ieri","Last 3 days":"Ultimele 3 zile","Last 7 days":"Ultimele 7 zile","Last 14 days":"Ultimele 14 zile","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Săptămâna aceasta","Last week":"Săptămâna trecută","Last 4 weeks":"Ultimele 4 săptămâni","Last 12 weeks":"Ultimele 12 săptămâni","Last 52 weeks":"Ultimele 52 de săptămâni","Weeks this year":"Săptămâni în anul curent","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Luna aceasta","Last month":"Luna trecută","Last 3 months":"Ultimele 3 luni","Last 6 months":"Ultimele 6 luni","Last 12 months":"Ultimele 12 luni","Months this year":"Luni în anul curent","This bi-month":"","Last bi-month":"","Last 6 bi-months":"","Bi-months this year":"","This quarter":"","Last quarter":"Ultimul trimestru","Last 4 quarters":"Ultimele 4 trimestre","Quarters this year":"Trimestre în anul curent","This six-month":"","Last six-month":"Ultimele șase luni","Last 2 six-month":"","This financial year":"","Last financial year":"Ultimul an financiar","Last 5 financial years":"Ultimii 5 ani financiari","This year":"","Last year":"Anul trecut","Last 5 years":"Ultimii 5 ani","Last 10 years":"","Days":"Zile","Weeks":"Săptămâni","Bi-weeks":"","Months":"Luni","Bi-months":"Bi-lunar","Quarters":"Trimestre","Six-months":"Șase luni","Financial Years":"Ani financiari","Years":"Ani","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Program","Select a program":"","Indicators":"Indicatori","Indicator group":"Grup de indicatori","All groups":"","Indicator":"Indicator","No indicator groups found":"","Loading indicator groups":"","Data elements":"Elemente de date","Data element group":"","Data element":"","No data element groups found":"","Loading data element groups":"","Data sets":"","Data set":"Set de date","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"","Organisation unit":"Unitate organizațională","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"Coloană","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"","Base":"","Axis {{axisId}}":"","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","Reset zoom":""}'),C=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Нет описания","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Notifications":"Уведомления","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Тип данных","All types":"Все типы","Totals only":"","Details only":"","Disaggregation":"Разукрупнение","No data":"Нет данных","Loading":"Загрузка","Search by data item name":"","No items selected":"Не выбраны элементы","Selected Items":"Выбранные элементы","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Все метрики","Move to {{axisName}}":"Переместить в {{axisName}}","Add to {{axisName}}":"Добавить в {{axisName}}","Not available for {{visualizationType}}":"Недоступно для {{visualizationType}}","Remove Assigned Categories":"Удалить назначенные категории","Add Assigned Categories":"Добавить Назначенные категории","Remove":"Убрать","Filter dimensions":"Фильтровать измерения","Main dimensions":"Основное измерение","Your dimensions":"Ваши Измерения","Dimension recommended with selected data":"Рекомендованное измерение с выбранными данными","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Поиск","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Отмена","Delete":"Удалить","File":"Файл","New":"Новый","Open…":"","Save":"Сохранить","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Открыть в данном приложении","Close":"Закрыть","Rename {{fileType}}":"","Name":"Название","Description":"Описание","Rename":"Переименовать","Save {{fileType}} as":"","event report":"Отчет случаев","line list":"","map":"Карта","visualization":"","Edit":"Редактировать","Write a reply":"Написать ответ","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Обновить","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Написать перевод","Post interpretation":"","Interpretations":"Interpretations","Unlike":"Не нравится","Like":"Нравится","Reply":"Ответить","Share":"Поделиться","See interpretation":"","Manage sharing":"Управление совместным доступом","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"Предварительный просмотр","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Результаты не найдены","Created by":"Создано","Anyone":"Любой","Only you":"","Others":"Другие","Not supported by this app yet":"","Filter by name":"Фильтр по имени","Created":"Создано","Last updated":"Последнее обновление","Type":"Тип","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Открыть","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Создать новый","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Параметры","Hide":"Скрыть","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Организационная единица пользователя","User sub-units":"Пользовательские подразделения","User sub-x2-units":"Пользовательские подразделения на два уровня ниже","Select a level":"Выбрать уровень","Select a group":"Выберите группу","Deselect all":"Отменить выбор всего","Period type":"Виды периода","Year":"Год","Select year":"Выбрать год","Period":"Период","Relative periods":"Соответствующие периоды","Fixed periods":"Фиксированные периоды","Selected Periods":"Выбранные периоды","No periods selected":"Периоды не выбраны","January":"Январь","February":"Февраль","March":"Март","April":"Апрель","May":"Май","June":"Июнь","July":"Июль","August":"Август","September":"Сентябрь","October":"Октябрь","November":"Ноябрь","December":"Декабрь","Week {{weekNumber}}":"Неделя{{номерНедели}}","Bi-Week {{biWeekNumber}}":"Двухнедельный {{biWeekNumber}}","Daily":"Ежедневно","Weekly":"Еженедельно","Weekly (Start Wednesday)":"Еженедельно(Начало Среда)","Weekly (Start Thursday)":"Еженедельно(Начало Четверг)","Weekly (Start Saturday)":"Еженедельно(Начало Суббота)","Weekly (Start Sunday)":"Еженедельно(Начало Воскресенье)","Bi-weekly":"Каждые две недели","Monthly":"Ежемесячно","Bi-monthly":"Раз в два месяца","Quarterly":"Ежеквартально","Six-monthly":"Раз в полугодие","Six-monthly April":"Полугодовой-Апрель","Yearly":"Ежегодно","Financial year (Start November)":"Финансовый год (начало Ноябрь)","Financial year (Start October)":"Финансовый год - Октябрь","Financial year (Start July)":"Финансовый год - Июль","Financial year (Start April)":"Финансовый год - Апрель","Today":"Сегодня","Yesterday":"Вчера","Last 3 days":"Последние 3 дня","Last 7 days":"Последние 7 дней","Last 14 days":"Последние 14 дней","Last 30 days":"Последние 30 дней","Last 60 days":"Последние 60 дней","Last 90 days":"Последние 90 дней","Last 180 days":"Последние 180 дней","This week":"Эта неделя","Last week":"Прошлая неделя","Last 4 weeks":"Прошлые 4 недели","Last 12 weeks":"Прошлые 12 недель","Last 52 weeks":"Последние 52 недели","Weeks this year":"Недели этого года","This bi-week":"Эта би-неделя","Last bi-week":"Последняя би-неделя","Last 4 bi-weeks":"Последние 4 би-недель","This month":"Этот месяц","Last month":"Последний месяц","Last 3 months":"Прошлые 3 месяца","Last 6 months":"Последние 6 месяцев","Last 12 months":"Прошлые 12 месяцев","Months this year":"Месяцы этого года","This bi-month":"Этот период по два месяца","Last bi-month":"Прошлый двухмесячный период","Last 6 bi-months":"Последние 6 двухмесячных периодов","Bi-months this year":"Би-месяцы этого года","This quarter":"Этот квартал","Last quarter":"Последний квартал","Last 4 quarters":"Прошлые 4 квартала","Quarters this year":"Кварталы этого года","This six-month":"Это полугодие","Last six-month":"Прошлое полугодие","Last 2 six-month":"Прошлые 2 полугодия","This financial year":"Этот финансовый год","Last financial year":"Прошлый финансовый год","Last 5 financial years":"Прошлые 5 финансовых лет","This year":"Этот год","Last year":"Прошлый год","Last 5 years":"Прошлые 5 лет","Last 10 years":"Последние 10 лет","Days":"Дни","Weeks":"Недели","Bi-weeks":"Двухнедельные промежутки","Months":"Месяцы","Bi-months":"Двухмесячный период","Quarters":"Кварталы","Six-months":"Полугодие","Financial Years":"Финансовые годы","Years":"Годы","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Ряды","Category":"Категория","Filter":"Фильтр","Columns":"Колонны","Rows":"Строки","Points":"","Reporting rate":"Показатель отчетности","Reporting rate on time":"Показатель отчетности по времени","Actual reports":"Текущие отчеты","Actual reports on time":"Текущие отчеты по времени","Expected reports":"Ожидаемые отчеты","Program":"Program","Select a program":"Выбрать программу","Indicators":"Индикаторы","Indicator group":"Группа индикаторов","All groups":"","Indicator":"Индикатор","No indicator groups found":"","Loading indicator groups":"","Data elements":"Элементы данных","Data element group":"Группы элемента данных","Data element":"Элемент данных","No data element groups found":"","Loading data element groups":"","Data sets":"Наборы данных","Data set":"Набор данных","All data sets":"","Loading data sets":"","Event data items":"Элементы данных событий","All programs":"","Event data item":"Элемент данных событий","No programs found":"","Loading programs":"","Program indicators":"Индикаторы программы","Program indicator":"Program indicator","Extra Small":"Очень маленький","Small":"Маленький","Regular":"регулярный","Large":"Большой","Extra Large":"Очень большой","Left":"Слева","Center":"Центр","Right":"Справа","Start":"Начать","Middle":"Середина","End":"Конец","Top":"Верхний","Bottom":"Нижний","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} и {{lastOuName}}","{{allDynamicOuNames}} levels":"уровень {{allDynamicOuNames}}","{{allDynamicOuNames}} groups":"Группы {{allDynamicOuNames}}","{{allDynamicOuNames}} levels in {{staticOuNames}}":"Уровни {{allDynamicOuNames}} в {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"Группы {{allDynamicOuNames}} в {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Данные","Organisation unit":"Организационная единица","Assigned Categories":"Назначенные категории","Pivot table":"Сводная таблица","Area":"Диаграмма-области","Stacked area":"Линейчатая с накоплениями","Bar":"Гистограмма","Stacked bar":"Гистограмма с накоплением","Column":"Столбчатая","Year over year (column)":"Год за годом (столбец)","Stacked column":"Столбчатая с накоплением","Gauge":"Спидометр","Line":"Линейная","Line list":"Перечень линий","Year over year (line)":"Год за годом (линия)","Pie":"Круговая","Radar":"Радиальная","Scatter":"","Single value":"Одиночное значение","All charts":"","{{seriesName}} (trend)":"","Trend":"Тренд","No legend for this series":"Отсутвует легенда для этого ряда","and {{amount}} more...":"","Linear Regression":"","Target":"Цель","Base":"Базовый","Axis {{axisId}}":"Ось {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","Reset zoom":""}'),L=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Ingen beskrivning","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"Avlägsna","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Sök","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Avbryt","Delete":"Radera","File":"File","New":"Ny","Open…":"","Save":"Spara","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Stänga","Rename {{fileType}}":"","Name":"Namn","Description":"Beskrivning","Rename":"Döpa om","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"Redigera","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Uppdatera","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"tolkningar","Unlike":"","Like":"","Reply":"Svar","Share":"Dela med sig","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Inga resultat hittades","Created by":"Skapad av","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"Filtrera efter namn","Created":"Skapad","Last updated":"","Type":"Typ","Clear filters":"Rensa filter","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Öppen","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Skapa ny","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Alternativ","Hide":"","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Användare organisation enheter","User sub-units":"Användarunderenheter","User sub-x2-units":"Användarunder x2-enheter","Select a level":"","Select a group":"","Deselect all":"","Period type":"Periodtyp","Year":"År","Select year":"Välj år","Period":"Period","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"januari","February":"februari","March":"Mars","April":"april","May":"Maj","June":"juni","July":"juli","August":"augusti","September":"september","October":"oktober","November":"november","December":"december","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Dagligen","Weekly":"Varje vecka","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"En gång i månaden","Bi-monthly":"varannan månad","Quarterly":"Kvartals","Six-monthly":"Halvårs","Six-monthly April":"Halvårs April","Yearly":"Årlig","Financial year (Start November)":"","Financial year (Start October)":"Budgetår - Oktober","Financial year (Start July)":"Budgetår - Juli","Financial year (Start April)":"Budgetår - April","Today":"","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"Denna vecka","Last week":"Förra veckan","Last 4 weeks":"Senaste 4 veckorna","Last 12 weeks":"Senast 12 veckor","Last 52 weeks":"Senast 52 veckor","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"Den här månaden","Last month":"Förra månaden","Last 3 months":"Senaste 3 månaderna","Last 6 months":"Senaste 6 månaderna","Last 12 months":"Senaste 12 månaderna","Months this year":"Månader i år","This bi-month":"Denna bi-månaders","Last bi-month":"Senast bi månad","Last 6 bi-months":"Senaste 6 bi-månader","Bi-months this year":"","This quarter":"detta kvartal","Last quarter":"Förra kvartalet","Last 4 quarters":"Senaste 4 kvartal","Quarters this year":"Kvartalen i år","This six-month":"Denna sexmånaders","Last six-month":"Senast sex månader","Last 2 six-month":"","This financial year":"Detta räkenskapsår","Last financial year":"Föregående räkenskapsår","Last 5 financial years":"Senaste 5 räkenskapsåren","This year":"Det här året","Last year":"Förra året","Last 5 years":"Senaste 5 år","Last 10 years":"","Days":"Dagar","Weeks":"Veckor","Bi-weeks":"","Months":"Månader","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"År","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"","Filter":"Filtrera","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Program","Select a program":"","Indicators":"indikatorer","Indicator group":"Indikatorgrupp","All groups":"","Indicator":"Indikator","No indicator groups found":"","Loading indicator groups":"","Data elements":"dataelement","Data element group":"Dataelementgrupp","Data element":"Uppgift","No data element groups found":"","Loading data element groups":"","Data sets":"dataset","Data set":"datamängd","All data sets":"","Loading data sets":"","Event data items":"Händelsedataposter","All programs":"","Event data item":"händelsedata post","No programs found":"","Loading programs":"","Program indicators":"programindikatorer","Program indicator":"","Extra Small":"","Small":"","Regular":"","Large":"","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Data","Organisation unit":"Organisationsenhet","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Mål","Base":"","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),N=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"Laiha dadus","Loading":"","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"Hasai","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Kansela","Delete":"Soe","File":"","New":"Foun","Open…":"","Save":"Rai","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Taka","Rename {{fileType}}":"","Name":"Naran","Description":"Deskrisaun","Rename":"Tau naran foun","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"Edita","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Atualiza","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"Interpretasoens","Unlike":"","Like":"","Reply":"Hatán","Share":"Partilla","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"Kria husi","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"Filtru tuir naran","Created":"","Last updated":"Atualizasaun ikus","Type":"Tipu","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Opsoens","Hide":"Subar","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"Utilizador nia  sub-unidades","User sub-x2-units":"Utilizador nia sub-x2-unidades","Select a level":"","Select a group":"","Deselect all":"","Period type":"","Year":"Tinan","Select year":"","Period":"Períodu","Relative periods":"Peeríodus relativus","Fixed periods":"Períodus fixus","Selected Periods":"","No periods selected":"Laiha períodu selesionadu","January":"Janeiru","February":"Fevereiru","March":"Marsu","April":"Abril","May":"Mai","June":"Juñu","July":"Jullu","August":"Agostu","September":"Setembru","October":"Outubru","November":"Novembru","December":"Dezembru","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Diáriu","Weekly":"Semanal","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"Mensal","Bi-monthly":"Bimensal","Quarterly":"Trimestral","Six-monthly":"Semestral","Six-monthly April":"Abril semestral","Yearly":"Anual","Financial year (Start November)":"","Financial year (Start October)":"Outubru finanseiru","Financial year (Start July)":"Jullu finanseiru","Financial year (Start April)":"Abril finanseiru","Today":"","Yesterday":"","Last 3 days":"","Last 7 days":"","Last 14 days":"","Last 30 days":"","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Semana kotuk","Last 4 weeks":"Semana 4 ikus","Last 12 weeks":"Semana 12 ikus","Last 52 weeks":"Semana 52 ikus","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Fulan kotuk","Last 3 months":"Fulan 3 ikus","Last 6 months":"Fulan 6 ikus","Last 12 months":"Fulan 12 ikus","Months this year":"Fulan sira tinan ida ne\'e","This bi-month":"","Last bi-month":"Bimensal kotuk","Last 6 bi-months":"Bimensal 6 ikus liu","Bi-months this year":"","This quarter":"","Last quarter":"Trimestre kotuk","Last 4 quarters":"Trimestre 4 ikus liu","Quarters this year":"Trimestres sira tinan ida ne\'e","This six-month":"","Last six-month":"Fulan-nén ikus","Last 2 six-month":"","This financial year":"Tinan finanseiru ida ne\'e","Last financial year":"Tinan finanseiru kotuk","Last 5 financial years":"Tinan finanseiru 5 ikus","This year":"Tina ida ne\'e","Last year":"Tinan kotuk","Last 5 years":"Tinan 5 kotuk","Last 10 years":"","Days":"","Weeks":"Semanas","Bi-weeks":"","Months":"Fulan","Bi-months":"Bimensal","Quarters":"Trimestres","Six-months":"Fulan-nén","Financial Years":"","Years":"Tinan","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Séries","Category":"Kategoria","Filter":"Filtru","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"","Select a program":"","Indicators":"Indikadores","Indicator group":"","All groups":"","Indicator":"Indikador","No indicator groups found":"","Loading indicator groups":"","Data elements":"Elementus dadus","Data element group":"","Data element":"Elementu dadus","No data element groups found":"","Loading data element groups":"","Data sets":"Pakote dadus","Data set":"Pakote dadus","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"","Extra Small":"","Small":"Kiik","Regular":"","Large":"Bo\'ot","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Dadus","Organisation unit":"Unidade organizasional","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"Koluna","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"Tendensia","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Alvu","Base":"Baze","Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""}'),A=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"","No data":"Ягон иттилоот нест","Loading":"Бор мешавад","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"Тоза кардан","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Ҷустуҷӯ","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Бекор кардан","Delete":"Нест кардан","File":"Файл","New":"Нав","Open…":"","Save":"Захира кардан","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"Пӯшидан","Rename {{fileType}}":"","Name":"Ном","Description":"Тавсиф","Rename":"Ивази ном","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"Таҳрир","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Навсозӣ","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"Тафсирҳо","Unlike":"","Like":"","Reply":"Ҷавоб додан","Share":"Мубодила","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"","Created by":"","Anyone":"","Only you":"","Others":"Дигарҳо","Not supported by this app yet":"","Filter by name":"Филтркунӣ аз рӯи ном","Created":"","Last updated":"Навсозии охирин","Type":"Навъ","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Имконот","Hide":"Пинҳон кардан","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"","User sub-units":"","User sub-x2-units":"","Select a level":"","Select a group":"","Deselect all":"","Period type":"Навъи давара","Year":"Сол","Select year":"","Period":"Давра","Relative periods":"Давраҳои нисбӣ","Fixed periods":"Давраҳои собит","Selected Periods":"","No periods selected":"Ягон давра инитихоб нашудааст","January":"Январ","February":"Феврал","March":"Март","April":"Апрел","May":"Май","June":"Июн","July":"Июл","August":"Август","September":"Сентябр","October":"Октябр","November":"Ноябр","December":"Декабр","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Ҳаррӯза","Weekly":"Ҳафтаина","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"","Monthly":"Моҳона","Bi-monthly":"Ду маротиба дар як моҳ","Quarterly":"Семоҳа","Six-monthly":"Шашмоҳа","Six-monthly April":"","Yearly":"Солона","Financial year (Start November)":"","Financial year (Start October)":"","Financial year (Start July)":"","Financial year (Start April)":"","Today":"Имрӯз","Yesterday":"Дирӯз","Last 3 days":"","Last 7 days":"7 рӯзи охир","Last 14 days":"","Last 30 days":"30 рӯзи охир","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"","Last week":"Ҳафтаи гузашта","Last 4 weeks":"4 ҳафтаи охир","Last 12 weeks":"12 ҳафтаи охир","Last 52 weeks":"","Weeks this year":"","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"","Last month":"Моҳи гузашта","Last 3 months":"3 моҳи охир","Last 6 months":"6 моҳи охир","Last 12 months":"12 моҳи охир","Months this year":"Моҳҳо дар ин сол","This bi-month":"","Last bi-month":"Думоҳаи охир","Last 6 bi-months":"6 думоҳаи охир","Bi-months this year":"","This quarter":"","Last quarter":"Семоҳаи охир","Last 4 quarters":"4 семоҳаи охир","Quarters this year":"Семоҳаҳои ин сол","This six-month":"","Last six-month":"Шашмоҳаи охир","Last 2 six-month":"","This financial year":"","Last financial year":"Соли молиявии гузашта","Last 5 financial years":"5 соли молиявии гузашта","This year":"Имсол","Last year":"Соли гузашта","Last 5 years":"5 соли охир","Last 10 years":"","Days":"","Weeks":"Ҳафтаҳо","Bi-weeks":"","Months":"Моҳҳо","Bi-months":"Думоҳаҳо","Quarters":"Семоҳаҳо","Six-months":"Шашмоҳаҳо","Financial Years":"","Years":"Солҳо","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Силсила","Category":"Категория","Filter":"Филтр","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"","Actual reports on time":"","Expected reports":"","Program":"Барнома","Select a program":"","Indicators":"Индикаторҳо","Indicator group":"Гурӯҳи индикаторҳо","All groups":"","Indicator":"Индикатор","No indicator groups found":"","Loading indicator groups":"","Data elements":"Унсурҳои иттилоот","Data element group":"Гурӯҳи унсурҳои иттилоот","Data element":"Унсури иттилоот","No data element groups found":"","Loading data element groups":"","Data sets":"Маҷмӯъҳои иттилоот","Data set":"Маҷмӯи иттилоот","All data sets":"","Loading data sets":"","Event data items":"","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"","Program indicator":"Идоракунии индикатори барнома","Extra Small":"","Small":"Хурд","Regular":"Муқаррарӣ","Large":"Калон","Extra Large":"","Left":"Чап","Center":"","Right":"Рост","Start":"Оғоз","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Иттилоот","Organisation unit":"Воҳиди сохторӣ","Assigned Categories":"","Pivot table":"","Area":"","Stacked area":"","Bar":"","Stacked bar":"","Column":"Сутун","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"Майлон","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Нақша","Base":"Замина","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),O=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Немає опису","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times_0":"","Viewed {{count}} times_1":"","Viewed {{count}} times_2":"","Viewed {{count}} times_3":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"Всі типи","Totals only":"","Details only":"","Disaggregation":"","No data":"Немає даних","Loading":"Завантаження","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Всі метрики","Move to {{axisName}}":"","Add to {{axisName}}":"Додати до {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"Додати призначені категорії","Remove":"Прибрати","Filter dimensions":"Виміри фільтра","Main dimensions":"Основні виміри","Your dimensions":"Ваші виміри","Dimension recommended with selected data":"","All items":"Всі елементи","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Пошук","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Скасувати","Delete":"Видалити","File":"Файл","New":"Нове","Open…":"","Save":"Зберегти","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Відкрити в цьому додатку","Close":"Закрити","Rename {{fileType}}":"","Name":"Ім\'я","Description":"Змалювання","Rename":"Перейменувати","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"звіт про подію","line list":"","map":"мапа","visualization":"","Edit":"Редагувати","Write a reply":"Написати відповідь","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Оновити","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Написати інтерпретацію","Post interpretation":"","Interpretations":"Інтерпретації","Unlike":"Прибрати вподобання","Like":"Вподобати","Reply":"Відповісти","Share":"Поділитися","See interpretation":"","Manage sharing":"Керування спільним доступом","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Результатів не знайдено","Not available offline":"Недоступно в автономному режимі","Created by":"Створено","Anyone":"","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"Відфільтрувати за іменем","Created":"Створено","Last updated":"Останнє оновлення","Type":"Тип","Clear filters":"Очистити фільтри","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Відкрити","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Створити новий","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Опції","Hide":"Сховати","{{count}} org units_0":"","{{count}} org units_1":"","{{count}} org units_2":"","{{count}} org units_3":"","{{count}} levels_0":"","{{count}} levels_1":"","{{count}} levels_2":"","{{count}} levels_3":"","{{count}} groups_0":"","{{count}} groups_1":"","{{count}} groups_2":"","{{count}} groups_3":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Організаційний підрозділ користувачів","User sub-units":"Одиниці підрозділів користувачів","User sub-x2-units":"Підрозділи користувачів 2-го рівня","Select a level":"Вибрати рівень","Select a group":"Вибрати групу","Deselect all":"Скасувати вибір усіх","Period type":"","Year":"Рік","Select year":"","Period":"Період","Relative periods":"Відносні періоди","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"Січень","February":"Лютий","March":"Березень","April":"Квітень","May":"Травень","June":"Червень","July":"Липень","August":"Серпень","September":"Вересень","October":"Жовтень","November":"Листопад","December":"Грудень","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"Щодня","Weekly":"Щотижня","Weekly (Start Wednesday)":"","Weekly (Start Thursday)":"","Weekly (Start Saturday)":"","Weekly (Start Sunday)":"","Bi-weekly":"Щодвотижневий","Monthly":"Щомісячно","Bi-monthly":"Щодва місяці","Quarterly":"Щоквартально","Six-monthly":"Раз на півріччя","Six-monthly April":"Раз на півріччя квітень","Yearly":"Щорічно","Financial year (Start November)":"","Financial year (Start October)":"Фінансовий рік (Початок у жовтні)","Financial year (Start July)":"Фінансовий рік (Початок у липні)","Financial year (Start April)":"Фінансовий рік (Початок у квітні)","Today":"Сьогодні","Yesterday":"Вчора","Last 3 days":"Минулі 3 дні","Last 7 days":"Минулі 7 днів","Last 14 days":"Минулі 14 днів","Last 30 days":"Останні 30 днів","Last 60 days":"Останні 60 днів","Last 90 days":"Останні 90 днів","Last 180 days":"Останні 180 днів","This week":"Поточний тиждень","Last week":"Минулий тиждень","Last 4 weeks":"Останні 4 тижні","Last 12 weeks":"Останні 12 тижнів","Last 52 weeks":"Останні 52 тижні","Weeks this year":"Тижні поточного року","This bi-week":"Теперішній двотижневий проміжок","Last bi-week":"Попередній двотижневий проміжок","Last 4 bi-weeks":"Попередні 4 двотижневі проміжки","This month":"Поточний місяць","Last month":"Останній місяць","Last 3 months":"Останні 3 місяці","Last 6 months":"Останні 6 місяців","Last 12 months":"Останні 12 місяців","Months this year":"Місяців поточного року","This bi-month":"Поточний двомісячний період","Last bi-month":"Останні два місяці","Last 6 bi-months":"Останні 6 двомісячних періоди","Bi-months this year":"Щодва місяці поточного року","This quarter":"Поточний квартал","Last quarter":"Минулий квартал","Last 4 quarters":"Останні 4 квартали","Quarters this year":"Квартали поточного року","This six-month":"Поточне півріччя","Last six-month":"Останнє півріччя","Last 2 six-month":"","This financial year":"Поточний фінансовий рік","Last financial year":"Минулий фінансовий рік","Last 5 financial years":"Останні 5 фінансових років","This year":"Поточний рік","Last year":"Минулий рік","Last 5 years":"Останні 5 років","Last 10 years":"Останні 10 років","Days":"Дні","Weeks":"Тижні","Bi-weeks":"Двотижневі проміжки","Months":"Місяці","Bi-months":"Двомісячні періоди","Quarters":"Квартали","Six-months":"Півріччя","Financial Years":"","Years":"Роки","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"Серія","Category":"Категорія","Filter":"Фільтр","Columns":"","Rows":"","Points":"","Reporting rate":"Частота повідомлень","Reporting rate on time":"Частота повідомлень у часі","Actual reports":"Фактичні звіти","Actual reports on time":"Фактичні звіти за часом","Expected reports":"Очікувані звіти","Program":"Програма","Select a program":"","Indicators":"Показники","Indicator group":"Група показників","All groups":"","Indicator":"Показник","No indicator groups found":"","Loading indicator groups":"","Data elements":"Елементи даних","Data element group":"Група елементів даних","Data element":"Елемент даних","No data element groups found":"","Loading data element groups":"","Data sets":"Набори даних","Data set":"Набір даних","All data sets":"","Loading data sets":"","Event data items":"Складові дані події","All programs":"","Event data item":"","No programs found":"","Loading programs":"","Program indicators":"Програмні показники","Program indicator":"Program indicator","Extra Small":"","Small":"Маленький","Regular":"","Large":"Великий","Extra Large":"","Left":"","Center":"","Right":"","Start":"","Middle":"","End":"","Top":"Верх","Bottom":"Низ","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Дані","Organisation unit":"Організаційний підрозділ","Assigned Categories":"","Pivot table":"Зведена таблиця","Area":"З областями","Stacked area":"З областями з накопиченням","Bar":"Гістограма","Stacked bar":"Гістограма з накопиченням","Column":"Стовпчик","Year over year (column)":"Рік за роком (стовпчик)","Stacked column":"Стовпчаста з накопиченням","Gauge":"Індикатор","Line":"Лінійна","Line list":"Перелік рядків","Year over year (line)":"Рік за роком (лінія)","Pie":"Секторна","Radar":"Пелюсткова","Scatter":"Точкова","Single value":"Одне значення","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"Ціль","Base":"","Axis {{axisId}}":"Вісь {{axisId}}","{{count}} items_0":"","{{count}} items_1":"","{{count}} items_2":"","{{count}} items_3":"","Reset zoom":""}'),E=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"کوئی وضاحت نہیں","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Viewed {{count}} times_plural":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"ناجائز","No data":"کوئی مواد نہیں","Loading":"لوڈ کر رہا ہے","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"تمام میٹرکس","Move to {{axisName}}":"","Add to {{axisName}}":"","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"حذف","Filter dimensions":"","Main dimensions":"","Your dimensions":"","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"تلاش کریں","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"منسوخ","Delete":"حذف","File":"فائل","New":"نیا","Open…":"","Save":"محفوظ","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"بند","Rename {{fileType}}":"","Name":"ÙØ§Ù","Description":"تفصیلات","Rename":"نام بدلو","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"ترمیم","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"اپڈیٹ","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"تشریحات","Unlike":"برعکس","Like":"کی طرح","Reply":"جواب","Share":"بانٹیں","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"پیش نظارہ","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"کوئی نتیجہ نہیں ملا","Created by":"تخلیق کیا","Anyone":"","Only you":"","Others":"دیگر","Not supported by this app yet":"","Filter by name":"فلٹر برائے نام","Created":"تخلیق","Last updated":"آخری اپ ڈیٹ","Type":"ٹائپ","Clear filters":"","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"کھلا","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"اختیارات","Hide":"چھپائیں","{{count}} org units":"","{{count}} org units_plural":"","{{count}} levels":"","{{count}} levels_plural":"","{{count}} groups":"","{{count}} groups_plural":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"صارف تنظیم یونٹ","User sub-units":"صارف ذیلی یونٹس","User sub-x2-units":"صارف ذیلی X2-یونٹس","Select a level":"","Select a group":"","Deselect all":"سب کو منتخب کریں","Period type":"مدت کی قسم","Year":"سال","Select year":"سال کو منتخب کریں","Period":"مدت","Relative periods":"رشتہ دار دور","Fixed periods":"فکسڈ مدت","Selected Periods":"","No periods selected":"کوئی مدت منتخب نہیں","January":"جنوری","February":"فروری","March":"مارچ","April":"اپریل","May":"مئی","June":"جون","July":"جولائی","August":"اگست","September":"ستمبر","October":"اکتوبر","November":"نومبر","December":"دسمبر","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"روزانہ","Weekly":"ہفتہ وار","Weekly (Start Wednesday)":"ہفتہ وار (بدھ شروع کریں)","Weekly (Start Thursday)":"ہفتہ وار (جمعرات شروع کریں)","Weekly (Start Saturday)":"ہفتہ وار (ہفتہ شروع کریں)","Weekly (Start Sunday)":"ہفتہ (اتوار شروع کریں)","Bi-weekly":"","Monthly":"ماہانہ","Bi-monthly":"دو ماہی","Quarterly":"سہ ماہی","Six-monthly":"چھ ماہی","Six-monthly April":"چھ ماہی اپریل","Yearly":"سالانہ","Financial year (Start November)":"","Financial year (Start October)":"مالی سال (اکتوبر شروع کریں)","Financial year (Start July)":"مالی سال (جولائی شروع کریں)","Financial year (Start April)":"مالی سال (اپریل شروع کریں)","Today":"آج","Yesterday":"کل","Last 3 days":"آخری 3 دن","Last 7 days":"آخری 7 دن","Last 14 days":"آخری 14 دن","Last 30 days":"آخری 30 دن","Last 60 days":"","Last 90 days":"","Last 180 days":"","This week":"اس ہفتے","Last week":"آخری ہفتہ","Last 4 weeks":"آخری ۴ ہفتے","Last 12 weeks":"آخری ۱۲ ہفتے","Last 52 weeks":"آخری ۵۲ ہفتے","Weeks this year":"اس سال ہفتہ","This bi-week":"","Last bi-week":"","Last 4 bi-weeks":"","This month":"اس مہینے","Last month":"آخری ماہ","Last 3 months":"آخری ۳ ماہ","Last 6 months":"آخری ۶ ماہ","Last 12 months":"آخری ۱۲ ماہ","Months this year":"ماہ اس سال","This bi-month":"یہ دو ماہ","Last bi-month":"آخری دو ماہ","Last 6 bi-months":"آخری ۶ دو ماہانہ","Bi-months this year":"اس مہینے میں مہینے","This quarter":"اس سہ ماہی","Last quarter":"آخری سہ ماہ","Last 4 quarters":"آخری ۴ سہ ماہی","Quarters this year":"سہ ماہی اس سال","This six-month":"یہ چھ ماہ","Last six-month":"آخری ۶ ماہ","Last 2 six-month":"","This financial year":"اس مالیاتی سال","Last financial year":"آخری مالیاتی سال","Last 5 financial years":"آخری ۵ مالیاتی سال","This year":"اس سال","Last year":"آخری سال","Last 5 years":"آخری ۵ سال","Last 10 years":"آخری 10 سال","Days":"دن","Weeks":"ہفتوں","Bi-weeks":"","Months":"مہینے","Bi-months":"دو ماہ","Quarters":"چوتھائی","Six-months":"چھ ماہ","Financial Years":"","Years":"سال","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"سیریز","Category":"قسم","Filter":"فلٹر","Columns":"","Rows":"","Points":"","Reporting rate":"","Reporting rate on time":"","Actual reports":"اصل رپورٹ","Actual reports on time":"","Expected reports":"متوقع رپورٹ","Program":"پروگرام","Select a program":"","Indicators":"اشارے","Indicator group":"اشاروں کا گروپ","All groups":"","Indicator":"اشارے","No indicator groups found":"","Loading indicator groups":"","Data elements":"ڈیٹا عنصر","Data element group":"ڈیٹا عناصر گروپ","Data element":"ڈیٹا عنصر","No data element groups found":"","Loading data element groups":"","Data sets":"ڈیٹا سیٹس","Data set":"ڈیٹا سیٹ","All data sets":"","Loading data sets":"","Event data items":"واقعہ کے اعداد و شمار کی اشیاء","All programs":"","Event data item":"واقعہ کے اعداد و شمار کے آئٹم","No programs found":"","Loading programs":"","Program indicators":"پروگرام اشارے","Program indicator":"پروگرام کا اشارہ","Extra Small":"","Small":"چھوٹے","Regular":"باقاعدہ","Large":"بڑے","Extra Large":"","Left":"بائیں","Center":"","Right":"ٹھیک ہے","Start":"شروع کریں","Middle":"","End":"","Top":"اوپر","Bottom":"نیچے","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"ڈیٹا","Organisation unit":"تنظیم یونٹ","Assigned Categories":"","Pivot table":"","Area":"رقبہ","Stacked area":"","Bar":"بار","Stacked bar":"اسٹیک بار","Column":"کالم","Year over year (column)":"","Stacked column":"اسٹیک کالم","Gauge":"گیج","Line":"لائن","Line list":"","Year over year (line)":"","Pie":"پائی","Radar":"رڈار","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"رجحان","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"ہدف","Base":"بنیاد","Axis {{axisId}}":"","{{count}} items":"","{{count}} items_plural":"","Reset zoom":""}'),P=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Тавсиф йўқ","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"Билдиришномалар","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Маълумот тури","All types":"Барча турлари","Totals only":"","Details only":"","Disaggregation":"Ажратиш","No data":"Маълумот йўқ","Loading":"Юкланмоқда","Search by data item name":"","No items selected":"Элемент танланмаган","Selected Items":"Элемент танланган","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Барча кўрсатгичлар","Move to {{axisName}}":"Ҳаракатланинг {{axisName}} га қараб","Add to {{axisName}}":"{{axisName}} га қўшинг","Not available for {{visualizationType}}":"{{visualizationType}} учун мавжуд эмас","Remove Assigned Categories":"Белгиланган категориялар ўчирилсин","Add Assigned Categories":"Белгиланган категориялар қўшилсин","Remove":"Олиб ташлаш","Filter dimensions":"Фильтр созламалари","Main dimensions":"Умумий ўлчамлар","Your dimensions":"Сизнинг созламаларингиз","Dimension recommended with selected data":"Танланган маълумотлар учун созламалар тавсия этилади","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Излаш","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Бекор қилиш","Delete":"Ўчириб ташлаш","File":"Файл","New":"Янги","Open…":"","Save":"Сақлаш","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ушбу иловада очинг","Close":"Ёпиш","Rename {{fileType}}":"","Name":"Исми","Description":"Тавсиф","Rename":"Қайта номлашч","{{objectName}} (copy)":"","Save {{fileType}} as":"","event report":"ҳодиса/тадбир ҳисоботи","line list":"","map":"харита","visualization":"","Edit":"Таҳрирлаш","Write a reply":"Изоҳ ёзинг","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Янгилаш","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Талқин ёзиш","Post interpretation":"","Interpretations":"Талқинлар","Unlike":"Аксинча","Like":"Каби, ўхшаш","Reply":"Изоҳ","Share":"Улашиш","See interpretation":"","Manage sharing":"Улашишни бошқариш","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"Олдиндан кўриш","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Ҳеч қандай натижа топилмади","Not available offline":"Оффлайн режимда мавжуд эмас","Created by":"Томонидан яратилган","Anyone":"Кимдир","Only you":"","Others":"Бошқалар","Not supported by this app yet":"","Filter by name":"Номи бўйича фильтрлаш","Created":"Яратилган","Last updated":"Охирги янгиланган","Type":"Тури","Clear filters":"Фильтрларни тозалаш","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Очиқ","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Янгисини яратиш","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Вариант","Hide":"Беркитиш","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 поғонадаги бўлимлар","Select a level":"Поғонани танланг","Select a group":"Гуруҳни танланг","Deselect all":"Барча танланганни бекор қилиш","Period type":"Давр тури","Year":"Йил","Select year":"Йилни танланг","Period":"Давр","Relative periods":"Нисбий даврлар","Fixed periods":"Белигаланган даврлар","Selected Periods":"Танланган Даврлар","No periods selected":"Давр танланмаган","January":"Январь","February":"Февраль","March":"Март","April":"Апрель","May":"Май","June":"Июнь","July":"Июль","August":"Август","September":"Сентябрь","October":"Октябрь","November":"Ноябрь","December":"Декабрь","Week {{weekNumber}}":"Ҳафта {{ҳафтаРақам}}","Bi-Week {{biWeekNumber}}":"Жуфт ҳафта {{жуфтҲафтаРақам}}","Daily":"Кунлик","Weekly":"Ҳафталик","Weekly (Start Wednesday)":"Ҳафталик (Бошланиши Чоршанба)","Weekly (Start Thursday)":"Ҳафталик (Бошланиши Пайшанба)","Weekly (Start Saturday)":"Ҳафталик (Бошланиши Шанба)","Weekly (Start Sunday)":"Ҳафталик (Бошланиши Якшанба)","Bi-weekly":"Жуфт ҳафталик","Monthly":"Ойлик","Bi-monthly":"Жуфт ойлик","Quarterly":"Ҳар квартал","Six-monthly":"Ярим йиллик","Six-monthly April":"Ярим йиллик Апрель","Yearly":"Йиллик","Financial year (Start November)":"Молиявий йил (Бошланиши Ноябрь)","Financial year (Start October)":"Молиявий йил (бошланиши Октябрь)","Financial year (Start July)":"Молиявий йил (бошланиши Июль)","Financial year (Start April)":"Молиявий йил (бошланиши Апрель)","Today":"Бугун","Yesterday":"Кеча","Last 3 days":"Охирги 3 кун","Last 7 days":"Охирги 7 кун","Last 14 days":"Охирги 14 кун","Last 30 days":"Охирги 30 кун","Last 60 days":"Охирги 60 кун","Last 90 days":"Охирги 90 кун","Last 180 days":"Охирги 180 кун","This week":"Ушбу ҳафта","Last week":"Охирги ҳафта","Last 4 weeks":"Охирги 4 ҳафта","Last 12 weeks":"Охирги 12 ҳафта","Last 52 weeks":"Охирги 52 ҳафта","Weeks this year":"Ҳафталар айни йилда ","This bi-week":"Ушбу жуфт ҳафта","Last bi-week":"Охирги жуфт ҳафта","Last 4 bi-weeks":"Охирги 4 жуфт ҳафталар","This month":"Ушбу ой","Last month":"Охирги ой","Last 3 months":"Охирги 3 ой","Last 6 months":"Охирги 6 ой","Last 12 months":"Охирги 12 ой","Months this year":"Ойлар айни йилда","This bi-month":"Ушбу жуфт ой","Last bi-month":"Охирги 2 ой","Last 6 bi-months":"Охирги 6 жуфт ойлар","Bi-months this year":"Айни йилдаги жуфт ойлар","This quarter":"Ушбу квартал","Last quarter":"Охирги квартал","Last 4 quarters":"Охирги 4 квартал","Quarters this year":"Ушбу йилдаги кварталлар","This six-month":"Ушбу ярим йиллик","Last six-month":"Охирги 6 ой","Last 2 six-month":"Охирги жуфт ярим йиллик","This financial year":"Ушбу молиявий йил","Last financial year":"Охирги молиявий йил","Last 5 financial years":"Охирги 5 молиявий йиллар","This year":"Ушбу йил","Last year":"Охирги йил","Last 5 years":"Охирги 5 йил","Last 10 years":"Охирги 10 йил","Days":"Кунлар","Weeks":"Ҳафталар","Bi-weeks":"Жуфт ҳафталар","Months":"Ойлар","Bi-months":"2 ой","Quarters":"Квартал","Six-months":"Ярим йиллик","Financial Years":"Молиявий йиллар","Years":"Йиллар","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Cannot save while offline":"","Could not load translations":"","Retry":"","Series":"Кетма-кетликлар","Category":"Категория","Filter":"Фильтр","Columns":"Устунлар","Rows":"Қаторлар","Points":"Нуқталар","Reporting rate":"Ҳисоботдаги ставка","Reporting rate on time":"Ҳисоботдаги ставка ўз вақтида","Actual reports":"Ҳақиқий ҳисоботлар","Actual reports on time":"Ҳақиқий ҳисоботлар ўз вақтида","Expected reports":"Кутилаётган ҳисоботлар","Program":"Программа","Select a program":"Дастурни танланг","Indicators":"Индикаторлар","Indicator group":"Индикатор гуруҳи","All groups":"","Indicator":"Индикатор","No indicator groups found":"","Loading indicator groups":"","Data elements":"Маълумот элементлари","Data element group":"Маълумотлар элементи гуруҳи","Data element":"Маълумотлар элементи","No data element groups found":"","Loading data element groups":"","Data sets":"Маълумотлар тўплами","Data set":"Маълумотлар тўплами","All data sets":"","Loading data sets":"","Event data items":"Ҳодисалар ҳақида маълумот элементлари","All programs":"","Event data item":"Ҳодиса/Тадбир маълумоти элементи","No programs found":"","Loading programs":"","Program indicators":"Дастур индикаторлари","Program indicator":"Дастур индикатори","Extra Small":"Жуда Кичик","Small":"Кичик","Regular":"Регуляр","Large":"Катта","Extra Large":"Жуда Катта","Left":"Чап","Center":"Марказ","Right":"Ўнг","Start":"Бошлаш","Middle":"Ўртав","End":"Охири","Top":"Юқоридаги","Bottom":"Пастки","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ва {{lastOuName}}","{{allDynamicOuNames}} levels":"Барча {{allDynamicOuNames}} поғоналар","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} гуруҳлар","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} поғоналар {{staticOuNames}} ичида","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} гуруҳлар {{staticOuNames}} ичида","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Маълумот","Organisation unit":"Ташкилий бўлим","Assigned Categories":"Белгиланган Категориялар","Pivot table":"Солиштирма жадвал","Area":"Майдон","Stacked area":"Йиғилган майдон","Bar":"Тизимча","Stacked bar":"Йиғилган тизимча","Column":"Устун","Year over year (column)":"Йилдан йилга (устун)","Stacked column":"Йиғилган устун","Gauge":"Ҳисоблагич","Line":"Қатор","Line list":"Қаторлар рўйхати","Year over year (line)":"Йилдан йилга (қатор)","Pie":"Бутун айлана","Radar":"Радар","Scatter":"Тарқоқлик","Single value":"Ягона қиймат","All charts":"","{{seriesName}} (trend)":"","Trend":"Йўналиш","No legend for this series":"Ушбу серия учун таъриф мавжуд эмас","and {{amount}} more...":"","Linear Regression":"","Target":"Нишон","Base":"Асос","Axis {{axisId}}":"Ўқлар {{axisId}}","{{count}} items":"","Reset zoom":""}'),M=JSON.parse('{"Data Type":"Маълумот тури","Totals":"Жами","Details":"Тафсилотлари","Detail":"Тафсилот","Move to {{axisName}}":"Ҳаракатланинг {{axisName}} га қараб","Add to {{axisName}}":"{{axisName}} га қўшинг","Remove":"Ўчириш","Not available for {{visualizationType}}":"{{visualizationType}} учун мавжуд эмас","Remove Assigned Categories":"Белгиланган категориялар ўчирилсин","Add Assigned Categories":"Белгиланган категориялар қўшилсин","Filter dimensions":"Фильтр созламалари","Main dimensions":"Умумий ўлчамлар","Your dimensions":"Сизнинг созламаларингиз","Dimension recommended with selected data":"Танланган маълумотлар учун созламалар тавсия этилади","No items selected":"Элемент танланмаган","Selected Items":"Элемент танланган","Search":"Излаш","Selected Data":"Танланган маълумот","Deselect All":"Барчасини танланганлигини бекор қилиш","Select all":"Барчасини танлаш","Period type":"Давр тури","Year":"Йил","Select year":"Йилни танланг","Period":"Давр","Relative periods":"Нисбий даврлар","Fixed periods":"Белигаланган даврлар","Selected Periods":"Танланган Даврлар","No periods selected":"Давр танланмаган","January":"Январь","February":"Февраль","March":"Март","April":"Апрель","May":"Май","June":"Июнь","July":"Июль","August":"Август","September":"Сентябрь","October":"Октябрь","November":"Ноябрь","December":"Декабрь","Week {{weekNumber}}":"Ҳафта {{ҳафтаРақам}}","Bi-Week {{biWeekNumber}}":"Жуфт ҳафта {{жуфтҲафтаРақам}}","Daily":"Кунлик","Weekly":"Ҳафталик","Bi-weekly":"Жуфт ҳафталик","Weekly (Start Wednesday)":"Ҳафталик (Бошланиши Чоршанба)","Weekly (Start Thursday)":"Ҳафталик (Бошланиши Пайшанба)","Weekly (Start Saturday)":"Ҳафталик (Бошланиши Шанба)","Weekly (Start Sunday)":"Ҳафталик (Бошланиши Якшанба)","Monthly":"Ойлик","Bi-monthly":"Жуфт ойлик","Quarterly":"Ҳар квартал","Six-monthly":"Ярим йиллик","Six-monthly April":"Ярим йиллик Апрель","Yearly":"Йиллик","Financial year (Start November)":"Молиявий йил (Бошланиши Ноябрь)","Financial year (Start October)":"Молиявий йил (бошланиши Октябрь)","Financial year (Start July)":"Молиявий йил (бошланиши Июль)","Financial year (Start April)":"Молиявий йил (бошланиши Апрель)","Today":"Бугун","Yesterday":"Кеча","Last 3 days":"Охирги 3 кун","Last 7 days":"Охирги 7 кун","Last 14 days":"Охирги 14 кун","Last 30 days":"Охирги 30 кун","Last 60 days":"Охирги 60 кун","Last 90 days":"Охирги 90 кун","Last 180 days":"Охирги 180 кун","This week":"Ушбу ҳафта","Last week":"Охирги ҳафта","Last 4 weeks":"Охирги 4 ҳафта","Last 12 weeks":"Охирги 12 ҳафта","Last 52 weeks":"Охирги 52 ҳафта","Weeks this year":"Ҳафталар айни йилда ","This bi-week":"Ушбу жуфт ҳафта","Last bi-week":"Охирги жуфт ҳафта","Last 4 bi-weeks":"Охирги 4 жуфт ҳафталар","This month":"Ушбу ой","Last month":"Охирги ой","Last 3 months":"Охирги 3 ой","Last 6 months":"Охирги 6 ой","Last 12 months":"Охирги 12 ой","Months this year":"Ойлар айни йилда","This bi-month":"Ушбу жуфт ой","Last bi-month":"Охирги 2 ой","Last 6 bi-months":"Охирги 6 жуфт ойлар","Bi-months this year":"Айни йилдаги жуфт ойлар","This quarter":"Ушбу квартал","Last quarter":"Охирги квартал","Last 4 quarters":"Охирги 4 квартал","Quarters this year":"Ушбу йилдаги кварталлар","This six-month":"Ушбу ярим йиллик","Last six-month":"Охирги 6 ой","Last 2 six-month":"Охирги жуфт ярим йиллик","This financial year":"Ушбу молиявий йил","Last financial year":"Охирги молиявий йил","Last 5 financial years":"Охирги 5 молиявий йиллар","This year":"Ушбу йил","Last year":"Охирги йил","Last 5 years":"Охирги 5 йил","Days":"Кунлар","Weeks":"Ҳафталар","Bi-weeks":"Жуфт ҳафталар","Months":"Ойлар","Bi-months":"2 ой","Quarters":"Квартал","Six-months":"Ярим йиллик","Financial Years":"Молиявий йиллар","Years":"Йиллар","Series":"Кетма-кетликлар","Category":"Категория","Filter":"Фильтр","Columns":"Устунлар","Rows":"Қаторлар","Reporting rate":"Ҳисоботдаги ставка","Reporting rate on time":"Ҳисоботдаги ставка ўз вақтида","Actual reports":"Ҳақиқий ҳисоботлар","Actual reports on time":"Ҳақиқий ҳисоботлар ўз вақтида","Expected reports":"Кутилаётган ҳисоботлар","Program":"Программа","Select a program":"Дастурни танланг","Indicators":"Индикаторлар","Select indicator group":"Индикатор гуруҳини танлаш","[ All groups ]":"[Барча гуруҳлар]","Data elements":"Маълумот элементлари","Select data element group":"Маълумотлар элементи гуруҳини танлаш","[ All data elements ]":"[Маълумотлар барча  элементлари]","Data sets":"Маълумотлар тўплами","Select data sets":"Маълумотлар тўпламларини танланг","[ All metrics ]":"[Барча ўлчовлар]","Event data items":"Ҳодисалар ҳақида маълумот элементлари","Program indicators":"Дастур кўрсатгичлари","Extra Small":"Жуда Кичик","Small":"Кичик","Regular":"Регуляр","Large":"Катта","Extra Large":"Жуда Катта","Left":"Чап","Center":"Марказ","Right":"Ўнг","Start":"Бошлаш","Middle":"Ўртав","End":"Охири","Top":"Юқоридаги","Bottom":"Пастки","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} ва {{lastOuName}}","{{allDynamicOuNames}} levels":"Барча {{allDynamicOuNames}} поғоналар","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} гуруҳлар","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} поғоналар {{staticOuNames}} ичида","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} гуруҳлар {{staticOuNames}} ичида","Data":"Маълумот","Organisation Unit":"Ташкилий Бўлим","Assigned Categories":"Белгиланган Категориялар","Pivot table":"Таянч жадвал","Column":"Устун","Stacked column":"Йиғилган устун","Bar":"Тизимча","Stacked bar":"Йиғилган тизимча","Line":"Қатор","Area":"Майдон","Stacked area":"Йиғилган майдон","Pie":"Бутун айлана","Radar":"Радар","Gauge":"Ҳисоблагич","Year over year (line)":"Йилдан йилга (қатор)","Year over year (column)":"Йилдан йилга (устун)","Single value":"Ягона қиймат","View data and indicators in a manipulatable table.":"Бошқариладиган жадвалда индикаторлар ва маълумотларни кўздан кечиринг","Compare sizes of related element, displayed vertically. Recommend period in filter.":"Вертикал кўрсатилаётган боғланган элементлар ўлчамларини солиштиринг. Фильтр учун даврни тавсия этинг.","Compare parts of a whole against related elements, vertically. Recommend data or org. unit as series.":"Яхлитликнинг қисмларини вертикал бўйича боғлиқликларини таққосланг. Серия сифатида маълумот ёки ташкилий бўлимни тавсия этинг. ","Compare sizes of related elements, displayed horizontally. Recommend period in filter.":"Боғлиқ элементлар ўлчамларини таққосланг, горизонтал кўринишдагиларни. Фильтр ичида даврни тавсия этинг.","Compare parts of a whole against related elements, horizontally. Recommend data or org. unit as series.":"Яхлитликнинг қисмларини горизонтал бўйича боғлиқликларини таққосланг. Серия сифатида маълумот ёки ташкилий бўлимни тавсия этинг. ","Track or compare changes over time. Recommend period as the category.":"Доимий равишда кузатинг ва солиштиринг. Даврни категория сифатида тавсия этинг.","Track or compare over time parts of a whole. Recommend data in series and period in category.":"Яхлитлик қисмларини кузатинг ва солиштиринг.Маълумотларни серияларда ва даврий категорияларда тавсия этинг.","Compare parts of a whole at a single point in time. Recommend period in the filter.":"Яхлитликнинг қисмларини айни бир вақт нуқтасида таққосланг. Фильтрда даврни тавсия этинг.","Compare several items against multiple variables.":"Бир неча элементлар ва бир неча ўзгарувчиларга нисбатан таққосланг.","Compare a percentage indicator against a 100% scale. Recommend period in filter.":"100 фоизлик шкала асосида фоизлар нисбатини таққосланг. Фильтрда даврни тавсия этинг.","Compare changes over time between multiple time periods.":"Вақт ўтиши билан бир неча вақт оралиғидаги ўзгаришларни таққосланг.","Display a single value. Recommend relative period to show latest data.":"Битта қийматни кўрсатиш. Охирги маълумотларни кўрсатиш учун боғлиқ даврни таққосланг.","No legend for this series":"","Target":"Нишон","Base":"Асос","Axis {{axisId}}":"Ўқлар {{axisId}}","No data":"Маълумот йўқ"}'),I=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Tavsif yoʼq","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Maʼlumot turi","All types":"Barcha turlari","Totals only":"","Details only":"","Disaggregation":"","No data":"Maʼlumot yoʼq","Loading":"Yuklanmoqda","Search by data item name":"","No items selected":"Element tanlanmagan","Selected Items":"Element tanlangan","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Barcha koʼrsatgichlar","Move to {{axisName}}":"Harakatlaning {{axisName}} ga qarab","Add to {{axisName}}":"{{axisName}} ga qoʼshing","Not available for {{visualizationType}}":"{{visualizationType}} uchun mavjud emas","Remove Assigned Categories":"Belgilangan kategoriyalar oʼchirilsin","Add Assigned Categories":"Belgilangan kategoriyalar qoʼshilsin","Remove":"Olib tashlash","Filter dimensions":"Filtr sozlamalari","Main dimensions":"Umumiy oʼlchamlar","Your dimensions":"Sizning sozlamalaringiz","Dimension recommended with selected data":"Tanlangan maʼlumotlar uchun sozlamalar tavsiya etiladi","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Izlash","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Бекор қилиш","Delete":"Oʼchirib tashlash","File":"Fayl","New":"Yangi","Open…":"","Save":"Saqlash","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Ushbu ilovada oching","Close":"Yopmoq","Rename {{fileType}}":"","Name":"Исми","Description":"Tavsif","Rename":"Қайта номлаш","Save {{fileType}} as":"","event report":"hodisa/tadbir hisoboti","line list":"","map":"xarita","visualization":"","Edit":"Tahrirlash","Write a reply":"Izoh yozing","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Янгилаш","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Talqin yozish","Post interpretation":"","Interpretations":"Talqinlar","Unlike":"Аksincha","Like":"Kabi, oʼxshash","Reply":"Javob","Share":"Улашиш","See interpretation":"","Manage sharing":"Ulashishni boshqarish","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Hech qanday natija topilmadi","Created by":"Томонидан яратилган","Anyone":"Kimdir","Only you":"","Others":"","Not supported by this app yet":"","Filter by name":"Nomi boʼyicha filtrlash","Created":"Yaratilgan","Last updated":"Oxirgi yangilangan","Type":"Turi","Clear filters":"Filtrlarni tozalash","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Ochiq","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Yangisini yaratish","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Вариант","Hide":"Berkitish","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Ташкилий бўлим фойдаланувчиси","User sub-units":"Фойдаланувчига бўйсунувчи бирликлар","User sub-x2-units":"Фойдаланувчига бўйсунувчи 2 даражали бирликлар","Select a level":"Pogʼonani tanlang","Select a group":"Guruhni tanlang","Deselect all":"Barcha tanlanganni bekor qilish","Period type":"Davr turi","Year":"Yil","Select year":"Yilni tanlang","Period":"Davr","Relative periods":"Nisbiy davrlar","Fixed periods":"Beligalangan davrlar","Selected Periods":"Tanlangan Davrlar","No periods selected":"Davr tanlanmagan","January":"Yanvar","February":"Fevral","March":"Mart","April":"Аprel","May":"May","June":"Iyun","July":"Iyul","August":"Аvgust","September":"Sentyabr","October":"Oktyabr","November":"Noyabr","December":"Dekabr","Week {{weekNumber}}":"Hafta {{weekNumber}}","Bi-Week {{biWeekNumber}}":"Juft hafta {{biWeekNumber}}","Daily":"Kunlik","Weekly":"Haftalik","Weekly (Start Wednesday)":"Haftalik (Boshlanishi Chorshanba)","Weekly (Start Thursday)":"Haftalik (Boshlanishi Payshanba)","Weekly (Start Saturday)":"Haftalik (Boshlanishi Shanba)","Weekly (Start Sunday)":"Haftalik (Boshlanishi Yakshanba)","Bi-weekly":"Juft haftalik","Monthly":"Oylik","Bi-monthly":"Juft oylik","Quarterly":"Har kvartal","Six-monthly":"Yarim yillik","Six-monthly April":"Yarim yillik Аprel","Yearly":"Yillik","Financial year (Start November)":"Moliyaviy yil (Boshlanishi Noyabr)","Financial year (Start October)":"Moliyaviy yil (boshlanishi Oktyabr)","Financial year (Start July)":"Moliyaviy yil (boshlanishi Iyul)","Financial year (Start April)":"Moliyaviy yil (boshlanishi Аprel)","Today":"Bugun","Yesterday":"Kecha","Last 3 days":"Oxirgi 3 kun","Last 7 days":"Oxirgi 7 kun","Last 14 days":"Oxirgi 14 kun","Last 30 days":"Oxirgi 30 kun","Last 60 days":"Oxirgi 60 kun","Last 90 days":"Oxirgi 90 kun","Last 180 days":"Oxirgi 180 kun","This week":"Ushbu hafta","Last week":"Oxirgi hafta","Last 4 weeks":"Oxirgi 4 hafta","Last 12 weeks":"Oxirgi 12 hafta","Last 52 weeks":"Oxirgi 52 hafta","Weeks this year":"Haftalar ayni yilda","This bi-week":"Ushbu juft hafta","Last bi-week":"Oxirgi juft hafta","Last 4 bi-weeks":"Oxirgi 4 juft haftalar","This month":"Ushbu oy","Last month":"Oxirgi oy","Last 3 months":"Oxirgi 3 oy","Last 6 months":"Oxirgi 6 oy","Last 12 months":"Oxirgi 12 oy","Months this year":"Oylar ayni yilda","This bi-month":"Ushbu juft oy","Last bi-month":"Oxirgi 2 oy","Last 6 bi-months":"Oxirgi 6 juft oylar","Bi-months this year":"Аyni yildagi juft oylar","This quarter":"Ushbu kvartal","Last quarter":"Oxirgi kvartal","Last 4 quarters":"Oxirgi 4 kvartal","Quarters this year":"Ushbu yildagi kvartallar","This six-month":"Ushbu yarim yillik","Last six-month":"Oxirgi 6 oy","Last 2 six-month":"Oxirgi juft yarim yillik","This financial year":"Ushbu moliyaviy yil","Last financial year":"Oxirgi moliyaviy yil","Last 5 financial years":"Oxirgi 5 moliyaviy yillar","This year":"Ushbu yil","Last year":"Oxirgi yil","Last 5 years":"Oxirgi 5 yil","Last 10 years":"Oxirgi 10 yil","Days":"Kunlar","Weeks":"Haftalar","Bi-weeks":"Juft haftalar","Months":"Oylar","Bi-months":"2 oy","Quarters":"Kvartal","Six-months":"Yarim yillik","Financial Years":"Moliyaviy yillar","Years":"Yillar","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Ketma-ketliklar","Category":"Kategoriya","Filter":"Filtr","Columns":"Ustunlar","Rows":"Qatorlar","Points":"Nuqtalar","Reporting rate":"Hisobotdagi stavka","Reporting rate on time":"Hisobotdagi stavka oʼz vaqtida","Actual reports":"Haqiqiy hisobotlar","Actual reports on time":"Haqiqiy hisobotlar oʼz vaqtida","Expected reports":"Kutilayotgan hisobotlar","Program":"Programma","Select a program":"Dasturni tanlang","Indicators":"Indikatorlar","Indicator group":"Koʼrsatgich guruhi","All groups":"","Indicator":"Indikator","No indicator groups found":"","Loading indicator groups":"","Data elements":"Maʼlumot elementlari","Data element group":"Maʼlumotlar elementi guruhi","Data element":"Maʼlumotlar elementi","No data element groups found":"","Loading data element groups":"","Data sets":"Maʼlumotlar toʼplami","Data set":"Maʼlumotlar toʼplami","All data sets":"","Loading data sets":"","Event data items":"Hodisalar haqida maʼlumot elementlari","All programs":"","Event data item":"Hodisa/Tadbir maʼlumoti elementi","No programs found":"","Loading programs":"","Program indicators":"Dastur indikatorlari","Program indicator":"Dastur indikatori","Extra Small":"Juda Kichik","Small":"Kichik","Regular":"Regulyar","Large":"Katta","Extra Large":"Juda Katta","Left":"Chap","Center":"Markaz","Right":"Oʼng","Start":"Boshlash","Middle":"Oʼrtav","End":"Oxiri","Top":"Yuqoridagi","Bottom":"Pastki","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} va {{lastOuName}}","{{allDynamicOuNames}} levels":"Barcha {{allDynamicOuNames}} pogʼonalar","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} guruhlar","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} pogʼonalar {{staticOuNames}} ichida","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} guruhlar {{staticOuNames}} ichida","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Maʼlumot","Organisation unit":"Ташкилий бирлик","Assigned Categories":"Belgilangan Kategoriyalar","Pivot table":"Solishtirma jadval","Area":"Maydon","Stacked area":"Yigʼilgan maydon","Bar":"Tizimcha","Stacked bar":"Yigʼilgan tizimcha","Column":"Ustun","Year over year (column)":"Yildan yilga (ustun)","Stacked column":"Yigʼilgan ustun","Gauge":"Hisoblagich","Line":"Qator","Line list":"Qatorlar roʼyxati","Year over year (line)":"Yildan yilga (qator)","Pie":"Butun aylana","Radar":"Radar","Scatter":"Tarqoqlik","Single value":"Yagona qiymat","All charts":"","{{seriesName}} (trend)":"","Trend":"Yoʼnalish","No legend for this series":"Ushbu seriya uchun taʼrif mavjud emas","and {{amount}} more...":"","Linear Regression":"","Target":"Nishon","Base":"Аsos","Axis {{axisId}}":"Oʼqlar {{axisId}}","{{count}} items":"","Reset zoom":""}'),D=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"Không mô tả","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"Loại dữ liệu","All types":"Các loại","Totals only":"","Details only":"","Disaggregation":"Phân Tách Phần Tử Dữ Liệu","No data":"Không có dữ liệu","Loading":"Đang tải","Search by data item name":"","No items selected":"Không có mục nào được chọn","Selected Items":"Các mục đã chọn","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"Tất cả hệ đo lường","Move to {{axisName}}":"Di chuyển đến {{axisName}}","Add to {{axisName}}":"Thêm {{tên trục}","Not available for {{visualizationType}}":"Không có sẵn cho {{visualizationType}}","Remove Assigned Categories":"Xóa phân loại đã chỉ định","Add Assigned Categories":"Thêm phân loại được chỉ định","Remove":"Tháo ra","Filter dimensions":"Các chiều lọc","Main dimensions":"Các chiều chính","Your dimensions":"Các chiều dữ liệu của bạn","Dimension recommended with selected data":"Chiều được đề xuất với dữ liệu đã chọn","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"Tìm kiếm","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"Hủy","Delete":"Xóa","File":"Tập tin","New":"Mới","Open…":"","Save":"Lưu lại","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"Mở trong ứng dụng này","Close":"Đóng lại","Rename {{fileType}}":"","Name":"Tên","Description":"Miêu tả","Rename":"Đổi tên","Save {{fileType}} as":"","event report":"báo cáo sự kiện","line list":"","map":"bản đồ","visualization":"","Edit":"Chỉnh sửa","Write a reply":"Viết phản hồi","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"Cập nhật","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"Viết diễn giải","Post interpretation":"","Interpretations":"Diễn giải ","Unlike":"Không thích","Like":"Thích","Reply":"Trả lời","Share":"Chia sẻ","See interpretation":"","Manage sharing":"Quản lý chia sẻ","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"Xem thử","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"Không tìm thấy kết quả nào","Created by":"Được tạo bởi","Anyone":"Bất kỳ ai","Only you":"","Others":"Khác","Not supported by this app yet":"","Filter by name":"Lọc bằng tên","Created":"Đã tạo","Last updated":"Lần cập nhật cuối","Type":"Loại","Clear filters":"Bỏ lọc","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"Mở","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"Tạo mới","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"Tùy chọn","Hide":"Ẩn","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"Đơn vị người dùng","User sub-units":"Đơn-vị-con người dùng","User sub-x2-units":"Đơn-vị-con-x2 người dùng","Select a level":"Chọn mức","Select a group":"Chọn nhóm","Deselect all":"Bỏ chọn tất cả","Period type":"Loại thời điểm","Year":"Năm","Select year":"Chọn năm","Period":"Thời điểm","Relative periods":"Thời điểm tương đối","Fixed periods":"Thời điểm tĩnh","Selected Periods":"Thời điểm đã chọn","No periods selected":"Chưa chọn thời điểm","January":"Tháng một","February":"Tháng hai","March":"Tháng ba","April":"Tháng tư","May":"Tháng năm","June":"Tháng sáu","July":"Tháng bảy","August":"Tháng tám","September":"Tháng chín","October":"Tháng mười","November":"Tháng mười một","December":"Tháng mười hai","Week {{weekNumber}}":"Tuần {{weekNumber}}","Bi-Week {{biWeekNumber}}":"Hai tuần {{biWeekNumber}}","Daily":"Hàng ngày","Weekly":"Hàng tuần","Weekly (Start Wednesday)":"Hàng tuần (Bắt đầu từ Thứ Tư)","Weekly (Start Thursday)":"Hàng tuần (Bắt đầu từ Thứ Năm)","Weekly (Start Saturday)":"Hàng tuần (Bắt đầu từ Thứ Bảy)","Weekly (Start Sunday)":"Hàng tuần (Bắt đầu từ Chủ nhật)","Bi-weekly":"Hai-tuần","Monthly":"Hàng tháng","Bi-monthly":"Hàng 2 tháng","Quarterly":"Hàng quý","Six-monthly":"Hàng 6 tháng","Six-monthly April":"Hàng 6 tháng - tháng 4","Yearly":"Một năm","Financial year (Start November)":"Năm tài chính (Bắt đầu từ tháng 11)","Financial year (Start October)":"Năm Tài Chính - Tháng 10","Financial year (Start July)":"Năm Tài Chính - Tháng 7","Financial year (Start April)":"Năm Tài Chính - Tháng 4","Today":"Hôm nay","Yesterday":"Hôm qua","Last 3 days":"3 ngày trước","Last 7 days":"7 ngày trước","Last 14 days":"14 ngày trước","Last 30 days":"30 ngày trước","Last 60 days":"60 ngày qua","Last 90 days":"90 ngày qua","Last 180 days":"180 ngày qua","This week":"Tuần này","Last week":"Tuần trước","Last 4 weeks":"4 tuần trước","Last 12 weeks":"12 tuần trước","Last 52 weeks":"52 tuần trước","Weeks this year":"Các tuần trong năm nay","This bi-week":"Kỳ hiện tại, 1 kỳ = 2 tuần","Last bi-week":"Kỳ trước, 1 kỳ = 2 tuần","Last 4 bi-weeks":"4 kỳ trước, 1 kỳ = 2 tuần","This month":"Tháng này","Last month":"Tháng trước","Last 3 months":"3 tháng trước","Last 6 months":"6 tháng trước","Last 12 months":"Trong 12 tháng trước","Months this year":"Tháng năm nay","This bi-month":"Lần Hai-Tháng này","Last bi-month":"Kỳ 2 tháng trước","Last 6 bi-months":"6 kỳ 2 tháng trước","Bi-months this year":"Các kỳ 2 tháng năm nay","This quarter":"Quý này","Last quarter":"Quý trước","Last 4 quarters":"4 quý trước","Quarters this year":"Quý năm nay","This six-month":"6 tháng này","Last six-month":"6 tháng trước","Last 2 six-month":"2 lần sáu tháng qua","This financial year":"Năm tài chính này","Last financial year":"Năm tài chính trước","Last 5 financial years":"5 năm tài chính trước","This year":"Năm nay","Last year":"Năm ngoái","Last 5 years":"5 năm trước","Last 10 years":"10 năm trước","Days":"Ngày","Weeks":"Tuần","Bi-weeks":"Các kỳ, 1 kỳ = 2 tuần","Months":"Tháng","Bi-months":"Các kỳ 2 tháng","Quarters":"Quý","Six-months":"Sáu-tháng","Financial Years":"Năm tài chính","Years":"Năm","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"Chuỗi Dữ Liệu","Category":"Phân loại","Filter":"Lọc","Columns":"Cột","Rows":"Dòng","Points":"Điểm","Reporting rate":"Tỉ lệ báo cáo","Reporting rate on time":"Tỉ lệ báo cáo đúng hạn","Actual reports":"Báo cáo thực tế","Actual reports on time":"Báo cáo thực tế đúng hạn","Expected reports":"Báo cáo dự kiến","Program":"Chương trình","Select a program":"Chọn một chương trình","Indicators":"Các chỉ số","Indicator group":"Nhóm chỉ số","All groups":"","Indicator":"Chỉ số","No indicator groups found":"","Loading indicator groups":"","Data elements":"Các phần tử dữ liệu","Data element group":"Nhóm dữ liệu","Data element":"Phần tử dữ liệu","No data element groups found":"","Loading data element groups":"","Data sets":"Biểu nhập","Data set":"Tập dữ liệu","All data sets":"","Loading data sets":"Đang tải tập dữ liệu","Event data items":"Mục dữ liệu sự kiện","All programs":"","Event data item":"Mục dữ liệu sự kiện","No programs found":"","Loading programs":"","Program indicators":"Chỉ Số Chương Trình","Program indicator":"Quản lý Chỉ số chương trình","Extra Small":"Rất nhỏ","Small":"Nhỏ","Regular":"Chuẩn","Large":"Lớn","Extra Large":"Rất lớn","Left":"Trái","Center":"Giữa","Right":"Phải","Start":"Bắt đầu","Middle":"Ở giữa","End":"Kết thúc","Top":"Trên","Bottom":"Dưới","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} và {{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} cấp","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} nhóm","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} cấp trong {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} nhóm trong {{staticOuNames}}","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"Lấy dữ liệu","Organisation unit":"Đơn vị","Assigned Categories":"Phân loại được chỉ định","Pivot table":"Bảng xoay","Area":"Khu vực","Stacked area":"Khu vực xếp chồng ","Bar":"Cột","Stacked bar":"Cột chồng","Column":"Cột","Year over year (column)":"Năm qua năm (cột)","Stacked column":"Cột chồng","Gauge":"Biểu đồ đo lường","Line":"Đường","Line list":"Danh sách dòng","Year over year (line)":"Năm qua năm (dòng)","Pie":"Bánh","Radar":"Radar","Scatter":"phân tán","Single value":"Giá trị đơn","All charts":"","{{seriesName}} (trend)":"","Trend":"Xu hướng","No legend for this series":"Không có chú giải cho chuỗi này","and {{amount}} more...":"và {{amount}} khác ...","Linear Regression":"","Target":"Mục tiêu","Base":"Đường đáy","Axis {{axisId}}":"Trục {{axisId}}","{{count}} items":"","Reset zoom":"Đặt lại thu phóng"}'),z=JSON.parse('{"view only":"只查看","view and edit":"查看和编辑","all users ({{accessLevel}})":"所有用户 ({{accessLevel}})","{{userOrGroup}} ({{accessLevel}})":"{{userOrGroup}} ({{accessLevel}})","Shared with {{commaSeparatedListOfUsersAndGroups}}":"与 {{commaSeparatedListOfUsersAndGroups}} 共享","Not shared with any users or groups":"不与任何用户或组共享","No description":"无描述","Last updated {{time}}":"最后更新 {{time}}","Created {{time}} by {{author}}":"由 {{author}} 在 {{time}} 创建","Created {{time}}":"已创建 {{time}}","Viewed {{count}} times":"查看了 {{count}} 次","Notifications":"通知","You\'re subscribed and getting updates about new interpretations.":"您已订阅并获取有关新解释的更新。","Unsubscribe":"退订","Subscribe to get updates about new interpretations.":"订阅以获取有关新解释的更新。","Subscribe":"订阅","About this map":"关于该地图","About this line list":"关于此行列表","About this visualization":"关于此可视化","This app could not retrieve required data.":"此应用无法检索所需数据。","Network error":"网络错误","Data Type":"数据类型","All types":"所有类型","Totals only":"总计","Details only":"仅详细信息","Disaggregation":"分解","No data":"无数据","Loading":"载入","Search by data item name":"按数据项名称搜索","No items selected":"没有选择条目","Selected Items":"选择的条目","No indicators found":"找不到指标","No data elements found":"找不到数据元素","No data sets found":"找不到数据集","No event data items found":"找不到事件数据项","No program indicators found":"找不到项目指标","No indicators found for \\"{{- searchTerm}}\\"":"找不到“ {{-searchTerm}}”的指标","No data elements found for \\"{{- searchTerm}}\\"":"找不到“ {{-searchTerm}}”的数据元素","No data sets found for \\"{{- searchTerm}}\\"":"找不到“ {{-searchTerm}}”的数据集","No event data items found for \\"{{- searchTerm}}\\"":"找不到“ {{-searchTerm}}”的事件数据项","No program indicators found for \\"{{- searchTerm}}\\"":"找不到“ {{-searchTerm}}”的计划指标","Nothing found for \\"{{- searchTerm}}\\"":"找不到“ {{-searchTerm}}”","Metric type":"尺度类型","All metrics":"所有尺度","Move to {{axisName}}":"移动到 {{axisName}}","Add to {{axisName}}":"添加到 {{axisName}}","Not available for {{visualizationType}}":" {{visualizationType}}不可用","Remove Assigned Categories":"移除指定的分类","Add Assigned Categories":"添加指定的分类","Remove":"移除","Filter dimensions":"过滤器维度","Main dimensions":"主要维度","Your dimensions":"你的维度","Dimension recommended with selected data":"选择的数据的推荐维度","All items":"所有条目","Automatically include all items":"自动包含所有条目","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"选择所有 {{- dimensionTitle}} 项。使用此选项，将来添加的新条目将自动包含在内。","Manually select items...":"手动选择条目...","Nothing found in {{- dimensionTitle}}":"在 {{- dimensionTitle}} 中找不到任何内容","Search":"搜索","Nothing found for {{- searchTerm}}":"没有找到 {{- searchTerm}}","Delete {{fileType}}":"删除{{fileType}}","This {{fileType}} and related interpretations will be deleted. Continue?":"此{{fileType}}和相关解释将被删除。继续？","Cancel":"取消","Delete":"删除","File":"文件","New":"新建","Open…":"打开…","Save":"保存","Save…":"保存…","Save as…":"另存为…","Rename…":"改名…","Translate…":"翻译…","Share…":"分享…","Get link…":"获取链接…","Open in this app":"在该App打开","Close":"关闭","Rename {{fileType}}":"重命名{{fileType}}","Name":"名称","Description":"描述","Rename":"改名","{{objectName}} (copy)":"{{objectName}}（副本）","Save {{fileType}} as":"将{{fileType}}另存为","event report":"事件报表","line list":"行列表","map":"地图","visualization":"可视化","Edit":"编辑","Write a reply":"书写应答","Post reply":"发表回复","Could not update comment":"无法更新评论","Enter comment text":"输入评论文本","Update":"更新","Viewing interpretation: {{- visualisationName}}":"查看注释：{{-visualisationName}}","Could not load interpretation":"无法加载解释","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"无法显示解释。重试或联系您的系统管理员。","Hide interpretation":"隐藏解释","Write an interpretation":"书写注释","Post interpretation":"后解释","Interpretations":"解释","Unlike":"不喜欢","Like":"喜欢","Reply":"应答","Share":"分享","See interpretation":"见解释","Manage sharing":"管理共享","Could not update interpretation":"无法更新解释","Enter interpretation text":"输入解释文本","Bold text":"粗体文字","Italic text":"斜体文字","Link to a URL":"链接到 URL","Mention a user":"提及用户","Add emoji":"添加表情符号","Preview":"预览","Back to write mode":"返回写入模式","Too many results. Try refining the search.":"结果太多。尝试优化搜索。","Search for a user":"搜索用户","Searching for \\"{{- searchText}}\\"":"搜索“{{- searchText}}”","No results found":"没有结果","Not available offline":"离线不可用","Created by":"创建人","Anyone":"任何人","Only you":"只有你","Others":"其它","Not supported by this app yet":"此应用尚不支持","Filter by name":"按名称过滤","Created":"已创建","Last updated":"上次更新","Type":"类型","Clear filters":"清除过滤器","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"{{firstItemIndex}}-{{lastItemIndex}} 的 {{totalNumberOfItems}}","Open":"开放","Couldn\'t load items":"无法加载项目","There was a problem loading items. Try again or contact your system administrator.":"加载项目时出现问题。重试或联系您的系统管理员。","No items found. Create a new to get started.":"未找到任何项目。创建一个新的开始。","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"未找到任何项目。尝试调整您的搜索或过滤选项以找到您要查找的内容。","Create new":"新建","Open a visualization":"打开可视化","Loading visualizations":"加载可视化","Couldn\'t load visualizations":"无法加载可视化","There was a problem loading visualizations. Try again or contact your system administrator.":"加载可视化时出现问题。重试或联系您的系统管理员。","No visualizations found. Click New visualization to get started.":"未找到可视化效果。单击新建可视化开始。","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"未找到可视化效果。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New visualization":"新的可视化","Open a map":"打开地图","Loading maps":"加载地图","Couldn\'t load maps":"无法加载地图","There was a problem loading maps. Try again or contact your system administrator.":"加载地图时出现问题。重试或联系您的系统管理员。","No maps found. Click New map to get started.":"未找到地图。单击新地图开始。","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"未找到地图。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New map":"新地图","Open a line list":"打开一个行列表","Loading line lists":"加载行列表","Couldn\'t load line lists":"无法加载行列表","There was a problem loading line lists. Try again or contact your system administrator.":"加载行列表时出现问题。重试或联系您的系统管理员。","No line lists found. Click New line list to get started.":"未找到行列表。单击新行列表开始。","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"未找到行列表。尝试调整您的搜索或过滤选项以找到您要查找的内容。","New line list":"新行列表","Options":"选项","Hide":"隐藏","{{count}} org units":"{{count}} 个组织单位","{{count}} levels":"{{count}} 级","{{count}} groups":"{{count}} 组","Selected: {{commaSeparatedListOfOrganisationUnits}}":"已选择：{{commaSeparatedListOfOrganisationUnits}}","Nothing selected":"未选择任何内容","User organisation unit":"用户所在机构","User sub-units":"我的下属机构","User sub-x2-units":"该用户2级下属机构","Select a level":"选择一个等级","Select a group":"选择一个组","Deselect all":"取消全选","Period type":"周期类型","Year":"年","Select year":"选择年份","Period":"期间","Relative periods":"相对期间","Fixed periods":"固定期间","Selected Periods":"选择的期间","No periods selected":"未选择期间","January":"1月","February":"2月","March":"3月","April":"4月","May":"5月","June":"6月","July":"7月","August":"8月","September":"9月","October":"10月","November":"11月","December":"12月","Week {{weekNumber}}":"{{weekNumber}}周","Bi-Week {{biWeekNumber}}":"  {{biWeekNumber}} 两周","Daily":"每日","Weekly":"每周","Weekly (Start Wednesday)":"每周（始于周二）","Weekly (Start Thursday)":"每周（始于周四）","Weekly (Start Saturday)":"每周（始于周六）","Weekly (Start Sunday)":"每周（始于周日）","Bi-weekly":"两周","Monthly":"每月","Bi-monthly":"每两月","Quarterly":"季度","Six-monthly":"六个月","Six-monthly April":"半年四月","Yearly":"每年","Financial year (Start November)":"财政年（11月始）","Financial year (Start October)":"财务十月","Financial year (Start July)":"财务七月","Financial year (Start April)":"财务四月","Today":"今天","Yesterday":"昨天","Last 3 days":"Last 3 days","Last 7 days":"最近7天","Last 14 days":"Last 14 days","Last 30 days":"最近30天","Last 60 days":"最近60天","Last 90 days":"最近90天","Last 180 days":"最近180天","This week":"本年","Last week":"上周","Last 4 weeks":"最近四周","Last 12 weeks":"最近12周","Last 52 weeks":"Last 52 weeks","Weeks this year":"Weeks this year","This bi-week":"本双周","Last bi-week":"最近两周","Last 4 bi-weeks":"最近4个两周","This month":"本月","Last month":"上月","Last 3 months":"最近3个月","Last 6 months":"Last 6 months","Last 12 months":"最近12月","Months this year":"今年的月份","This bi-month":"本双月","Last bi-month":"Last bi-month","Last 6 bi-months":"Last 6 bi-months","Bi-months this year":"Bi-months this year","This quarter":"本季度","Last quarter":"最近一季","Last 4 quarters":"最近四个季度","Quarters this year":"今年的季度","This six-month":"本六个月","Last six-month":"最近六个月","Last 2 six-month":"最近2个六个月","This financial year":"本财年","Last financial year":"上一财政年","Last 5 financial years":"最近五个财政年","This year":"今年","Last year":"去年","Last 5 years":"最近5年","Last 10 years":"最近10年","Days":"天数","Weeks":"星期","Bi-weeks":"双周","Months":"月","Bi-months":"Bi-months","Quarters":"四分之一","Six-months":"Six-months","Financial Years":"Financial Years","Years":"年","Translating to":"翻译成","Choose a locale":"选择语言环境","Base locale reference":"基本语言环境参考","Choose a locale to translate from the menu above":"从上面的菜单中选择要翻译的语言环境","Translate: {{objectName}}":"翻译：{{objectName}}","Save translations":"保存翻译","Cannot save while offline":"离线时无法保存","Could not load translations":"无法加载翻译","Retry":"重试","Series":"系列","Category":"分类","Filter":"过滤器","Columns":"列","Rows":"行","Points":"点数","Reporting rate":"上报率","Reporting rate on time":"准时上报率","Actual reports":"实际上报","Actual reports on time":"实际准时上报","Expected reports":"预期上报","Program":"项目","Select a program":"选择一个项目","Indicators":"指标","Indicator group":"指标组","All groups":"所有组","Indicator":"指标","No indicator groups found":"找不到指标组","Loading indicator groups":"加载指标组","Data elements":"数据元","Data element group":"数据元组","Data element":"数据元","No data element groups found":"找不到数据元素组","Loading data element groups":"加载数据元素组","Data sets":"数据集","Data set":"数据集","All data sets":"所有数据集","Loading data sets":"载入数据集","Event data items":"事件数据条目","All programs":"所有项目","Event data item":"事件数据条目","No programs found":"找不到项目","Loading programs":"正在载入项目","Program indicators":"项目指标","Program indicator":"项目指标","Extra Small":"特小","Small":"小","Regular":"定期","Large":"较大","Extra Large":"特大","Left":"左","Center":"居中","Right":"Right","Start":"开始","Middle":"中间","End":"尾巴","Top":"顶","Bottom":"底","{{dynamicOuNames}} and {{lastOuName}}":"{{dynamicOuNames}} 和{{lastOuName}}","{{allDynamicOuNames}} levels":"{{allDynamicOuNames}} 等级","{{allDynamicOuNames}} groups":"{{allDynamicOuNames}} 组","{{allDynamicOuNames}} levels in {{staticOuNames}}":"{{allDynamicOuNames}} 等级在 {{staticOuNames}}","{{allDynamicOuNames}} groups in {{staticOuNames}}":"{{allDynamicOuNames}} 组在 {{staticOuNames}}","{{percentage}}% of total x values":"占总x值的{{percentage}}％","{{percentage}}% of total y values":"占总y值的{{percentage}}％","{{thresholdFactor}} × IQR Q1":"{{thresholdFactor}} × IQR Q1","{{thresholdFactor}} × IQR Q3":"{{thresholdFactor}} × IQR Q3","{{thresholdFactor}} × Modified Z-score low":"{{thresholdFactor}}×修正的Z分数低值","{{thresholdFactor}} × Modified Z-score high":"{{thresholdFactor}}×修改后的Z分数高值","{{thresholdFactor}} × Z-score low":"{{thresholdFactor}}×Z分数低","{{thresholdFactor}} × Z-score high":"{{thresholdFactor}}×Z分数高","Data":"数据","Organisation unit":"机构","Assigned Categories":"指定的分类","Pivot table":"透视表","Area":"面积","Stacked area":"堆积面积","Bar":"柱状图","Stacked bar":"叠柱图","Column":"列","Year over year (column)":"逐年（列图）","Stacked column":"叠列","Gauge":"表盘图","Line":"折线图","Line list":"行列表","Year over year (line)":"逐年（折线图）","Pie":"饼图","Radar":"雷达图","Scatter":"分散","Single value":"单个值","All charts":"所有图表","{{seriesName}} (trend)":"{{seriesName}}（趋势）","Trend":"趋势","No legend for this series":"这个系列没有图例","and {{amount}} more...":"还有{{amount}}个...","Linear Regression":"线性回归","Target":"目标","Base":"基","Axis {{axisId}}":"轴{{axisId}}","{{count}} items":"{{count}} 个条目","Reset zoom":"重设缩放"}'),R=JSON.parse('{"view only":"","view and edit":"","all users ({{accessLevel}})":"","{{userOrGroup}} ({{accessLevel}})":"","Shared with {{commaSeparatedListOfUsersAndGroups}}":"","Not shared with any users or groups":"","No description":"没有描述","Last updated {{time}}":"","Created {{time}} by {{author}}":"","Created {{time}}":"","Viewed {{count}} times":"","Notifications":"通知","You\'re subscribed and getting updates about new interpretations.":"","Unsubscribe":"","Subscribe to get updates about new interpretations.":"","Subscribe":"","About this map":"","About this line list":"","About this visualization":"","This app could not retrieve required data.":"","Network error":"","Data Type":"","All types":"","Totals only":"","Details only":"","Disaggregation":"分解","No data":"无数据","Loading":"载入","Search by data item name":"","No items selected":"","Selected Items":"","No indicators found":"","No data elements found":"","No data sets found":"","No event data items found":"","No program indicators found":"","No indicators found for \\"{{- searchTerm}}\\"":"","No data elements found for \\"{{- searchTerm}}\\"":"","No data sets found for \\"{{- searchTerm}}\\"":"","No event data items found for \\"{{- searchTerm}}\\"":"","No program indicators found for \\"{{- searchTerm}}\\"":"","Nothing found for \\"{{- searchTerm}}\\"":"","Metric type":"","All metrics":"","Move to {{axisName}}":"","Add to {{axisName}}":"添加到 {{axisName}}","Not available for {{visualizationType}}":"","Remove Assigned Categories":"","Add Assigned Categories":"","Remove":"移除","Filter dimensions":"过滤器维度","Main dimensions":"主要维度","Your dimensions":"你的维度","Dimension recommended with selected data":"","All items":"","Automatically include all items":"","Select all {{- dimensionTitle}} items. With this option, new items added in the future will be automatically included.":"","Manually select items...":"","Nothing found in {{- dimensionTitle}}":"","Search":"搜索","Nothing found for {{- searchTerm}}":"","Delete {{fileType}}":"","This {{fileType}} and related interpretations will be deleted. Continue?":"","Cancel":"取消","Delete":"删除","File":"文件","New":"新建","Open…":"","Save":"保存","Save…":"","Save as…":"","Rename…":"","Translate…":"","Share…":"","Get link…":"","Open in this app":"","Close":"关闭","Rename {{fileType}}":"","Name":"名称","Description":"描述","Rename":"重命名","Save {{fileType}} as":"","event report":"","line list":"","map":"","visualization":"","Edit":"编辑","Write a reply":"","Post reply":"","Could not update comment":"","Enter comment text":"","Update":"更新","Viewing interpretation: {{- visualisationName}}":"","Could not load interpretation":"","The interpretation couldn’t be displayed. Try again or contact your system administrator.":"","Hide interpretation":"","Write an interpretation":"","Post interpretation":"","Interpretations":"注释","Unlike":"","Like":"Like","Reply":"回复","Share":"分享","See interpretation":"","Manage sharing":"","Could not update interpretation":"","Enter interpretation text":"","Bold text":"","Italic text":"","Link to a URL":"","Mention a user":"","Add emoji":"","Preview":"预览","Back to write mode":"","Too many results. Try refining the search.":"","Search for a user":"","Searching for \\"{{- searchText}}\\"":"","No results found":"没有结果","Created by":"创建自","Anyone":"任何人","Only you":"","Others":"其它","Not supported by this app yet":"","Filter by name":"按名称过滤","Created":"已创建","Last updated":"上次更新","Type":"类型","Clear filters":"清除过滤器","{{firstItemIndex}}-{{lastItemIndex}} of {{totalNumberOfItems}}":"","Open":"打开","Couldn\'t load items":"","There was a problem loading items. Try again or contact your system administrator.":"","No items found. Create a new to get started.":"","No items found. Try adjusting your search or filter options to find what you\'re looking for.":"","Create new":"新建","Open a visualization":"","Loading visualizations":"","Couldn\'t load visualizations":"","There was a problem loading visualizations. Try again or contact your system administrator.":"","No visualizations found. Click New visualization to get started.":"","No visualizations found. Try adjusting your search or filter options to find what you\'re looking for.":"","New visualization":"","Open a map":"","Loading maps":"","Couldn\'t load maps":"","There was a problem loading maps. Try again or contact your system administrator.":"","No maps found. Click New map to get started.":"","No maps found. Try adjusting your search or filter options to find what you\'re looking for.":"","New map":"","Open a line list":"","Loading line lists":"","Couldn\'t load line lists":"","There was a problem loading line lists. Try again or contact your system administrator.":"","No line lists found. Click New line list to get started.":"","No line lists found. Try adjusting your search or filter options to find what you\'re looking for.":"","New line list":"","Options":"选项","Hide":"隐藏","{{count}} org units":"","{{count}} levels":"","{{count}} groups":"","Selected: {{commaSeparatedListOfOrganisationUnits}}":"","Nothing selected":"","User organisation unit":"用户所在机构","User sub-units":"下属机构","User sub-x2-units":"二级下属机构","Select a level":"","Select a group":"","Deselect all":"去全选","Period type":"周期类型","Year":"年","Select year":"选择年份","Period":"周期","Relative periods":"","Fixed periods":"","Selected Periods":"","No periods selected":"","January":"01","February":"02","March":"03","April":"04","May":"05","June":"06","July":"07","August":"08","September":"09","October":"10","November":"11","December":"12","Week {{weekNumber}}":"","Bi-Week {{biWeekNumber}}":"","Daily":"每日","Weekly":"每周","Weekly (Start Wednesday)":"每周（始于周二）","Weekly (Start Thursday)":"每周（始于周四）","Weekly (Start Saturday)":"每周（始于周六）","Weekly (Start Sunday)":"每周（始于周日）","Bi-weekly":"双周","Monthly":"每月","Bi-monthly":"每两月","Quarterly":"季度","Six-monthly":"六个月","Six-monthly April":"半年的四月","Yearly":"每年","Financial year (Start November)":"","Financial year (Start October)":"财务十月","Financial year (Start July)":"财务七月","Financial year (Start April)":"财务四月","Today":"今天","Yesterday":"昨天","Last 3 days":"最近3天","Last 7 days":"最近7天","Last 14 days":"最近14天","Last 30 days":"最近30天","Last 60 days":"最近60天","Last 90 days":"最近90天","Last 180 days":"最近180天","This week":"本周","Last week":"上周","Last 4 weeks":"最近四周","Last 12 weeks":"最近12周","Last 52 weeks":"最近52周","Weeks this year":"今年的星期","This bi-week":"这两周","Last bi-week":"最近双周","Last 4 bi-weeks":"最近四个双周","This month":"本月","Last month":"上月","Last 3 months":"最近3个月","Last 6 months":"最近六个月<br>","Last 12 months":"最近12月","Months this year":"今年的月份","This bi-month":"本两月","Last bi-month":"最近双月","Last 6 bi-months":"最近六个双月","Bi-months this year":"今年的双月","This quarter":"本季","Last quarter":"最近一季","Last 4 quarters":"最近四个季度","Quarters this year":"今年的季度","This six-month":"本半年","Last six-month":"最近六个月","Last 2 six-month":"","This financial year":"本财政年","Last financial year":"上一财政年","Last 5 financial years":"最近五个财政年","This year":"今年","Last year":"去年","Last 5 years":"最近5年","Last 10 years":"最近10年","Days":"天数","Weeks":"周","Bi-weeks":"","Months":"月","Bi-months":"","Quarters":"","Six-months":"","Financial Years":"","Years":"年","Translating to":"","Choose a locale":"","Base locale reference":"","Choose a locale to translate from the menu above":"","Translate: {{objectName}}":"","Save translations":"","Could not load translations":"","Retry":"","Series":"","Category":"分类","Filter":"过滤器","Columns":"","Rows":"","Points":"","Reporting rate":"上报率","Reporting rate on time":"准时上报率","Actual reports":"实际上报","Actual reports on time":"实际准时上报","Expected reports":"预期上报","Program":"项目","Select a program":"","Indicators":"指标","Indicator group":"指标组","All groups":"","Indicator":"指标","No indicator groups found":"","Loading indicator groups":"","Data elements":"数据元","Data element group":"数据元组","Data element":"数据元","No data element groups found":"","Loading data element groups":"","Data sets":"数据集","Data set":"数据集","All data sets":"","Loading data sets":"载入数据集","Event data items":"事件数据项","All programs":"","Event data item":"事件数据条目","No programs found":"","Loading programs":"","Program indicators":"项目指标","Program indicator":"项目指标","Extra Small":"","Small":"小","Regular":"定期","Large":"较大","Extra Large":"","Left":"左","Center":"","Right":"右","Start":"开始","Middle":"","End":"","Top":"","Bottom":"","{{dynamicOuNames}} and {{lastOuName}}":"","{{allDynamicOuNames}} levels":"","{{allDynamicOuNames}} groups":"","{{allDynamicOuNames}} levels in {{staticOuNames}}":"","{{allDynamicOuNames}} groups in {{staticOuNames}}":"","{{percentage}}% of total x values":"","{{percentage}}% of total y values":"","{{thresholdFactor}} × IQR Q1":"","{{thresholdFactor}} × IQR Q3":"","{{thresholdFactor}} × Modified Z-score low":"","{{thresholdFactor}} × Modified Z-score high":"","{{thresholdFactor}} × Z-score low":"","{{thresholdFactor}} × Z-score high":"","Data":"数据","Organisation unit":"机构","Assigned Categories":"","Pivot table":"","Area":"面积","Stacked area":"","Bar":"","Stacked bar":"","Column":"列","Year over year (column)":"","Stacked column":"","Gauge":"","Line":"","Line list":"","Year over year (line)":"","Pie":"","Radar":"","Scatter":"","Single value":"","All charts":"","{{seriesName}} (trend)":"","Trend":"","No legend for this series":"","and {{amount}} more...":"","Linear Regression":"","Target":"目标","Base":"","Axis {{axisId}}":"","{{count}} items":"","Reset zoom":""}'),F="default";n.Z.addResources("ar",F,i),n.Z.addResources("ar_EG",F,a),n.Z.addResources("ar_IQ",F,o),n.Z.addResources("ckb",F,s),n.Z.addResources("cs",F,l),n.Z.addResources("da",F,u),n.Z.addResources("en",F,c),n.Z.addResources("es",F,d),n.Z.addResources("es_419",F,h),n.Z.addResources("fr",F,p),n.Z.addResources("id",F,m),n.Z.addResources("km",F,f),n.Z.addResources("lo",F,y),n.Z.addResources("my",F,g),n.Z.addResources("nb",F,v),n.Z.addResources("nl",F,_),n.Z.addResources("or",F,b),n.Z.addResources("prs",F,x),n.Z.addResources("ps",F,w),n.Z.addResources("pt",F,T),n.Z.addResources("pt_BR",F,S),n.Z.addResources("ro",F,k),n.Z.addResources("ru",F,C),n.Z.addResources("sv",F,L),n.Z.addResources("tet",F,N),n.Z.addResources("tg",F,A),n.Z.addResources("uk",F,O),n.Z.addResources("ur",F,E),n.Z.addResources("uz",F,P),n.Z.addResources("uz_Cyrl",F,M),n.Z.addResources("uz_Latn",F,I),n.Z.addResources("vi",F,D),n.Z.addResources("zh",F,z),n.Z.addResources("zh_CN",F,R);const B=n.Z;var j=r(97363);const U=()=>[{id:j.O5,getPeriods:()=>[{id:"TODAY",name:B.t("Today")},{id:"YESTERDAY",name:B.t("Yesterday")},{id:"LAST_3_DAYS",name:B.t("Last 3 days")},{id:"LAST_7_DAYS",name:B.t("Last 7 days")},{id:"LAST_14_DAYS",name:B.t("Last 14 days")},{id:"LAST_30_DAYS",name:B.t("Last 30 days")},{id:"LAST_60_DAYS",name:B.t("Last 60 days")},{id:"LAST_90_DAYS",name:B.t("Last 90 days")},{id:"LAST_180_DAYS",name:B.t("Last 180 days")}],name:B.t("Days")},{id:j.fW,getPeriods:()=>[{id:"THIS_WEEK",name:B.t("This week")},{id:"LAST_WEEK",name:B.t("Last week")},{id:"LAST_4_WEEKS",name:B.t("Last 4 weeks")},{id:"LAST_12_WEEKS",name:B.t("Last 12 weeks")},{id:"LAST_52_WEEKS",name:B.t("Last 52 weeks")},{id:j.uu,name:B.t("Weeks this year")}],name:B.t("Weeks")},{id:j.Nn,getPeriods:()=>[{id:"THIS_BIWEEK",name:B.t("This bi-week")},{id:"LAST_BIWEEK",name:B.t("Last bi-week")},{id:"LAST_4_BIWEEKS",name:B.t("Last 4 bi-weeks")}],name:B.t("Bi-weeks")},{id:j.MA,getPeriods:()=>[{id:"THIS_MONTH",name:B.t("This month")},{id:"LAST_MONTH",name:B.t("Last month")},{id:"LAST_3_MONTHS",name:B.t("Last 3 months")},{id:"LAST_6_MONTHS",name:B.t("Last 6 months")},{id:"LAST_12_MONTHS",name:B.t("Last 12 months")},{id:"MONTHS_THIS_YEAR",name:B.t("Months this year")}],name:B.t("Months")},{id:j.GN,getPeriods:()=>[{id:"THIS_BIMONTH",name:B.t("This bi-month")},{id:"LAST_BIMONTH",name:B.t("Last bi-month")},{id:"LAST_6_BIMONTHS",name:B.t("Last 6 bi-months")},{id:"BIMONTHS_THIS_YEAR",name:B.t("Bi-months this year")}],name:B.t("Bi-months")},{id:j.P8,getPeriods:()=>[{id:"THIS_QUARTER",name:B.t("This quarter")},{id:"LAST_QUARTER",name:B.t("Last quarter")},{id:"LAST_4_QUARTERS",name:B.t("Last 4 quarters")},{id:"QUARTERS_THIS_YEAR",name:B.t("Quarters this year")}],name:B.t("Quarters")},{id:j.FJ,getPeriods:()=>[{id:"THIS_SIX_MONTH",name:B.t("This six-month")},{id:"LAST_SIX_MONTH",name:B.t("Last six-month")},{id:"LAST_2_SIXMONTHS",name:B.t("Last 2 six-month")}],name:B.t("Six-months")},{id:j.hy,getPeriods:()=>[{id:"THIS_FINANCIAL_YEAR",name:B.t("This financial year")},{id:"LAST_FINANCIAL_YEAR",name:B.t("Last financial year")},{id:"LAST_5_FINANCIAL_YEARS",name:B.t("Last 5 financial years")}],name:B.t("Financial Years")},{id:j.AP,getPeriods:()=>[{id:"THIS_YEAR",name:B.t("This year")},{id:"LAST_YEAR",name:B.t("Last year")},{id:"LAST_5_YEARS",name:B.t("Last 5 years")},{id:"LAST_10_YEARS",name:B.t("Last 10 years")}],name:B.t("Years")}],V=e=>U().find((t=>t.id===e))},53853:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var n=r(63665),i=r(2085),a=r(67637),o=r(55642);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}let u=null;const c=async({appUrl:e,baseUrl:t,d2Config:r,i18nRoot:n=null,locale:i})=>(n&&await(async(e,t,r)=>{a.vc.baseUrl=e;const n=r||(await(0,a.nS)()).keyUiLocale;n&&"en"!==n&&a.vc.i18n.sources.add("".concat(t,"/i18n_module_").concat(n,".properties")),a.vc.i18n.sources.add("".concat(t,"/i18n_module_en.properties"))})(t,n,i),await(0,a.S1)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({appUrl:e,baseUrl:t},r))),d=({children:e,onInitialized:t,d2Config:r,i18nRoot:n,locale:a})=>{const{d2:s,d2Error:l}=(({d2Config:e={},onInitialized:t=Function.prototype,i18nRoot:r,locale:n}={})=>{const{baseUrl:a,apiVersion:s}=(0,o.zw)(),[l,d]=(0,i.useState)(u),[h,p]=(0,i.useState)(void 0);return(0,i.useEffect)((()=>{u||c({appUrl:a,baseUrl:"".concat(a,"/api/").concat(s),d2Config:e,i18nRoot:r,locale:n}).then((async e=>{await t(e),u=e,d(e)})).catch(p)}),[]),{d2:l,d2Error:h}})({onInitialized:t,d2Config:r,i18nRoot:n,locale:a});return e({d2:s,d2Error:l})};d.propTypes={children:n.func.isRequired,d2Config:n.object,i18nRoot:n.string,locale:n.string,onInitialized:n.func}},17682:(e,t,r)=>{"use strict";r.d(t,{s9:()=>nn,ZP:()=>on,mC:()=>an});var n=r(61629);const i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const o=new Uint8Array(16);function s(){if(!a&&(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)}const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function u(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}const c=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)};var d=r(99791);const h="include",p=(e,t,r)=>{e.hasImage(t)||e.addImage(t,r)},m=e=>new Promise(((t,r)=>{const n=new Image(16,16);n.onload=()=>t(n),n.onerror=r,n.src=e})),f=e=>t=>new Promise((r=>{t.endsWith(".svg")?(e=>fetch(e,{credentials:h}).then((e=>e.text())).then((e=>`data:image/svg+xml;charset=utf-8;base64,${window.btoa(e)}`)).then(m))(t).then((n=>{p(e,t,n),r(n)})).catch((()=>{r()})):e.loadImage(t,((n,i)=>{i&&p(e,t,i),r(i)}))})),y=(e,t)=>"Image"===t?{url:e,credentials:h}:null,g=e=>"Point"===e.geometry.type,v=(e=[])=>{const t=e.reduce(((e,t)=>{if(t.getBounds){const r=t.getBounds();if(r)return e.extend(r)}return e}),new n.LngLatBounds);return t.isEmpty()?null:t.toArray()},_=(e=[])=>({type:"FeatureCollection",features:e});var b=r(68908),x=r(9450);const w=["get","cluster"],T=["get","isPolygon"],S=["has","iconUrl"],k=["==",["geometry-type"],"Point"],C=["==",["geometry-type"],"Polygon"],L=["==",["geometry-type"],"LineString"],N=["all",k,S],A=["all",k,["==",S,!1]],O=["==",w,!0],E=["!=",w,!0],P=["all",k,E,["!=",T,!0]],M=["boolean",["feature-state","hover"],!1],I="#333333",D="#000000",z=({glyphs:e="https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"})=>({version:8,sources:{},layers:[],glyphs:e}),R={textFont:["Open Sans Bold"],textSize:16,textColor:"#FFFFFF",radius:6,noDataColor:"#CCCCCC",strokeColor:"#333333",strokeWidth:1,hoverStrokeMultiplier:3,eventStrokeColor:I,clusterCountColor:D},F=e=>["case",["has","color"],["get","color"],e],B=(e=1)=>["*",["case",["has","weight"],["get","weight"],e],["case",M,3,1]],j=e=>["case",["has","radius"],["get","radius"],e],U=["step",["get","point_count"],15,10,20,1e3,25,1e4,30];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const G="#95c8fb",Z=1,$=({geometry:e},t)=>("Point"===e.type?(0,b.Z)(e,t):(0,x.Z)(e,t)).geometry,Y=({id:e,color:t})=>({id:`${e}-buffer`,type:"fill",source:`${e}-buffer`,paint:{"fill-color":F(t||G)}}),H=({id:e,color:t,width:r})=>({id:`${e}-buffer-outline`,type:"line",source:`${e}-buffer`,paint:{"line-color":F(t||G),"line-width":r||Z}});var J=r(70041),X=6378137;function Q(e){return(0,J.mm)(e,(function(e,t){return e+function(e){var t,r=0;switch(e.type){case"Polygon":return K(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=K(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}),0)}function K(e){var t=0;if(e&&e.length>0){t+=Math.abs(ee(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(ee(e[r]))}return t}function ee(e){var t,r,n,i,a,o,s=0,l=e.length;if(l>2){for(o=0;o<l;o++)o===l-2?(n=l-2,i=l-1,a=0):o===l-1?(n=l-1,i=0,a=1):(n=o,i=o+1,a=o+2),t=e[n],r=e[i],s+=(te(e[a][0])-te(t[0]))*Math.sin(te(r[1]));s=s*X*X/2}return s}function te(e){return e*Math.PI/180}var re=r(60985),ne=r.n(re);const ie={"normal-normal":"Open Sans Regular","normal-bold":"Open Sans Bold","italic-normal":"Open Sans Italic","italic-bold":"Open Sans Bold Italic"},ae=(e,t=5,r=11)=>"Point"===e?t/parseInt(r,10)+.4:0,oe=({id:e,label:t,fontSize:r,fontStyle:n,fontWeight:i,color:a})=>{const o=`${n||"normal"}-${i||"normal"}`,s=r?parseInt(r,10):12;return{type:"symbol",id:`${e}-label`,source:`${e}-label`,layout:{"text-field":t||"{name}","text-font":[ie[o]],"text-size":s,"text-anchor":["get","anchor"],"text-offset":["get","offset"]},paint:{"text-color":a||["get","color"]}}},se=({type:e,coordinates:t})=>{if("Point"===e)return t;let r=t;if("MultiPolygon"===e){const e=t.map((e=>Q({type:"Polygon",coordinates:e})));r=t[e.indexOf(Math.max.apply(null,e))]}return ne()(r,.1)},le={raster:["raster-opacity"],point:["circle-opacity","circle-stroke-opacity"],polygon:["fill-opacity"],line:["line-opacity"],outline:["line-opacity"],buffer:["fill-opacity"],"buffer-outline":["line-opacity"],label:["text-opacity"],symbol:["icon-opacity","text-opacity"],cluster:["circle-opacity","circle-stroke-opacity"],count:["text-opacity"]},ue={buffer:.2,"buffer-outline":.2},ce=(e,t,r)=>{Object.keys(le).forEach((n=>{const i=`${t}-${n}`;e.getLayer(i)&&le[n].forEach((t=>e.setPaintProperty(i,t,((e,t)=>t*(ue[e]||1))(n,r))))}))};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class me extends n.Evented{constructor(e={}){super(),pe(this,"onClick",(e=>this.fire("click",e))),this._id=c(),this._source={},this._layers=[],this._features=[],this._isVisible=!0,this._interactiveIds=[],this.options=e,e.data&&this.setFeatures(e.data)}async addTo(e){const{opacity:t,onClick:r,onRightClick:n}=this.options;this._map=e;const i=e.getMapGL(),a=this.getImages(),o=this.getSource(),s=this.getLayers(),l=e.getBeforeLayerId();if(a)try{await(async(e,t)=>{const r=(await Promise.all(t.map(f(e)))).indexOf(void 0);if(-1!==r)throw`Symbol not found: ${t[r]}`})(i,a)}catch(e){this.onError(e)}Object.keys(o).forEach((t=>{e.styleIsLoaded()&&!i.getSource(t)&&i.addSource(t,o[t])})),s.forEach((t=>{e.styleIsLoaded()&&!i.getLayer(t.id)&&i.addLayer(t,l)})),this.isVisible()||this.setVisibility(!1),t&&this.setOpacity(t),r&&this.on("click",r),n&&this.on("contextmenu",n),this.onAdd()}removeFrom(e){const t=e.getMapGL(),r=this.getSource(),n=this.getLayers(),{onClick:i,onRightClick:a}=this.options;this.onRemove(),t&&(n.forEach((e=>{t.getLayer(e.id)&&t.removeLayer(e.id)})),Object.keys(r).forEach((e=>{t.getSource(e)&&t.removeSource(e)}))),i&&this.off("click",i),a&&this.off("contextmenu",a),this._map=null}createSource(){const e=this.getId(),t=this.getFeatures(),{buffer:r,label:n,labelStyle:i}=this.options;this.setSource(e,{type:"geojson",data:_(t)}),r&&this.setSource(`${e}-buffer`,((e,t)=>({type:"geojson",data:_(e.map((e=>W(W({},e),{},{geometry:$(e,t)}))))}))(t,r/1e3)),n&&this.setSource(`${e}-label`,((e,{fontSize:t},r)=>({type:"geojson",data:_(e.map((({geometry:e,properties:n})=>({type:"Feature",geometry:{type:"Point",coordinates:se(e)},properties:{name:n.name,anchor:"Point"===e.type?"top":"center",offset:[0,ae(e.type,n.radius,t)],color:r?n.color:"#333",value:n.value}}))))}))(t,i))}setVisibility(e){if(this.isOnMap()){const t=this.getMapGL(),r=e?"visible":"none",n=this.getLayers();t&&n&&n.forEach((e=>t.setLayoutProperty(e.id,"visibility",r)))}this._isVisible=e}getId(){return this._id}getMap(){return this._map}getMapGL(){return this._map&&this._map.getMapGL()}isOnMap(){const e=this.getMap(),t=this.getMapGL();return Boolean(e&&e.styleIsLoaded()&&this._layers.find((e=>t.getLayer(e.id))))}isVisible(){return this._isVisible}isInteractive(){return Boolean(this._interactiveIds.length&&this.isOnMap()&&this.isVisible())}setSource(e,t){this._source[e]=t}getSource(){return this._source}getInteractiveIds(){return this.isInteractive()?this._interactiveIds:[]}addLayer(e,t={}){const{isInteractive:r,opacityFactor:n}=t;this._layers.push(e),r&&this._interactiveIds.push(e.id),n&&(this._opacityFactor=n)}getLayers(){return this._layers}hasLayerId(e){return this.getLayers().some((t=>t.id===e))}move(){const e=this.getMapGL(),t=this._map.getBeforeLayerId();this.getLayers().forEach((r=>{e.moveLayer(r.id,t)}))}getFeatures(){return this._features}getFeaturesById(e){return("string"==typeof e?this._features.filter((t=>t.properties.id===e)):this._features.filter((t=>t.id===e))).map((e=>he(he({},e),{},{source:this.getId()})))}setFeatures(e=[]){this._features=e.map(((e,t)=>he(he({},e),{},{id:t+1})))}getImages(){return this._images}getType(){return this.options.type}setImages(e){this._images=e||[...new Set(this.getFeatures().filter((e=>e.properties.iconUrl)).map((e=>e.properties.iconUrl)))]}setIndex(e=0){this.options.index=e;const t=this.getMap();t&&t.orderOverlays()}getIndex(){return this.options.index||0}setOpacity(e){const t=this.getMapGL(),r=void 0!==this._opacityFactor?this._opacityFactor:1;t&&ce(t,this.getId(),e*r),this.options.opacity=e}getBounds(){const e=this.getFeatures();if(e.length){const[t,r,n,i]=(0,d.Z)(_(e));return[[t,r],[n,i]]}}isMaxZoom(){const e=this.getMapGL();return e.getZoom()===e.getMaxZoom()}highlight(e){const t=this.getMap();t&&t.setHoverState(e?this.getFeaturesById(e):null)}filter(){}onAdd(){}onRemove(){}onLoad(){this.fire("load"),this.options.onLoad&&this.options.onLoad()}onRightClick(e){}onMouseMove(e,t){const{label:r,hoverLabel:n}=this.options;if(n||r){const{properties:i}=t,a=(n||r).replace(/\{ *([\w_-]+) *\}/g,((e,t)=>i[t]||""));this._map.showLabel(a,e.lngLat)}else this._map.hideLabel()}onError(e){const{onError:t}=this.options;t?t(e):console.error(e)}}const fe=me,ye=({id:e,color:t,strokeColor:r,width:n,radius:i,source:a,filter:o})=>({id:`${e}-point`,type:"circle",source:a||e,paint:{"circle-color":F(t||R.noDataColor),"circle-radius":j(i||R.radius),"circle-stroke-width":B(n),"circle-stroke-color":r||R.strokeColor},filter:o||A}),ge=({id:e,color:t,source:r,filter:n})=>({id:`${e}-polygon`,type:"fill",source:r||e,paint:{"fill-color":F(t||R.noDataColor)},filter:n||C}),ve=({id:e,color:t,width:r,source:n,filter:i})=>({id:`${e}-outline`,type:"line",source:n||e,paint:{"line-color":t||R.strokeColor,"line-width":B(r)},filter:i||C}),_e=({id:e,source:t,filter:r})=>({id:`${e}-symbol`,type:"symbol",source:t||e,layout:{"icon-image":["get","iconUrl"],"icon-size":1,"icon-allow-overlap":!0},filter:r||N}),be=({id:e,color:t,strokeColor:r})=>({id:`${e}-cluster`,type:"circle",source:e,filter:O,paint:{"circle-color":t,"circle-radius":U,"circle-stroke-color":r,"circle-stroke-width":R.strokeWidth}}),xe=({id:e,color:t})=>({id:`${e}-count`,type:"symbol",source:e,filter:O,layout:{"text-field":"{point_count_abbreviated}","text-font":R.textFont,"text-size":R.textSize,"text-allow-overlap":!0},paint:{"text-color":t||R.textColor}});class we extends n.Evented{constructor(e={}){super(),this.options=e,this._visibleLayers=[],this._isOnMap=!1}async toggleVectorStyle(e,t,r){await this.removeOtherLayers(),this._map.setBeforeLayerId(r),!e&&this.mapHasVectorStyle()||(this._map._styleIsLoading=!0,await this.setStyle(t),this._map._styleIsLoading=!1,this._visibleLayers=this._map.getMapGL().getStyle().layers.filter((e=>"none"!==e.layout?.visibility)).map((e=>e.id))),this._isOnMap=e,await this.addOtherLayers()}async addTo(e){this._map=e;const{url:t,beforeId:r,isVisible:n}=this.options;await this.toggleVectorStyle(!0,t,r),(!1===this.isVisible()||void 0===this.isVisible()&&!1===n)&&this.setVisibility(!1)}async removeFrom(){const e=this._map._glyphs;this._map.getMapGL()&&await this.toggleVectorStyle(!1,z({glyphs:e}))}setStyle(e){return new Promise(((t,r)=>{this._map.getMapGL().once("idle",t).setStyle(e,{diff:!1}).once("error",(e=>{let t;t=e.error.message.includes("missing required property")?"The vector style is malformed or invalid.":e.error.message.includes("r.blob is not a function")?"The vector style was not found.":"An error occured while loading the vector style.",r(t)}))}))}getOtherLayers(){return this._map.getLayers().filter((e=>!(e instanceof we)))}async addOtherLayers(){this.getOtherLayers().forEach((async e=>{e.isOnMap()||(await e.addTo(this._map),e.setVisibility(e.isVisible()))}))}async removeOtherLayers(){this.getOtherLayers().forEach((async e=>{e.isOnMap()&&await e.removeFrom(this._map,!0)}))}mapHasVectorStyle(){return this._map.getLayers().some((e=>e instanceof we))}setIndex(e=0){this.options.index=e}setOpacity(){}setVisibility(e){if(this.isOnMap()){const t=this._map.getMapGL(),r=e?"visible":"none";this._visibleLayers.forEach((e=>t.setLayoutProperty(e,"visibility",r)))}this._isVisible=e}isVisible(){return this._isVisible}isInteractive(){return!1}hasLayerId(){return!1}isOnMap(){return this._isOnMap}getIndex(){return 0}}const Te=we;const Se=class extends fe{constructor(e){super(e),this.createSource(),this.createLayer()}createSource(){const{url:e,layers:t,format:r="image/png",attribution:n=""}=this.options;let i;i=t?[`${e}?bbox={bbox-epsg-3857}&format=${r}&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&transparent=true&width=256&height=256&layers=${t}`]:e.includes("{s}")?["a","b","c"].map((t=>e.replace("{s}",t))):[e],this.setSource(this.getId(),{type:"raster",tiles:i,tileSize:256,attribution:n})}createLayer(){const e=this.getId();this.addLayer({id:`${e}-raster`,type:"raster",source:e})}};function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Le=class extends fe{constructor(e){super(e),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{color:t,label:r,labelStyle:n}=this.options;this.addLayer(ge({id:e,color:t}),{isInteractive:true}),this.addLayer(ve({id:e})),this.addLayer(ye({id:e,color:t}),{isInteractive:true}),r&&this.addLayer(oe(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e,label:r},n)))}};function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ee=class extends fe{constructor(e){super(e),this.createSource(),this.createLayers()}setFeatures(e=[]){const{radius:t=6}=this.options.style;this._features=e.map(((e,r)=>Ae(Ae({},e),{},{id:r+1,properties:Ae(Ae({},e.properties),{},{color:e.properties.style.color,width:e.properties.style.weight,radius:t})})))}createLayers(){const e=this.getId(),{label:t,labelStyle:r}=this.options;this.addLayer({id:`${e}-line`,type:"line",source:e,paint:{"line-color":["get","color"],"line-width":["case",["boolean",["feature-state","hover"],!1],["+",["get","width"],2],["get","width"]]},filter:["==","$type","Polygon"]},{isInteractive:true}),this.addLayer({id:`${e}-point`,type:"circle",source:e,paint:{"circle-color":"transparent","circle-radius":["get","radius"],"circle-stroke-color":["get","color"],"circle-stroke-width":["case",["boolean",["feature-state","hover"],!1],["+",["get","width"],2],["get","width"]]},filter:["==","$type","Point"]},{isInteractive:true}),t&&this.addLayer(oe(Ae({id:e,label:t},r)))}};function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const De=class extends fe{constructor(e){super(e),this.setImages(),this.createSource(),this.createLayer()}createLayer(){const e=this.getId(),{buffer:t,bufferStyle:r,label:n,labelStyle:i}=this.options;t&&(this.addLayer(Y(Me({id:e},r))),this.addLayer(H(Me({id:e},r)))),this.addLayer(_e({id:e}),{isInteractive:!0}),n&&this.addLayer(oe(Me({id:e,label:n},i)))}};function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Be=class extends fe{constructor(e){super(e),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:r=I,radius:n,buffer:i,bufferStyle:a}=this.options;i&&(this.addLayer(Y(Re({id:e},a))),this.addLayer(H(Re({id:e},a)))),this.addLayer(ye({id:e,color:t,radius:n,strokeColor:r}),{isInteractive:true}),this.addLayer(ge({id:e,color:t}),{isInteractive:true}),this.addLayer(ve({id:e,color:r}))}};var je=r(56027),Ue=r(60838);const Ve=function(e,t){void 0===t&&(t={});var r=0,n=0,i=0;return(0,J.pZ)(e,(function(e){r+=e[0],n+=e[1],i++}),!0),(0,je.xm)([r/i,n/i],t.properties)};var We=r(24138);const qe=function e(t,r){switch(void 0===r&&(r={}),(0,We.oL)(t)){case"Point":return(0,je.xm)((0,We.c9)(t),r.properties);case"Polygon":var n=[];(0,J.pZ)(t,(function(e){n.push(e)}));var i,a,o,s,l,u,c,d,h=Ve(t,{properties:r.properties}),p=h.geometry.coordinates,m=0,f=0,y=0,g=n.map((function(e){return[e[0]-p[0],e[1]-p[1]]}));for(i=0;i<n.length-1;i++)s=(a=g[i])[0],u=a[1],l=(o=g[i+1])[0],y+=d=s*(c=o[1])-l*u,m+=(s+l)*d,f+=(u+c)*d;if(0===y)return h;var v=1/(6*(.5*y));return(0,je.xm)([p[0]+v*m,p[1]+v*f],r.properties);default:var _=function(e,t){void 0===t&&(t={}),t.concavity=t.concavity||1/0;var r=[];if((0,J.pZ)(e,(function(e){r.push([e[0],e[1]])})),!r.length)return null;var n=Ue(r,t.concavity);return n.length>3?(0,je.yu)([n]):null}(t);return _?e(_,{properties:r.properties}):Ve(t,{properties:r.properties})}};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $e={each:(e,t)=>{if(!e||!e.length)return[];for(let r=0;r<e.length;r++)t(e[r],r)},eachTimes:(e,t)=>{if(!e)return[];for(let r=0;r<e;r++)t(r)},map:(e,t)=>{const r=[];return $e.each(e,((e,n)=>r.push(t(e,n)))),r},mapTimes:(e,t)=>{const r=[];return $e.eachTimes(e,(e=>r.push(t(e)))),r}},Ye=(e,t)=>{const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({animate:!1,animationSpeed:0,customPin:!1,initializeLeg:()=>{},onClick:()=>{},circleSpiralSwitchover:9,circleFootSeparation:25,spiralFootSeparation:28,spiralLengthStart:15,spiralLengthFactor:4},t),i=2*Math.PI;let a=[];const o=()=>{$e.each(a.reverse(),((e,t)=>{r.animate?(e.elements.container.style.transitionDelay=r.animationSpeed/1e3/a.length*t+"s",e.elements.container.className+=" exit",setTimeout((()=>e.marker.remove()),r.animationSpeed+100)):e.marker.remove()})),a=[]},s=e=>e>=r.circleSpiralSwitchover?l(e):u(e),l=e=>{let t=r.spiralLengthStart,n=0;return $e.mapTimes(e,(e=>{n+=r.spiralFootSeparation/t+5e-4*e;const a={x:t*Math.cos(n),y:t*Math.sin(n),angle:n,legLength:t,index:e};return t+=i*r.spiralLengthFactor/n,a}))},u=e=>{const t=r.circleFootSeparation*(2+e)/i,n=i/e;return $e.mapTimes(e,(e=>{const r=e*n;return{x:t*Math.cos(r),y:t*Math.sin(r),angle:r,legLength:t,index:e}}))},c=e=>{const t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div");return t.className="spider-leg-container"+(r.animate?" animate initial ":" "),i.className="spider-leg-line",n.className="spider-leg-pin"+(r.customPin?"":" default-spider-pin"),t.appendChild(i),t.appendChild(n),t.style["margin-left"]=e.x+"px",t.style["margin-top"]=e.y+"px",i.style.height=e.legLength+"px",i.style.transform="rotate("+(e.angle-Math.PI/2)+"rad)",{container:t,line:i,pin:n}};return{spiderfy:(t,i)=>{const l=s(i.length);o();const u=$e.map(i,((e,i)=>{const a=l[i],o=c(a,e),s={feature:e,elements:o,marker:new n.Marker(o.container).setLngLat(t),param:a};return r.initializeLeg(s),o.container.onclick=e=>r.onClick(e,s),s}));$e.each(u.reverse(),(t=>t.marker.addTo(e))),r.animate&&setTimeout((()=>{$e.each(u.reverse(),((e,t)=>{e.elements.container.className=(e.elements.container.className||"").replace("initial",""),e.elements.container.style.transitionDelay=r.animationSpeed/1e3/u.length*t+"s"}))})),a=u},unspiderfy:o,each:e=>$e.each(a,e)}},He=function(e,t){let r,i;const a=()=>{i&&(r.unspiderfy(),t.onClose&&t.onClose(i),i=null,e.off("click",a))};return r=Ye(e,{animate:!0,animationSpeed:200,customPin:!0,initializeLeg:e=>{const{feature:r,elements:n,param:i}=e,{radius:a,fillColor:o,opacity:s}=t,l=r.properties.color||o,u=document.createElement("div"),{angle:c}=i,d=Math.cos(c)*a,h=Math.sin(c)*a;u.setAttribute("style",`\n            width: ${2*a}px;\n            height: ${2*a}px;\n            margin-left: -${a}px;\n            margin-top: -${a}px;\n            background-color: ${l};\n            border: 1px solid ${I};\n            border-radius: 50%;\n            transform: translate(${d}px, ${h}px);`),n.container.style.opacity=s,n.pin.appendChild(u)},onClick:(r,i)=>{r.stopPropagation();const{feature:a,marker:o,param:s}=i,{angle:l,legLength:u}=s,c=u+t.radius,d=new n.Point(c*Math.cos(l),c*Math.sin(l)),h=e.project(o.getLngLat()).add(d),{lng:p,lat:m}=e.unproject(h);t.onClick({type:"click",coordinates:[p,m],position:[r.x,r.pageY||r.y],feature:a})}}),{spiderfy:(t,n,o)=>{t!==i&&(r.spiderfy(n,o),i=t,e.on("click",a))},unspiderfy:a,setOpacity:e=>{i&&r.each((t=>t.elements.container.style.opacity=e))},isExpanded:e=>e===i,getId:()=>i}};function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ke=class extends fe{constructor(e){super(e),Qe(this,"zoomToCluster",((e,t)=>{if(this.isMaxZoom())this.spiderfy(e,t);else{const r=this.getMapGL();r.getSource(this.getId()).getClusterExpansionZoom(e,((e,n)=>{e||r.easeTo({center:t,zoom:n+1})}))}})),Qe(this,"unspiderfy",(()=>{if(this.spider){this.spider.unspiderfy();const e=this.getMapGL();e&&e.off("zoom",this.unspiderfy)}})),Qe(this,"getClusterFeatures",(e=>new Promise(((t,r)=>{this.getMapGL().getSource(this.getId()).getClusterLeaves(e,null,null,((e,n)=>e?r(e):t(this.sortClusterFeatures(n))))})))),Qe(this,"sortClusterFeatures",(e=>e)),Qe(this,"updatePolygons",(()=>{const e=this.getSourceFeatures().filter((e=>e.properties.isPolygon));let t=[];if(e.length&&(t=[...new Set(e.map((e=>e.id)))].sort()),t.length!==this._polygonsOnMap.length||t.some(((e,t)=>e!==this._polygonsOnMap[t]))){this._polygonsOnMap=t;const e=t.map((e=>this._polygons[e]));this.getMapGL().getSource(`${this.getId()}-polygons`).setData(_(e))}})),Qe(this,"onSpiderClose",(e=>{this.setClusterOpacity(e)})),this.createSource(),this.createLayers()}setFeatures(e=[]){super.setFeatures(e),this._hasPolygons=e.some((e=>"Polygon"===e.geometry.type)),this._hasPolygons&&(this._polygons={},this._polygonsOnMap=[],this._features=this._features.map((e=>"Polygon"===e.geometry.type?(this._polygons[e.id]=e,Xe(Xe({},e),{},{geometry:qe(e).geometry,properties:Xe(Xe({},e.properties),{},{isPolygon:!0})})):e)))}createSource(e){const t=this.getId();this.setSource(t,Xe({type:"geojson",clusterMaxZoom:19,clusterRadius:50},e)),this.setSource(`${t}-polygons`,{type:"geojson",data:_()})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:r=I,radius:n}=this.options;this.addLayer(ye({id:e,color:t,strokeColor:r,radius:n,filter:P}),{isInteractive:true}),this.addLayer(ge({id:e,color:t,source:`${e}-polygons`}),{isInteractive:true}),this.addLayer(ve({id:e,color:r,source:`${e}-polygons`}))}setOpacity(e){super.setOpacity(e),this.spider&&(this.setClusterOpacity(this.spider.getId(),!0),this.spider.setOpacity(e))}async spiderfy(e,t){if(this.spider&&!this.spider.isExpanded(e)){this.spider.unspiderfy();const r=await this.getClusterFeatures(e);this.spider.spiderfy(e,t,r),this.setClusterOpacity(e,!0),this.getMapGL().on("zoom",this.unspiderfy)}}setClusterOpacity(e,t){if(e){const{opacity:r}=this.options;this.getMapGL().setPaintProperty(`${this.getId()}-cluster`,"circle-opacity",t&&r>=.1?["case",["==",["get","cluster_id"],e],.1,r]:r)}}getSourceFeatures(){return this.getMapGL().querySourceFeatures(this.getId())}onAdd(){const e=this.getMapGL(),{radius:t,fillColor:r,opacity:n}=this.options;this.spider=new He(e,{onClick:this.onClick,radius:t,fillColor:r,opacity:n,onClose:this.onSpiderClose}),this.setOpacity(this.options.opacity)}onRemove(){this.unspiderfy(),this.spider=null}};function et(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const tt=class extends Ke{constructor(...e){super(...e),et(this,"onClick",(e=>{const{feature:t}=e;if(t.properties.cluster)this.zoomToCluster(t.properties.cluster_id,t.geometry.coordinates);else{if("number"==typeof t.id&&"string"==typeof t.properties.id){const{type:r,properties:n,geometry:i}=t,{id:a}=n;e.feature={type:r,id:a,properties:n,geometry:i}}this.fire("click",e)}})),et(this,"onSourceData",(e=>{e.sourceId===this.getId()&&this.getSourceFeatures().length&&(this.getMapGL().off("sourcedata",this.onSourceData),this.updatePolygons())})),et(this,"getClusterFeatures",(e=>new Promise(((t,r)=>{this.getMapGL().getSource(this.getId()).getClusterLeaves(e,null,null,((e,n)=>e?r(e):t(n)))}))))}createSource(){super.createSource({cluster:!0,data:_(this.getFeatures())})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:r=I,countColor:n=D}=this.options;super.createLayers(),this.addLayer(be({id:e,color:t,strokeColor:r}),{isInteractive:!0}),this.addLayer(xe({id:e,color:n}))}onAdd(){if(super.onAdd(),this._hasPolygons){const e=this.getMapGL();e.on("sourcedata",this.onSourceData),e.on("moveend",this.updatePolygons),this.updatePolygons()}}onRemove(){if(super.onRemove(),this._hasPolygons){const e=this.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("moveend",this.updatePolygons))}}};var rt=r(41579),nt=r.n(rt);function it(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class at extends n.Marker{constructor(e,t={}){const r=ot(e);super({element:r}),it(this,"onClick",(e=>{e.stopPropagation(),this.fire("click")})),this.setOpacity(t.opacity),r.addEventListener("click",this.onClick)}setOpacity(e){"number"==typeof e&&(this.getElement().style.opacity=e)}setVisibility(e){this.getElement().style.display=e?"block":"none"}}const ot=e=>{const t=e.reduce(((e,t)=>e+t.count),0),r=t>=1e3?22:t>=100?20:t>=10?18:16,n=t>=1e3?50:t>=100?32:t>=10?24:18,i=Math.round(.6*n),a=2*n;let o=0,s=`<svg width="${a}" height="${a}" viewbox="0 0 ${a} ${a}" text-anchor="middle" style="font:${r}px sans-serif;cursor:pointer;filter:drop-shadow(0 0 2px #777);">`;e.forEach((e=>{s+=st(o/t,(o+e.count)/t,n,i,e.color),o+=e.count})),s+=`<circle cx="${n}" cy="${n}" r="${i}" fill="white" />`,s+=`<text dominant-baseline="central" transform="translate(${n}, ${n})">${t}</text></svg>`;const l=document.createElement("div");return l.innerHTML=s,l.firstChild},st=(e,t,r,n,i)=>{t-e==1&&(t-=1e-5);const a=2*Math.PI*(e-.25),o=2*Math.PI*(t-.25),s=Math.cos(a),l=Math.sin(a),u=Math.cos(o),c=Math.sin(o),d=t-e>.5?1:0;return['<path d="M',r+n*s,r+n*l,"L",r+r*s,r+r*l,"A",r,r,0,d,1,r+r*u,r+r*c,"L",r+n*u,r+n*c,"A",n,n,0,d,0,r+n*s,r+n*l,'" fill="'+i+'" />'].join(" ")},lt=at;function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ht=class extends Ke{constructor(...e){super(...e),dt(this,"clusters",{}),dt(this,"clustersOnScreen",{}),dt(this,"onSourceData",(e=>{e.sourceId===this.getId()&&this.getSourceFeatures().length&&this.updateClusters()})),dt(this,"onClick",(e=>{const{feature:t}=e;if(t.properties.cluster)this.zoomToCluster(t.properties.cluster_id,t.geometry.coordinates);else{if("number"==typeof t.id&&"string"==typeof t.properties.id){const{type:r,properties:n,geometry:i}=t,{id:a}=n;e.feature={type:r,id:a,properties:n,geometry:i}}this.fire("click",e)}})),dt(this,"sortClusterFeatures",(e=>{const t=this.options.groups.map((e=>e.color));return e.sort(((e,r)=>{const n=t.indexOf(e.properties.color),i=t.indexOf(r.properties.color);return(n>i)-(n<i)}))})),dt(this,"updateClusters",nt()((()=>{const{groups:e,opacity:t}=this.options,r={},n=this.getSourceFeatures();for(let i=0;i<n.length;i++){const{geometry:a,properties:o}=n[i],{coordinates:s}=a,{cluster:l,cluster_id:u}=o;if(!l)continue;let c=this.clusters[u];if(!c){const r=e.map((e=>ct(ct({},e),{},{count:o[e.color]})));c=new lt(r,{opacity:t}),c.setLngLat(s),c.on("click",(()=>{this.zoomToCluster(u,s)})),this.clusters[u]=c}r[u]=c,this.clustersOnScreen[u]||c.addTo(this.getMapGL())}for(const e in this.clustersOnScreen)r[e]||this.clustersOnScreen[e].remove();this.clustersOnScreen=r,this._hasPolygons&&this.updatePolygons()}),100))}createSource(){super.createSource({cluster:!0,clusterProperties:this.options.groups.reduce(((e,{color:t})=>(e[t]=["+",["case",["==",["get","color"],t],1,0]],e)),{}),data:_(this.getFeatures())})}onAdd(){super.onAdd();const e=this.getMapGL();e.on("sourcedata",this.onSourceData),e.on("move",this.updateClusters),e.on("moveend",this.updateClusters),this.updateClusters()}onRemove(){super.onRemove();const e=this.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("move",this.updateClusters),e.off("moveend",this.updateClusters));for(const e in this.clustersOnScreen)this.clustersOnScreen[e].remove();this.clustersOnScreen={},this.clusters={}}setOpacity(e){if(super.setOpacity(e),this.isOnMap())for(const t in this.clusters)this.clusters[t].setOpacity(e)}setClusterOpacity(e,t){if(e){const r=this.clusters[e],{opacity:n}=this.options;r&&r.setOpacity(t?n<.1?n:.1:n)}}setVisibility(e){if(super.setVisibility(e),this.isOnMap())for(const t in this.clusters)this.clusters[t].setVisibility(e)}};var pt=r(67840),mt=r.n(pt);const ft=6378137;function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vt=class extends Ke{constructor(e){super(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tileSize:512,clusterSize:110,maxSpiderSize:500,debug:!0},e)),gt(this,"currentTiles",[]),gt(this,"currentClusters",[]),gt(this,"currentClusterIds",""),gt(this,"currentZoom",0),gt(this,"tileClusters",{}),gt(this,"cluserCount",0),gt(this,"getResolution",(e=>Math.PI*ft*2/this.options.tileSize/Math.pow(2,e))),gt(this,"updateClusters",(e=>{const t=e.reduce(((e,t)=>{const[r,n,i]=t.split("/"),a=this.isOutsideBounds(this.getTileBounds(n,i,r));return[...e.filter(a),...this.tileClusters[t]]}),this.currentClusters),r=this.getClusterIds(t);if(this.currentClusterIds!==r){this.getMapGL().getSource(this.getId()).setData(_(t)),this.currentClusterIds=r,this.currentClusters=t}})),gt(this,"onClick",(e=>{const{geometry:t,properties:r}=e.feature,{cluster:n,bounds:i,id:a,cluster_id:o}=r;n?a?this.spiderfy(o,t.coordinates):this.zoomToBounds(i):this.fire("click",e)})),gt(this,"onSourceData",(e=>{if(e.sourceId===this.getId()&&e.tile){const t=this.getTileId(e.tile);this.tileClusters[t]||(this.tileClusters[t]="pending",this.options.load(this.getTileParams(t),this.onTileLoad))}})),gt(this,"onMoveEnd",(async()=>{const e=await this.getVisibleTiles();if(e.join("-")!==this.currentTiles.join("-")){this.currentTiles=e;const t=e.filter((e=>Array.isArray(this.tileClusters[e])));t.length&&this.updateClusters(t)}})),gt(this,"onTileLoad",(async(e,t)=>{this.tileClusters[e]=t;(await this.getVisibleTiles()).includes(e)&&this.updateClusters([e])})),gt(this,"getBounds",(()=>this.options.bounds)),gt(this,"areTilesUpdated",(()=>{const e=this._map.getMapGL(),t=Math.floor(e.getZoom());return this.getSourceCacheTiles().every((({tileID:e})=>e.canonical.z===t))})),gt(this,"getSourceCacheTiles",(()=>{const e=this._map.getMapGL().style.sourceCaches[this.getId()];return e?Object.values(e._tiles):[]})),gt(this,"getClusterFeatures",(e=>{const t=this.currentClusters.find((t=>t.id===e));if(t)return t.properties.id.split(",").slice(0,this.options.maxSpiderSize).map((e=>({type:"Feature",id:e,geometry:t.geometry,properties:{id:e}})))})),gt(this,"isOutsideBounds",(e=>({geometry:t})=>{const{coordinates:r}="Point"===t.type?t:Ve(t).geometry,[n,i]=r;return n<=e[0]||n>=e[2]||i<=e[1]||i>=e[3]})),gt(this,"getVisibleTiles",(async()=>{for(;!this.areTilesUpdated();)await new Promise((e=>setTimeout(e,100)));return this.getSourceCacheTiles().map(this.getTileId).sort()})),gt(this,"getClusterIds",(e=>e.map((e=>e.id)).sort(((e,t)=>e-t)).join()));const t=new(mt())({size:this.options.tileSize});this.getTileBounds=(e,r,n)=>t.bbox(e,r,n)}createSource(){super.createSource({data:_()})}createLayers(){const e=this.getId(),{fillColor:t,strokeColor:r=I,countColor:n=D,radius:i}=this.options,a=!0;this.addLayer(ye({id:e,color:t,strokeColor:r,radius:i,filter:P}),{isInteractive:a}),this.addLayer(ge({id:e,color:t}),{isInteractive:a}),this.addLayer(ve({id:e,color:r})),this.addLayer(be({id:e,color:t,strokeColor:r}),{isInteractive:a}),this.addLayer(xe({id:e,color:n}))}getTileId(e){const{x:t,y:r,z:n}=e.tileID.canonical;return`${n}/${t}/${r}`}getTileParams(e){const[t,r,n]=e.split("/"),{clusterSize:i}=this.options,a=this._map.getMapGL();return{tileId:e,bbox:this.getTileBounds(r,n,t).join(","),clusterSize:Math.round(this.getResolution(t)*i),includeClusterPoints:Number(t)===a.getMaxZoom()}}onAdd(){super.onAdd();const e=this._map.getMapGL();e.on("sourcedata",this.onSourceData),e.on("moveend",this.onMoveEnd)}onRemove(){super.onRemove();const e=this._map.getMapGL();e&&(e.off("sourcedata",this.onSourceData),e.off("moveend",this.onMoveEnd))}zoomToBounds(e){if(e){let t;if(Array.isArray(e))t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return}t&&this._map.getMapGL().fitBounds(t,{padding:40})}}},_t=Symbol("Comlink.proxy"),bt=Symbol("Comlink.endpoint"),xt=Symbol("Comlink.releaseProxy"),wt=Symbol("Comlink.finalizer"),Tt=Symbol("Comlink.thrown"),St=e=>"object"==typeof e&&null!==e||"function"==typeof e,kt=new Map([["proxy",{canHandle:e=>St(e)&&e[_t],serialize(e){const{port1:t,port2:r}=new MessageChannel;return Ct(e,t),[r,[r]]},deserialize:e=>(e.start(),Nt(e))}],["throw",{canHandle:e=>St(e)&&Tt in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Ct(e,t=globalThis,r=["*"]){t.addEventListener("message",(function n(i){if(!i||!i.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(r,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:a,type:o,path:s}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Ft);let u;try{const t=s.slice(0,-1).reduce(((e,t)=>e[t]),e),r=s.reduce(((e,t)=>e[t]),e);switch(o){case"GET":u=r;break;case"SET":t[s.slice(-1)[0]]=Ft(i.data.value),u=!0;break;case"APPLY":u=r.apply(t,l);break;case"CONSTRUCT":u=zt(new r(...l));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;Ct(e,r),u=function(e,t){return Dt.set(e,t),e}(t,[t])}break;case"RELEASE":u=void 0;break;default:return}}catch(e){u={value:e,[Tt]:0}}Promise.resolve(u).catch((e=>({value:e,[Tt]:0}))).then((r=>{const[i,s]=Rt(r);t.postMessage(Object.assign(Object.assign({},i),{id:a}),s),"RELEASE"===o&&(t.removeEventListener("message",n),Lt(t),wt in e&&"function"==typeof e[wt]&&e[wt]())})).catch((e=>{const[r,n]=Rt({value:new TypeError("Unserializable return value"),[Tt]:0});t.postMessage(Object.assign(Object.assign({},r),{id:a}),n)}))})),t.start&&t.start()}function Lt(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Nt(e,t){return Mt(e,[],t)}function At(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ot(e){return Bt(e,{type:"RELEASE"}).then((()=>{Lt(e)}))}const Et=new WeakMap,Pt="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(Et.get(e)||0)-1;Et.set(e,t),0===t&&Ot(e)}));function Mt(e,t=[],r=function(){}){let n=!1;const i=new Proxy(r,{get(r,a){if(At(n),a===xt)return()=>{!function(e){Pt&&Pt.unregister(e)}(i),Ot(e),n=!0};if("then"===a){if(0===t.length)return{then:()=>i};const r=Bt(e,{type:"GET",path:t.map((e=>e.toString()))}).then(Ft);return r.then.bind(r)}return Mt(e,[...t,a])},set(r,i,a){At(n);const[o,s]=Rt(a);return Bt(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:o},s).then(Ft)},apply(r,i,a){At(n);const o=t[t.length-1];if(o===bt)return Bt(e,{type:"ENDPOINT"}).then(Ft);if("bind"===o)return Mt(e,t.slice(0,-1));const[s,l]=It(a);return Bt(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:s},l).then(Ft)},construct(r,i){At(n);const[a,o]=It(i);return Bt(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:a},o).then(Ft)}});return function(e,t){const r=(Et.get(t)||0)+1;Et.set(t,r),Pt&&Pt.register(e,t,e)}(i,e),i}function It(e){const t=e.map(Rt);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const Dt=new WeakMap;function zt(e){return Object.assign(e,{[_t]:!0})}function Rt(e){for(const[t,r]of kt)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},Dt.get(e)||[]]}function Ft(e){switch(e.type){case"HANDLER":return kt.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Bt(e,t,r){return new Promise((n=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)}))}let jt;const Ut=e=>new Promise(((t,n)=>{if(jt)t(jt);else{const i=Nt("undefined"!=typeof SharedWorker?new SharedWorker(new URL(r.p+r.u(4647),r.b)).port:new Worker(new URL(r.p+r.u(4268),r.b)));i.setAuthToken(zt(e)).then((()=>{jt=i,t(i)})).catch(n)}})),Vt={bandReducer:"sum",popup:"{name}: {value} {unit}",nullPopup:"{name}: {noValue}",noValue:"no value"},Wt=["format","aggregationType","band","bandReducer","buffer","data","datasetId","filter","legend","mask","methods","mosaic","params","tileScale"],qt=e=>{if(void 0===e)return e=>e;const t=Math.pow(10,e);return e=>Math.round(e*t)/t},Gt=e=>{return qt((t=Math.abs(e))<1?3:t<10?2:t<100?1:0)(e);var t},Zt=e=>.621371192*e,$t=(e,t)=>e.replace(/\{ *([\w_-]+) *\}/g,((e,r)=>t[r])),Yt=e=>Array.isArray(e)?e.sort(((e,t)=>t.id-e.id)).map((({id:e,source:t})=>`${e}-${t}`)).join("-"):"";function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Qt=class extends fe{constructor(e){super(Jt(Jt({},Vt),e)),Xt(this,"addTo",(e=>new Promise(((t,r)=>{this._map=e,e.styleIsLoaded()?this.getWorkerInstance().then((async r=>{if(this.worker=r,this._tileUrl||(this._tileUrl=await r.getTileUrl()),!this._terminated){this.createSource(),this.createLayers(),super.addTo(e),this.onLoad();const{preload:t,data:r}=this.options;t&&r&&this.getAggregations()}t()})).catch(r):t()})))),Xt(this,"getWorkerInstance",(()=>(this._workerPromise||(this._workerPromise=new Promise(((e,t)=>Ut(this.options.getAuthToken).then((t=>{new t((e=>{const t=Object.keys(e).filter((e=>Wt.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});return t.data&&!t.buffer&&(t.data=t.data.filter((e=>"Point"!==e.geometry.type))),t})(this.options)).then(e)})).catch(t)))),this._workerPromise))),Xt(this,"getValue",(async e=>{const{band:t,legend:r}=this.options,n=await this.worker.getValue(e),i=n[t]||Object.values(n)[0],a=Array.isArray(r)&&r.find((e=>e.id===i));return a?a.name:i})),Xt(this,"showValue",(e=>this.getValue(e).then((t=>{const{lng:r,lat:n}=e,i=this.options;let a;a=null===t?$t(i.nullPopup,i):$t(i.popup,Jt(Jt({},i),{},{value:"number"==typeof t?Gt(t):t})),this._map.openPopup(document.createTextNode(a),[r,n])})))),Xt(this,"getAggregations",(()=>(this._aggregationsPromise||(this._aggregationsPromise=this.worker.getAggregations()),this._aggregationsPromise)))}removeFrom(e,t){this._terminated=!t,super.removeFrom(e)}createSource(){const e=this.getId();this.setSource(`${e}-raster`,{type:"raster",tileSize:256,tiles:[this._tileUrl]}),this.options.data&&this.setSource(e,{type:"geojson",data:_(this.getFilteredFeatures())})}createLayers(){const e=this.getId(),t=e;this.addLayer({id:`${e}-raster`,type:"raster",source:`${e}-raster`}),this.options.data&&(this.addLayer(ge({id:e,source:t,opacity:.9}),{isInteractive:true}),this.addLayer(ve({id:e,source:t})),this.addLayer(ye({id:e,source:`${e}-points`,radius:2,color:"#333"})))}setFeatures(e=[]){this.setSource(`${this.getId()}-points`,{type:"geojson",data:_(e.filter(g))}),super.setFeatures(e.map(this.createBuffer.bind(this)))}createBuffer(e){const{buffer:t}=this.options;return t&&"Point"===e.geometry.type?Jt(Jt({},e),{},{geometry:$(e,t/1e3)}):e}setOpacity(e){super.setOpacity(e);const t=`${this.getId()}-polygon`,r=this.getMapGL();r&&r.getLayer(t)&&r.setPaintProperty(t,"fill-opacity",0)}getFilteredFeatures(){const e=this.getFeatures(),t=this._filteredFeatureIds;return Array.isArray(t)?e.filter((e=>t.includes(e.properties.id))):e}filter(e){this._filteredFeatureIds=e;const t=this.getMapGL().getSource(this.getId());t&&t.setData(_(this.getFilteredFeatures()))}};var Kt=r(60984),er=r.n(Kt);function tr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const rr=class extends fe{constructor(...e){super(...e),tr(this,"createLayer",(()=>{const e=this.getId();this.addLayer({id:`${e}-raster`,type:"raster",source:e})})),tr(this,"onMetaDataLoad",(e=>{if(200!==e.statusCode)throw new Error("Bing Imagery Metadata error: \n"+JSON.stringify(e,null,"  "));return e.resourceSets[0].resources[0]})),tr(this,"updateAttribution",(()=>{const e=this.getMapGL().getSource(this.getId());e&&(e.attribution=this.getAttribution(),this.getMap()._updateAttributions())}))}async createSource(){const{imageUrl:e,imageUrlSubdomains:t,imageryProviders:r}=await this.loadMetaData();this._imageryProviders=r,this.setSource(this.getId(),{type:"raster",tiles:t.map((t=>e.replace("{subdomain}",t))),tileSize:256})}async addTo(e){await this.createSource(),this.createLayer(),await super.addTo(e),e.orderOverlays(),this.getMapGL().on("moveend",this.updateAttribution),this.updateAttribution(),this.addBingMapsLogo(),void 0!==this.options.opacity&&this.setOpacity(this.options.opacity)}onRemove(){const e=this.getMapGL();if(e&&(e.off("moveend",this.updateAttribution),this._brandLogoImg)){const t=e.getContainer();t.removeChild(this._brandLogoImg),t.classList.remove("dhis2-map-bing")}}async loadMetaData(){const{apiKey:e,style:t="Road"}=this.options,r=`https://dev.virtualearth.net/REST/V1/Imagery/Metadata/${t}?output=json&include=ImageryProviders&culture=en-GB&key=${e}&uriScheme=https`;return er()(r,{jsonpCallback:"jsonp"}).then((e=>e.json())).then(this.onMetaDataLoad)}addBingMapsLogo(){const e=this.getMap().getContainer(),t=document.createElement("div");t.className="dhis2-map-bing-logo",e.appendChild(t),e.classList.add("dhis2-map-bing"),this._brandLogoImg=t}getAttribution(){const e=this.getMapGL(),[t,r]=e.getBounds().toArray(),n=[...t.reverse(),...r.reverse()],i=e.getZoom()<1?1:e.getZoom();return this._imageryProviders.filter((({coverageAreas:e})=>e.some((({bbox:e,zoomMin:t,zoomMax:r})=>{return o=n,!((a=e)[0]>o[2]||a[2]<o[0]||a[3]<o[1]||a[1]>o[3])&&i>=t&&i<=r;var a,o})))).map((e=>e.attribution)).join(", ")}};function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){ar(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ar(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const or=class extends fe{constructor(e){super(e),this.setImages(),this.createSource(),this.createLayers()}createLayers(){const e=this.getId(),{style:t={},buffer:r,bufferStyle:n,label:i,labelStyle:a}=this.options,{radius:o,color:s,strokeColor:l,weight:u,opacityFactor:c}=t,d=!0;r&&(this.addLayer(Y(ir({id:e},n))),this.addLayer(H(ir({id:e},n)))),this.addLayer(ge({id:e,color:s}),{isInteractive:d,opacityFactor:c}),this.addLayer(ve({id:e,color:l,width:u})),this.addLayer((({id:e,color:t,width:r,source:n,filter:i})=>({id:`${e}-line`,type:"line",source:n||e,paint:{"line-color":t,"line-width":B(r)},filter:i||L}))({id:e,color:s,width:u}),{isInteractive:d}),this.addLayer(ye({id:e,color:s,strokeColor:l,width:u,radius:o}),{isInteractive:d}),this.addLayer(_e({id:e}),{isInteractive:d}),i&&this.addLayer(oe(ir({id:e,label:i},a)))}};function sr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lr extends n.Evented{constructor(e){super(),sr(this,"onClick",(e=>{const{feature:t}=e;if(t){const{id:r}=t.layer,n=this._layers.find((e=>e.hasLayerId(r)));n&&n.fire("click",e)}})),sr(this,"onContextMenu",(e=>{const{feature:t}=e;if(t){const{id:r}=t.layer,n=this._layers.find((e=>e.hasLayerId(r)));n&&n.fire("contextmenu",e)}})),sr(this,"onMouseMove",((e,t)=>{if(t){const{id:r}=t.layer,n=this._layers.find((e=>e.hasLayerId(r)));n&&n.onMouseMove(e,t)}})),this.options=e||{},this._layers=[],this._layerConfigs=[],this._isVisible=!0}createLayer(){this._layerConfigs.forEach((e=>this._layers.push(this._map.createLayer(e)))),this.options.opacity&&this.setOpacity(this.options.opacity)}addTo(e){this._map=e,this._layers.length||this.createLayer(),this._layers.forEach((t=>t.addTo(e))),this.on("contextmenu",this.onContextMenu)}removeFrom(e){this._layers.forEach((t=>t.removeFrom(e))),this.off("contextmenu",this.onContextMenu)}addLayer(e){this._layerConfigs.push(e)}isOnMap(){return this._layers.some((e=>e.isOnMap()))}isInteractive(){return this._layers.some((e=>e.isInteractive()))}setIndex(e=0){this.options.index=e,this._layers.forEach((t=>t.setIndex(e)))}getIndex(){return this.options.index||0}getBounds(){return v(this._layers)}getInteractiveIds(){return[].concat(...this._layers.map((e=>e.getInteractiveIds())))}getFeaturesById(e){return this._layers.map((t=>t.getFeaturesById(e))).flat()}setOpacity(e){this._layers.forEach((t=>t.setOpacity(e)))}setVisibility(e){this._layers.forEach((t=>t.setVisibility(e))),this._isVisible=e}isVisible(){return this._isVisible}move(){this._layers.forEach((e=>e.move()))}hasLayerId(e){return this._layers.some((t=>t.getLayers().some((t=>t.id===e))))}}const ur={vectorStyle:Te,tileLayer:Se,wmsLayer:Se,choropleth:Le,boundary:Ee,markers:De,events:Be,clientCluster:tt,donutCluster:ht,serverCluster:vt,earthEngine:Qt,bingLayer:rr,geoJson:or,group:lr};class cr extends n.AttributionControl{_updateAttributions(){super._updateAttributions(),this._isLongAttribution()&&(void 0===this._compact&&(this._compact=!0,this._updateCompact()),this._updateCompactMinimize())}_isLongAttribution(){const e=this._container.clientWidth,t=this._map.getContainer().clientWidth;return e&&t&&e>t-130}}const dr=cr;function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fr={visualizePitch:!0};class yr extends n.NavigationControl{constructor(e={}){super(pr(pr({},fr),e))}}const gr=yr;var vr=r(68692),_r=r.n(vr);function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Tr={maxZoom:15,limit:5};const Sr=class{constructor(e){wr(this,"_onKeyDown",(e=>setTimeout((()=>{const{selected:e}=this._typeahead;e&&this._inputEl.value!==e.name&&(this._inputEl.addEventListener("keydown",this._onKeyDown),this._typeahead.selected=null,this._typeahead.clear(),this._popup.remove())}),100))),wr(this,"_onChange",(()=>{const{value:e}=this._inputEl,{selected:t}=this._typeahead,{maxZoom:r}=this.options;if(e)if(t){const{bounds:e,lng:n,lat:i,name:a}=t;this._map.fitBounds(e,{maxZoom:r}),this._popup.setLngLat([n,i]).setText(a),this._popup.isOpen()||this._popup.addTo(this._map),this._inputEl.addEventListener("keydown",this._onKeyDown)}else this._geocode(e)})),wr(this,"_clear",(e=>{e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._popup.remove(),this._onChange(),this._inputEl.focus(),this._clearEl.style.display="none"})),wr(this,"_showSuggestions",(()=>{const{list:e,selected:t}=this._typeahead;t&&e.draw()})),wr(this,"_toggleSearchControl",(()=>{this._container.classList.toggle("dhis2-map-ctrl-search-collapsed")})),wr(this,"_collapseSearchControl",(()=>{this._toggleSearchControl(),this._container.addEventListener("click",this._expandSearchControl)})),wr(this,"_expandSearchControl",(()=>{this._toggleSearchControl(),this._container.removeEventListener("click",this._expandSearchControl),this._map.once("click",this._collapseSearchControl),this._inputEl.focus()})),this.options=xr(xr({},Tr),e),this._popup=new n.Popup({closeOnClick:!1}),this._collapsed=!0}geocodeRequest(e,t,r){const n={format:"json",q:e,limit:r.limit},i=new URLSearchParams(Object.entries(n));return fetch(`https://nominatim.openstreetmap.org/search?${i}`).then((e=>e.ok?e.json():[])).then((e=>e.map((e=>{const{display_name:t,lon:r,lat:n,boundingbox:i}=e,[a,o,s,l]=i;return{name:t,lat:n,lng:r,bounds:[[s,a],[l,o]]}}))))}onAdd(e){this._map=e;const t=e._getUIString("SearchControl.SearchForPlace"),r=this._container=document.createElement("div");r.className="maplibregl-ctrl dhis2-map-ctrl-search";const n=document.createElement("span");n.className="geocoder-icon geocoder-icon-search",n.title=t,n.setAttribute("aria-label",t),this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.placeholder=t,this._inputEl.addEventListener("change",this._onChange),this._inputEl.addEventListener("click",this._showSuggestions);const i=document.createElement("div");return i.classList.add("geocoder-pin-right"),this._clearEl=document.createElement("button"),this._clearEl.className="geocoder-icon geocoder-icon-close",this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this._clear),this._loadingEl=document.createElement("span"),this._loadingEl.className="geocoder-icon geocoder-icon-loading",i.appendChild(this._clearEl),i.appendChild(this._loadingEl),r.appendChild(n),r.appendChild(this._inputEl),r.appendChild(i),this._typeahead=new(_r())(this._inputEl,[],{filter:!1,limit:this.options.limit}),this._typeahead.getItemValue=e=>e.name,this._collapseSearchControl(),r}onRemove(){return this._container.parentNode.removeChild(this._container),this._map=null,this}_geocode(e){this._loadingEl.style.display="block",this.geocodeRequest(e,this._map.getBounds(),this.options).then((e=>{let t=e;this._loadingEl.style.display="none",t.length?(t=e.slice(0,this.options.limit),this._clearEl.style.display="block"):(this._clearEl.style.display="none",this._typeahead.selected=null),this._typeahead.update(e),1===t.length&&this._typeahead.value(t[0])})).catch((()=>this._loadingEl.style.display="none"))}};const kr=function(e,t,r){void 0===r&&(r={});var n=(0,We.c9)(e),i=(0,We.c9)(t),a=(0,je.Ht)(i[1]-n[1]),o=(0,je.Ht)(i[0]-n[0]),s=(0,je.Ht)(n[1]),l=(0,je.Ht)(i[1]),u=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(s)*Math.cos(l);return(0,je.DL)(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),r.units)};function Cr(e,t){return void 0===t&&(t={}),(0,J.hE)(e,(function(e,r){var n=r.geometry.coordinates;return e+kr(n[0],n[1],t)}),0)}const Lr=(e,t,r,n)=>{const i=document.createElement(e);return t&&(i.className=t),r&&(i.innerText=r),n&&n.appendChild(i),i};function Nr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ar=class{constructor(){Nr(this,"_setupMap",(()=>{const e=this._map.getMapGL(),t="#ffa500";this._geojson=_(),this._linestring={type:"Feature",geometry:{type:"LineString",coordinates:[]}},this._polygon={type:"Feature",geometry:{type:"Polygon",coordinates:[]}},e.addSource("measure",{type:"geojson",data:this._geojson}),e.addLayer({id:"measure-points",type:"circle",source:"measure",paint:{"circle-radius":5,"circle-color":t},filter:["in","$type","Point"]}),e.addLayer({id:"measure-line",type:"line",source:"measure",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":t,"line-width":2.5},filter:["in","$type","LineString"]}),e.addLayer({id:"measure-polygon",type:"fill",source:"measure",paint:{"fill-color":t,"fill-opacity":.1},filter:["in","$type","Polygon"]}),e.on("click",this._onMapClick),e.on("mousemove",this._onMouseMove),this._map.on("layersort",this._onLayerSort)})),Nr(this,"_clearMap",(()=>{const e=this._map.getMapGL();e.getLayer("measure-points")&&e.removeLayer("measure-points"),e.getLayer("measure-line")&&e.removeLayer("measure-line"),e.getLayer("measure-polygon")&&e.removeLayer("measure-polygon"),e.getSource("measure")&&e.removeSource("measure"),e.off("click",this._onMapClick),e.off("mousemove",this._onMouseMove),e.getCanvas().style.cursor="grab",this._geojson=null,this._linestring=null,this._polygon=null,this._isActive=!1})),Nr(this,"_startMeasure",(()=>{const e=this._map.getMapGL(),t=this.locale;this._button.classList.add("active"),this._geojson||this._setupMapWhenReady(),this._distanceContainer=Lr("div","dhis2-map-ctrl-measure-result","",e.getContainer()),Lr("div","dhis2-map-ctrl-measure-header",t("MeasureControl.MeasureDistancesAndAreas"),this._distanceContainer),this._distanceText=Lr("p","",t("MeasureControl.ClickStartMeasurement"),this._distanceContainer),this._actionsEl=Lr("div","dhis2-map-ctrl-measure-actions","",this._distanceContainer),this._cancelEl=Lr("span","dhis2-map-ctrl-measure-cancel",t("MeasureControl.Cancel"),this._actionsEl),this._cancelEl.addEventListener("click",this._endMeasure),this._finishEl=Lr("span","dhis2-map-ctrl-measure-finish",t("MeasureControl.FinishMeasurement"),this._actionsEl),this._finishEl.addEventListener("click",this._finishMeasure)})),Nr(this,"_finishMeasure",(()=>{const e=this._map.getMapGL(),t=this._geojson,r=t.features.filter((e=>"Point"===e.geometry.type)),n=this.locale,i=this._numFormat;if(r.length<2)return this._endMeasure();if(r.length>2){const a=t.features.findIndex((e=>e===this._linestring));this._linestring.geometry.coordinates=[...r.map((e=>e.geometry.coordinates)),r[0].geometry.coordinates],t.features[a]=this._linestring,e.getSource("measure").setData(t);const o=Cr(this._linestring),s=Zt(o),l=`${n("MeasureControl.Perimeter")}: ${i(o)} ${n("MeasureControl.Kilometers")} (${i(s)} ${n("MeasureControl.Miles")})`;this._distanceEl.textContent=l}this._actionsEl.innerText="",this._centerEl=Lr("span","dhis2-map-ctrl-measure-center",n("MeasureControl.CenterMapOn"+(2===r.length?"Line":"Area")),this._actionsEl),this._centerEl.addEventListener("click",this._centerMap),this._deleteEl=Lr("span","dhis2-map-ctrl-measure-delete",n("MeasureControl.Delete"),this._actionsEl),this._deleteEl.addEventListener("click",this._endMeasure),e.off("click",this._onMapClick),e.off("mousemove",this._onMouseMove),e.getCanvas().style.cursor="grab"})),Nr(this,"_endMeasure",(()=>{this._button.classList.remove("active"),this._clearMap(),this._distanceContainer&&(this._finishEl.removeEventListener("click",this._endMeasure),this._map.getMapGL().getContainer().removeChild(this._distanceContainer),this._distanceContainer=null)})),Nr(this,"_centerMap",(()=>{const[e,t,r,n]=(0,d.Z)(this._geojson);this._map.getMapGL().fitBounds([[e,t],[r,n]],{padding:100})})),Nr(this,"_onButtonClick",(()=>{this._isActive=!this._isActive,this._isActive?this._startMeasure():this._endMeasure()})),Nr(this,"_onMapClick",(e=>{const t=this._map.getMapGL(),r=this._geojson,n=this.locale,i=this._numFormat;let a=r.features.filter((e=>"Point"===e.geometry.type));const o=t.queryRenderedFeatures(e.point,{layers:["measure-points"]})[0];if(o){const{id:e}=o.properties;a=a.filter((t=>t.properties.id!==e))}else a=[...a,{type:"Feature",geometry:{type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]},properties:{id:String((new Date).getTime())}}];if(r.features=[...a],1===a.length)this._distanceText.innerText=n("MeasureControl.ClickNextPosition");else{this._linestring.geometry.coordinates=a.map((e=>e.geometry.coordinates)),r.features.push(this._linestring);const e=Cr(this._linestring),t=Zt(e),o=`${n("MeasureControl.Distance")}: ${i(e)} ${n("MeasureControl.Kilometers")} (${i(t)} ${n("MeasureControl.Miles")})`;this._distanceText.innerText="",this._distanceEl=Lr("div","dhis2-map-ctrl-measure-distance",o,this._distanceText)}if(a.length>2){this._polygon.geometry.coordinates=[[...a.map((e=>e.geometry.coordinates)),a[0].geometry.coordinates]],r.features.push(this._polygon);const e=Q(this._polygon)/1e4,t=2.47105381*e,o=`${n("MeasureControl.Area")}: ${i(e)} ${n("MeasureControl.Hectares")} (${i(t)} ${n("MeasureControl.Acres")})`;Lr("div","dhis2-map-ctrl-measure-area",o,this._distanceText)}t.getSource("measure").setData(r)})),Nr(this,"_onMouseMove",(e=>{const t=this._map.getMapGL(),r=t.queryRenderedFeatures(e.point,{layers:["measure-points"]});t.getCanvas().style.cursor=r.length?"pointer":"crosshair"})),Nr(this,"_onLayerSort",(()=>{const e=this._map.getMapGL();["measure-points","measure-line","measure-polygon"].forEach((t=>{e.getLayer(t)&&e.moveLayer(t)}))})),this._isActive=!1,this._type="measure",this._numFormat=qt(2)}addTo(e){this._map=e;const t=e.getMapGL();this.locale=t._getUIString.bind(t),t.addControl(this)}onAdd(){return this._container=Lr("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._container}onRemove(){this._clearMap(),this._button.removeEventListener("click",this._onButtonClick),this._container.parentNode.removeChild(this._container),this._map=null}_setupUI(){const e=this.locale("MeasureControl.MeasureDistancesAndAreas");this._button=Lr("button","maplibregl-ctrl-icon dhis2-map-ctrl-measure","",this._container),this._button.type="button",this._button.setAttribute("title",e),this._button.setAttribute("aria-label",e),this._button.addEventListener("click",this._onButtonClick)}_setupMapWhenReady(){const e=this._map.getMapGL();e.isStyleLoaded()?this._setupMap():e.once("styledata",this._setupMap)}};function Or(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Er=class{constructor(e){Or(this,"onClick",(()=>{const e=this._map.getLayersBounds();e&&this._map.fitBounds(e)})),Or(this,"onLayerChange",(()=>{this._container&&(this._container.style.display=this._map.getLayersBounds()?"block":"none")})),this.options=e}getDefaultPosition(){return"top-right"}addTo(e){this._map=e,e.getMapGL().addControl(this),e.on("layeradd",this.onLayerChange),e.on("layerremove",this.onLayerChange)}onAdd(){const e=this._map.getMapGL()._getUIString("FitBoundsControl.ZoomToContent"),t=document.createElement("div");t.className="maplibregl-ctrl maplibregl-ctrl-group";const r=document.createElement("div");return r.className="dhis2-map-ctrl-fitbounds",r.type="button",r.title=e,r.setAttribute("aria-label",e),t.appendChild(r),t.addEventListener("click",this.onClick),this._container=t,t}onRemove(){this._map.on("layeradd",this.onLayerChange),this._map.on("layerremove",this.onLayerChange),this._container.removeEventListener("click",this.onClick),this._container.parentNode.removeChild(this._container),delete this._container,delete this._button,delete this._map,delete this._mapgl}};class Pr extends n.FullscreenControl{constructor(e={}){super(e),this.options=e}addTo(e){this._eventMap=e,this._map=e.getMapGL(),this._map.addControl(this)}onAdd(e){const{isSplitView:t}=this.options;return this._container=e.getContainer().parentNode.parentNode,t&&(this._container=this._container.parentNode),super.onAdd(e)}_onClickFullscreen(){this._eventMap.fire("fullscreenchange",{isFullscreen:!this._isFullscreen()}),super._onClickFullscreen()}_changeIcon(){this._map.resize(),super._changeIcon()}}const Mr=Pr,Ir={zoom:gr,attribution:dr,scale:n.ScaleControl,fullscreen:Mr,search:Sr,measure:Ar,fitBounds:Er},Dr={"SearchControl.SearchForPlace":"Search for place or address","FitBoundsControl.ZoomToContent":"Zoom to content","MeasureControl.MeasureDistancesAndAreas":"Measure distances and areas","MeasureControl.ClickStartMeasurement":"Click where you want to start the measurement","MeasureControl.ClickNextPosition":"Click the next position","MeasureControl.Cancel":"Cancel","MeasureControl.Delete":"Delete","MeasureControl.FinishMeasurement":"Finish measurement","MeasureControl.CenterMapOnLine":"Center map on line","MeasureControl.CenterMapOnArea":"Center map on area","MeasureControl.Distance":"Distance","MeasureControl.Perimeter":"Perimeter","MeasureControl.Area":"Area","MeasureControl.Kilometers":"km","MeasureControl.Miles":"mi","MeasureControl.Hectares":"ha","MeasureControl.Acres":"acres"};const zr=class{constructor(){this.state={panStart:{x:0,y:0},scale:1},this.touchStart=this.touchStart.bind(this),this.touchMove=this.touchMove.bind(this)}touchStart(e){if(2!==e.touches.length)return;e.stopImmediatePropagation(),e.preventDefault();let t=0,r=0;[].forEach.call(e.touches,(e=>{t+=e.screenX,r+=e.screenY})),this.state.panStart.x=t/e.touches.length,this.state.panStart.y=r/e.touches.length}touchMove(e){if(2!==e.touches.length)return;this.state.scale===e.scale&&(e.stopImmediatePropagation(),e.preventDefault()),this.state.scale=e.scale;let t=0,r=0;[].forEach.call(e.touches,(e=>{t+=e.screenX,r+=e.screenY}));const n=t/e.touches.length-this.state.panStart.x,i=r/e.touches.length-this.state.panStart.y;this.state.panStart.x=t/e.touches.length,this.state.panStart.y=r/e.touches.length,this.map.panBy([n/-1,i/-1],{animate:!1})}onAdd(e){this.map=e,this._container=document.createElement("div");const t=e.getContainer();return t.addEventListener("touchstart",this.touchStart,!1),t.addEventListener("touchmove",this.touchMove,!1),"ontouchstart"in document.documentElement&&e.dragPan.disable(),this._container}onRemove(){const e=this.map.getContainer();e.removeEventListener("touchstart",this.touchStart),e.removeEventListener("touchmove",this.touchMove),"ontouchstart"in document.documentElement&&this.map.dragPan.enable(),this.map=void 0}},Rr=(()=>{const e={},t={},r=(r,n)=>{a(r),e[r]=n,(r=>{const n=e[r],i=t[r]=[];n.forEach(((e,t)=>{const a=n.filter(((e,r)=>r!==t));i[t]=o.bind(null,r,e,a)}))})(r),i(r)},n=(r,n)=>{(e[r]||[]).forEach(((e,i)=>e[n?"on":"off"]("move",t[r][i])))},i=e=>n(e,!0),a=e=>n(e,!1),o=(e,t,r)=>{a(e),((e,t)=>{const r=e.getCenter(),n=e.getZoom(),i=e.getBearing(),a=e.getPitch();t.forEach((e=>e.jumpTo({center:r,zoom:n,bearing:i,pitch:a})))})(t,r),i(e)};return{add:(t,n)=>{e[t]||(e[t]=[]);const i=e[t];i.includes(n)||r(t,[...i,n])},remove:(t,n)=>{const i=e[t];i&&i.includes(n)&&r(t,i.filter((e=>e!==n)))}}})(),Fr=Rr;function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(r),!0).forEach((function(t){Ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ur(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Vr={maxWidth:"auto",className:"dhis2-map-popup",closeOnClick:!1};class Wr extends n.Popup{constructor(e){super(jr(jr({},Vr),e)),Ur(this,"onMapClick",(e=>{this._mapInstance.getEventFeature(e)||this.remove()}))}addTo(e){const t=e.getMapGL();super.addTo(t),this._mapInstance||(t.on("click",this.onMapClick),this._mapInstance=e)}clear(){return this._onCloseFunc&&(this.off("close",this._onCloseFunc),this._onCloseFunc=null),this}onClose(e){return"function"==typeof e&&(this._onCloseFunc=e,this.on("close",e)),this}}const qr=Wr;function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){$r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Yr={closeButton:!1,closeOnClick:!1,anchor:"left",offset:[10,0],className:"dhis2-map-label"};class Hr extends n.Popup{constructor(e){super(Zr(Zr({},Yr),e))}_update(e){const t=this._map;if(t){const r=(this._trackPointer&&e?e:t.project(this._lngLat)).x<t.getContainer().offsetWidth/2?"left":"right";this.options.anchor=r,this.options.offset[0]="left"===r?10:-10}super._update(e)}}const Jr=Hr,Xr=["locale","glyphs"];function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function en(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tn extends n.Evented{static hasLayerSupport(e){return!!ur[e]}static hasControlSupport(e){return!!Ir[e]}constructor(e,t={}){super(),en(this,"onLoad",(()=>{this.fire("ready",this)})),en(this,"onClick",(e=>{const t=this._createClickEvent(e),{feature:r}=t;if(r){const e=this.getLayerFromId(r.layer.id);e&&e.onClick(t)}this.fire("click",t)})),en(this,"onContextMenu",(e=>{const t=this._createClickEvent(e);if(t.feature){this.getLayerFromId(t.feature.layer.id).fire("contextmenu",t)}else this.fire("contextmenu",t)})),en(this,"onMouseMove",(e=>{const t=this.getEventFeature(e);let r;t?(r=this.getLayerFromId(t.layer.id),r&&r.onMouseMove(e,t)):this.hideLabel(),this.setHoverState(r&&t?.properties?.id?r.getFeaturesById(t.properties.id):null),this.getMapGL().getCanvas().style.cursor=t?"pointer":""})),en(this,"onMouseOut",(()=>this.hideLabel())),en(this,"onError",(e=>{if(e&&e.error&&e.error.message&&console&&console.error){const{message:t}=e.error;console.error("Failed to fetch"===t?"Failed to fetch map data, are you offline?":t)}}));const{locale:r,glyphs:i}=t,a=Kr(t,Xr),o=new n.Map(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){en(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({container:e,style:z({glyphs:i}),maxZoom:18,preserveDrawingBuffer:!0,attributionControl:!1,locale:Dr,transformRequest:y},a));this._mapgl=o,this._glyphs=i,r&&Object.keys(o._locale).forEach((e=>{const t=o._locale[e];r[t]&&(o._locale[e]=r[t])})),o.on("load",this.onLoad),o.on("click",this.onClick),o.on("contextmenu",this.onContextMenu),o.on("mousemove",this.onMouseMove),o.on("mouseout",this.onMouseOut),o.on("error",this.onError),this._layers=[],this._controls={},!1!==t.attributionControl&&this.addControl({type:"attribution"})}fitBounds(e,t){e&&this._mapgl.fitBounds(e,t||{padding:10,duration:0})}fitWorld(){this.fitBounds([[-180,-90],[180,90]])}setView(e,t){this._mapgl.setCenter(e),this._mapgl.setZoom(t)}getContainer(){return this._mapgl.getContainer()}getMapGL(){return this._mapgl}async addLayer(e){this._layers.push(e),e.isOnMap()||(await e.addTo(this),this.fire("layeradd",this._layers),this.hasLayer(e)||this.removeLayer(e)),this.orderOverlays()}async removeLayer(e){this._layers=this._layers.filter((t=>t!==e)),await e.removeFrom(this),this.fire("layerremove",this._layers)}orderOverlays(){const e=this.getLayers(),t=this.getBeforeLayerId();for(let r=1;r<e.length;r++){const n=e[r];n.isOnMap()&&n.move(t)}this.fire("layersort")}remove(){const e=this._mapgl;e.off("load",this.onLoad),e.off("click",this.onClick),e.off("contextmenu",this.onContextMenu),e.off("mousemove",this.onMouseMove),e.off("mouseout",this.onMouseOut),e.off("error",this.onError),e.remove(),this._mapgl=null}hasLayer(e){return!!this._layers.find((t=>t===e))}addControl(e){const{type:t}=e;if(Ir[t]){const r=new Ir[t](e);r.addTo?r.addTo(this):this._mapgl.addControl(r),this._controls[t]=r}}removeControl(e){this._mapgl.removeControl(e)}createLayer(e){return ur[e.type]?new ur[e.type](e):(console.log("Unknown layer type",e.type),new fe)}resize(){this._mapgl.resize()}sync(e){Fr.add(e,this._mapgl)}unsync(e){Fr.remove(e,this._mapgl)}setHoverState(e){Yt(e)!==Yt(this._hoverFeatures)&&(this._hoverFeatures&&(this._hoverFeatures.forEach((e=>this.setFeatureState(e,{hover:!1}))),this._hoverFeatures=null),Array.isArray(e)&&(this._hoverFeatures=e,e.forEach((e=>this.setFeatureState(e,{hover:!0})))))}setFeatureState(e={},t={}){const r=this.getMapGL(),{source:n}=e;n&&r.getSource(n)&&r.setFeatureState(e,t)}getZoom(){return this.getMapGL().getZoom()}getEventFeature(e){const t=this.getLayers().filter((e=>e.isInteractive())).map((e=>e.getInteractiveIds())).reduce(((e,t)=>[...e,...t]),[]);let r;return t.length&&(r=this._mapgl.queryRenderedFeatures(e.point,{layers:t})[0]),r}getLayerFromId(e){return this._layers.find((t=>t.hasLayerId(e)))}getLayerAtIndex(e){return this._layers[e]}getLayers(){return this._layers.sort(((e,t)=>e.getIndex()-t.getIndex())),this._layers}getLayersBounds(){return v(this.getLayers())}getControlContainer(e){const t=this._controls[e];return t?t._controlContainer||t._container:document.createElement("div")}setBeforeLayerId(e){this._beforeId=e}getBeforeLayerId(){return this._beforeId&&this.getMapGL().getStyle().layers.find((e=>e.id===this._beforeId))?this._beforeId:void 0}styleIsLoaded(){return!this._styleIsLoading}openPopup(e,t,r){this._popup||(this._popup=new qr),this._popup.clear(),this._popup.setLngLat(t).setDOMContent(e).addTo(this),this._popup.onClose(r)}closePopup(){this._popup&&this._popup.remove()}showLabel(e,t){this._label||(this._label=new Jr),this._label.setText(e).setLngLat(t),this._label.isOpen()||this._label.addTo(this._mapgl)}hideLabel(){this._label&&this._label.remove()}toggleScrollZoom(e){this.getMapGL().scrollZoom[e?"enable":"disable"]()}toggleMultiTouch(e){const t=this.getMapGL();this._multiTouch||(this._multiTouch=new zr);const r=t.hasControl(this._multiTouch);e&&!r?t.addControl(this._multiTouch):!e&&r&&t.removeControl(this._multiTouch)}_updateAttributions(){this._controls.attribution&&this._controls.attribution._updateAttributions()}_createClickEvent(e){const{lngLat:t}=e,r=[t.lng,t.lat],{x:n,y:i}=this.getMapGL().project(t);return{type:"click",coordinates:r,position:[n,i],feature:this.getEventFeature(e)}}}const rn=tn,nn=(Object.keys(ur),Object.keys(Ir)),an=se,on=rn},94497:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(63665),i=r.n(n);const a=(e,t,r)=>(n,a,o)=>{const s=n[a];return r?new Error(`Property \`${a}\` on component \`${o}\` is using the \`requiredIf\` prop-validator combined with \`.isRequired\`. This is an invalid combination.`):"function"!=typeof e?new Error("The `condition` argument passed to the `requiredIf` prop-validator was not a function."):"function"!=typeof t?new Error("The `propType` argument passed to the `requiredIf` prop-validator was not a function."):!e(n)||null!=(l=s)&&""!==l?(i().checkPropTypes({[a]:t},n,"prop",o),null):new Error(`Invalid prop \`${a}\` supplied to \`${o}\`, this prop is conditionally required but has value \`${s}\`. The condition that made this prop required is: \`${e.toString()}\`.`);var l};function o(e,t){const r=a(e,t,!1);return r.isRequired=a(e,t,!0),r}},75023:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(63665),i=r.n(n),a=r(2085);function o(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M8 1.5a.5.5 0 01.492.41L8.5 2v10.792l4.146-4.146a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-5 5-.013.011a.503.503 0 01-.039.033l.052-.044A.502.502 0 018 14.5h-.02a.503.503 0 01-.052-.005L8 14.5a.502.502 0 01-.284-.089l-.018-.013a.503.503 0 01-.04-.033l-.012-.011-5-5a.5.5 0 01.638-.765l.07.057L7.5 12.792V2a.5.5 0 01.5-.5z",fill:"currentColor"}))}o.propTypes={color:i().string,dataTest:i().string};const s=o},69666:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(63665),i=r.n(n),a=r(2085);function o(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M8.284 1.589l.07.057 5 5a.5.5 0 01-.638.765l-.07-.057L8.5 3.207V14a.5.5 0 01-.992.09L7.5 14V3.207L3.354 7.354a.5.5 0 01-.638.057l-.07-.057a.5.5 0 01-.057-.638l.057-.07 5-5a.5.5 0 01.638-.057z",fill:"currentColor"}))}o.propTypes={color:i().string,dataTest:i().string};const s=o},63429:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(63665),i=r.n(n),a=r(2085);function o(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M11.293 15.707a1 1 0 001.414 0l5-5a1 1 0 00-1.414-1.414L12 13.586 7.707 9.293a1 1 0 00-1.414 1.414z",fill:"currentColor"}))}o.propTypes={color:i().string,dataTest:i().string};const s=o},61223:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(63665),i=r.n(n),a=r(2085);function o(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 5v4H10v1H6v-1h1.5V7zM8 4a.75.75 0 110 1.5A.75.75 0 018 4z",fill:"currentColor"}))}o.propTypes={color:i().string,dataTest:i().string};const s=o},25330:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(63665),i=r.n(n),a=r(2085);function o(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M7 5h6a4 4 0 013.063 6.573A4 4 0 0114 19H7zm7 8H9v4h5a2 2 0 00.15-3.995zm-1-6H9v4h4a2 2 0 00.15-3.995z",fill:"currentColor"}))}o.propTypes={color:i().string,dataTest:i().string};const s=o},15648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(63665),i=r.n(n),a=r(2085);function o(e){let{color:t,dataTest:r}=e;return a.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:t,"data-test":r},a.createElement("path",{d:"M13.5 7H10V5h9v2h-3.5l-5 10H14v2H5v-2h3.5z",fill:"currentColor"}))}o.propTypes={color:i().string,dataTest:i().string};const s=o},36834:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return{}.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){return"[object RegExp]"==={}.toString.call(e)}r.r(t),r.d(t,"Promise",(function(){return M})),r.d(t,"TYPES",(function(){return Je})),r.d(t,"ProxyWindow",(function(){return ke})),r.d(t,"setup",(function(){return Ye})),r.d(t,"destroy",(function(){return He})),r.d(t,"serializeMessage",(function(){return qe})),r.d(t,"deserializeMessage",(function(){return Ge})),r.d(t,"createProxyWindow",(function(){return Ze})),r.d(t,"toProxyWindow",(function(){return $e})),r.d(t,"on",(function(){return Ue})),r.d(t,"once",(function(){return Ve})),r.d(t,"send",(function(){return We})),r.d(t,"markWindowKnown",(function(){return me})),r.d(t,"cleanUpWindow",(function(){return Xe})),r.d(t,"bridge",(function(){}));var i="Call was rejected by callee.\r\n";function a(e){return void 0===e&&(e=window),e.location.protocol}function o(e){if(void 0===e&&(e=window),e.mockDomain){var t=e.mockDomain.split("//")[0];if(t)return t}return a(e)}function s(e){return void 0===e&&(e=window),"about:"===o(e)}function l(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function u(e){if(void 0===e&&(e=window),e&&!l(e))try{return e.opener}catch(e){}}function c(e){try{return!0}catch(e){}return!1}function d(e){void 0===e&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var r=a(e);if(!r)throw new Error("Can not read window protocol");if("file:"===r)return"file://";if("about:"===r){var n=l(e);return n&&c()?d(n):"about://"}var i=t.host;if(!i)throw new Error("Can not read window host");return r+"//"+i}function h(e){void 0===e&&(e=window);var t=d(e);return t&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:t}function p(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(s(e)&&c())return!0}catch(e){}try{if(function(e){return void 0===e&&(e=window),"mock:"===o(e)}(e)&&c())return!0}catch(e){}try{if(d(e)===d(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(s(e)&&c())return!0;if(h(window)===h(e))return!0}catch(e){}return!1}function m(e){if(!p(e))throw new Error("Expected window to be same domain");return e}function f(e,t){if(!e||!t)return!1;var r=l(t);return r?r===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function y(e){var t,r,n=[];try{t=e.frames}catch(r){t=e}try{r=t.length}catch(e){}if(0===r)return n;if(r){for(var i=0;i<r;i++){var a=void 0;try{a=t[i]}catch(e){continue}n.push(a)}return n}for(var o=0;o<100;o++){var s=void 0;try{s=t[o]}catch(e){return n}if(!s)return n;n.push(s)}return n}var g=[],v=[];function _(e,t){void 0===t&&(t=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==i}if(t&&p(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var r=function(e,t){for(var r=0;r<e.length;r++)try{if(e[r]===t)return r}catch(e){}return-1}(g,e);if(-1!==r){var n=v[r];if(n&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;if(t&&t.documentElement&&!t.documentElement.contains(e)){for(var r=e;r.parentNode&&r.parentNode!==r;)r=r.parentNode;if(!r.host||!t.documentElement.contains(r.host))return!0}return!1}(n))return!0}return!1}function b(e){return void 0===e&&(e=window),u(e=e||window)||l(e)||void 0}function x(e,t){if("string"==typeof e){if("string"==typeof t)return"*"===e||t===e;if(n(t))return!1;if(Array.isArray(t))return!1}return n(e)?n(t)?e.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(e)):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!n(t)&&e.some((function(e){return x(e,t)})))}function w(e){try{if(e===window)return!0}catch(e){if(e&&e.message===i)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===i)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function T(e){if(p(e))return m(e).frameElement;for(var t=0,r=document.querySelectorAll("iframe");t<r.length;t++){var n=r[t];if(n&&n.contentWindow&&n.contentWindow===e)return n}}function S(e){if(function(e){return void 0===e&&(e=window),Boolean(l(e))}(e)){var t=T(e);if(t&&t.parentElement)return void t.parentElement.removeChild(t)}try{e.close()}catch(e){}}function k(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var r=t.call(e);if("[object Window]"===r||"[object global]"===r||"[object DOMWindow]"===r)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}var C,L=[],N=[],A=0;function O(){if(!A&&C){var e=C;C=null,e.resolve()}}function E(){A+=1}function P(){A-=1,O()}var M=function(){function e(e){var t=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var r,n,i=!1,a=!1,o=!1;E();try{e((function(e){o?t.resolve(e):(i=!0,r=e)}),(function(e){o?t.reject(e):(a=!0,n=e)}))}catch(e){return P(),void this.reject(e)}P(),o=!0,i?this.resolve(r):a&&this.reject(n)}}var t=e.prototype;return t.resolve=function(e){if(this.resolved||this.rejected)return this;if(k(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},t.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(k(e))throw new Error("Can not reject promise with another promise");if(!e){var r=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+r)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===L.indexOf(e)){L.push(e),setTimeout((function(){throw e}),1);for(var r=0;r<N.length;r++)N[r](e,t)}}(e,t)}),1),this.dispatch(),this},t.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},t.dispatch=function(){var t=this.resolved,r=this.rejected,n=this.handlers;if(!this.dispatching&&(t||r)){this.dispatching=!0,E();for(var i=function(e,t){return e.then((function(e){t.resolve(e)}),(function(e){t.reject(e)}))},a=0;a<n.length;a++){var o=n[a],s=o.onSuccess,l=o.onError,u=o.promise,c=void 0;if(t)try{c=s?s(this.value):this.value}catch(e){u.reject(e);continue}else if(r){if(!l){u.reject(this.error);continue}try{c=l(this.error)}catch(e){u.reject(e);continue}}if(c instanceof e&&(c.resolved||c.rejected)){var d=c;d.resolved?u.resolve(d.value):u.reject(d.error),d.errorHandled=!0}else k(c)?c instanceof e&&(c.resolved||c.rejected)?c.resolved?u.resolve(c.value):u.reject(c.error):i(c,u):u.resolve(c)}n.length=0,this.dispatching=!1,P()}},t.then=function(t,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.then expected a function for error handler");var n=new e;return this.handlers.push({promise:n,onSuccess:t,onError:r}),this.errorHandled=!0,this.dispatch(),n},t.catch=function(e){return this.then(void 0,e)},t.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(r){return e.try(t).then((function(){return r}))}),(function(r){return e.try(t).then((function(){throw r}))}))},t.timeout=function(e,t){var r=this;if(this.resolved||this.rejected)return this;var n=setTimeout((function(){r.resolved||r.rejected||r.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(n),e}))},t.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},t.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(t){return t instanceof e?t:k(t)?new e((function(e,r){return t.then(e,r)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.asyncReject=function(t){return(new e).asyncReject(t)},e.all=function(t){var r=new e,n=t.length,i=[].slice();if(!n)return r.resolve(i),r;for(var a=function(e,t,a){return t.then((function(t){i[e]=t,0==(n-=1)&&r.resolve(i)}),(function(e){a.reject(e)}))},o=0;o<t.length;o++){var s=t[o];if(s instanceof e){if(s.resolved){i[o]=s.value,n-=1;continue}}else if(!k(s)){i[o]=s,n-=1;continue}a(o,e.resolve(s),r)}return 0===n&&r.resolve(i),r},e.hash=function(t){var r={},n=[],i=function(e){if(t.hasOwnProperty(e)){var i=t[e];k(i)?n.push(i.then((function(t){r[e]=t}))):r[e]=i}};for(var a in t)i(a);return e.all(n).then((function(){return r}))},e.map=function(t,r){return e.all(t.map(r))},e.onPossiblyUnhandledException=function(e){return function(e){return N.push(e),{cancel:function(){N.splice(N.indexOf(e),1)}}}(e)},e.try=function(t,r,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var i;E();try{i=t.apply(r,n||[])}catch(t){return P(),e.reject(t)}return P(),e.resolve(i)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||k(t)},e.flush=function(){return t=e,r=C=C||new t,O(),r;var t,r},e}();function I(e,t){for(var r=0;r<e.length;r++)try{if(e[r]===t)return r}catch(e){}return-1}var D,z=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,r=0;r<t.length;r++){var n=t[r];if(w(n)&&_(n)){if(e)try{e.delete(n)}catch(e){}t.splice(r,1),this.values.splice(r,1),r-=1}}},t.isSafeToReadWrite=function(e){return!w(e)},t.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{r.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=this.name,i=e[n];return void(i&&i[0]===e?i[1]=t:Object.defineProperty(e,n,{value:[e,t],writable:!0}))}catch(e){}this._cleanupClosedWindows();var a=this.keys,o=this.values,s=I(a,e);-1===s?(a.push(e),o.push(t)):o[s]=t},t.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=e[this.name];return r&&r[0]===e?r[1]:void 0}catch(e){}this._cleanupClosedWindows();var n=I(this.keys,e);if(-1!==n)return this.values[n]},t.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=e[this.name];r&&r[0]===e&&(r[0]=r[1]=void 0)}catch(e){}this._cleanupClosedWindows();var n=this.keys,i=I(n,e);-1!==i&&(n.splice(i,1),this.values.splice(i,1))},t.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=e[this.name];return!(!r||r[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==I(this.keys,e)},t.getOrSet=function(e,t){if(this.has(e))return this.get(e);var r=t();return this.set(e,r),r},e}();function R(e){return e.name||e.__name__||e.displayName||"anonymous"}function F(e,t){try{delete e.name,e.name=t}catch(e){}return e.__name__=e.displayName=t,e}function B(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/[=]/g,"");if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function j(e){try{return JSON.stringify([].slice.call(e),(function(e,t){return"function"==typeof t?"memoize["+function(e){if(D=D||new z,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var t=D.get(e);return t||(t=typeof e+":"+B(),D.set(e,t)),t}(t)+"]":function(e){var t=!1;try{(e instanceof window.Element||null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument)&&(t=!0)}catch(e){}return t}(t)?{}:t}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function U(){return{}}var V=0,W=0;function q(e,t){void 0===t&&(t={});var r,n,i=t.thisNamespace,a=void 0!==i&&i,o=t.time,s=V;V+=1;var l=function(){for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];var u,c;s<W&&(r=null,n=null,s=V,V+=1),u=a?(n=n||new z).getOrSet(this,U):r=r||{};try{c=j(i)}catch(t){return e.apply(this,arguments)}var d=u[c];if(d&&o&&Date.now()-d.time<o&&(delete u[c],d=null),d)return d.value;var h=Date.now(),p=e.apply(this,arguments);return u[c]={time:h,value:p},p};return l.reset=function(){r=null,n=null},F(l,(t.name||R(e))+"::memoized")}function G(e){var t={};function r(){for(var r=arguments,n=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=j(a);return t.hasOwnProperty(s)||(t[s]=M.try((function(){return e.apply(n,r)})).finally((function(){delete t[s]}))),t[s]}return r.reset=function(){t={}},F(r,R(e)+"::promiseMemoized")}function Z(){}function $(e,t){if(void 0===t&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var r=e&&e.stack,n=e&&e.message;if(r&&n)return-1!==r.indexOf(n)?r:n+"\n"+r;if(r)return r;if(n)return n}return e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(e){return"Error while stringifying error: "+$(e,t+1)}}function Y(e){return"string"==typeof e?e:e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function H(e){return"[object RegExp]"==={}.toString.call(e)}function J(e,t,r){if(e.hasOwnProperty(t))return e[t];var n=r();return e[t]=n,n}function X(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function Q(){return Boolean(document.body)&&"complete"===document.readyState}function K(){return Boolean(document.body)&&"interactive"===document.readyState}q.clear=function(){W=V},q((function(e){if(Object.values)return Object.values(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t})),Error,q((function(){return new M((function(e){if(Q()||K())return e();var t=setInterval((function(){if(Q()||K())return clearInterval(t),e()}),10)}))}));var ee="undefined"!=typeof document?document.currentScript:null,te=q((function(){if(ee)return ee;if(ee=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),t=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),r=t&&t[1];if(!r)return;for(var n=0,i=[].slice.call(document.getElementsByTagName("script")).reverse();n<i.length;n++){var a=i[n];if(a.src&&a.src===r)return a}}catch(e){}}())return ee;throw new Error("Can not determine current script")})),re=B();function ne(e){void 0===e&&(e=window);var t="__post_robot_10_0_47__";return e!==window?e[t]:e[t]=e[t]||{}}q((function(){var e;try{e=te()}catch(e){return re}var t=e.getAttribute("data-uid");if(t&&"string"==typeof t)return t;if((t=e.getAttribute("data-uid-auto"))&&"string"==typeof t)return t;if(e.src){var r=function(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}(JSON.stringify({src:e.src,dataset:e.dataset}));t="uid_"+r.slice(r.length-30)}else t=B();return e.setAttribute("data-uid-auto",t),t}));var ie=function(){return{}};function ae(e,t){return void 0===e&&(e="store"),void 0===t&&(t=ie),J(ne(),e,(function(){var e=t();return{has:function(t){return e.hasOwnProperty(t)},get:function(t,r){return e.hasOwnProperty(t)?e[t]:r},set:function(t,r){return e[t]=r,r},del:function(t){delete e[t]},getOrSet:function(t,r){return J(e,t,r)},reset:function(){e=t()},keys:function(){return Object.keys(e)}}}))}var oe,se=function(){};function le(){var e=ne();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new se,e.WINDOW_WILDCARD}function ue(e,t){return void 0===e&&(e="store"),void 0===t&&(t=ie),ae("windowStore").getOrSet(e,(function(){var r=new z,n=function(e){return r.getOrSet(e,t)};return{has:function(t){return n(t).hasOwnProperty(e)},get:function(t,r){var i=n(t);return i.hasOwnProperty(e)?i[e]:r},set:function(t,r){return n(t)[e]=r,r},del:function(t){delete n(t)[e]},getOrSet:function(t,r){return J(n(t),e,r)}}}))}function ce(){return ae("instance").getOrSet("instanceID",B)}function de(e,t){var r=t.domain,n=ue("helloPromises"),i=n.get(e);i&&i.resolve({domain:r});var a=M.resolve({domain:r});return n.set(e,a),a}function he(e,t){return(0,t.send)(e,"postrobot_hello",{instanceID:ce()},{domain:"*",timeout:-1}).then((function(t){var r=t.origin,n=t.data.instanceID;return de(e,{domain:r}),{win:e,domain:r,instanceID:n}}))}function pe(e,t){var r=t.send;return ue("windowInstanceIDPromises").getOrSet(e,(function(){return he(e,{send:r}).then((function(e){return e.instanceID}))}))}function me(e){ue("knownWindows").set(e,!0)}function fe(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function ye(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":"function"==typeof e?"function":"object"==typeof e?e instanceof Error?"error":"function"==typeof e.then?"promise":"[object RegExp]"==={}.toString.call(e)?"regex":"[object Date]"==={}.toString.call(e)?"date":"object":"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":void 0}function ge(e,t){return{__type__:e,__val__:t}}var ve,_e=((oe={}).function=function(){},oe.error=function(e){return ge("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},oe.promise=function(){},oe.regex=function(e){return ge("regex",e.source)},oe.date=function(e){return ge("date",e.toJSON())},oe.array=function(e){return e},oe.object=function(e){return e},oe.string=function(e){return e},oe.number=function(e){return e},oe.boolean=function(e){return e},oe.null=function(e){return e},oe[void 0]=function(e){return ge("undefined",e)},oe),be={},xe=((ve={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},ve.error=function(e){var t=e.stack,r=e.code,n=e.data,i=new Error(e.message);return i.code=r,n&&(i.data=n),i.stack=t+"\n\n"+i.stack,i},ve.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},ve.regex=function(e){return new RegExp(e)},ve.date=function(e){return new Date(e)},ve.array=function(e){return e},ve.object=function(e){return e},ve.string=function(e){return e},ve.number=function(e){return e},ve.boolean=function(e){return e},ve.null=function(e){return e},ve[void 0]=function(){},ve),we={};function Te(){for(var e=ae("idToProxyWindow"),t=0,r=e.keys();t<r.length;t++){var n=r[t];e.get(n).shouldClean()&&e.del(n)}}function Se(e,t){var r=t.send,n=t.id,i=void 0===n?B():n,a=e.then((function(e){if(p(e))return m(e).name})),o=e.then((function(e){if(_(e))throw new Error("Window is closed, can not determine type");return u(e)?"popup":"iframe"}));a.catch(Z),o.catch(Z);var s=function(){return e.then((function(e){if(!_(e))return p(e)?m(e).name:a}))};return{id:i,getType:function(){return o},getInstanceID:G((function(){return e.then((function(e){return pe(e,{send:r})}))})),close:function(){return e.then(S)},getName:s,focus:function(){return e.then((function(e){e.focus()}))},isClosed:function(){return e.then((function(e){return _(e)}))},setLocation:function(t,r){return void 0===r&&(r={}),e.then((function(e){var n=window.location.protocol+"//"+window.location.host,i=r.method,a=void 0===i?"get":i,o=r.body;if(0===t.indexOf("/"))t=""+n+t;else if(!t.match(/^https?:\/\//)&&0!==t.indexOf(n))throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(t));if("post"===a)return s().then((function(e){if(!e)throw new Error("Can not post to window without target name");!function(e){var t=e.url,r=e.target,n=e.body,i=e.method,a=void 0===i?"post":i,o=document.createElement("form");if(o.setAttribute("target",r),o.setAttribute("method",a),o.setAttribute("action",t),o.style.display="none",n)for(var s=0,l=Object.keys(n);s<l.length;s++){var u,c=l[s],d=document.createElement("input");d.setAttribute("name",c),d.setAttribute("value",null==(u=n[c])?void 0:u.toString()),o.appendChild(d)}X().appendChild(o),o.submit(),X().removeChild(o)}({url:t,target:e,method:a,body:o})}));if("get"!==a)throw new Error("Unsupported method: "+a);if(p(e))try{if(e.location&&"function"==typeof e.location.replace)return void e.location.replace(t)}catch(e){}e.location=t}))},setName:function(t){return e.then((function(e){var r=p(e),n=T(e);if(!r)throw new Error("Can not set name for cross-domain window: "+t);m(e).name=t,n&&n.setAttribute("name",t),a=M.resolve(t)}))}}}new M((function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval((function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)}),10)}));var ke=function(){function e(e){var t=e.send,r=e.win,n=e.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new M,this.serializedWindow=n||Se(this.actualWindowPromise,{send:t}),ae("idToProxyWindow").set(this.getID(),this),r&&this.setWindow(r,{send:t})}var t=e.prototype;return t.getID=function(){return this.serializedWindow.id},t.getType=function(){return this.serializedWindow.getType()},t.isPopup=function(){return this.getType().then((function(e){return"popup"===e}))},t.setLocation=function(e,t){var r=this;return this.serializedWindow.setLocation(e,t).then((function(){return r}))},t.getName=function(){return this.serializedWindow.getName()},t.setName=function(e){var t=this;return this.serializedWindow.setName(e).then((function(){return t}))},t.close=function(){var e=this;return this.serializedWindow.close().then((function(){return e}))},t.focus=function(){var e=this,t=this.isPopup(),r=this.getName(),n=M.hash({isPopup:t,name:r}).then((function(e){var t=e.name;e.isPopup&&t&&window.open("",t,"noopener")})),i=this.serializedWindow.focus();return M.all([n,i]).then((function(){return e}))},t.isClosed=function(){return this.serializedWindow.isClosed()},t.getWindow=function(){return this.actualWindow},t.setWindow=function(e,t){var r=t.send;this.actualWindow=e,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Se(this.actualWindowPromise,{send:r,id:this.getID()}),ue("winToProxyWindow").set(e,this)},t.awaitWindow=function(){return this.actualWindowPromise},t.matchWindow=function(e,t){var r=this,n=t.send;return M.try((function(){return r.actualWindow?e===r.actualWindow:M.hash({proxyInstanceID:r.getInstanceID(),knownWindowInstanceID:pe(e,{send:n})}).then((function(t){var i=t.proxyInstanceID===t.knownWindowInstanceID;return i&&r.setWindow(e,{send:n}),i}))}))},t.unwrap=function(){return this.actualWindow||this},t.getInstanceID=function(){return this.serializedWindow.getInstanceID()},t.shouldClean=function(){return Boolean(this.actualWindow&&_(this.actualWindow))},t.serialize=function(){return this.serializedWindow},e.unwrap=function(t){return e.isProxyWindow(t)?t.unwrap():t},e.serialize=function(t,r){var n=r.send;return Te(),e.toProxyWindow(t,{send:n}).serialize()},e.deserialize=function(t,r){var n=r.send;return Te(),ae("idToProxyWindow").get(t.id)||new e({serializedWindow:t,send:n})},e.isProxyWindow=function(e){return Boolean(e&&!w(e)&&e.isProxyWindow)},e.toProxyWindow=function(t,r){var n=r.send;if(Te(),e.isProxyWindow(t))return t;var i=t;return ue("winToProxyWindow").get(i)||new e({win:i,send:n})},e}();function Ce(e,t,r,n,i){var a=ue("methodStore"),o=ae("proxyWindowMethods");ke.isProxyWindow(n)?o.set(e,{val:t,name:r,domain:i,source:n}):(o.del(e),a.getOrSet(n,(function(){return{}}))[e]={domain:i,name:r,val:t,source:n})}function Le(e,t){var r=ue("methodStore"),n=ae("proxyWindowMethods");return r.getOrSet(e,(function(){return{}}))[t]||n.get(t)}function Ne(e,t,r,n,i){var a,o,s;o=(a={on:i.on,send:i.send}).on,s=a.send,ae("builtinListeners").getOrSet("functionCalls",(function(){return o("postrobot_method",{domain:"*"},(function(e){var t=e.source,r=e.origin,n=e.data,i=n.id,a=n.name,o=Le(t,i);if(!o)throw new Error("Could not find method '"+a+"' with id: "+n.id+" in "+h(window));var l=o.source,u=o.domain,c=o.val;return M.try((function(){if(!x(u,r))throw new Error("Method '"+n.name+"' domain "+JSON.stringify(H(o.domain)?o.domain.source:o.domain)+" does not match origin "+r+" in "+h(window));if(ke.isProxyWindow(l))return l.matchWindow(t,{send:s}).then((function(e){if(!e)throw new Error("Method call '"+n.name+"' failed - proxy window does not match source in "+h(window))}))})).then((function(){return c.apply({source:t,origin:r},n.args)}),(function(e){return M.try((function(){if(c.onError)return c.onError(e)})).then((function(){var t,r;throw e.stack&&(e.stack="Remote call to "+a+"("+(void 0===(t=n.args)&&(t=[]),(r=t,[].slice.call(r)).map((function(e){return"string"==typeof e?"'"+e+"'":void 0===e?"undefined":null===e?"null":"boolean"==typeof e?e.toString():Array.isArray(e)?"[ ... ]":"object"==typeof e?"{ ... }":"function"==typeof e?"() => { ... }":"<"+typeof e+">"})).join(", ")+") failed\n\n")+e.stack),e}))})).then((function(e){return{result:e,id:i,name:a}}))}))}));var l=r.__id__||B();e=ke.unwrap(e);var u=r.__name__||r.name||n;return"string"==typeof u&&"function"==typeof u.indexOf&&0===u.indexOf("anonymous::")&&(u=u.replace("anonymous::",n+"::")),ke.isProxyWindow(e)?(Ce(l,r,u,e,t),e.awaitWindow().then((function(e){Ce(l,r,u,e,t)}))):Ce(l,r,u,e,t),ge("cross_domain_function",{id:l,name:u})}function Ae(e,t,r,n){var i,a=n.on,o=n.send;return function(e,t){void 0===t&&(t=be);var r=JSON.stringify(e,(function(e){var r=this[e];if(fe(this))return r;var n=ye(r);if(!n)return r;var i=t[n]||_e[n];return i?i(r,e):r}));return void 0===r?"undefined":r}(r,((i={}).promise=function(r,n){return function(e,t,r,n,i){return ge("cross_domain_zalgo_promise",{then:Ne(e,t,(function(e,t){return r.then(e,t)}),n,{on:i.on,send:i.send})})}(e,t,r,n,{on:a,send:o})},i.function=function(r,n){return Ne(e,t,r,n,{on:a,send:o})},i.object=function(e){return w(e)||ke.isProxyWindow(e)?ge("cross_domain_window",ke.serialize(e,{send:o})):e},i))}function Oe(e,t,r,n){var i,a=n.send;return function(e,t){if(void 0===t&&(t=we),"undefined"!==e)return JSON.parse(e,(function(e,r){if(fe(this))return r;var n,i;if(fe(r)?(n=r.__type__,i=r.__val__):(n=ye(r),i=r),!n)return i;var a=t[n]||xe[n];return a?a(i,e):i}))}(r,((i={}).cross_domain_zalgo_promise=function(e){return function(e,t,r){return new M(r.then)}(0,0,e)},i.cross_domain_function=function(r){return function(e,t,r,n){var i=r.id,a=r.name,o=n.send,s=function(r){function n(){var s=arguments;return ke.toProxyWindow(e,{send:o}).awaitWindow().then((function(e){var l=Le(e,i);if(l&&l.val!==n)return l.val.apply({source:window,origin:h()},s);var u=[].slice.call(s);return r.fireAndForget?o(e,"postrobot_method",{id:i,name:a,args:u},{domain:t,fireAndForget:!0}):o(e,"postrobot_method",{id:i,name:a,args:u},{domain:t,fireAndForget:!1}).then((function(e){return e.data.result}))})).catch((function(e){throw e}))}return void 0===r&&(r={}),n.__name__=a,n.__origin__=t,n.__source__=e,n.__id__=i,n.origin=t,n},l=s();return l.fireAndForget=s({fireAndForget:!0}),l}(e,t,r,{send:a})},i.cross_domain_window=function(e){return ke.deserialize(e,{send:a})},i))}var Ee={};function Pe(e,t,r,n){var i=n.on,a=n.send;return M.try((function(){var n=ue().getOrSet(e,(function(){return{}}));return n.buffer=n.buffer||[],n.buffer.push(r),n.flush=n.flush||M.flush().then((function(){if(_(e))throw new Error("Window is closed");var r,o=Ae(e,t,((r={}).__post_robot_10_0_47__=n.buffer||[],r),{on:i,send:a});delete n.buffer;for(var s=Object.keys(Ee),l=[],u=0;u<s.length;u++){var c=s[u];try{Ee[c](e,o,t)}catch(e){l.push(e)}}if(l.length===s.length)throw new Error("All post-robot messaging strategies failed:\n\n"+l.map((function(e,t){return t+". "+$(e)})).join("\n\n"))})),n.flush.then((function(){delete n.flush}))})).then(Z)}function Me(e){return ae("responseListeners").get(e)}function Ie(e){ae("responseListeners").del(e)}function De(e){return ae("erroredResponseListeners").has(e)}function ze(e){var t=e.name,r=e.win,n=e.domain,i=ue("requestListeners");if("*"===r&&(r=null),"*"===n&&(n=null),!t)throw new Error("Name required to get request listener");for(var a=0,o=[r,le()];a<o.length;a++){var s=o[a];if(s){var l=i.get(s);if(l){var u=l[t];if(u){if(n&&"string"==typeof n){if(u[n])return u[n];if(u.__domain_regex__)for(var c=0,d=u.__domain_regex__;c<d.length;c++){var h=d[c],p=h.listener;if(x(h.regex,n))return p}}if(u["*"])return u["*"]}}}}}function Re(e,t,r,n){var i=n.on,a=n.send,o=ze({name:r.name,win:e,domain:t}),s="postrobot_method"===r.name&&r.data&&"string"==typeof r.data.name?r.data.name+"()":r.name;function l(n,o,l){return M.flush().then((function(){if(!r.fireAndForget&&!_(e))try{return Pe(e,t,{id:B(),origin:h(window),type:"postrobot_message_response",hash:r.hash,name:r.name,ack:n,data:o,error:l},{on:i,send:a})}catch(e){throw new Error("Send response message failed for "+s+" in "+h()+"\n\n"+$(e))}}))}return M.all([M.flush().then((function(){if(!r.fireAndForget&&!_(e))try{return Pe(e,t,{id:B(),origin:h(window),type:"postrobot_message_ack",hash:r.hash,name:r.name},{on:i,send:a})}catch(e){throw new Error("Send ack message failed for "+s+" in "+h()+"\n\n"+$(e))}})),M.try((function(){if(!o)throw new Error("No handler found for post message: "+r.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return o.handler({source:e,origin:t,data:r.data})})).then((function(e){return l("success",e)}),(function(e){return l("error",null,e)}))]).then(Z).catch((function(e){if(o&&o.handleError)return o.handleError(e);throw e}))}function Fe(e,t,r){if(!De(r.hash)){var n=Me(r.hash);if(!n)throw new Error("No handler found for post message ack for message: "+r.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!x(n.domain,t))throw new Error("Ack origin "+t+" does not match domain "+n.domain.toString());if(e!==n.win)throw new Error("Ack source does not match registered window")}catch(e){n.promise.reject(e)}n.ack=!0}}function Be(e,t,r){if(!De(r.hash)){var i,a=Me(r.hash);if(!a)throw new Error("No handler found for post message response for message: "+r.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!x(a.domain,t))throw new Error("Response origin "+t+" does not match domain "+(i=a.domain,Array.isArray(i)?"("+i.join(" | ")+")":n(i)?"RegExp("+i.toString()+")":i.toString()));if(e!==a.win)throw new Error("Response source does not match registered window");Ie(r.hash),"error"===r.ack?a.promise.reject(r.error):"success"===r.ack&&a.promise.resolve({source:e,origin:t,data:r.data})}}function je(e,t){var r=t.on,n=t.send,i=ae("receivedMessages");try{if(!window||window.closed||!e.source)return}catch(e){return}var a=e.source,o=e.origin,s=function(e,t,r,n){var i,a=n.on,o=n.send;try{i=Oe(t,r,e,{on:a,send:o})}catch(e){return}if(i&&"object"==typeof i&&null!==i){var s=i.__post_robot_10_0_47__;if(Array.isArray(s))return s}}(e.data,a,o,{on:r,send:n});if(s){me(a);for(var l=0;l<s.length;l++){var u=s[l];if(i.has(u.id))return;if(i.set(u.id,!0),_(a)&&!u.fireAndForget)return;0===u.origin.indexOf("file:")&&(o="file://");try{"postrobot_message_request"===u.type?Re(a,o,u,{on:r,send:n}):"postrobot_message_response"===u.type?Be(a,o,u):"postrobot_message_ack"===u.type&&Fe(a,o,u)}catch(e){setTimeout((function(){throw e}),0)}}}}function Ue(e,t,r){if(!e)throw new Error("Expected name");if("function"==typeof(t=t||{})&&(r=t,t={}),!r)throw new Error("Expected handler");var n=function e(t,r){var n=t.name,i=t.win,a=t.domain,o=ue("requestListeners");if(!n||"string"!=typeof n)throw new Error("Name required to add request listener");if(i&&"*"!==i&&ke.isProxyWindow(i)){var s=i.awaitWindow().then((function(t){return e({name:n,win:t,domain:a},r)}));return{cancel:function(){s.then((function(e){return e.cancel()}),Z)}}}var l=i;if(Array.isArray(l)){for(var u=[],c=0,d=l;c<d.length;c++)u.push(e({name:n,domain:a,win:d[c]},r));return{cancel:function(){for(var e=0;e<u.length;e++)u[e].cancel()}}}if(Array.isArray(a)){for(var h=[],p=0,m=a;p<m.length;p++)h.push(e({name:n,win:l,domain:m[p]},r));return{cancel:function(){for(var e=0;e<h.length;e++)h[e].cancel()}}}var f=ze({name:n,win:l,domain:a});l&&"*"!==l||(l=le());var y=(a=a||"*").toString();if(f)throw l&&a?new Error("Request listener already exists for "+n+" on domain "+a.toString()+" for "+(l===le()?"wildcard":"specified")+" window"):l?new Error("Request listener already exists for "+n+" for "+(l===le()?"wildcard":"specified")+" window"):a?new Error("Request listener already exists for "+n+" on domain "+a.toString()):new Error("Request listener already exists for "+n);var g,v,_=o.getOrSet(l,(function(){return{}})),b=J(_,n,(function(){return{}}));return H(a)?(g=J(b,"__domain_regex__",(function(){return[]}))).push(v={regex:a,listener:r}):b[y]=r,{cancel:function(){delete b[y],v&&(g.splice(g.indexOf(v,1)),g.length||delete b.__domain_regex__),Object.keys(b).length||delete _[n],l&&!Object.keys(_).length&&o.del(l)}}}({name:e,win:t.window,domain:t.domain||"*"},{handler:r||t.handler,handleError:t.errorHandler||function(e){throw e}});return{cancel:function(){n.cancel()}}}function Ve(e,t,r){"function"==typeof(t=t||{})&&(r=t,t={});var n,i=new M;return t.errorHandler=function(e){n.cancel(),i.reject(e)},n=Ue(e,t,(function(e){if(n.cancel(),i.resolve(e),r)return r(e)})),i.cancel=n.cancel,i}Ee.postrobot_post_message=function(e,t,r){0===r.indexOf("file:")&&(r="*"),e.postMessage(t,r)};var We=function e(t,r,n,i){var a=(i=i||{}).domain||"*",o=i.timeout||-1,s=i.timeout||5e3,u=i.fireAndForget||!1;return ke.toProxyWindow(t,{send:e}).awaitWindow().then((function(t){return M.try((function(){if(function(e,t,r){if(!e)throw new Error("Expected name");if(r&&"string"!=typeof r&&!Array.isArray(r)&&!H(r))throw new TypeError("Can not send "+e+". Expected domain "+JSON.stringify(r)+" to be a string, array, or regex");if(_(t))throw new Error("Can not send "+e+". Target window is closed")}(r,t,a),function(e,t){var r=b(t);if(r)return r===e;if(t===e)return!1;if(function(e){void 0===e&&(e=window);try{if(e.top)return e.top}catch(e){}if(l(e)===e)return e;try{if(f(window,e)&&window.top)return window.top}catch(e){}try{if(f(e,window)&&window.top)return window.top}catch(e){}for(var t=0,r=function e(t){for(var r=[],n=0,i=y(t);n<i.length;n++){var a=i[n];r.push(a);for(var o=0,s=e(a);o<s.length;o++)r.push(s[o])}return r}(e);t<r.length;t++){var n=r[t];try{if(n.top)return n.top}catch(e){}if(l(n)===n)return n}}(t)===t)return!1;for(var n=0,i=y(e);n<i.length;n++)if(i[n]===t)return!0;return!1}(window,t))return function(e,t,r){void 0===t&&(t=5e3),void 0===r&&(r="Window");var n=function(e){return ue("helloPromises").getOrSet(e,(function(){return new M}))}(e);return-1!==t&&(n=n.timeout(t,new Error(r+" did not load after "+t+"ms"))),n}(t,s)})).then((function(r){return function(e,t,r,n){var i=n.send;return M.try((function(){return"string"==typeof t?t:M.try((function(){return r||he(e,{send:i}).then((function(e){return e.domain}))})).then((function(e){if(!x(t,t))throw new Error("Domain "+Y(t)+" does not match "+Y(t));return e}))}))}(t,a,(void 0===r?{}:r).domain,{send:e})})).then((function(i){var a,s=i,l="postrobot_method"===r&&n&&"string"==typeof n.name?n.name+"()":r,c=new M,d=r+"_"+B();if(!u){var p={name:r,win:t,domain:s,promise:c};!function(e,t){ae("responseListeners").set(e,t)}(d,p);var m=ue("requestPromises").getOrSet(t,(function(){return[]}));m.push(c),c.catch((function(){!function(e){ae("erroredResponseListeners").set(e,!0)}(d),Ie(d)}));var f=function(e){return ue("knownWindows").get(e,!1)}(t)?1e4:2e3,y=o,g=f,v=y,b=(function e(){a=setTimeout((function(){_(t)?c.reject(new Error("Window closed for "+r+" before "+(p.ack?"response":"ack"))):p.cancelled?c.reject(new Error("Response listener was cancelled for "+r)):(g=Math.max(g-500,0),-1!==v&&(v=Math.max(v-500,0)),p.ack||0!==g?0===v&&c.reject(new Error("No response for postMessage "+l+" in "+h()+" in "+y+"ms")):c.reject(new Error("No ack for postMessage "+l+" in "+h()+" in "+f+"ms"))),e()}),500)}(),{cancel:function(){clearTimeout(a)}});c.finally((function(){b.cancel(),m.splice(m.indexOf(c,1))})).catch(Z)}return Pe(t,s,{id:B(),origin:h(window),type:"postrobot_message_request",hash:d,name:r,data:n,fireAndForget:u},{on:Ue,send:e}).then((function(){return u?c.resolve():c}),(function(e){throw new Error("Send request message failed for "+l+" in "+h()+"\n\n"+$(e))}))}))}))};function qe(e,t,r){return Ae(e,t,r,{on:Ue,send:We})}function Ge(e,t,r){return Oe(e,t,r,{on:Ue,send:We})}function Ze(e){return new ke({send:We,win:e})}function $e(e){return ke.toProxyWindow(e,{send:We})}function Ye(){var e,t,r,n;ne().initialized||(ne().initialized=!0,t=(e={on:Ue,send:We}).on,r=e.send,(n=ne()).receiveMessage=n.receiveMessage||function(e){return je(e,{on:t,send:r})},function(e){var t=e.on,r=e.send;ae().getOrSet("postMessageListener",(function(){return e=window,n=function(e){!function(e,t){var r=t.on,n=t.send;M.try((function(){var t=e.source||e.sourceElement,i=e.origin||e.originalEvent&&e.originalEvent.origin,a=e.data;if("null"===i&&(i="file://"),t){if(!i)throw new Error("Post message did not have origin domain");je({source:t,origin:i,data:a},{on:r,send:n})}}))}(e,{on:t,send:r})},e.addEventListener("message",n),{cancel:function(){e.removeEventListener("message",n)}};var e,n}))}({on:Ue,send:We}),function(e){var t=e.on,r=e.send;ae("builtinListeners").getOrSet("helloListener",(function(){var e=t("postrobot_hello",{domain:"*"},(function(e){return de(e.source,{domain:e.origin}),{instanceID:ce()}})),n=b();return n&&he(n,{send:r}).catch((function(e){})),e}))}({on:Ue,send:We}))}function He(){var e;!function(){for(var e=ae("responseListeners"),t=0,r=e.keys();t<r.length;t++){var n=r[t],i=e.get(n);i&&(i.cancelled=!0),e.del(n)}}(),(e=ae().get("postMessageListener"))&&e.cancel(),delete window.__post_robot_10_0_47__}var Je=!0;function Xe(e){for(var t=0,r=ue("requestPromises").get(e,[]);t<r.length;t++)r[t].reject(new Error("Window "+(_(e)?"closed":"cleaned up")+" before response")).catch(Z)}Ye()}])},1006:(e,t,r)=>{e.exports=r(36834),e.exports.default=e.exports},67840:(e,t)=>{var r=function(){var e={},t=Math.PI/180,r=180/Math.PI,n=6378137,i=20037508.342789244;function a(e){return Number(e)===e&&e%1!=0}function o(t){if(t=t||{},this.size=t.size||256,this.expansion=!0===t.antimeridian?2:1,!e[this.size]){var r=this.size,n=e[this.size]={};n.Bc=[],n.Cc=[],n.zc=[],n.Ac=[];for(var i=0;i<30;i++)n.Bc.push(r/360),n.Cc.push(r/(2*Math.PI)),n.zc.push(r/2),n.Ac.push(r),r*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}return o.prototype.px=function(e,r){if(a(r)){var n=this.size*Math.pow(2,r),i=n/2,o=n/360,s=n/(2*Math.PI),l=n,u=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),c=i+e[0]*o,d=i+.5*Math.log((1+u)/(1-u))*-s;return c>l*this.expansion&&(c=l*this.expansion),d>l&&(d=l),[c,d]}i=this.zc[r],u=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),c=Math.round(i+e[0]*this.Bc[r]),d=Math.round(i+.5*Math.log((1+u)/(1-u))*-this.Cc[r]);return c>this.Ac[r]*this.expansion&&(c=this.Ac[r]*this.expansion),d>this.Ac[r]&&(d=this.Ac[r]),[c,d]},o.prototype.ll=function(e,t){if(a(t)){var n=this.size*Math.pow(2,t),i=n/360,o=n/(2*Math.PI),s=n/2,l=(e[1]-s)/-o;return[(e[0]-s)/i,r*(2*Math.atan(Math.exp(l))-.5*Math.PI)]}l=(e[1]-this.zc[t])/-this.Cc[t];return[(e[0]-this.zc[t])/this.Bc[t],r*(2*Math.atan(Math.exp(l))-.5*Math.PI)]},o.prototype.bbox=function(e,t,r,n,i){n&&(t=Math.pow(2,r)-1-t);var a=[e*this.size,(+t+1)*this.size],o=[(+e+1)*this.size,t*this.size],s=this.ll(a,r).concat(this.ll(o,r));return"900913"===i?this.convert(s,"900913"):s},o.prototype.xyz=function(e,t,r,n){"900913"===n&&(e=this.convert(e,"WGS84"));var i=[e[0],e[1]],a=[e[2],e[3]],o=this.px(i,t),s=this.px(a,t),l=[Math.floor(o[0]/this.size),Math.floor((s[0]-1)/this.size)],u=[Math.floor(s[1]/this.size),Math.floor((o[1]-1)/this.size)],c={minX:Math.min.apply(Math,l)<0?0:Math.min.apply(Math,l),minY:Math.min.apply(Math,u)<0?0:Math.min.apply(Math,u),maxX:Math.max.apply(Math,l),maxY:Math.max.apply(Math,u)};if(r){var d={minY:Math.pow(2,t)-1-c.maxY,maxY:Math.pow(2,t)-1-c.minY};c.minY=d.minY,c.maxY=d.maxY}return c},o.prototype.convert=function(e,t){return"900913"===t?this.forward(e.slice(0,2)).concat(this.forward(e.slice(2,4))):this.inverse(e.slice(0,2)).concat(this.inverse(e.slice(2,4)))},o.prototype.forward=function(e){var r=[n*e[0]*t,n*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return r[0]>i&&(r[0]=i),r[0]<-i&&(r[0]=-i),r[1]>i&&(r[1]=i),r[1]<-i&&(r[1]=-i),r},o.prototype.inverse=function(e){return[e[0]*r/n,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/n)))*r]},o}();e.exports=r},60838:(e,t,r)=>{"use strict";var n=r(74014),i=r(34764),a=r(54128),o=r(99506).orient2d;function s(e,t,r){t=Math.max(0,void 0===t?2:t),r=r||0;var i=function(e){for(var t=e[0],r=e[0],n=e[0],i=e[0],o=0;o<e.length;o++){var s=e[o];s[0]<t[0]&&(t=s),s[0]>n[0]&&(n=s),s[1]<r[1]&&(r=s),s[1]>i[1]&&(i=s)}var l=[t,r,n,i],u=l.slice();for(o=0;o<e.length;o++)a(e[o],l)||u.push(e[o]);return function(e){e.sort(_);for(var t=[],r=0;r<e.length;r++){for(;t.length>=2&&p(t[t.length-2],t[t.length-1],e[r])<=0;)t.pop();t.push(e[r])}for(var n=[],i=e.length-1;i>=0;i--){for(;n.length>=2&&p(n[n.length-2],n[n.length-1],e[i])<=0;)n.pop();n.push(e[i])}return n.pop(),t.pop(),t.concat(n)}(u)}(e),o=new n(16);o.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},o.compareMinX=function(e,t){return e[0]-t[0]},o.compareMinY=function(e,t){return e[1]-t[1]},o.load(e);for(var s,u=[],c=0;c<i.length;c++){var d=i[c];o.remove(d),s=f(d,s),u.push(s)}var h=new n(16);for(c=0;c<u.length;c++)h.insert(m(u[c]));for(var g=t*t,v=r*r;u.length;){var b=u.shift(),x=b.p,w=b.next.p,T=y(x,w);if(!(T<v)){var S=T/g;(d=l(o,b.prev.p,x,w,b.next.next.p,S,h))&&Math.min(y(d,x),y(d,w))<=S&&(u.push(b),u.push(f(d,b)),o.remove(d),h.remove(b),h.insert(m(b)),h.insert(m(b.next)))}}b=s;var k=[];do{k.push(b.p),b=b.next}while(b!==s);return k.push(b.p),k}function l(e,t,r,n,a,o,s){for(var l=new i([],u),d=e.data;d;){for(var p=0;p<d.children.length;p++){var m=d.children[p],f=d.leaf?g(m,r,n):c(r,n,m);f>o||l.push({node:m,dist:f})}for(;l.length&&!l.peek().node.children;){var y=l.pop(),v=y.node,_=g(v,t,r),b=g(v,n,a);if(y.dist<_&&y.dist<b&&h(r,v,s)&&h(n,v,s))return v}(d=l.pop())&&(d=d.node)}return null}function u(e,t){return e.dist-t.dist}function c(e,t,r){if(d(e,r)||d(t,r))return 0;var n=v(e[0],e[1],t[0],t[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var i=v(e[0],e[1],t[0],t[1],r.minX,r.minY,r.minX,r.maxY);if(0===i)return 0;var a=v(e[0],e[1],t[0],t[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===a)return 0;var o=v(e[0],e[1],t[0],t[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===o?0:Math.min(n,i,a,o)}function d(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function h(e,t,r){for(var n,i,a,o,s=Math.min(e[0],t[0]),l=Math.min(e[1],t[1]),u=Math.max(e[0],t[0]),c=Math.max(e[1],t[1]),d=r.search({minX:s,minY:l,maxX:u,maxY:c}),h=0;h<d.length;h++)if(n=d[h].p,i=d[h].next.p,a=e,n!==(o=t)&&i!==a&&p(n,i,a)>0!=p(n,i,o)>0&&p(a,o,n)>0!=p(a,o,i)>0)return!1;return!0}function p(e,t,r){return o(e[0],e[1],t[0],t[1],r[0],r[1])}function m(e){var t=e.p,r=e.next.p;return e.minX=Math.min(t[0],r[0]),e.minY=Math.min(t[1],r[1]),e.maxX=Math.max(t[0],r[0]),e.maxY=Math.max(t[1],r[1]),e}function f(e,t){var r={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(r.next=t.next,r.prev=t,t.next.prev=r,t.next=r):(r.prev=r,r.next=r),r}function y(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function g(e,t,r){var n=t[0],i=t[1],a=r[0]-n,o=r[1]-i;if(0!==a||0!==o){var s=((e[0]-n)*a+(e[1]-i)*o)/(a*a+o*o);s>1?(n=r[0],i=r[1]):s>0&&(n+=a*s,i+=o*s)}return(a=e[0]-n)*a+(o=e[1]-i)*o}function v(e,t,r,n,i,a,o,s){var l,u,c,d,h=r-e,p=n-t,m=o-i,f=s-a,y=e-i,g=t-a,v=h*h+p*p,_=h*m+p*f,b=m*m+f*f,x=h*y+p*g,w=m*y+f*g,T=v*b-_*_,S=T,k=T;0===T?(u=0,S=1,d=w,k=b):(d=v*w-_*x,(u=_*w-b*x)<0?(u=0,d=w,k=b):u>S&&(u=S,d=w+_,k=b)),d<0?(d=0,-x<0?u=0:-x>v?u=S:(u=-x,S=v)):d>k&&(d=k,-x+_<0?u=0:-x+_>v?u=S:(u=-x+_,S=v));var C=(1-(c=0===d?0:d/k))*i+c*o-((1-(l=0===u?0:u/S))*e+l*r),L=(1-c)*a+c*s-((1-l)*t+l*n);return C*C+L*L}function _(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}i.default&&(i=i.default),e.exports=s,e.exports.default=s},70783:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Z=function(e){if("symbol"===(void 0===e?"undefined":n(e)))return!1;return!isNaN(parseFloat(e))&&r.g.isFinite(e)}},39580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(27263)),i=s(r(849)),a=s(r(4303)),o=s(r(2511));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.aggregate=t,this.events=r,this.request=n,this.response=i}var t,r,s;return t=e,s=[{key:"getAnalytics",value:function(){return e.getAnalytics.analytics||(e.getAnalytics.analytics=new e(new n.default,new i.default,a.default,o.default)),e.getAnalytics.analytics}}],(r=null)&&l(t.prototype,r),s&&l(t,s),e}();t.default=u},27263:(e,t,r)=>{"use strict";var n;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).apply(this,arguments))}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),r=t,(n=[{key:"getDataValueSet",value:function(e){return this.fetch(e.withPath("dataValueSet"))}},{key:"getRawData",value:function(e){return this.fetch(e.withPath("rawData"))}},{key:"getDebugSql",value:function(e){return this.fetch(e.withPath("debug/sql"))}}])&&a(r.prototype,n),i&&a(r,i),t}(((n=r(36942))&&n.__esModule?n:{default:n}).default);t.default=u},36942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(16145)),i=a(r(4303));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default.getApi();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}var t,r,a;return t=e,r=[{key:"get",value:function(e){var t=new i.default(e).withSkipMeta(!1).withSkipData(!0).withIncludeMetadataDetails(!0),r=new i.default(e).withSkipData(!1).withSkipMeta(!0);return Promise.all([this.fetch(r,{sorted:!0}),this.fetch(t)]).then((function(e){return Promise.resolve(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},e[0],{metaData:e[1].metaData}))}))}},{key:"fetch",value:function(e,t){return this.api.get(e.buildUrl(t),e.buildQuery(t)).then((function(e){return Promise.resolve(e)}))}}],r&&s(t.prototype,r),a&&s(t,a),e}();t.default=l},849:(e,t,r)=>{"use strict";var n;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).apply(this,arguments))}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),r=t,(n=[{key:"getAggregate",value:function(e){return this.fetch(e.withPath("events/aggregate"))}},{key:"getCount",value:function(e){return this.fetch(e.withPath("events/count"))}},{key:"getCluster",value:function(e){return this.fetch(e.withPath("events/cluster"))}},{key:"getQuery",value:function(e){return this.fetch(e.withPath("events/query"))}}])&&a(r.prototype,n),i&&a(r,i),t}(((n=r(36942))&&n.__esModule?n:{default:n}).default);t.default=u},4303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(85808)),i=s(r(19581)),a=s(r(54044)),o=s(r(69698));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).apply(this,arguments))}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),r=t,n=[{key:"fromModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this,n=e.columns||[],i=e.rows||[];n.concat(i).forEach((function(e){var t=e.dimension;e.filter&&(t+=":".concat(e.filter)),r=r.addDimension(t,e.items.map((function(e){return e.id})))}));var a=e.filters||[],o=["dx","ou","pe"];return a.forEach((function(e){r=t&&o.includes(e.dimension)?r.addDimension(e.dimension,e.items.map((function(e){return e.id}))):r.addFilter(e.dimension,e.items.map((function(e){return e.id})))})),r}}],n&&u(r.prototype,n),i&&u(r,i),t}((0,n.default)((0,i.default)((0,a.default)(o.default))));t.default=p},69698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(23065))&&n.__esModule?n:{default:n};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.endPoint,n=void 0===r?"analytics":r,i=t.format,o=void 0===i?"json":i,s=t.path,l=t.program,u=t.dimensions,c=void 0===u?[]:u,d=t.filters,h=void 0===d?[]:d,p=t.parameters,m=void 0===p?{}:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endPoint=n,this.format=o.toLowerCase(),this.path=s,this.program=l,this.dimensions=c,this.filters=h,this.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},m)}var t,r,n;return t=e,(r=[{key:"buildUrl",value:function(e){var t=this.dimensions;e&&e.sorted&&(t=(0,i.default)(t,"dimension"));var r=t.map((function(t){var r=t.dimension,n=t.items;return Array.isArray(n)&&n.length?(e&&e.sorted&&(n=(0,i.default)(n)),"".concat(r,":").concat(n.join(";"))):r})),n=[this.endPoint,this.path,this.program].filter((function(e){return!!e})).join("/");return"".concat(n,".").concat(this.format,"?dimension=").concat(r.join("&dimension="))}},{key:"buildQuery",value:function(e){var t=this.filters;e&&e.sorted&&(t=(0,i.default)(t,"dimension"));var r=t.map((function(t){var r=t.dimension,n=t.items;return Array.isArray(n)&&n.length?(e&&e.sorted&&(n=(0,i.default)(n)),"".concat(r,":").concat(n.join(";"))):r}));return t.length&&(this.parameters.filter=r),this.parameters}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},85808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(4303))&&n.__esModule?n:{default:n};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}var d=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,(n=[{key:"addDataDimension",value:function(e){return this.addDimension("dx",e)}},{key:"addPeriodDimension",value:function(e){return this.addDimension("pe",e)}},{key:"addOrgUnitDimension",value:function(e){return this.addDimension("ou",e)}},{key:"addDimension",value:function(e,t){var r=0,n=this.dimensions.find((function(t,n){return t.dimension===e&&(r=n,t)})),a=[],s=[];return n&&(s=n.items||[]),"string"==typeof t?a=o(new Set([].concat(o(s),[t]))):Array.isArray(t)&&(a=o(new Set([].concat(o(s),o(t))))),n?this.dimensions.splice(r,1,{dimension:e,items:a}):this.dimensions.push({dimension:e,items:a}),new i.default(this)}}])&&s(r.prototype,n),a&&s(r,a),t}(e)};t.default=d},19581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(4303))&&n.__esModule?n:{default:n};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}var d=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,(n=[{key:"addDataFilter",value:function(e){return this.addFilter("dx",e)}},{key:"addPeriodFilter",value:function(e){return this.addFilter("pe",e)}},{key:"addOrgUnitFilter",value:function(e){return this.addFilter("ou",e)}},{key:"addFilter",value:function(e,t){var r=0,n=this.filters.find((function(t,n){return t.dimension===e&&(r=n,t)})),a=[],s=[];return n&&(s=n.items||[]),"string"==typeof t?a=o(new Set([].concat(o(s),[t]))):Array.isArray(t)&&(a=o(new Set([].concat(o(s),o(t))))),n?this.filters.splice(r,1,{dimension:e,items:a}):this.filters.push({dimension:e,items:a}),new i.default(this)}}])&&s(r.prototype,n),a&&s(r,a),t}(e)};t.default=d},54044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(4303))&&n.__esModule?n:{default:n};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}var d=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),r=t,n=[{key:"withParameters",value:function(e){return e&&(this.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},this.parameters,e)),new i.default(this)}},{key:"withPath",value:function(e){return e&&(this.path=e),new i.default(this)}},{key:"withFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";return this.format=e,new i.default(this)}},{key:"withAggregationType",value:function(e){var t=e.toUpperCase();return new Set(["AVERAGE","AVERAGE_SUM_ORG_UNIT","COUNT","LAST","LAST_AVERAGE_ORG_UNIT","MIN","MAX","STDDEV","SUM","VARIANCE"]).has(t)?this.parameters.aggregationType=t:"DEFAULT"!==t&&(console.warn('d2.analytics.request.withAggregationType(): "'.concat(e,'" not listed as possible value')),this.parameters.aggregationType=e),new i.default(this)}},{key:"withMeasureCriteria",value:function(e){return e&&(this.parameters.measureCriteria=e),new i.default(this)}},{key:"withPreAggregationMeasureCriteria",value:function(e){return e&&(this.parameters.preAggregationMeasureCriteria=e),new i.default(this)}},{key:"withSkipMeta",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.skipMeta=e,new i.default(this)}},{key:"withSkipData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.skipData=e,new i.default(this)}},{key:"withHierarchyMeta",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.hierarchyMeta=e,new i.default(this)}},{key:"withIgnoreLimit",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.ignoreLimit=e,new i.default(this)}},{key:"withTableLayout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.tableLayout=e,new i.default(this)}},{key:"withHideEmptyRows",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.hideEmptyRows=e,new i.default(this)}},{key:"withHideEmptyColumns",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.hideEmptyColumns=e,new i.default(this)}},{key:"withShowHierarchy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.showHierarchy=e,new i.default(this)}},{key:"withIncludeNumDen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.includeNumDen=e,new i.default(this)}},{key:"withIncludeMetadataDetails",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.includeMetadataDetails=e,new i.default(this)}},{key:"withDisplayProperty",value:function(e){var t=e.toUpperCase();return new Set(["NAME","SHORTNAME"]).has(t)?this.parameters.displayProperty=t:(console.warn('d2.analytics.request.withDisplayProperty(): "'.concat(e,'" not listed as possible value')),this.parameters.displayProperty=e),new i.default(this)}},{key:"withOutputIdScheme",value:function(e){return e&&(this.parameters.outputIdScheme=e),new i.default(this)}},{key:"withInputIdScheme",value:function(e){return e&&(this.parameters.inputIdScheme=e),new i.default(this)}},{key:"withApprovalLevel",value:function(e){return e&&(this.parameters.approvalLevel=e),new i.default(this)}},{key:"withRelativePeriodDate",value:function(e){return e&&(this.parameters.relativePeriodDate=e),new i.default(this)}},{key:"withUserOrgUnit",value:function(e){return e&&(this.parameters.userOrgUnit=e),new i.default(this)}},{key:"withColumns",value:function(e){return e&&(this.parameters.columns=e),new i.default(this)}},{key:"withRows",value:function(e){return e&&(this.parameters.rows=e),new i.default(this)}},{key:"withStartDate",value:function(e){return e&&(this.parameters.startDate=e),new i.default(this)}},{key:"withEndDate",value:function(e){return e&&(this.parameters.endDate=e),new i.default(this)}},{key:"withProgram",value:function(e){return e&&(this.program=e),new i.default(this)}},{key:"withStage",value:function(e){return e&&(this.parameters.stage=e),new i.default(this)}},{key:"withEventStatus",value:function(e){var t=e.toUpperCase();return new Set(["ACTIVE","COMPLETED","SCHEDULED","OVERDUE","SKIPPED"]).has(t)?this.parameters.eventStatus=t:(console.warn('d2.analytics.request.withEventStatus(): "'.concat(e,'" not listed as possible value')),this.parameters.eventStatus=e),new i.default(this)}},{key:"withProgramStatus",value:function(e){var t=e.toUpperCase();return new Set(["ACTIVE","COMPLETED","CANCELLED"]).has(t)?this.parameters.programStatus=t:(console.warn('d2.analytics.request.withProgramStatus(): "'.concat(e,'" not listed as possible value')),this.parameters.programStatus=e),new i.default(this)}},{key:"withOuMode",value:function(e){var t=e.toUpperCase();return new Set(["DESCENDANTS","CHILDREN","SELECTED"]).has(t)?this.parameters.ouMode=t:(console.warn('d2.analytics.request.withOuMode(): "'.concat(e,'" not listed as possible value')),this.parameters.ouMode=e),new i.default(this)}},{key:"withAsc",value:function(e){return e&&(this.parameters.asc=e),new i.default(this)}},{key:"withDesc",value:function(e){return e&&(this.parameters.desc=e),new i.default(this)}},{key:"withCoordinatesOnly",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.coordinatesOnly=e,new i.default(this)}},{key:"withPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.parameters.page=e,new i.default(this)}},{key:"withPageSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.parameters.pageSize=e,new i.default(this)}},{key:"withValue",value:function(e){return e&&(this.parameters.value=e),new i.default(this)}},{key:"withSortOrder",value:function(e){var t=e.toUpperCase();return new Set(["ASC","DESC"]).has(t)?this.parameters.sortOrder=t:(console.warn('d2.analytics.request.withSortOrder(): "'.concat(e,'" not listed as possible value')),this.parameters.sortOrder=e),new i.default(this)}},{key:"withLimit",value:function(e){if(e){var t=e>1e4?1e4:e;this.parameters.limit=t}return new i.default(this)}},{key:"withOutputType",value:function(e){var t=e.toUpperCase();return new Set(["EVENT","ENROLLMENT","TRACKED_ENTITY_INSTANCE"]).has(t)?this.parameters.outputType=t:(console.warn('d2.analytics.request.withOutputType(): "'.concat(e,'" not listed as possible value')),this.parameters.outputType=e),new i.default(this)}},{key:"withCollapseDataDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.collapseDataDimensions=e,new i.default(this)}},{key:"withSkipRounding",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.skipRounding=e,new i.default(this)}},{key:"withAggregateData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.aggregateData=e,new i.default(this)}},{key:"withClusterSize",value:function(e){return e&&(this.parameters.clusterSize=e),new i.default(this)}},{key:"withCoordinateField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EVENT";return this.parameters.coordinateField=e,new i.default(this)}},{key:"withBbox",value:function(e){return e&&(this.parameters.bbox=e),new i.default(this)}},{key:"withIncludeClusterPoints",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.parameters.includeClusterPoints=e,new i.default(this)}}],n&&s(r.prototype,n),a&&s(r,a),t}(e)};t.default=d},2511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(80219))&&n.__esModule?n:{default:n};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s={0:"No",1:"Yes"},l="ouname",u=["psi","ps","eventdate","longitude","latitude","ouname","oucode","eventdate","eventdate"],c=["dy"].concat(u),d=function(e){switch(e){case"STRING":case"TEXT":return function(e){return"".concat(e)};case"INTEGER":case"NUMBER":return function(e){return!Number.isNaN(+e)&&Number.isFinite(+e)?parseFloat(+e):e};default:return function(e){return e}}},h=function(e,t){return!c.includes(e.name)&&Boolean(Array.isArray(t)&&0===t.length)},p=function(e,t){return!u.includes(e.name)&&Boolean(Array.isArray(t)&&0===t.length)},m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.response=t,this.headers=this.extractHeaders(),this.rows=this.extractRows(),this.metaData=this.extractMetadata())}var t,r,n;return t=e,r=[{key:"extractHeaders",value:function(){var e=this.response.metaData.dimensions;return(this.response.headers||[]).map((function(t,r){return new i.default(t,{isPrefix:h(t,e[t.name]),isCollect:p(t,e[t.name]),index:r})}))}},{key:"extractRows",value:function(){var e=this.headers.filter((function(e){return e.optionSet})),t=this.response.rows;if(e.length){t=t.slice();var r=this.optionCodeIdMap();e.forEach((function(e){t.forEach((function(n,i){var a=r[e.name][n[e.index]];a&&(t[i][e.index]=a)}))}))}return t}},{key:"extractMetadata",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},this.response.metaData),r=t.dimensions,n=t.items;if(this.headers.filter((function(e){return!u.includes(e.name)})).forEach((function(t){var i;t.isCollect?(i=e.getSortedUniqueRowIdStringsByHeader(t),r[t.name]=i):i=r[t.name],t.isPrefix&&(r[t.name]=i.map((function(e){return function(e,t){return"".concat(t||""," ").concat(e)}(e,t.name)})),r[t.name].forEach((function(e,r){var a=function(e,t){return"BOOLEAN"===t?s[e]:e}(i[r],t.valueType);n[e]={name:a}})))})),this.hasHeader(l)&&this.hasHeader("ou")){var i,o,c=this.getHeader(l).getIndex(),d=this.getHeader("ou").getIndex();this.rows.forEach((function(e){i=e[d],void 0===n[i]&&(o=e[c],n[i]={name:o})}))}return t}},{key:"getHeader",value:function(e){return this.headers.find((function(t){return t.name===e}))}},{key:"hasHeader",value:function(e){return void 0!==this.getHeader(e)}},{key:"getSortedUniqueRowIdStringsByHeader",value:function(e){var t=d(e.valueType),r=d("STRING");return Array.from(new Set(this.rows.map((function(r){return t(r[e.index])})))).filter((function(e){return""!==e})).sort().map((function(e){return r(e)}))}},{key:"optionCodeIdMap",value:function(){var e=this.response.metaData,t=e.dimensions,r=e.items,n={};return this.headers.filter((function(e){return"string"==typeof e.optionSet})).forEach((function(e){var i=t[e.name];n[e.name]=i.map((function(e){return a({},r[e].code,e)})).reduce((function(e,t){return Object.assign(e,t)}),{})})),n}},{key:"sortOrganisationUnitsHierarchy",value:function(){var e=this,t=this.metaData.dimensions.ou;t.forEach((function(r,n){var i=e.metaData.ouHierarchy[r],a=[r],o=[];i.split("/").reverse().forEach((function(e){a.unshift(e)})),a.forEach((function(t){e.metaData.items[t]&&o.push(e.metaData.items[t].name)})),t[n]={id:r,fullName:o.join(" / ")}})),t.sort((function(e,t){var r=e.fullName,n=t.fullName;return r<n?-1:r>n?1:0})),this.metaData.dimensions.ou=t.map((function(e){return e.id}))}}],r&&o(t.prototype,r),n&&o(t,n),e}(),f=m;t.default=f},80219:(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPrefix:!1,isCollect:!1,index:void 0};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t,r)}var t,n,i;return t=e,(n=[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){var t=+e;!Number.isNaN(t)&&Number.isFinite(t)&&(this.index=parseInt(t,10))}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=n},16145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(24502);var n,i=r(98579),a=r(1344),o=(n=r(89156))&&n.__esModule?n:{default:n};function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(new RegExp("^(:?https?:)?//").test(t))return t;var r=[];return e&&r.push(e),r.push(t),r.join("/").replace(new RegExp("(.(?:[^:]))//+","g"),"$1/").replace(new RegExp("/$"),"")}var c=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"==typeof t)this.fetch=t.bind("undefined"!=typeof window?window:r.g);else{if("undefined"==typeof fetch)throw new Error("Failed to initialise D2 Api: No fetch implementation is available");this.fetch=fetch.bind("undefined"!=typeof window?window:r.g)}this.baseUrl="/api",this.defaultFetchOptions={mode:"cors",credentials:"include",cache:"default"},this.defaultHeaders={"X-Requested-With":"XMLHttpRequest"},this.unauthorizedCallback=null}var t,n,c;return t=e,n=[{key:"setDefaultHeaders",value:function(e){this.defaultHeaders=e}},{key:"setUnauthorizedCallback",value:function(e){if("function"!=typeof e)throw new Error("Callback must be a function.");this.unauthorizedCallback=e}},{key:"get",value:function(e,t,r){return this.request("GET",u(this.baseUrl,e),t,r)}},{key:"post",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=u(this.baseUrl,e),i=t;return r.headers=new Headers(r.headers||{}),void 0!==t&&("FormData"===t.constructor.name?(r.headers.delete("Content-Type"),i=t):r.headers.has("Content-Type")&&r.headers.get("Content-Type").toLocaleLowerCase().startsWith("text/")?i=String(t):(r.headers.set("Content-Type","application/json"),i=JSON.stringify(t))),this.request("POST",n,i,r)}},{key:"delete",value:function(e,t){return this.request("DELETE",u(this.baseUrl,e),void 0,t)}},{key:"update",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t,a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}({},n,{headers:new Headers(n.headers||{})});void 0!==t&&(a.headers.has("Content-Type")||"string"!=typeof i?i=JSON.stringify(t):a.headers.set("Content-Type","text/plain"));var l=!0===r?"".concat(e,"?").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"REPLACE",t=o.default.getSystem();return t.version&&Number(t.version.minor)<=22?"mergeStrategy=".concat(e):"mergeMode=".concat(e)}()):e;return this.request("PUT",u(this.baseUrl,l),i,a)}},{key:"patch",value:function(e,t){return this.request("PATCH",u(this.baseUrl,e),JSON.stringify(t))}},{key:"request",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,i.checkType)(e,"string","Request type"),(0,i.checkType)(t,"string","Url");var s=this,l=t,u="";if(-1!==l.indexOf("?")&&(u=l.substr(l.indexOf("?")+1),l=l.substr(0,l.indexOf("?"))),u){var c;try{c=decodeURIComponent(u)}catch(e){return Promise.reject(new Error("Query parameters in URL are invalid"))}if(u!==c)return Promise.reject(new Error("Cannot process URL-encoded URLs, pass an unencoded URL"));u=(0,a.customEncodeURIComponent)(u)}if(r&&Array.isArray(r.filter)){var d=r.filter.map((function(e){return e.split(":").map(encodeURIComponent).join(":")}));u="".concat(u).concat(u.length?"&":"","filter=").concat(d.join("&filter=")),delete r.filter}r&&"GET"===e&&Object.keys(r).forEach((function(e){u="".concat(u).concat(u.length>0?"&":"")+"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r[e]))})),u.length&&(l="".concat(l,"?").concat(u));var h,p,m,f,y,g=(h=this.defaultHeaders,p=o,m=r,f=Object.assign({},s.defaultFetchOptions,p),y=new Headers(p.headers||{}),Object.keys(h).filter((function(e){return!y.get(e)})).forEach((function(e){return y.set(e,h[e])})),f.method=e,"GET"===f.method||!m&&0!==m&&!1!==m?y.delete("Content-Type"):m&&("FormData"===r.constructor.name?y.delete("Content-Type"):y.get("Content-Type")||y.set("Content-Type","application/json"),f.body=m),f.headers=y,f);function v(e){try{return JSON.parse(e)}catch(t){return e}}return new Promise((function(i,a){n.fetch(l,g).then((function(s){s.ok?s.text().then((function(e){return i(v(e))})):s.text().then((function(i){var u=v(i);if(401===s.status){var c={method:e,url:t,data:r,options:o};n.unauthorizedCallback&&n.unauthorizedCallback(c,u)}"test"!=={REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_DHIS2_APP_PLUGIN:"true",REACT_APP_DHIS2_APP_NAME:"Maps",REACT_APP_DHIS2_APP_PWA_ENABLED:"true",REACT_APP_DHIS2_APP_PWA_CACHING_OMIT_EXTERNAL_REQUESTS_FROM_APP_SHELL:"false",REACT_APP_DHIS2_APP_PWA_CACHING_OMIT_EXTERNAL_REQUESTS:"false",REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT_FROM_APP_SHELL:'[".*"]',REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT:"[]",REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT_FROM_CACHEABLE_SECTIONS:"[]",PORT:void 0,PUBLIC_URL:".",NODE_ENV:"production"}.npm_lifecycle_event&&console.warn("API request failed with status ".concat(s.status," ").concat(s.statusText,"\n"),"Request: ".concat(g.method," ").concat(l)),a(u)}))})).catch((function(e){"test"!=={REACT_APP_DHIS2_BASE_URL:"..",REACT_APP_DHIS2_APP_PLUGIN:"true",REACT_APP_DHIS2_APP_NAME:"Maps",REACT_APP_DHIS2_APP_PWA_ENABLED:"true",REACT_APP_DHIS2_APP_PWA_CACHING_OMIT_EXTERNAL_REQUESTS_FROM_APP_SHELL:"false",REACT_APP_DHIS2_APP_PWA_CACHING_OMIT_EXTERNAL_REQUESTS:"false",REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT_FROM_APP_SHELL:'[".*"]',REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT:"[]",REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT_FROM_CACHEABLE_SECTIONS:"[]",PORT:void 0,PUBLIC_URL:".",NODE_ENV:"production"}.npm_lifecycle_event&&console.error("Server connection error:",e),a("Server connection failed for API request: ".concat(g.method," ").concat(l))}))}))}},{key:"setBaseUrl",value:function(e){return(0,i.checkType)(e,"string","Base url"),this.baseUrl=e,this}}],n&&l(t.prototype,n),c&&l(t,c),e}();c.getApi=function e(){return e.api?e.api:e.api=new c};var d=c;t.default=d},68505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(18133))&&n.__esModule?n:{default:n},a=r(98579);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"create",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.filter((function(e){return e})).every((function(e){return(0,a.isType)(e,"object")})))throw new Error("Expected Config parameter to have type object");return Object.assign.apply(Object,[{},i.default].concat(t))}},{key:"processPreInitConfig",value:function(e,t){e.headers&&t.setDefaultHeaders(e.headers),e.baseUrl&&t.setBaseUrl(e.baseUrl)}},{key:"processConfigForD2",value:function(e,t){var r=t.Api.getApi();t.model.ModelDefinition.prototype.api=r,t.models=t.model.ModelDefinitions.getModelDefinitions(),(0,a.isString)(e.baseUrl)?r.setBaseUrl(e.baseUrl):r.setBaseUrl("/api"),e.headers&&r.setDefaultHeaders(e.headers),e.unauthorizedCb&&r.setUnauthorizedCallback(e.unauthorizedCb),e.i18n&&e.i18n.sources&&Array.from(e.i18n.sources).forEach((function(e){return t.i18n.addSource(e)})),e.i18n&&e.i18n.strings&&t.i18n.addStrings(Array.from(e.i18n.strings))}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},62551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(15919)),i=s(r(79544)),a=r(18133),o=s(r(16411));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=Symbol("models"),c=new Set(["userCredentials","userGroups","userRoles","organisationUnits","dataViewOrganisationUnits"]),d=["CREATE","CREATE_PUBLIC","CREATE_PRIVATE"],h=["CREATE_PUBLIC"],p=["CREATE_PRIVATE"],m=["DELETE"],f=["UPDATE"],y=Array.from(c).reduce((function(e,t){return e[t]=Symbol(t),e}),{});var g=function(){function e(t,r,n,i){var a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,(s=(a=t).userCredentials?Object.assign({},a.userCredentials,a):Object.assign({},a),Object.keys(s).reduce((function(e,t){return c.has(t)?s[t].map&&(e[y[t]]=s[t].map((function(e){return e.id}))):e[t]=s[t],e}),{}))),this.authorities=r,this[u]=n,this.userSettings=i,this.dataStore=o.default.getUserDataStore()}var t,r,s;return t=e,r=[{key:"getUserGroupIds",value:function(){return this[y.userGroups]}},{key:"getUserGroups",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this[y.userGroups];return this[u].userGroup.list(Object.assign({paging:!1},e,{filter:["id:in:[".concat(t.join(","),"]")]}))}},{key:"getUserRoles",value:function(){var e=this[y.userRoles];return this[u].userRole.list({filter:["id:in:[".concat(e.join(","),"]")],paging:!1})}},{key:"getOrganisationUnits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this[y.organisationUnits];return this[u].organisationUnit.list(Object.assign({fields:":all,displayName,path,children[id,displayName,path,children::isNotEmpty]",paging:!1},e,{filter:["id:in:[".concat(t.join(","),"]")]}))}},{key:"getDataViewOrganisationUnits",value:function(e){var t=this[y.dataViewOrganisationUnits];return this[u].organisationUnit.list(Object.assign({fields:":all,displayName,path,children[id,displayName,path,children::isNotEmpty]",paging:!1},e,{filter:["id:in:[".concat(t.join(","),"]")]}))}},{key:"checkAuthorityForType",value:function(e,t){var r=this;return!(!t||!Array.isArray(t.authorities))&&t.authorities.filter((function(t){return e.some((function(e){return e===t.type}))})).some((function(e){return e.authorities.some((function(e){return r.authorities.has(e)}))}))}},{key:"checkCreateAuthorityForType",value:function(e,t){return!function(e){return Boolean(e&&a.noCreateAllowedFor.has(e.name))}(t)&&this.checkAuthorityForType(e,t)}},{key:"canCreate",value:function(e){return this.checkCreateAuthorityForType(d,e)}},{key:"canCreatePublic",value:function(e){return this.checkCreateAuthorityForType(h,e)}},{key:"canCreatePrivate",value:function(e){return this.checkCreateAuthorityForType(p,e)}},{key:"canDelete",value:function(e){return this.checkAuthorityForType(m,e)}},{key:"canUpdate",value:function(e){return!!this.checkAuthorityForType(f,e)||this.checkAuthorityForType(d,e)}}],s=[{key:"create",value:function(t,r,a,o){return new e(t,n.default.create(r),a,new i.default(o))}}],r&&l(t.prototype,r),s&&l(t,s),e}();t.default=g},15919:(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Symbol("authorities"),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[n]=new Set(t)}var t,i,a;return t=e,a=[{key:"create",value:function(t){return new e(t)}}],(i=[{key:"has",value:function(e){return!!this[n].has("ALL")||this[n].has(e)}}])&&r(t.prototype,i),a&&r(t,a),e}();t.default=i},79544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(16145))&&n.__esModule?n:{default:n},a=r(98579);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.getApi();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,t&&(this.settings=t)}var t,r,n;return t=e,(r=[{key:"all",value:function(){var e=this;return this.settings?Promise.resolve(this.settings):this.api.get("userSettings").then((function(t){return e.settings=t,Promise.resolve(e.settings)}))}},{key:"get",value:function(e){var t=this;return this.settings&&this.settings[e]?Promise.resolve(this.settings[e]):new Promise((function(r,n){if(!(0,a.isString)(e))throw new TypeError('A "key" parameter should be specified when calling get() on userSettings');t.api.get(["userSettings",e].join("/")).then((function(i){var a=function(e){try{return JSON.parse(e)}catch(t){return e}}(i);t[e]=a,a&&r(a),n(new Error("The requested userSetting has no value or does not exist."))}))}))}},{key:"set",value:function(e,t){delete this.settings;var r=["userSettings",e].join("/");return null===t||0==="".concat(t).length?this.api.delete(r):this.api.post(r,t,{headers:{"Content-Type":"text/plain"}})}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},67637:(e,t,r)=>{"use strict";t.nS=_,t.S1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.getLogger(),f=t.getApi(),b=u.default.create(v,e),x={models:void 0,model:a.default,Api:t,system:s.default.getSystem(),i18n:l.default.getI18n(),dataStore:h.default.getDataStore(),analytics:p.default.getAnalytics(),geoFeatures:m.default.getGeoFeatures()};u.default.processConfigForD2(b,x),y?y=!1:g=n.Deferred.create();var w=function(e,t){var r=[],n=function(t){return e.get("schemas/".concat(t),{fields:d.fieldsForSchemas})};if(Array.isArray(t)){var i=t.map(n).concat([]),a=Promise.all(i).then((function(e){return{schemas:e}}));r.push(a),t.length>0?r.push(e.get("attributes",{fields:":all,optionSet[:all,options[:all]]",paging:!1})):r.push({attributes:[]})}else r.push(e.get("schemas",{fields:d.fieldsForSchemas})),r.push(e.get("attributes",{fields:":all,optionSet[:all,options[:all]]",paging:!1}));return r}(f,b.schemas),T=[f.get("me",{fields:":all,organisationUnits[id],userGroups[id],userCredentials[:all,!user,userRoles[id]"}),f.get("me/authorization"),_(t)],S=[f.get("system/info"),f.get("apps")];return Promise.all([].concat((k=w,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(k)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),T,S,[x.i18n.load()])).then((function(e){var t={schemas:(0,n.pick)("schemas")(e[0]),attributes:(0,n.pick)("attributes")(e[1]),currentUser:e[2],authorities:e[3],userSettings:e[4],systemInfo:e[5],apps:e[6]};return t.schemas.filter((function(e){return e.metadata})).map((function(e){return e.apiEndpoint=(0,n.updateAPIUrlWithBaseUrlVersionNumber)(e.apiEndpoint,b.baseUrl),e})).forEach((function(e){var r=t.attributes.filter((function(t){return!0===t[[e.singular,"Attribute"].join("")]}));Object.prototype.hasOwnProperty.call(x.models,e.singular)||x.models.add(a.default.ModelDefinition.createFromSchema(e,r))})),x.currentUser=c.default.create(t.currentUser,t.authorities,x.models,t.userSettings),x.system.setSystemInfo(t.systemInfo),x.system.setInstalledApps(t.apps),g.resolve(x),g.promise})).catch((function(e){return r.error("Unable to get schemas from the api",JSON.stringify(e),e),g.reject("Unable to get schemas from the DHIS2 API"),g.promise}));var k},t.s8=function(){return g.promise},t.vc=void 0,r(24502);var n=r(1344),i=f(r(26585)),a=f(r(34286)),o=f(r(16145)),s=f(r(89156)),l=f(r(14266)),u=f(r(68505)),c=f(r(62551)),d=r(74451),h=f(r(11576)),p=f(r(39580)),m=f(r(30279));function f(e){return e&&e.__esModule?e:{default:e}}var y=!0,g=n.Deferred.create(),v=u.default.create();function _(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default).getApi();return y&&u.default.processPreInitConfig(v,e),e.get("userSettings")}var b=v;t.vc=b},25132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(64136)),i=o(r(16145)),a=r(98579);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.getApi(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dataStore",a=arguments.length>2?arguments[2]:void 0;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Can't instantiate abstract class!");if(!(a.prototype instanceof n.default))throw new Error("NamespaceClass must be subclass of ".concat(s(n.default)));this.NamespaceClass=a,this.endPoint=r,this.api=t}var t,r,o;return t=e,r=[{key:"get",value:function(e){var t=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?new Promise((function(r){r(new t.NamespaceClass(e))})):this.api.get([this.endPoint,e].join("/")).then((function(r){return r&&(0,a.isArray)(r)?r.length<1?Promise.reject(new Error("The requested namespace has no keys or does not exist.")):new t.NamespaceClass(e,r):Promise.reject(new Error("The requested namespace has no keys or does not exist."))}))}},{key:"getAll",value:function(){return this.api.get(this.endPoint).then((function(e){if(e&&(0,a.isArray)(e))return e;throw new Error("No namespaces exist.")}))}},{key:"has",value:function(e){return this.api.get([this.endPoint,e].join("/")).then((function(e){return e&&(0,a.isArray)(e)?!(e.length<1)||Promise.reject(e):Promise.reject(new Error("Response is not an array!"))})).catch((function(e){if(404===e.httpStatusCode||(0,a.isArray)(e)&&e.length<1)return Promise.resolve(!1);throw e}))}},{key:"delete",value:function(e){return this.api.delete([this.endPoint,e].join("/"))}},{key:"create",value:function(e){var t=this;return this.has(e).then((function(r){return r?Promise.reject(new Error("Namespace already exists.")):new t.NamespaceClass(e)}))}}],r&&l(t.prototype,r),o&&l(t,o),e}();t.default=u},64136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(16145))&&n.__esModule?n:{default:n},a=r(98579);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.getApi(),o=arguments.length>3?arguments[3]:void 0;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(0,a.isString)(t))throw new Error("BaseStoreNamespace must be called with a string to identify the Namespace");if(!(0,a.isString)(o))throw new Error("BaseStoreNamespace must be called with an endPoint");if(this.constructor===e)throw new Error("Can't instantiate abstract class!");this.api=n,this.namespace=t,this.keys=r||[],this.endPoint=o}var t,r,n;return t=e,r=[{key:"getKeys",value:function(){var e=this;return this.api.get([this.endPoint,this.namespace].join("/")).then((function(t){return t&&(0,a.isArray)(t)?(e.keys=t,t):Promise.reject(new Error("The requested namespace has no keys or does not exist."))}))}},{key:"get",value:function(e){return this.api.get([this.endPoint,this.namespace,e].join("/"))}},{key:"set",value:function(e,t){var r=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&this.keys.includes(e))return this.update(e,t);var i=!0===n?"?encrypt=true":"";return this.api.post([this.endPoint,this.namespace,e+i].join("/"),t).then((function(t){return r.keys=[].concat(s(r.keys),[e]),t}))}},{key:"delete",value:function(e){var t=this;return(0,a.isString)(e)?this.api.delete([this.endPoint,this.namespace,e].join("/")).then((function(r){return t.keys=t.keys.filter((function(t){return t!==e})),r})):Promise.reject(new Error("Expected key to be string, but got ".concat(o(e))))}},{key:"update",value:function(e,t){return this.api.update([this.endPoint,this.namespace,e].join("/"),t,!1,{headers:{"Content-Type":"application/json"}})}}],r&&l(t.prototype,r),n&&l(t,n),e}();t.default=u},11576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(25132)),i=o(r(39499)),a=o(r(16145));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,r){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},c(e,t,r||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.getApi(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dataStore";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,d(t).call(this,e,r,i.default))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),r=t,n=[{key:"get",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c(d(t.prototype),"get",this).call(this,e,r)}},{key:"create",value:function(e){return c(d(t.prototype),"create",this).call(this,e)}}],o=[{key:"getDataStore",value:function(){return t.getDataStore.dataStore||(t.getDataStore.dataStore=new t),t.getDataStore.dataStore}}],n&&l(r.prototype,n),o&&l(r,o),t}(n.default);t.default=p},39499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(16145));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var c=function(e){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.default.getApi(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dataStore";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).call(this,e,r,i,a))}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),r=t,(i=[{key:"getMetaData",value:function(e){return this.api.get([this.endPoint,this.namespace,e,"metaData"].join("/"))}}])&&o(r.prototype,i),a&&o(r,a),t}(i(r(64136)).default);t.default=c},16411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(25132)),i=o(r(81227)),a=o(r(16145));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,r){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},c(e,t,r||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.getApi(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"userDataStore";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,d(t).call(this,e,r,i.default))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),r=t,n=[{key:"get",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c(d(t.prototype),"get",this).call(this,e,r)}},{key:"create",value:function(e){return c(d(t.prototype),"create",this).call(this,e)}}],o=[{key:"getUserDataStore",value:function(){return t.getUserDataStore.dataStore||(t.getUserDataStore.dataStore=new t(a.default.getApi(),"userDataStore")),t.getUserDataStore.dataStore}}],n&&l(r.prototype,n),o&&l(r,o),t}(n.default);t.default=p},81227:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(16145));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.default.getApi(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"userDataStore";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).call(this,e,r,i,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),t}(i(r(64136)).default);t.default=u},18133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.noCreateAllowedFor=void 0;var r=new Set(["categoryOptionCombo"]);t.noCreateAllowedFor=r;var n={baseUrl:"/api",i18n:{sources:new Set,strings:new Set}};t.default=n},30279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(16145))&&n.__esModule?n:{default:n},a=r(43933);function o(e,t,r){return o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&s(i,r.prototype),i},o.apply(null,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.orgUnits=t,this.displayName=r}var t,r,n;return t=e,r=[{key:"byOrgUnit",value:function(t){if(!t)return this;var r=[].concat(t);if(!r.every(e.isValidOrgUnit))throw new Error("Invalid organisation unit: ".concat(t));return new e(r,this.displayName)}},{key:"displayProperty",value:function(t){if(!t)return this;if(!e.isValidDisplayName(t))throw new Error("Invalid display property: ".concat(t));return new e(this.orgUnits,t)}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.default.getApi(),r=e;return this.orgUnits.length&&(r.ou="ou:".concat(this.orgUnits.join(";"))),this.displayName&&(r.displayProperty=this.displayName),t.get("geoFeatures",r)}}],n=[{key:"isValidOrgUnit",value:function(t){return(0,a.isValidUid)(t)||e.isValidOrgUnitLevel(t)||e.isValidOrgUnitGroup(t)||e.isValidUserOrgUnit(t)}},{key:"isValidOrgUnitLevel",value:function(e){var t=e.match(/LEVEL-(.*)$/);return Array.isArray(t)&&(/^[0-9]+$/.test(t[1])||(0,a.isValidUid)(t[1]))}},{key:"isValidOrgUnitGroup",value:function(e){var t=e.match(/OU_GROUP-(.*)$/);return Array.isArray(t)&&(0,a.isValidUid)(t[1])}},{key:"isValidUserOrgUnit",value:function(t){return t===e.USER_ORGUNIT||t===e.USER_ORGUNIT_CHILDREN||t===e.USER_ORGUNIT_GRANDCHILDREN}},{key:"isValidDisplayName",value:function(t){return t===e.DISPLAY_PROPERTY_NAME||t===e.DISPLAY_PROPERTY_SHORTNAME}},{key:"getGeoFeatures",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o(e,r)}}],r&&l(t.prototype,r),n&&l(t,n),e}();u(c,"DISPLAY_PROPERTY_NAME","NAME"),u(c,"DISPLAY_PROPERTY_SHORTNAME","SHORTNAME"),u(c,"USER_ORGUNIT","USER_ORGUNIT"),u(c,"USER_ORGUNIT_CHILDREN","USER_ORGUNIT_CHILDREN"),u(c,"USER_ORGUNIT_GRANDCHILDREN","USER_ORGUNIT_GRANDCHILDREN");var d=c;t.default=d},14266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(16145))&&n.__esModule?n:{default:n};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.getApi();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sources=t,this.api=r,this.strings=new Set,this.translations=void 0}var t,r,n;return t=e,r=[{key:"addSource",value:function(e){this.sources.push(e)}},{key:"addStrings",value:function(e){var t=this;"string"==typeof e&&e.trim().length>0?this.strings.add(e.trim()):Array.from(e).filter((function(e){return e&&"".concat(e).trim().length>0})).forEach((function(e){return t.strings.add(e)}))}},{key:"load",value:function(){var e=this,t=this;t.translations={};var r=[];return this.sources.forEach((function(e){r.push(t.api.request("GET",e).then((function(e){return Promise.resolve(e.split("\n").reduce((function(e,t){var r=a(t.split("=").map((function(e){return e.trim()})),2),n=r[0],i=r[1];return void 0===n||void 0===i||e.hasOwnProperty(n)||(e[n]=i.replace(/\\u([0-9a-f]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))),e}),{}))}),(function(){return Promise.resolve({})})))})),Promise.all(r).then((function(r){return r.forEach((function(r){Object.keys(r).forEach((function(n){t.translations.hasOwnProperty(n)||(t.translations[n]=r[n]),e.strings.delete(n)}))})),e.strings.size>0?t.api.post("i18n",Array.from(t.strings)).then((function(e){return Object.keys(e).filter((function(t){return t!==e[t]})).forEach((function(r){t.translations[r]=e[r],t.strings.delete(r)})),Promise.resolve(t.translations)})):Promise.resolve(t.translations)}))}},{key:"getTranslation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===this.translations)throw new Error("Tried to translate before loading translations!");var r=this.translations.hasOwnProperty(e)?this.translations[e]:"** ".concat(e," **");return Object.keys(t).length?r.replace(/\$\$(.+?)\$\$/gi,(function(e,r){return t[r]||""})):r}},{key:"isTranslated",value:function(e){if(void 0===this.translations)throw new Error("Tried to translate before loading translations!");return this.translations.hasOwnProperty(e)}},{key:"getUntranslatedStrings",value:function(){return this.translations?Array.from(this.strings):void 0}}],n=[{key:"getI18n",value:function(){return new e}}],r&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},90038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(1344),i=r(98579),a=function(){return["TEXT","NUMBER","INTEGER","BOOLEAN","EMAIL","PASSWORD","URL","PHONENUMBER","GEOLOCATION","COLOR","COMPLEX","COLLECTION","REFERENCE","DATE","COMPLEX","IDENTIFIER","CONSTANT"]},o={getTypes:a,typeLookup:function(e){if(["TEXT","NUMBER","INTEGER","BOOLEAN","EMAIL","PASSWORD","URL","PHONENUMBER","GEOLOCATION","COLOR","COMPLEX","COLLECTION","REFERENCE","DATE","COMPLEX","IDENTIFIER","CONSTANT"].indexOf(e)>=0&&(0,i.isString)(e))return e;var t=['Type from schema "',e,'" not found available type list.'].join("");return(0,n.throwError)(t)}};t.default=o},98579:(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(void 0!==e)return!0;throw new Error([t||"Value","should be provided"].join(" "))}function i(e,t,i){if(n(e,i),n(t,"Type"),"function"==typeof t&&e instanceof t||"string"==typeof t&&r(e)===t)return!0;throw new Error(["Expected",i||e,"to have type",t].join(" "))}function a(e,t){try{return i(e,t),!0}catch(e){}return!1}function o(e){return Array.isArray(e)}function s(e){return null!=e}function l(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.checkDefined=n,t.checkType=i,t.isType=a,t.isString=function(e){return a(e,"string")},t.isArray=o,t.isObject=function(e){return a(e,Object)},t.isDefined=s,t.isInteger=l,t.isNumeric=function(e){return"number"==typeof e&&isFinite(e)&&e-parseFloat(e)+1>=0},t.contains=function(e,t){return(o(t)&&t||[]).indexOf(e)>=0},t.isValidUid=function(e){return e&&11===e.length},t.areDefinedAndEqual=function(e,t){return s(e)&&s(t)&&t===e},t.checkValidRootJunction=function(e){if(i(e,"string","rootJunction"),p(e))return!0;throw new Error("Expected ".concat(e," to be one of [").concat(h,"]"))},t.isValidRootJunction=t.rootJunctions=t.hasOwnProperty=t.isFunction=t.isNullUndefinedOrEmptyString=t.toBeAny=t.toBe=t.hasKeys=t.isEmpty=void 0,Number.isInteger||(Number.isInteger=l);t.isEmpty=function(e){return 0===e.length};t.hasKeys=function(e){return e&&Object.keys(e).length>0};var u=function(e,t){return e===t};t.toBe=u;var c=function(e){return function(t){return e.some((function(e){return u(t,e)}))}};t.toBeAny=c;var d=c([void 0,null,""]);t.isNullUndefinedOrEmptyString=d;t.isFunction=function(e){return"function"==typeof e};t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var h=["OR","AND"];t.rootJunctions=h;var p=c(h);t.isValidRootJunction=p},1344:(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e){var t=e.split(".");return function(e){return t.reduce((function(e,t){if(e)return e[t]}),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=function(e){throw new Error(e)},t.curry=function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.apply(this,[t].concat(n))}},t.addLockedProperty=function(e,t,r){var n={enumerable:!0,configurable:!1,writable:!1,value:r};Object.defineProperty(e,t,n)},t.copyOwnProperties=function(e,t){return Object.keys(t).filter((function(e){return t.hasOwnProperty(e)})).forEach((function(r){e[r]=t[r]})),e},t.pick=n,t.updateAPIUrlWithBaseUrlVersionNumber=function(e,t){if(!t||!e)return e;var r=/api\/([1-9][0-9])/,n=t.match(r),i=n&&n[1],a=e&&!r.test(e);if(i&&a){var o=n[1];return e.replace(/api/,"api/".concat(o))}return e},t.customEncodeURIComponent=function(e){return encodeURIComponent(e).replace(o,decodeURIComponent)},t.identity=function(e){return e},t.Deferred=t.pickOr=void 0;t.pickOr=function(e,t){return function(r){var i=n(e)(r);return void 0!==i?i:t}};var i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r}))}var t,n,i;return t=e,i=[{key:"create",value:function(){return new e}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();t.Deferred=i;var a=",&$=/;:".split("").map((function(e){return encodeURIComponent(e)})),o=new RegExp("(?:".concat(a.join("|"),")"),"g")},26585:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.checkType)(t,"object","console"),this.logger=t}var t,a,o;return t=e,a=[{key:"canLog",value:function(e){return!!(e&&console&&(0,n.isType)(this.logger[e],"function"))}},{key:"logMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"log";if(this.canLog(e)&&this.logger[e]){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this.logger)[e].apply(t,n),!0}return!1}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.logMessage.apply(this,["debug"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.logMessage.apply(this,["error"].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.logMessage.apply(this,["log"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.logMessage.apply(this,["warn"].concat(t))}}],o=[{key:"getLogger",value:function(){var t;try{t=r.g.console}catch(e){t=window.console}return this.logger?this.logger:this.logger=new e(t)}}],a&&i(t.prototype,a),o&&i(t,o),e}();t.default=a},49051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a={equals:"eq",like:"like",ilike:"ilike",notEqual:"ne",in:"in",token:"token",notIn:"!in",nToken:"!token"},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addFilterCallback=t,this.propertyName="name",this.comparator="like",this.filterValue=void 0}var t,r,a;return t=e,a=[{key:"getFilter",value:function(t){return new e(t)}}],(r=[{key:"on",value:function(e){return(0,n.checkDefined)(e,"Property name to filter on"),this.propertyName=e,this}},{key:"getQueryParamFormat",value:function(){return[this.propertyName,this.comparator,this.filterValue].join(":")}},{key:"operator",value:function(e,t){return(0,n.checkDefined)(e,"operator"),(0,n.checkDefined)(t,"filterValue"),this.comparator=e,this.filterValue=t,this.addFilterCallback(this)}}])&&i(t.prototype,r),a&&i(t,a),e}();Object.keys(a).forEach((function(e){Object.defineProperty(o.prototype,e,{value:function(t){return(0,n.checkDefined)(t,"filterValue"),this.comparator=a[e],this.filterValue=[a.in,a.notIn].includes(this.comparator)?"[".concat(t.join(","),"]"):t,this.addFilterCallback(this)}})}));var s=o;t.default=s},95443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(98579),a=r(1344),o=(n=r(49051))&&n.__esModule?n:{default:n};function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filters=r,this.modelDefinition=t,this.rootJunction=null}var t,r,n;return t=e,n=[{key:"getFilters",value:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])}}],(r=[{key:"on",value:function(e){var t=this.add.bind(this);return o.default.getFilter(t).on(e)}},{key:"add",value:function(e){if(!(0,i.isType)(e,o.default))throw new TypeError("filter should be an instance of Filter");return this.filters.push(e),this.modelDefinition}},{key:"list",value:function(){return this.modelDefinition.list()}},{key:"getQueryFilterValues",value:function(){return this.filters.map((function(e){return e.getQueryParamFormat()}))}},{key:"getFilters",value:function(){return this.getQueryFilterValues()}},{key:"getFilterList",value:function(){return this.filters.map(a.identity)}},{key:"logicMode",value:function(e){return(0,i.checkValidRootJunction)(e),this.rootJunction=e,this}}])&&s(t.prototype,r),n&&s(t,n),e}();t.default=l},87618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(98579),a=r(1344),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(26359)),s=(n=r(92669))&&n.__esModule?n:{default:n};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var p=(0,a.pickOr)("attributeValues",[]),m=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,c(t).call(this)),(0,i.checkType)(e,"object","modelDefinition"),(0,i.checkType)(e.modelProperties,"object","modelProperties"),Object.defineProperty(d(r),"modelDefinition",{value:e}),Object.defineProperty(d(r),"dirty",{writable:!0,value:!1}),Object.defineProperty(d(r),"dataValues",{configurable:!0,writable:!0,value:{}}),Object.defineProperties(d(r),e.modelProperties);var n={},a=e.attributeProperties;if((0,i.hasKeys)(a)){Object.defineProperty(d(r),"attributes",{value:n});var u=(0,s.default)(a,(function(){return p(d(r))}),(function(e){return r.attributeValues=e}),(function(){return r.dirty=!0}));Object.defineProperties(n,u)}return r[o.DIRTY_PROPERTY_LIST]=new Set([]),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),r=t,a=[{key:"create",value:function(e){return new t(e)}}],(n=null)&&u(r.prototype,n),a&&u(r,a),t}(o.default);t.default=m},26359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DIRTY_PROPERTY_LIST=void 0;var n,i=(n=r(31705))&&n.__esModule?n:{default:n},a=r(69563),o=r(27449);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=i.default.getModelValidation(),u=Symbol("List to keep track of dirty properties");t.DIRTY_PROPERTY_LIST=u;var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);Object.defineProperty(this,"modelDefinition",{writable:!0,value:{modelValidations:{}}})}var t,r,n;return t=e,r=[{key:"create",value:function(){var e=this;return this.validate().then((function(t){return t.status?e.modelDefinition.saveNew(e).then((function(t){return o.updateModelFromResponseStatus.call(e,t)})):Promise.reject(t)}))}},{key:"save",value:function(e){var t=this;return this.isDirty(e)?this.validate().then((function(e){return e.status?t.modelDefinition.save(t).then((function(e){return o.updateModelFromResponseStatus.call(t,e)})):Promise.reject(e)})):Promise.resolve({})}},{key:"validate",value:function(){var e=this;return new Promise((function(t,r){var n,i=[];function a(e,t){return t&&-1===e.indexOf(t)&&e.push(t),e}(n=e,l.validateAgainstSchema(n)).catch((function(e){return Array.isArray(e)?e:Promise.reject(e)})).then((function(e){i=i.concat(e);var r={status:0===e.length,fields:i.map((function(e){return e.property})).reduce(a,[]),messages:i};t(r)})).catch((function(e){return r(e)}))}))}},{key:"clone",value:function(){var e=this.modelDefinition.create((0,a.getJSONForProperties)(this,Object.keys(this.modelDefinition.modelValidations),!0));return this.isDirty()&&(e.dirty=this.isDirty(!0)),e}},{key:"delete",value:function(){return this.modelDefinition.delete(this)}},{key:"isDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.dirty||!0===e&&this.hasDirtyChildren()}},{key:"resetDirtyState",value:function(){return this.dirty=!1,this.getDirtyChildren().forEach((function(e){e.resetDirtyState?e.resetDirtyState():e.dirty=!1})),this[u].clear(),this}},{key:"getDirtyPropertyNames",value:function(){return Array.from(this[u].values())}},{key:"getCollectionChildren",value:function(){var e=this;return Object.keys(this).filter((function(t){return e[t]&&(0,o.hasModelValidationForProperty)(e,t)&&(0,o.pickOwnerFromModelValidation)(t,e)})).map((function(t){return e[t]}))}},{key:"getCollectionChildrenPropertyNames",value:function(){var e=this;return Object.keys(this).filter((function(t){return"COLLECTION"===(0,o.pickTypeFromModelValidation)(t,e)}))}},{key:"getReferenceProperties",value:function(){var e=this;return Object.keys(this).filter((function(t){return"REFERENCE"===(0,o.pickTypeFromModelValidation)(t,e)&&!1===(0,o.pickEmbeddedObjectFromModelValidation)(t,e)}))}},{key:"getEmbeddedObjectCollectionPropertyNames",value:function(){var e=this;return this.getCollectionChildrenPropertyNames().filter((function(t){return(0,o.pickEmbeddedObjectFromModelValidation)(t,e)}))}},{key:"getDirtyChildren",value:function(){return this.getCollectionChildren().filter((function(e){return e&&!0===e.dirty}))}},{key:"hasDirtyChildren",value:function(){return this.getDirtyChildren().length>0}},{key:"toJSON",value:function(){return(0,a.getJSONForProperties)(this,Object.keys(this.modelDefinition.modelValidations))}}],r&&s(t.prototype,r),n&&s(t,n),e}();t.default=c},42942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579),i=r(1344),a=l(r(87618)),o=l(r(61498)),s=l(r(7152));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){e&&e[Symbol.iterator]&&c(e).forEach((function(e){e instanceof a.default||(0,i.throwError)("Values of a ModelCollection must be instances of Model")}))}function h(e){e&&e[Symbol.iterator]&&c(e).forEach((function(e){(0,n.isValidUid)(e.id)||(0,i.throwError)("Can not add a Model without id to a ModelCollection")}))}var p=function(){function e(t,r,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.checkType)(t,o.default),this.modelDefinition=t,this.pager=new s.default(i,t),this.valuesContainerMap=new Map,this[Symbol.iterator]=this.valuesContainerMap[Symbol.iterator].bind(this.valuesContainerMap),d(r),h(r),(0,n.isArray)(r)&&r.forEach((function(e){return a.valuesContainerMap.set(e.id,e)}))}var t,r,i;return t=e,r=[{key:"add",value:function(e){return d([e]),h([e]),this.set(e.id,e),this}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"clear",value:function(){return this.valuesContainerMap.clear.call(this.valuesContainerMap)}},{key:"delete",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.valuesContainerMap.delete).call.apply(e,[this.valuesContainerMap].concat(r))}},{key:"entries",value:function(){return this.valuesContainerMap.entries.call(this.valuesContainerMap)}},{key:"forEach",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.valuesContainerMap.forEach).call.apply(e,[this.valuesContainerMap].concat(r))}},{key:"get",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.valuesContainerMap.get).call.apply(e,[this.valuesContainerMap].concat(r))}},{key:"has",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.valuesContainerMap.has).call.apply(e,[this.valuesContainerMap].concat(r))}},{key:"keys",value:function(){return this.valuesContainerMap.keys.call(this.valuesContainerMap)}},{key:"set",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.valuesContainerMap.set).call.apply(e,[this.valuesContainerMap].concat(r))}},{key:"values",value:function(){return this.valuesContainerMap.values.call(this.valuesContainerMap)}},{key:"size",get:function(){return this.valuesContainerMap.size}}],i=[{key:"create",value:function(t,r,n){return new e(t,r,n)}},{key:"throwIfContainsOtherThanModelObjects",value:function(e){return d(e)}},{key:"throwIfContainsModelWithoutUid",value:function(e){return h(e)}}],r&&u(t.prototype,r),i&&u(t,i),e}();t.default=p},99130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(16145)),i=a(r(42942));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,r){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},u(e,t,r||e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var h=function(e){function t(e,r,n,i,a){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=l(this,c(t).call(this,r,i,void 0))).propName=n,o.dirty=!1,o.added=new Set,o.removed=new Set,o.hasUnloadedData=!0===i||void 0===i,o.api=a,o.parentModel=e,o}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,a=[{key:"add",value:function(e){return this.valuesContainerMap.has(e.id)||(u(c(t.prototype),"add",this).call(this,e),this.removed.has(e.id)?this.removed.delete(e.id):this.added.add(e.id),this.updateDirty()),this}},{key:"remove",value:function(e){return i.default.throwIfContainsOtherThanModelObjects([e]),i.default.throwIfContainsModelWithoutUid([e]),this.delete(e.id)&&(this.added.has(e.id)?this.added.delete(e.id):this.removed.add(e.id)),this.updateDirty(),this}},{key:"updateDirty",value:function(){return this.dirty=this.added.size>0||this.removed.size>0,this.dirty}},{key:"resetDirtyState",value:function(){this.dirty=!1,this.added=new Set,this.removed=new Set}},{key:"isDirty",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.dirty:this.dirty||this.toArray().filter((function(e){return e&&!0===e.isDirty()})).length>0}},{key:"save",value:function(){var e=this;if(!this.isDirty())return Promise.resolve({});var t=[this.parentModel.href,this.modelDefinition.plural].join("/"),r={additions:Array.from(this.added).map((function(e){return{id:e}})),deletions:Array.from(this.removed).map((function(e){return{id:e}}))};return this.api.post(t,r).then((function(){return e.resetDirtyState(),Promise.resolve({})})).catch((function(e){return Promise.reject("Failed to alter collection:",e)}))}},{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasUnloadedData&&!r)return Promise.resolve(this);var n=[this.parentModel.modelDefinition.apiEndpoint,this.parentModel.id].join("/"),i=Object.assign({paging:!1},e,{fields:"".concat(this.propName,"[").concat(e&&e.fields||":all","]")});return this.api.get(n,i).then((function(e){return e[t.propName]})).then((function(e){return Array.isArray(e)&&(t.valuesContainerMap.clear(),e.forEach((function(e){return t.valuesContainerMap.set(e.id,t.modelDefinition.create(e))}))),t.hasUnloadedData=!1,Promise.resolve(t)}))}}],o=[{key:"create",value:function(e,r,i,a){return new t(e,r,i,a,n.default.getApi())}}],a&&s(r.prototype,a),o&&s(r,o),t}(i.default);t.default=h},61498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579),i=r(1344),a=m(r(98706)),o=m(r(87618)),s=m(r(42942)),l=m(r(99130)),u=m(r(90038)),c=m(r(95443)),d=r(26359),h=r(74451),p=r(69563);function m(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t,r){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},g(e,t,r||e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function x(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,r){return t&&T(e.prototype,t),r&&T(e,r),e}function k(e,t){var r=t.collection?t.collectionName:t.name,i={configurable:!1,enumerable:!0,get:function(){return this.dataValues[r]}};t.constants&&(i.constants=t.constants),t.writable&&(i.set=function(e){(!(0,n.isObject)(e)&&e!==this.dataValues[r]||(0,n.isObject)(e))&&(this.dirty=!0,this[d.DIRTY_PROPERTY_LIST].add(r),this.dataValues[r]=e)}),r&&(e[r]=i)}function C(e,t){var r=t.collection?t.collectionName:t.name,n={persisted:t.persisted,type:u.default.typeLookup(t.propertyType),required:t.required,min:t.min,max:t.max,owner:t.owner,unique:t.unique,writable:t.writable,ordered:Boolean(t.ordered),embeddedObject:Boolean(t.embeddedObject)};("REFERENCE"===n.type||"COLLECTION"===n.type&&"REFERENCE"===t.itemPropertyType)&&(n.referenceType=function(e){if(e.href)return e.href.split("/").pop()}(t)),r&&(e[r]=n)}function L(e,t){return function(r){return e&&t&&e.modelDefinition&&e.modelDefinition.modelValidations&&e.modelDefinition.modelValidations[r]&&"COLLECTION"===e.modelDefinition.modelValidations[r].type&&t.hasOwnProperty(e.modelDefinition.modelValidations[r].referenceType)}}var N=new WeakMap,A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;w(this,e),(0,n.checkType)(t.singular,"string"),(0,n.checkType)(t.plural,"string","Plural"),(0,i.addLockedProperty)(this,"name",t.singular),(0,i.addLockedProperty)(this,"displayName",t.displayName),(0,i.addLockedProperty)(this,"plural",t.plural),(0,i.addLockedProperty)(this,"isShareable",t.shareable||!1),(0,i.addLockedProperty)(this,"isMetaData",t.metadata||!1),(0,i.addLockedProperty)(this,"apiEndpoint",t.apiEndpoint),(0,i.addLockedProperty)(this,"javaClass",t.klass),(0,i.addLockedProperty)(this,"identifiableObject",t&&t.identifiableObject),(0,i.addLockedProperty)(this,"modelProperties",r),(0,i.addLockedProperty)(this,"modelValidations",a),(0,i.addLockedProperty)(this,"attributeProperties",o),(0,i.addLockedProperty)(this,"authorities",s),(0,i.addLockedProperty)(this,"translatable",t.translatable||!1),this.filters=c.default.getFilters(this),N.set(this,(t.properties||[]).filter((function(e){return e.translationKey})).map((function(e){return{name:e.name,translationKey:e.translationKey}}))),this.getOwnedPropertyJSON=p.getOwnedPropertyJSON.bind(this)}return S(e,[{key:"filter",value:function(){return this.clone().filters}},{key:"create",value:function(e){var t=o.default.create(this),r=a.default.getModelDefinitions(),n=e?Object.assign({},e):(0,h.getDefaultValuesForModelType)(t.modelDefinition.name);return Object.keys(t).filter(L(t,r)).forEach((function(e){var i=t.modelDefinition.modelValidations[e].referenceType,a=[];Array.isArray(n[e])?a=n[e].map((function(e){return r[i].create(e)})):!0!==n[e]&&void 0!==n[e]||(a=n[e]),n[e]=l.default.create(t,r[i],e,a),t.dataValues[e]=n[e]})),Object.keys(t).filter((function(e){return!L(t,r)(e)})).forEach((function(e){t.dataValues[e]=n[e]})),t}},{key:"clone",value:function(){var e=Object.getPrototypeOf(this),t=this.filters.getFilterList(),r=(0,i.copyOwnProperties)(Object.create(e),this);return r.filters=c.default.getFilters(r,t),r}},{key:"get",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fields:":all,attributeValues[:all,attribute[id,name,displayName]]"};return(0,n.checkDefined)(e,"Identifier"),Array.isArray(e)?this.list({filter:["id:in:[".concat(e.join(","),"]")]}):this.api.get([this.apiEndpoint,e].join("/"),r).then((function(e){return t.create(e)})).catch((function(e){return e.message?Promise.reject(e.message):Promise.reject(e)}))}},{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.apiEndpoint,i=x(t,["apiEndpoint"]),a=this.filters.rootJunction?{rootJunction:this.filters.rootJunction}:{},o=Object.assign({fields:":all"},a,i),l=this.filters.getQueryFilterValues();return(0,n.isDefined)(o.filter)||(delete o.filter,l.length&&(o.filter=l)),this.api.get(r||this.apiEndpoint,o).then((function(t){return s.default.create(e,t[e.plural].map((function(t){return e.create(t)})),Object.assign(t.pager||{},{query:o}))}))}},{key:"save",value:function(e){if(Boolean(e.id)){var t=p.getOwnedPropertyJSON.bind(this)(e),r=e.dataValues.href?(0,i.updateAPIUrlWithBaseUrlVersionNumber)(e.dataValues.href,this.api.baseUrl):[e.modelDefinition.apiEndpoint,e.dataValues.id].join("/");return this.api.update(r,t,!0)}return this.saveNew(e)}},{key:"saveNew",value:function(e){var t=p.getOwnedPropertyJSON.bind(this)(e);return this.api.post(this.apiEndpoint,t)}},{key:"getOwnedPropertyNames",value:function(){var e=this;return Object.keys(this.modelValidations).filter((function(t){return e.modelValidations[t].owner}))}},{key:"delete",value:function(e){return e.dataValues.href?this.api.delete(e.dataValues.href):this.api.delete([e.modelDefinition.apiEndpoint,e.dataValues.id].join("/"))}},{key:"isTranslatable",value:function(){return this.translatable}},{key:"getTranslatableProperties",value:function(){return N.get(this).map((0,i.pick)("name"))}},{key:"getTranslatablePropertiesWithKeys",value:function(){return N.get(this)}}],[{key:"createFromSchema",value:function(t){var r,a,o,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,n.checkType)(t,Object,"Schema"),r="function"==typeof e.specialClasses[t.singular]?e.specialClasses[t.singular]:e,Object.freeze(new r(t,Object.freeze((a=t.properties,o={},s=(0,i.curry)(k,o),(a||[]).forEach(s),o)),Object.freeze(function(e){var t={},r=(0,i.curry)(C,t);return(e||[]).forEach(r),t}(t.properties)),l.reduce((function(e,t){return e[t.name]=t,e}),{}),t.authorities))}}]),e}(),O=function(e){function t(){return w(this,t),y(this,v(t).apply(this,arguments))}return _(t,e),S(t,[{key:"get",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fields:":all,userCredentials[:owner]"};return g(v(t.prototype),"get",this).call(this,e,r)}}]),t}(A),E=function(e){function t(){return w(this,t),y(this,v(t).apply(this,arguments))}return _(t,e),S(t,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Boolean(Object.keys(e).length),n=Object.keys(e).filter((function(e){return"compulsoryDataElementOperands"!==e})).reduce((function(t,r){return t[r]=e[r],t}),{}),i=g(v(t.prototype),"create",this).call(this,r?n:void 0);return i.dataValues.compulsoryDataElementOperands=e.compulsoryDataElementOperands,i}}]),t}(A),P=function(e){function t(){return w(this,t),y(this,v(t).apply(this,arguments))}return _(t,e),S(t,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.root,n=x(e,["root"]);return e.hasOwnProperty("root")&&r&&(n.apiEndpoint="".concat(this.apiEndpoint,"/").concat(r)),g(v(t.prototype),"list",this).call(this,n)}}]),t}(A);A.specialClasses={user:O,dataSet:E,organisationUnit:P};var M=A;t.default=M},98706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,(r=[{key:"add",value:function(e){try{(0,n.checkType)(e.name,"string")}catch(e){throw new Error("Name should be set on the passed ModelDefinition to add one")}if(this[e.name])throw new Error(["Model",e.name,"already exists"].join(" "));this[e.name]=e,(0,n.isType)(e.plural,"string")&&(this[e.plural]=e)}},{key:"mapThroughDefinitions",value:function(e){var t=this;return(0,n.checkType)(e,"function","transformer"),Object.keys(this).filter((function(e){return t.hasOwnProperty(e)&&!(t[e].plural===e)})).map((function(r){return e(t[r])}))}}])&&i(t.prototype,r),a&&i(t,a),e}();a.getModelDefinitions=function e(){return e.modelDefinitions?e.modelDefinitions:e.modelDefinitions=new a};var o=a;t.default=o},31705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579),i=s(r(26585)),a=s(r(16145)),o=r(69563);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){if(e.response&&e.response.errorReports)return e.response.errorReports;throw new Error("Response was not a WebMessage with the expected format")}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,n.checkType)(t,"object","logger (Logger)"),this.logger=t}var t,r,s;return t=e,s=[{key:"getModelValidation",value:function(){return this.modelValidation?this.modelValidation:this.modelValidation=new e(i.default.getLogger(console))}}],(r=[{key:"validate",value:function(){throw this.logger.warn("Client side model validation is deprecated"),new Error("Client side model validation is deprecated")}},{key:"validateAgainstSchema",value:function(e){if(!(e&&e.modelDefinition&&e.modelDefinition.name))return Promise.reject("model.modelDefinition.name can not be found");var t="schemas/".concat(e.modelDefinition.name);return a.default.getApi().post(t,(0,o.getOwnedPropertyJSON)(e)).then((function(e){return"OK"===e.status?[]:Promise.reject(e)})).catch(u)}}])&&l(t.prototype,r),s&&l(t,s),e}();t.default=c},74451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultValuesForModelType=function(e){if(f.has(e))return f.get(e);return{}},t.fieldsForSchemas=t.defaultValues=void 0;var n=m(r(67496)),i=m(r(70967)),a=m(r(36346)),o=m(r(57984)),s=m(r(21549)),l=m(r(87488)),u=m(r(99613)),c=m(r(29176)),d=m(r(42393)),h=m(r(84122)),p=m(r(96839));function m(e){return e&&e.__esModule?e:{default:e}}var f=new Map([["organisationUnitGroupSet",n.default],["category",i.default],["categoryOptionGroupSet",a.default],["dataElement",o.default],["dataElementGroupSet",s.default],["dataSet",l.default],["externalMapLayer",u.default],["validationNotificationTemplate",c.default],["validationRule",d.default],["program",h.default],["programNotificationTemplate",p.default]]);t.defaultValues=f;var y=["apiEndpoint","name","displayName","authorities","singular","plural","shareable","metadata","klass","identifiableObject","translatable"].concat("properties[".concat(["href","writable","collection","collectionName","name","propertyType","persisted","required","min","max","ordered","unique","constants","owner","itemPropertyType","translationKey","embeddedObject"].join(","),"]")).join(",");t.fieldsForSchemas=y},70967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={dataDimension:!0}},36346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={dataDimension:!0}},57984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={aggregationType:"SUM",valueType:"NUMBER"}},21549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={dataDimension:!0}},87488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={expiryDays:0,openFuturePeriods:0,timelyDays:15,periodType:"Monthly"}},99613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={mapService:"WMS",imageFormat:"PNG",mapLayerPosition:"BASEMAP"}},67496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={dataDimension:!0}},84122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={version:0,completeEventsExpiryDays:0,expiryDays:0}},96839:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={notificationTrigger:"COMPLETION",notificationRecipient:"USERS_AT_ORGANISATION_UNIT"}},29176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={notificationRecipient:"ORGANISATION_UNIT_CONTACT",deliveryChannels:[],notifyUsersInHierarchyOnly:!1}},42393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={importance:"MEDIUM",periodType:"Monthly",operator:"not_equal_to",leftSide:{missingValueStrategy:"NEVER_SKIP",description:"",expression:""},rightSide:{missingValueStrategy:"NEVER_SKIP",description:"",expression:""}}},92669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579),i=r(1344),a=(0,i.pick)("value"),o=(0,i.pick)("attribute.name");var s=function(e,t,r,i){return Object.keys(e).reduce((function(s,l){return s[l]={enumerable:!0,get:function(){return t().filter((function(e){return o(e)===l})).reduce((function(e,t){return t.value}),void 0)},set:function(o){var s=t().filter((function(e){return e.attribute.name===l})).reduce((function(e,t){return t}),void 0);if(!(0,n.areDefinedAndEqual)(a(s),o)){if(s){if((0,n.isNullUndefinedOrEmptyString)(o)){var u=t().filter((function(e){return e!==s}));r(u)}s.value=o}else r(t().concat({value:o,attribute:{id:e[l].id,name:e[l].name}}));i()}}},s}),{})};t.default=s},69563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONForProperties=u,t.getOwnedPropertyJSON=function(e){var t=e.modelDefinition.getOwnedPropertyNames();return u(e,t)};var n=r(98579),i=r(1344),a={aggregationLevels:["dataElement"],grantTypes:["oAuth2Client"],translations:[],deliveryChannels:["programNotificationTemplate","dataSetNotificationTemplate"],redirectUris:["oAuth2Client"],organisationUnitLevels:["validationRule"],favorites:[],columns:[],rows:[],filters:[],yearlySeries:[],interpretations:["chart"],userGroupAccesses:[],userAccesses:[]},o=function(e,t){var r=a[e];return!!r&&((0,n.contains)(t,r)||(0,n.isEmpty)(r))};function s(e){return function(t){return-1===e.indexOf(t)}}function l(e){return function(t){return e.indexOf(t)>=0}}function u(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u={},c=e.getCollectionChildrenPropertyNames().filter((function(e){return"attributeValues"!==e})),d=Object.keys(e.modelDefinition.modelValidations).filter((function(e){return t.indexOf(e)>=0})).filter((function(t){return void 0!==e.dataValues[t]&&null!==e.dataValues[t]}));return d.filter(s(c)).filter((function(t){return!l(e.getReferenceProperties())(t)})).forEach((function(t){u[t]=e.dataValues[t]})),d.filter(s(c)).filter(l(e.getReferenceProperties())).forEach((function(t){u[t]={id:e.dataValues[t].id}})),d.filter((r=c,function(e){return!s(r)(e)})).forEach((function(t){if(o(t,e.modelDefinition.name))u[t]=Array.from(e.dataValues[t]);else{var r=Array.isArray(e.dataValues[t])?e.dataValues[t]:Array.from(e.dataValues[t].values());-1===e.getEmbeddedObjectCollectionPropertyNames().indexOf(t)?u[t]=r.filter((0,i.pick)("id")).map((function(e){return a&&(0,n.isFunction)(e.clone)?e.clone():{id:e.id}})):u[t]=r}})),u}},27449:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasModelValidationForProperty=function(e,t){return Boolean(o(t,e)&&(0,i.hasOwnProperty)(e.modelDefinition.modelValidations,t))},t.updateModelFromResponseStatus=function(e){var t=l(e);"Created"===s(e)&&(0,n.isValidUid)(t)&&(this.dataValues.id=t,this.dataValues.href=[this.modelDefinition.apiEndpoint,this.dataValues.id].join("/"));return this.resetDirtyState(),e},t.pickOwnerFromModelValidation=t.pickEmbeddedObjectFromModelValidation=t.pickTypeFromModelValidation=void 0;var n=r(43933),i=r(98579),a=r(1344),o=function(e,t){return Boolean((0,a.pick)("modelDefinition.modelValidations.".concat(e))(t))};var s=(0,a.pick)("httpStatus"),l=(0,a.pick)("response.uid"),u=function(e){return(0,a.pick)("modelDefinition.modelValidations.".concat(e))},c=(0,a.pick)("type"),d=(0,a.pick)("embeddedObject"),h=(0,a.pick)("owner");t.pickTypeFromModelValidation=function(e,t){return c(u(e)(t))};t.pickEmbeddedObjectFromModelValidation=function(e,t){return d(u(e)(t))};t.pickOwnerFromModelValidation=function(e,t){return h(u(e)(t))}},34286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(26359)),i=l(r(87618)),a=l(r(61498)),o=l(r(98706)),s=l(r(31705));function l(e){return e&&e.__esModule?e:{default:e}}var u={ModelBase:n.default,Model:i.default,ModelDefinition:a.default,ModelDefinitions:o.default,ModelValidation:s.default};t.default=u},7152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(98579);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,pageCount:1,query:{}},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{list:function(){return Promise.reject("No handler available")}};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.page=t.page,this.pageCount=t.pageCount,this.total=t.total,this.nextPage=t.nextPage,this.prevPage=t.prevPage,this.query=t.query,this.pagingHandler=r}var t,r,a;return t=e,(r=[{key:"hasNextPage",value:function(){return(0,n.isDefined)(this.nextPage)}},{key:"hasPreviousPage",value:function(){return(0,n.isDefined)(this.prevPage)}},{key:"getNextPage",value:function(){return this.hasNextPage()?this.goToPage(this.page+1):Promise.reject("There is no next page for this collection")}},{key:"getPreviousPage",value:function(){return this.hasPreviousPage()?this.goToPage(this.page-1):Promise.reject("There is no previous page for this collection")}},{key:"goToPage",value:function(e){if(e<1)throw new Error("PageNr can not be less than 1");if(e>this.pageCount)throw new Error("PageNr can not be larger than the total page count of ".concat(this.pageCount));return this.pagingHandler.list(Object.assign({},this.query,{page:e}))}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},89156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(16145)),i=o(r(13549)),a=o(r(91310));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.configuration=r,this.systemInfo=void 0,this.version=void 0,this.installedApps=void 0}var t,r,o;return t=e,r=[{key:"setSystemInfo",value:function(t){this.version=e.parseVersionString(t.version),this.systemInfo=t}},{key:"setInstalledApps",value:function(e){this.installedApps=e}},{key:"loadInstalledApps",value:function(){var e=this;return n.default.getApi().get("apps").then((function(t){return e.setInstalledApps(t),t}))}},{key:"uploadApp",value:function(e,t){var r,i=n.default.getApi(),a=new FormData;return a.append("file",e),void 0!==t&&((r=new XMLHttpRequest).upload.onprogress=function(e){e.lengthComputable&&t(e.loaded/e.total)}),i.post("apps",a,{contentType:!1,processData:!1,xhr:void 0!==r?function(){return r}:void 0})}},{key:"loadAppStore",value:function(){var t=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(i,a){n.default.getApi().get("appStore").then((function(n){return i(n.map((function(n){var i=Object.assign({},n);return r&&(i.versions=i.versions.filter((function(r){return e.isVersionCompatible(t.version,r)}))),i})).filter((function(e){return e.versions.length>0})))})).catch((function(e){return a(e)}))}))}},{key:"installAppVersion",value:function(e){var t=n.default.getApi();return new Promise((function(r,n){t.post(["appStore",e].join("/"),"",{dataType:"text"}).then((function(){r()})).catch((function(e){n(e)}))}))}},{key:"uninstallApp",value:function(e){return n.default.getApi().delete(["apps",e].join("/")).catch((function(){}))}},{key:"reloadApps",value:function(){var e=this;return n.default.getApi().update("apps").then((function(){return e.loadInstalledApps()}))}}],o=[{key:"parseVersionString",value:function(e){return{major:Number.parseInt(e,10),minor:Number.parseInt(e.substring(e.indexOf(".")+1),10),snapshot:e.indexOf("-SNAPSHOT")>=0}}},{key:"compareVersions",value:function(t,r){var n="string"==typeof t||t instanceof String?e.parseVersionString(t):t,i="string"==typeof r||r instanceof String?e.parseVersionString(r):r;return n.major!==i.major?n.major-i.major:n.minor!==i.minor?n.minor-i.minor:(n.snapshot?0:1)-(i.snapshot?0:1)}},{key:"isVersionCompatible",value:function(t,r){var n=r.minDhisVersion||r.min_platform_version||null,i=r.maxDhisVersion||r.max_platform_version||null,a=!n||e.compareVersions(t,n)>=0,o=!i||e.compareVersions(t,i)<=0;return a&&o}},{key:"getSystem",value:function(){return e.getSystem.system||(e.getSystem.system=new e(new i.default,new a.default)),e.getSystem.system}}],r&&s(t.prototype,r),o&&s(t,o),e}();t.default=l},91310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(16145))&&n.__esModule?n:{default:n};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.getApi();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.configuration=void 0,this.configPromise=null}var t,r,n;return t=e,(r=[{key:"all",value:function(e){var t=this;return null!==this.configPromise&&!0!==e||(this.configPromise=this.api.get("configuration").then((function(e){return t.configuration=e,t.configuration}))),this.configPromise}},{key:"get",value:function(e,t){return this.all(t).then((function(t){return t.hasOwnProperty(e)?Promise.resolve(t[e]):Promise.reject("Unknown config option: ".concat(e))}))}},{key:"set",value:function(e,t){var r=this;return"systemId"===e?Promise.reject("The system ID can't be changed"):("feedbackRecipients"!==e&&"selfRegistrationOrgUnit"!==e&&"selfRegistrationRole"!==e||"null"!==t&&null!==t?"corsWhitelist"===e?this.api.post(["configuration",e].join("/"),t.trim().split("\n")):this.api.post(["configuration",e].join("/"),t,{dataType:"text",contentType:"text/plain"}):this.api.delete(["configuration",e].join("/"))).then((function(){return r.configuration=void 0,Promise.resolve()})).catch((function(){return Promise.reject("No configuration found for ".concat(e))}))}}])&&a(t.prototype,r),n&&a(t,n),e}();t.default=o},13549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(98579),a=(n=r(16145))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.getApi();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}var t,r,n;return t=e,(r=[{key:"all",value:function(){var e=this;return this.settings?Promise.resolve(this.settings):this.api.get("systemSettings").then((function(t){return e.settings=t,Promise.resolve(e.settings)}))}},{key:"get",value:function(e){var t=this;return this.settings&&this.settings[e]?Promise.resolve(this.settings[e]):new Promise((function(r,n){if(!(0,i.isString)(e))throw new TypeError('A "key" parameter should be specified when calling get() on systemSettings');t.api.get(["systemSettings",e].join("/"),void 0,{headers:{accept:"text/plain"}}).then((function(e){e&&r(function(e){try{return JSON.parse(e)}catch(t){return e}}(e)),n(new Error("The requested systemSetting has no value or does not exist."))}))}))}},{key:"set",value:function(e,t){var r=this,n=["systemSettings",e].join("/");return null===t||0==="".concat(t).length?this.api.delete(n).then((function(t){return r.settings&&r.settings[e]&&delete r.settings[e],t})):this.api.post(n,t,{headers:{"Content-Type":"text/plain"}}).then((function(n){return r.settings&&(r.settings[e]=t),n}))}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},43933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUid=function(){for(var e=n.charAt(l(n.length)),t=1;t<o;t+=1)e+=i.charAt(l(a));return e},t.isValidUid=function(e){if(null==e)return!1;return s.test(e)};var r="abcdefghijklmnopqrstuvwxyz",n=r.concat(r.toUpperCase()),i="0123456789".concat(n),a=i.length,o=11,s=/^[a-zA-Z]{1}[a-zA-Z0-9]{10}$/;function l(e){return Math.floor(Math.random()*e)}},60984:function(e,t){var r,n,i;n=[t,e],r=function(e,t){"use strict";var r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function i(e){try{delete window[e]}catch(t){window[e]=void 0}}function a(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,s=t.timeout||r.timeout,l=t.jsonpCallback||r.jsonpCallback,u=void 0;return new Promise((function(r,c){var d=t.jsonpCallbackFunction||n(),h=l+"_"+d;window[d]=function(e){r({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),a(h),i(d)},o+=-1===o.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+o+l+"="+d),t.charset&&p.setAttribute("charset",t.charset),t.nonce&&p.setAttribute("nonce",t.nonce),t.referrerPolicy&&p.setAttribute("referrerPolicy",t.referrerPolicy),p.id=h,document.getElementsByTagName("head")[0].appendChild(p),u=setTimeout((function(){c(new Error("JSONP request to "+e+" timed out")),i(d),a(h),window[d]=function(){i(d)}}),s),p.onerror=function(){c(new Error("JSONP request to "+e+" failed")),i(d),a(h),u&&clearTimeout(u)}}))}t.exports=o},void 0===(i="function"==typeof r?r.apply(t,n):r)||(e.exports=i)},55854:e=>{var t;t={},e.exports=t,t.simpleFilter=function(e,r){return r.filter((function(r){return t.test(e,r)}))},t.test=function(e,r){return null!==t.match(e,r)},t.match=function(e,t,r){r=r||{};var n,i=0,a=[],o=t.length,s=0,l=0,u=r.pre||"",c=r.post||"",d=r.caseSensitive&&t||t.toLowerCase();e=r.caseSensitive&&e||e.toLowerCase();for(var h=0;h<o;h++)n=t[h],d[h]===e[i]?(n=u+n+c,i+=1,l+=1+l):l=0,s+=l,a[a.length]=n;return i===e.length?(s=d===e?1/0:s,{rendered:a.join(""),score:s}):null},t.filter=function(e,r,n){return r&&0!==r.length?"string"!=typeof e?r:(n=n||{},r.reduce((function(r,i,a,o){var s=i;n.extract&&(s=n.extract(i));var l=t.match(e,s,n);return null!=l&&(r[r.length]={string:l.rendered,score:l.score,index:a,original:i}),r}),[]).sort((function(e,t){var r=t.score-e.score;return r||e.index-t.index}))):[]}},47536:(e,t,r)=>{"use strict";var n=r(9419),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var i=p(r);i&&i!==m&&e(t,i,n)}var o=c(r);d&&(o=o.concat(d(r)));for(var s=l(t),f=l(r),y=0;y<o.length;++y){var g=o[y];if(!(a[g]||n&&n[g]||f&&f[g]||s&&s[g])){var v=h(r,g);try{u(t,g,v)}catch(e){}}}}return t}},24502:(e,t,r)=>{r(9755),e.exports=self.fetch.bind(self)},41579:(e,t,r)=>{var n="Expected a function",i=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),m=Object.prototype.toString,f=Math.max,y=Math.min,g=function(){return p.Date.now()};function v(e,t,r){var i,a,o,s,l,u,c=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function m(t){var r=i,n=a;return i=a=void 0,c=t,s=e.apply(n,r)}function v(e){var r=e-u;return void 0===u||r>=t||r<0||h&&e-c>=o}function x(){var e=g();if(v(e))return w(e);l=setTimeout(x,function(e){var r=t-(e-u);return h?y(r,o-(e-c)):r}(e))}function w(e){return l=void 0,p&&i?m(e):(i=a=void 0,s)}function T(){var e=g(),r=v(e);if(i=arguments,a=this,u=e,r){if(void 0===l)return function(e){return c=e,l=setTimeout(x,t),d?m(e):s}(u);if(h)return l=setTimeout(x,t),m(u)}return void 0===l&&(l=setTimeout(x,t)),s}return t=b(t)||0,_(r)&&(d=!!r.leading,o=(h="maxWait"in r)?f(b(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=u=a=l=void 0},T.flush=function(){return void 0===l?s:w(g())},T}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&m.call(e)==a}(e))return i;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?i:+e}e.exports=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(n);return _(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),v(e,t,{leading:i,maxWait:t,trailing:a})}},54135:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},56126:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},26953:(e,t,r)=>{var n=r(17915),i=r(79497)(n);e.exports=i},39048:e=>{e.exports=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},97593:(e,t,r)=>{var n=r(79401),i=r(53848);e.exports=function e(t,r,a,o,s){var l=-1,u=t.length;for(a||(a=i),s||(s=[]);++l<u;){var c=t[l];r>0&&a(c)?r>1?e(c,r-1,a,o,s):n(s,c):o||(s[s.length]=c)}return s}},6634:(e,t,r)=>{var n=r(65579)();e.exports=n},17915:(e,t,r)=>{var n=r(6634),i=r(19578);e.exports=function(e,t){return e&&n(e,t,i)}},89624:(e,t,r)=>{var n=r(27604),i=r(9997);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},17850:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},74763:(e,t,r)=>{var n=r(322),i=r(56836),a=1,o=2;e.exports=function(e,t,r,s){var l=r.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var d=r[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){var h=(d=r[l])[0],p=e[h],m=d[1];if(c&&d[2]){if(void 0===p&&!(h in e))return!1}else{var f=new n;if(s)var y=s(p,m,h,e,t,f);if(!(void 0===y?i(m,p,a|o,s,f):y))return!1}}return!0}},78041:(e,t,r)=>{var n=r(14577),i=r(33964),a=r(53924),o=r(39190),s=r(3526);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},95724:(e,t,r)=>{var n=r(26953),i=r(18750);e.exports=function(e,t){var r=-1,a=i(e)?Array(e.length):[];return n(e,(function(e,n,i){a[++r]=t(e,n,i)})),a}},14577:(e,t,r)=>{var n=r(74763),i=r(3854),a=r(72223);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},33964:(e,t,r)=>{var n=r(56836),i=r(56819),a=r(46682),o=r(10235),s=r(70283),l=r(72223),u=r(9997),c=1,d=2;e.exports=function(e,t){return o(e)&&s(t)?l(u(e),t):function(r){var o=i(r,e);return void 0===o&&o===t?a(r,e):n(t,o,c|d)}}},59962:(e,t,r)=>{var n=r(56126),i=r(89624),a=r(78041),o=r(95724),s=r(33825),l=r(49017),u=r(42788),c=r(53924),d=r(39190);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var h=-1;t=n(t,l(a));var p=o(e,(function(e,r,i){return{criteria:n(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return u(e,t,r)}))}},19553:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},64651:(e,t,r)=>{var n=r(89624);e.exports=function(e){return function(t){return n(t,e)}}},80790:(e,t,r)=>{var n=r(53924),i=r(31091),a=r(77881);e.exports=function(e,t){return a(i(e,t,n),e+"")}},89075:(e,t,r)=>{var n=r(64578),i=r(80176),a=r(53924),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},33825:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},17736:(e,t,r)=>{var n=r(37909),i=r(56126),a=r(39190),o=r(39981),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},27604:(e,t,r)=>{var n=r(39190),i=r(10235),a=r(9310),o=r(80106);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},64257:(e,t,r)=>{var n=r(39981);e.exports=function(e,t){if(e!==t){var r=void 0!==e,i=null===e,a=e==e,o=n(e),s=void 0!==t,l=null===t,u=t==t,c=n(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&e<t||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}},42788:(e,t,r)=>{var n=r(64257);e.exports=function(e,t,r){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++i<s;){var u=n(a[i],o[i]);if(u)return i>=l?u:u*("desc"==r[i]?-1:1)}return e.index-t.index}},79497:(e,t,r)=>{var n=r(18750);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var a=r.length,o=t?a:-1,s=Object(r);(t?o--:++o<a)&&!1!==i(s[o],o,s););return r}}},65579:e=>{e.exports=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}}},80176:(e,t,r)=>{var n=r(41621),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},3854:(e,t,r)=>{var n=r(70283),i=r(19578);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var a=t[r],o=e[a];t[r]=[a,o,n(o)]}return t}},92178:(e,t,r)=>{var n=r(27604),i=r(93792),a=r(39190),o=r(25921),s=r(22241),l=r(9997);e.exports=function(e,t,r){for(var u=-1,c=(t=n(t,e)).length,d=!1;++u<c;){var h=l(t[u]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&o(h,c)&&(a(e)||i(e))}},53848:(e,t,r)=>{var n=r(37909),i=r(93792),a=r(39190),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},80339:(e,t,r)=>{var n=r(89217),i=r(18750),a=r(25921),o=r(25836);e.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&a(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},10235:(e,t,r)=>{var n=r(39190),i=r(39981),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},70283:(e,t,r)=>{var n=r(25836);e.exports=function(e){return e==e&&!n(e)}},72223:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},89532:(e,t,r)=>{var n=r(36412),i=500;e.exports=function(e){var t=n(e,(function(e){return r.size===i&&r.clear(),e})),r=t.cache;return t}},31091:(e,t,r)=>{var n=r(54135),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=r(l),n(e,this,u)}}},77881:(e,t,r)=>{var n=r(89075),i=r(34696)(n);e.exports=i},34696:e=>{var t=800,r=16,n=Date.now;e.exports=function(e){var i=0,a=0;return function(){var o=n(),s=r-(o-a);if(a=o,s>0){if(++i>=t)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},9310:(e,t,r)=>{var n=r(89532),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)})),t}));e.exports=o},9997:(e,t,r)=>{var n=r(39981),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},64578:e=>{e.exports=function(e){return function(){return e}}},1051:(e,t,r)=>{var n=r(39048),i=r(78041),a=r(57550),o=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:a(r);return l<0&&(l=o(s+l,0)),n(e,i(t,3),l)}},91982:(e,t,r)=>{var n=r(9505).runInContext();e.exports=r(41737)(n,n)},41737:(e,t,r)=>{var n=r(47560),i=r(13996),a=Array.prototype.push;function o(e,t){return 2==t?function(t,r){return e(t,r)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function l(e,t){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var i=n[0]=t.apply(void 0,n);return e.apply(void 0,n),i}}}e.exports=function e(t,r,u,c){var d="function"==typeof r,h=r===Object(r);if(h&&(c=u,u=r,r=void 0),null==u)throw new TypeError;c||(c={});var p={cap:!("cap"in c)||c.cap,curry:!("curry"in c)||c.curry,fixed:!("fixed"in c)||c.fixed,immutable:!("immutable"in c)||c.immutable,rearg:!("rearg"in c)||c.rearg},m=d?u:i,f="curry"in c&&c.curry,y="fixed"in c&&c.fixed,g="rearg"in c&&c.rearg,v=d?u.runInContext():void 0,_=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},b=_.ary,x=_.assign,w=_.clone,T=_.curry,S=_.forEach,k=_.isArray,C=_.isError,L=_.isFunction,N=_.isWeakMap,A=_.keys,O=_.rearg,E=_.toInteger,P=_.toPath,M=A(n.aryMethod),I={castArray:function(e){return function(){var t=arguments[0];return k(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],r=e(arguments[0],t),n=r.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,n&&n<=t?r:o(r,t)):r}},mixin:function(e){return function(t){var r=this;if(!L(r))return e(r,Object(t));var n=[];return S(A(t),(function(e){L(t[e])&&n.push([e,r.prototype[e]])})),e(r,Object(t)),S(n,(function(e){var t=e[1];L(t)?r.prototype[e[0]]=t:delete r.prototype[e[0]]})),r}},nthArg:function(e){return function(t){var r=t<0?1:E(t)+1;return T(e(t),r)}},rearg:function(e){return function(t,r){var n=r?r.length:0;return T(e(t,r),n)}},runInContext:function(r){return function(n){return e(t,r(n),c)}}};function D(e,t){if(p.cap){var r=n.iterateeRearg[e];if(r)return function(e,t){return j(e,(function(e){var r=t.length;return function(e,t){return 2==t?function(t,r){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(O(o(e,r),t),r)}))}(t,r);var i=!d&&n.iterateeAry[e];if(i)return function(e,t){return j(e,(function(e){return"function"==typeof e?o(e,t):e}))}(t,i)}return t}function z(e,t,r){if(p.fixed&&(y||!n.skipFixed[e])){var i=n.methodSpread[e],o=i&&i.start;return void 0===o?b(t,r):function(e,t){return function(){for(var r=arguments.length,n=r-1,i=Array(r);r--;)i[r]=arguments[r];var o=i[t],s=i.slice(0,t);return o&&a.apply(s,o),t!=n&&a.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,o)}return t}function R(e,t,r){return p.rearg&&r>1&&(g||!n.skipRearg[e])?O(t,n.methodRearg[e]||n.aryRearg[r]):t}function F(e,t){for(var r=-1,n=(t=P(t)).length,i=n-1,a=w(Object(e)),o=a;null!=o&&++r<n;){var s=t[r],l=o[s];null==l||L(l)||C(l)||N(l)||(o[s]=w(r==i?l:Object(l))),o=o[s]}return a}function B(t,r){var i=n.aliasToReal[t]||t,a=n.remap[i]||i,o=c;return function(t){var n=d?v:_,s=d?v[a]:r,l=x(x({},o),t);return e(n,i,s,l)}}function j(e,t){return function(){var r=arguments.length;if(!r)return e();for(var n=Array(r);r--;)n[r]=arguments[r];var i=p.rearg?0:r-1;return n[i]=t(n[i]),e.apply(void 0,n)}}function U(e,t,r){var i,a=n.aliasToReal[e]||e,o=t,u=I[a];return u?o=u(t):p.immutable&&(n.mutate.array[a]?o=l(t,s):n.mutate.object[a]?o=l(t,function(e){return function(t){return e({},t)}}(t)):n.mutate.set[a]&&(o=l(t,F))),S(M,(function(e){return S(n.aryMethod[e],(function(t){if(a==t){var r=n.methodSpread[a],s=r&&r.afterRearg;return i=s?z(a,R(a,o,e),e):R(a,z(a,o,e),e),i=function(e,t,r){return f||p.curry&&r>1?T(t,r):t}(0,i=D(a,i),e),!1}})),!i})),i||(i=o),i==t&&(i=f?T(i,1):function(){return t.apply(this,arguments)}),i.convert=B(a,t),i.placeholder=t.placeholder=r,i}if(!h)return U(r,u,m);var V=u,W=[];return S(M,(function(e){S(n.aryMethod[e],(function(e){var t=V[n.remap[e]||e];t&&W.push([e,U(e,t,V)])}))})),S(A(V),(function(e){var t=V[e];if("function"==typeof t){for(var r=W.length;r--;)if(W[r][0]==e)return;t.convert=B(e,t),W.push([e,t])}})),S(W,(function(e){V[e[0]]=e[1]})),V.convert=function(e){return V.runInContext.convert(e)(void 0)},V.placeholder=V,S(A(V),(function(e){S(n.realToAlias[e]||[],(function(t){V[t]=V[e]}))})),V}},47560:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,r=t.aliasToReal,n={};for(var i in r){var a=r[i];e.call(n,a)?n[a].push(i):n[a]=[i]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},13996:e=>{e.exports={}},56819:(e,t,r)=>{var n=r(89624);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},46682:(e,t,r)=>{var n=r(17850),i=r(92178);e.exports=function(e,t){return null!=e&&i(e,t,n)}},53924:e=>{e.exports=function(e){return e}},57328:(e,t,r)=>{var n=r(9614),i=r(47261),a=r(93792),o=r(39190),s=r(18750),l=r(60818),u=r(37457),c=r(96749),d="[object Map]",h="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||a(e)))return!e.length;var t=i(e);if(t==d||t==h)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(p.call(e,r))return!1;return!0}},9505:function(e,t,r){var n;e=r.nmd(e),function(){function i(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function a(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function o(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function s(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function l(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function u(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function c(e,t){return!(null==e||!e.length)&&b(e,t,0)>-1}function d(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function h(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function p(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function m(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function f(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function y(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function g(e){return e.match(Nt)||[]}function v(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function _(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function b(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):_(e,w,r)}function x(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function w(e){return e!=e}function T(e,t){var r=null==e?0:e.length;return r?L(e,t)/r:Se}function S(e){return function(t){return null==t?Z:t[e]}}function k(e){return function(t){return null==e?Z:e[t]}}function C(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function L(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==Z&&(r=r===Z?a:r+a)}return r}function N(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function A(e){return e?e.slice(0,q(e)+1).replace(Tt,""):e}function O(e){return function(t){return e(t)}}function E(e,t){return h(t,(function(t){return e[t]}))}function P(e,t){return e.has(t)}function M(e,t){for(var r=-1,n=e.length;++r<n&&b(t,e[r],0)>-1;);return r}function I(e,t){for(var r=e.length;r--&&b(t,e[r],0)>-1;);return r}function D(e){return"\\"+Lr[e]}function z(e){return xr.test(e)}function R(e){return wr.test(e)}function F(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function B(e,t){return function(r){return e(t(r))}}function j(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==K||(e[r]=K,a[i++]=r)}return a}function U(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function V(e){return z(e)?function(e){for(var t=_r.lastIndex=0;_r.test(e);)++t;return t}(e):qr(e)}function W(e){return z(e)?function(e){return e.match(_r)||[]}(e):function(e){return e.split("")}(e)}function q(e){for(var t=e.length;t--&&St.test(e.charAt(t)););return t}function G(e){return e.match(br)||[]}var Z,$=200,Y="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",H="Expected a function",J="Invalid `variable` option passed into `_.template`",X="__lodash_hash_undefined__",Q=500,K="__lodash_placeholder__",ee=1,te=2,re=4,ne=1,ie=2,ae=1,oe=2,se=4,le=8,ue=16,ce=32,de=64,he=128,pe=256,me=512,fe=30,ye="...",ge=800,ve=16,_e=1,be=2,xe=1/0,we=9007199254740991,Te=17976931348623157e292,Se=NaN,ke=4294967295,Ce=ke-1,Le=ke>>>1,Ne=[["ary",he],["bind",ae],["bindKey",oe],["curry",le],["curryRight",ue],["flip",me],["partial",ce],["partialRight",de],["rearg",pe]],Ae="[object Arguments]",Oe="[object Array]",Ee="[object AsyncFunction]",Pe="[object Boolean]",Me="[object Date]",Ie="[object DOMException]",De="[object Error]",ze="[object Function]",Re="[object GeneratorFunction]",Fe="[object Map]",Be="[object Number]",je="[object Null]",Ue="[object Object]",Ve="[object Promise]",We="[object Proxy]",qe="[object RegExp]",Ge="[object Set]",Ze="[object String]",$e="[object Symbol]",Ye="[object Undefined]",He="[object WeakMap]",Je="[object WeakSet]",Xe="[object ArrayBuffer]",Qe="[object DataView]",Ke="[object Float32Array]",et="[object Float64Array]",tt="[object Int8Array]",rt="[object Int16Array]",nt="[object Int32Array]",it="[object Uint8Array]",at="[object Uint8ClampedArray]",ot="[object Uint16Array]",st="[object Uint32Array]",lt=/\b__p \+= '';/g,ut=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39);/g,ht=/[&<>"']/g,pt=RegExp(dt.source),mt=RegExp(ht.source),ft=/<%-([\s\S]+?)%>/g,yt=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_t=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/[\\^$.*+?()[\]{}|]/g,wt=RegExp(xt.source),Tt=/^\s+/,St=/\s/,kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ct=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,At=/[()=,{}\[\]\/\s]/,Ot=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pt=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,zt=/^0o[0-7]+$/i,Rt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bt=/($^)/,jt=/['\n\r\u2028\u2029\\]/g,Ut="\\ud800-\\udfff",Vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wt="\\u2700-\\u27bf",qt="a-z\\xdf-\\xf6\\xf8-\\xff",Gt="A-Z\\xc0-\\xd6\\xd8-\\xde",Zt="\\ufe0e\\ufe0f",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yt="['’]",Ht="["+Ut+"]",Jt="["+$t+"]",Xt="["+Vt+"]",Qt="\\d+",Kt="["+Wt+"]",er="["+qt+"]",tr="[^"+Ut+$t+Qt+Wt+qt+Gt+"]",rr="\\ud83c[\\udffb-\\udfff]",nr="[^"+Ut+"]",ir="(?:\\ud83c[\\udde6-\\uddff]){2}",ar="[\\ud800-\\udbff][\\udc00-\\udfff]",or="["+Gt+"]",sr="\\u200d",lr="(?:"+er+"|"+tr+")",ur="(?:"+or+"|"+tr+")",cr="(?:['’](?:d|ll|m|re|s|t|ve))?",dr="(?:['’](?:D|LL|M|RE|S|T|VE))?",hr="(?:"+Xt+"|"+rr+")"+"?",pr="["+Zt+"]?",mr=pr+hr+("(?:"+sr+"(?:"+[nr,ir,ar].join("|")+")"+pr+hr+")*"),fr="(?:"+[Kt,ir,ar].join("|")+")"+mr,yr="(?:"+[nr+Xt+"?",Xt,ir,ar,Ht].join("|")+")",gr=RegExp(Yt,"g"),vr=RegExp(Xt,"g"),_r=RegExp(rr+"(?="+rr+")|"+yr+mr,"g"),br=RegExp([or+"?"+er+"+"+cr+"(?="+[Jt,or,"$"].join("|")+")",ur+"+"+dr+"(?="+[Jt,or+lr,"$"].join("|")+")",or+"?"+lr+"+"+cr,or+"+"+dr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qt,fr].join("|"),"g"),xr=RegExp("["+sr+Ut+Vt+Zt+"]"),wr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sr=-1,kr={};kr[Ke]=kr[et]=kr[tt]=kr[rt]=kr[nt]=kr[it]=kr[at]=kr[ot]=kr[st]=!0,kr[Ae]=kr[Oe]=kr[Xe]=kr[Pe]=kr[Qe]=kr[Me]=kr[De]=kr[ze]=kr[Fe]=kr[Be]=kr[Ue]=kr[qe]=kr[Ge]=kr[Ze]=kr[He]=!1;var Cr={};Cr[Ae]=Cr[Oe]=Cr[Xe]=Cr[Qe]=Cr[Pe]=Cr[Me]=Cr[Ke]=Cr[et]=Cr[tt]=Cr[rt]=Cr[nt]=Cr[Fe]=Cr[Be]=Cr[Ue]=Cr[qe]=Cr[Ge]=Cr[Ze]=Cr[$e]=Cr[it]=Cr[at]=Cr[ot]=Cr[st]=!0,Cr[De]=Cr[ze]=Cr[He]=!1;var Lr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nr=parseFloat,Ar=parseInt,Or="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,Er="object"==typeof self&&self&&self.Object===Object&&self,Pr=Or||Er||Function("return this")(),Mr=t&&!t.nodeType&&t,Ir=Mr&&e&&!e.nodeType&&e,Dr=Ir&&Ir.exports===Mr,zr=Dr&&Or.process,Rr=function(){try{var e=Ir&&Ir.require&&Ir.require("util").types;return e||zr&&zr.binding&&zr.binding("util")}catch(e){}}(),Fr=Rr&&Rr.isArrayBuffer,Br=Rr&&Rr.isDate,jr=Rr&&Rr.isMap,Ur=Rr&&Rr.isRegExp,Vr=Rr&&Rr.isSet,Wr=Rr&&Rr.isTypedArray,qr=S("length"),Gr=k({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Zr=k({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),$r=k({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Yr=function e(t){function r(e){if(pa(e)&&!nl(e)&&!(e instanceof St)){if(e instanceof k)return e;if(ro.call(e,"__wrapped__"))return Bi(e)}return new k(e)}function n(){}function k(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Z}function St(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function Nt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ut(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wt(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Vt;++t<r;)this.add(e[t])}function qt(e){this.size=(this.__data__=new Ut(e)).size}function Gt(e,t){var r=nl(e),n=!r&&rl(e),i=!r&&!n&&al(e),a=!r&&!n&&!i&&cl(e),o=r||n||i||a,s=o?N(e.length,Ha):[],l=s.length;for(var u in e)!t&&!ro.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ti(u,l))||s.push(u);return s}function Zt(e){var t=e.length;return t?e[on(0,t-1)]:Z}function $t(e,t){return Di(Rn(e),rr(t,0,e.length))}function Yt(e){return Di(Rn(e))}function Ht(e,t,r){(r===Z||aa(e[t],r))&&(r!==Z||t in e)||er(e,t,r)}function Jt(e,t,r){var n=e[t];ro.call(e,t)&&aa(n,r)&&(r!==Z||t in e)||er(e,t,r)}function Xt(e,t){for(var r=e.length;r--;)if(aa(e[r][0],t))return r;return-1}function Qt(e,t,r,n){return ts(e,(function(e,i,a){t(n,e,r(e),a)})),n}function Kt(e,t){return e&&Fn(t,La(t),e)}function er(e,t,r){"__proto__"==t&&xo?xo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function tr(e,t){for(var r=-1,n=t.length,i=Va(n),a=null==e;++r<n;)i[r]=a?Z:ka(e,t[r]);return i}function rr(e,t,r){return e==e&&(r!==Z&&(e=e<=r?e:r),t!==Z&&(e=e>=t?e:t)),e}function nr(e,t,r,n,i,a){var s,l=t&ee,u=t&te,c=t&re;if(r&&(s=i?r(e,n,i,a):r(e)),s!==Z)return s;if(!ha(e))return e;var d=nl(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ro.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!l)return Rn(e,s)}else{var h=ps(e),p=h==ze||h==Re;if(al(e))return En(e,l);if(h==Ue||h==Ae||p&&!i){if(s=u||p?{}:xi(e),!l)return u?function(e,t){return Fn(e,hs(e),t)}(e,function(e,t){return e&&Fn(t,Na(t),e)}(s,e)):function(e,t){return Fn(e,ds(e),t)}(e,Kt(s,e))}else{if(!Cr[h])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case Xe:return Pn(e);case Pe:case Me:return new n(+e);case Qe:return function(e,t){return new e.constructor(t?Pn(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,r);case Ke:case et:case tt:case rt:case nt:case it:case at:case ot:case st:return Mn(e,r);case Fe:return new n;case Be:case Ze:return new n(e);case qe:return function(e){var t=new e.constructor(e.source,Pt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Ge:return new n;case $e:return function(e){return Qo?$a(Qo.call(e)):{}}(e)}}(e,h,l)}}a||(a=new qt);var m=a.get(e);if(m)return m;a.set(e,s),ul(e)?e.forEach((function(n){s.add(nr(n,t,r,n,e,a))})):sl(e)&&e.forEach((function(n,i){s.set(i,nr(n,t,r,i,e,a))}));var f=d?Z:(c?u?pi:hi:u?Na:La)(e);return o(f||e,(function(n,i){f&&(n=e[i=n]),Jt(s,i,nr(n,t,r,i,e,a))})),s}function ir(e,t,r){var n=r.length;if(null==e)return!n;for(e=$a(e);n--;){var i=r[n],a=t[i],o=e[i];if(o===Z&&!(i in e)||!a(o))return!1}return!0}function ar(e,t,r){if("function"!=typeof e)throw new Ja(H);return ys((function(){e.apply(Z,r)}),t)}function or(e,t,r,n){var i=-1,a=c,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=h(t,O(r))),n?(a=d,o=!1):t.length>=$&&(a=P,o=!1,t=new Wt(t));e:for(;++i<s;){var p=e[i],m=null==r?p:r(p);if(p=n||0!==p?p:0,o&&m==m){for(var f=u;f--;)if(t[f]===m)continue e;l.push(p)}else a(t,m,n)||l.push(p)}return l}function sr(e,t){var r=!0;return ts(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function lr(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(null!=o&&(s===Z?o==o&&!ga(o):r(o,s)))var s=o,l=a}return l}function ur(e,t){var r=[];return ts(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function cr(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=wi),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?cr(s,t-1,r,n,i):p(i,s):n||(i[i.length]=s)}return i}function dr(e,t){return e&&ns(e,t,La)}function hr(e,t){return e&&is(e,t,La)}function pr(e,t){return u(t,(function(t){return ua(e[t])}))}function mr(e,t){for(var r=0,n=(t=An(t,e)).length;null!=e&&r<n;)e=e[zi(t[r++])];return r&&r==n?e:Z}function fr(e,t,r){var n=t(e);return nl(e)?n:p(n,r(e))}function yr(e){return null==e?e===Z?Ye:je:bo&&bo in $a(e)?function(e){var t=ro.call(e,bo),r=e[bo];try{e[bo]=Z;var n=!0}catch(e){}var i=ao.call(e);return n&&(t?e[bo]=r:delete e[bo]),i}(e):function(e){return ao.call(e)}(e)}function _r(e,t){return e>t}function br(e,t){return null!=e&&ro.call(e,t)}function xr(e,t){return null!=e&&t in $a(e)}function wr(e,t,r){for(var n=r?d:c,i=e[0].length,a=e.length,o=a,s=Va(a),l=1/0,u=[];o--;){var p=e[o];o&&t&&(p=h(p,O(t))),l=Mo(p.length,l),s[o]=!r&&(t||i>=120&&p.length>=120)?new Wt(o&&p):Z}p=e[0];var m=-1,f=s[0];e:for(;++m<i&&u.length<l;){var y=p[m],g=t?t(y):y;if(y=r||0!==y?y:0,!(f?P(f,g):n(u,g,r))){for(o=a;--o;){var v=s[o];if(!(v?P(v,g):n(e[o],g,r)))continue e}f&&f.push(g),u.push(y)}}return u}function Lr(e,t,r){var n=null==(e=Ei(e,t=An(t,e)))?e:e[zi(qi(t))];return null==n?Z:i(n,e,r)}function Or(e){return pa(e)&&yr(e)==Ae}function Er(e,t,r,n,i){return e===t||(null==e||null==t||!pa(e)&&!pa(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var o=nl(e),s=nl(t),l=o?Oe:ps(e),u=s?Oe:ps(t);l=l==Ae?Ue:l,u=u==Ae?Ue:u;var c=l==Ue,d=u==Ue,h=l==u;if(h&&al(e)){if(!al(t))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new qt),o||cl(e)?ci(e,t,r,n,i,a):function(e,t,r,n,i,a,o){switch(r){case Qe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Xe:return!(e.byteLength!=t.byteLength||!a(new ho(e),new ho(t)));case Pe:case Me:case Be:return aa(+e,+t);case De:return e.name==t.name&&e.message==t.message;case qe:case Ze:return e==t+"";case Fe:var s=F;case Ge:var l=n&ne;if(s||(s=U),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=ie,o.set(e,t);var c=ci(s(e),s(t),n,i,a,o);return o.delete(e),c;case $e:if(Qo)return Qo.call(e)==Qo.call(t)}return!1}(e,t,l,r,n,i,a);if(!(r&ne)){var p=c&&ro.call(e,"__wrapped__"),m=d&&ro.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,y=m?t.value():t;return a||(a=new qt),i(f,y,r,n,a)}}return!!h&&(a||(a=new qt),function(e,t,r,n,i,a){var o=r&ne,s=hi(e),l=s.length;if(l!=hi(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:ro.call(t,c)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=o;++u<l;){var f=e[c=s[u]],y=t[c];if(n)var g=o?n(y,f,c,t,e,a):n(f,y,c,e,t,a);if(!(g===Z?f===y||i(f,y,r,n,a):g)){p=!1;break}m||(m="constructor"==c)}if(p&&!m){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,n,i,a))}(e,t,r,n,Er,i))}function Mr(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=$a(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=r[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(u===Z&&!(l in e))return!1}else{var d=new qt;if(n)var h=n(u,c,l,e,t,d);if(!(h===Z?Er(c,u,ne|ie,n,d):h))return!1}}return!0}function Ir(e){return!(!ha(e)||function(e){return!!io&&io in e}(e))&&(ua(e)?lo:Dt).test(Ri(e))}function zr(e){return"function"==typeof e?e:null==e?Da:"object"==typeof e?nl(e)?Qr(e[0],e[1]):Xr(e):Ba(e)}function Rr(e){if(!Li(e))return Eo(e);var t=[];for(var r in $a(e))ro.call(e,r)&&"constructor"!=r&&t.push(r);return t}function qr(e){if(!ha(e))return function(e){var t=[];if(null!=e)for(var r in $a(e))t.push(r);return t}(e);var t=Li(e),r=[];for(var n in e)("constructor"!=n||!t&&ro.call(e,n))&&r.push(n);return r}function Hr(e,t){return e<t}function Jr(e,t){var r=-1,n=oa(e)?Va(e.length):[];return ts(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function Xr(e){var t=vi(e);return 1==t.length&&t[0][2]?Ai(t[0][0],t[0][1]):function(r){return r===e||Mr(r,e,t)}}function Qr(e,t){return ki(e)&&Ni(t)?Ai(zi(e),t):function(r){var n=ka(r,e);return n===Z&&n===t?Ca(r,e):Er(t,n,ne|ie)}}function Kr(e,t,r,n,i){e!==t&&ns(t,(function(a,o){if(i||(i=new qt),ha(a))!function(e,t,r,n,i,a,o){var s=Pi(e,r),l=Pi(t,r),u=o.get(l);if(u)return Ht(e,r,u),Z;var c=a?a(s,l,r+"",e,t,o):Z,d=c===Z;if(d){var h=nl(l),p=!h&&al(l),m=!h&&!p&&cl(l);c=l,h||p||m?nl(s)?c=s:sa(s)?c=Rn(s):p?(d=!1,c=En(l,!0)):m?(d=!1,c=Mn(l,!0)):c=[]:fa(l)||rl(l)?(c=s,rl(s)?c=Ta(s):ha(s)&&!ua(s)||(c=xi(l))):d=!1}d&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Ht(e,r,c)}(e,t,o,r,Kr,n,i);else{var s=n?n(Pi(e,o),a,o+"",e,t,i):Z;s===Z&&(s=a),Ht(e,o,s)}}),Na)}function en(e,t){var r=e.length;if(r)return Ti(t+=t<0?r:0,r)?e[t]:Z}function tn(e,t,r){t=t.length?h(t,(function(e){return nl(e)?function(t){return mr(t,1===e.length?e[0]:e)}:e})):[Da];var n=-1;return t=h(t,O(yi())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Jr(e,(function(e,r,i){return{criteria:h(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var l=In(i[n],a[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function rn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=mr(e,o);r(s,o)&&dn(a,An(o,e),s)}return a}function nn(e,t,r,n){var i=n?x:b,a=-1,o=t.length,s=e;for(e===t&&(t=Rn(t)),r&&(s=h(e,O(r)));++a<o;)for(var l=0,u=t[a],c=r?r(u):u;(l=i(s,c,l,n))>-1;)s!==e&&go.call(s,l,1),go.call(e,l,1);return e}function an(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;Ti(i)?go.call(e,i,1):xn(e,i)}}return e}function on(e,t){return e+Co(zo()*(t-e+1))}function sn(e,t){var r="";if(!e||t<1||t>we)return r;do{t%2&&(r+=e),(t=Co(t/2))&&(e+=e)}while(t);return r}function ln(e,t){return gs(Oi(e,t,Da),e+"")}function un(e){return Zt(Oa(e))}function cn(e,t){var r=Oa(e);return Di(r,rr(t,0,r.length))}function dn(e,t,r,n){if(!ha(e))return e;for(var i=-1,a=(t=An(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=zi(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];(u=n?n(c,l,s):Z)===Z&&(u=ha(c)?c:Ti(t[i+1])?[]:{})}Jt(s,l,u),s=s[l]}return e}function hn(e){return Di(Oa(e))}function pn(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Va(i);++n<i;)a[n]=e[n+t];return a}function mn(e,t){var r;return ts(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function fn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=Le){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!ga(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return yn(e,t,Da,r)}function yn(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=r(t))!=t,s=null===t,l=ga(t),u=t===Z;i<a;){var c=Co((i+a)/2),d=r(e[c]),h=d!==Z,p=null===d,m=d==d,f=ga(d);if(o)var y=n||m;else y=u?m&&(n||h):s?m&&h&&(n||!p):l?m&&h&&!p&&(n||!f):!p&&!f&&(n?d<=t:d<t);y?i=c+1:a=c}return Mo(a,Ce)}function gn(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!aa(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function vn(e){return"number"==typeof e?e:ga(e)?Se:+e}function _n(e){if("string"==typeof e)return e;if(nl(e))return h(e,_n)+"";if(ga(e))return Ko?Ko.call(e):"";var t=e+"";return"0"==t&&1/e==-xe?"-0":t}function bn(e,t,r){var n=-1,i=c,a=e.length,o=!0,s=[],l=s;if(r)o=!1,i=d;else if(a>=$){var u=t?null:us(e);if(u)return U(u);o=!1,i=P,l=new Wt}else l=t?[]:s;e:for(;++n<a;){var h=e[n],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p==p){for(var m=l.length;m--;)if(l[m]===p)continue e;t&&l.push(p),s.push(h)}else i(l,p,r)||(l!==s&&l.push(p),s.push(h))}return s}function xn(e,t){return null==(e=Ei(e,t=An(t,e)))||delete e[zi(qi(t))]}function wn(e,t,r,n){return dn(e,t,r(mr(e,t)),n)}function Tn(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?pn(e,n?0:a,n?a+1:i):pn(e,n?a+1:0,n?i:a)}function Sn(e,t){var r=e;return r instanceof St&&(r=r.value()),m(t,(function(e,t){return t.func.apply(t.thisArg,p([e],t.args))}),r)}function kn(e,t,r){var n=e.length;if(n<2)return n?bn(e[0]):[];for(var i=-1,a=Va(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=or(a[i]||o,e[s],t,r));return bn(cr(a,1),t,r)}function Cn(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;)r(o,e[n],n<a?t[n]:Z);return o}function Ln(e){return sa(e)?e:[]}function Nn(e){return"function"==typeof e?e:Da}function An(e,t){return nl(e)?e:ki(e,t)?[e]:vs(Sa(e))}function On(e,t,r){var n=e.length;return r=r===Z?n:r,!t&&r>=n?e:pn(e,t,r)}function En(e,t){if(t)return e.slice();var r=e.length,n=po?po(r):new e.constructor(r);return e.copy(n),n}function Pn(e){var t=new e.constructor(e.byteLength);return new ho(t).set(new ho(e)),t}function Mn(e,t){return new e.constructor(t?Pn(e.buffer):e.buffer,e.byteOffset,e.length)}function In(e,t){if(e!==t){var r=e!==Z,n=null===e,i=e==e,a=ga(e),o=t!==Z,s=null===t,l=t==t,u=ga(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}function Dn(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,l=t.length,u=Po(a-o,0),c=Va(l+u),d=!n;++s<l;)c[s]=t[s];for(;++i<o;)(d||i<a)&&(c[r[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function zn(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,l=-1,u=t.length,c=Po(a-s,0),d=Va(c+u),h=!n;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<s;)(h||i<a)&&(d[p+r[o]]=e[i++]);return d}function Rn(e,t){var r=-1,n=e.length;for(t||(t=Va(n));++r<n;)t[r]=e[r];return t}function Fn(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):Z;l===Z&&(l=e[s]),i?er(r,s,l):Jt(r,s,l)}return r}function Bn(e,t){return function(r,n){var i=nl(r)?a:Qt,o=t?t():{};return i(r,e,yi(n,2),o)}}function jn(e){return ln((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:Z,o=i>2?r[2]:Z;for(a=e.length>3&&"function"==typeof a?(i--,a):Z,o&&Si(r[0],r[1],o)&&(a=i<3?Z:a,i=1),t=$a(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}function Un(e,t){return function(r,n){if(null==r)return r;if(!oa(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=$a(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Vn(e){return function(t,r,n){for(var i=-1,a=$a(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}}function Wn(e){return function(t){var r=z(t=Sa(t))?W(t):Z,n=r?r[0]:t.charAt(0),i=r?On(r,1).join(""):t.slice(1);return n[e]()+i}}function qn(e){return function(t){return m(Ma(Pa(t).replace(gr,"")),e,"")}}function Gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=es(e.prototype),n=e.apply(r,t);return ha(n)?n:r}}function Zn(e,t,r){var n=Gn(e);return function a(){for(var o=arguments.length,s=Va(o),l=o,u=fi(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:j(s,u);return(o-=c.length)<r?ni(e,t,Hn,a.placeholder,Z,s,c,Z,Z,r-o):i(this&&this!==Pr&&this instanceof a?n:e,this,s)}}function $n(e){return function(t,r,n){var i=$a(t);if(!oa(t)){var a=yi(r,3);t=La(t),r=function(e){return a(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:Z}}function Yn(e){return di((function(t){var r=t.length,n=r,i=k.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Ja(H);if(i&&!o&&"wrapper"==mi(a))var o=new k([],!0)}for(n=o?n:r;++n<r;){var s=mi(a=t[n]),l="wrapper"==s?cs(a):Z;o=l&&Ci(l[0])&&l[1]==(he|le|ce|pe)&&!l[4].length&&1==l[9]?o[mi(l[0])].apply(o,l[3]):1==a.length&&Ci(a)?o[s]():o.thru(a)}return function(){var e=arguments,n=e[0];if(o&&1==e.length&&nl(n))return o.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Hn(e,t,r,n,i,a,o,s,l,u){var c=t&he,d=t&ae,h=t&oe,p=t&(le|ue),m=t&me,f=h?Z:Gn(e);return function y(){for(var g=arguments.length,v=Va(g),_=g;_--;)v[_]=arguments[_];if(p)var b=fi(y),x=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(v,b);if(n&&(v=Dn(v,n,i,p)),a&&(v=zn(v,a,o,p)),g-=x,p&&g<u)return ni(e,t,Hn,y.placeholder,r,v,j(v,b),s,l,u-g);var w=d?r:this,T=h?w[e]:e;return g=v.length,s?v=function(e,t){for(var r=e.length,n=Mo(t.length,r),i=Rn(e);n--;){var a=t[n];e[n]=Ti(a,r)?i[a]:Z}return e}(v,s):m&&g>1&&v.reverse(),c&&l<g&&(v.length=l),this&&this!==Pr&&this instanceof y&&(T=f||Gn(T)),T.apply(w,v)}}function Jn(e,t){return function(r,n){return function(e,t,r,n){return dr(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Xn(e,t){return function(r,n){var i;if(r===Z&&n===Z)return t;if(r!==Z&&(i=r),n!==Z){if(i===Z)return n;"string"==typeof r||"string"==typeof n?(r=_n(r),n=_n(n)):(r=vn(r),n=vn(n)),i=e(r,n)}return i}}function Qn(e){return di((function(t){return t=h(t,O(yi())),ln((function(r){var n=this;return e(t,(function(e){return i(e,n,r)}))}))}))}function Kn(e,t){var r=(t=t===Z?" ":_n(t)).length;if(r<2)return r?sn(t,e):t;var n=sn(t,ko(e/V(t)));return z(t)?On(W(n),0,e).join(""):n.slice(0,e)}function ei(e,t,r,n){var a=t&ae,o=Gn(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=n.length,d=Va(c+l),h=this&&this!==Pr&&this instanceof t?o:e;++u<c;)d[u]=n[u];for(;l--;)d[u++]=arguments[++s];return i(h,a?r:this,d)}}function ti(e){return function(t,r,n){return n&&"number"!=typeof n&&Si(t,r,n)&&(r=n=Z),t=_a(t),r===Z?(r=t,t=0):r=_a(r),function(e,t,r,n){for(var i=-1,a=Po(ko((t-e)/(r||1)),0),o=Va(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,r,n=n===Z?t<r?1:-1:_a(n),e)}}function ri(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=wa(t),r=wa(r)),e(t,r)}}function ni(e,t,r,n,i,a,o,s,l,u){var c=t&le;t|=c?ce:de,(t&=~(c?de:ce))&se||(t&=~(ae|oe));var d=[e,t,i,c?a:Z,c?o:Z,c?Z:a,c?Z:o,s,l,u],h=r.apply(Z,d);return Ci(e)&&fs(h,d),h.placeholder=n,Mi(h,e,t)}function ii(e){var t=Za[e];return function(e,r){if(e=wa(e),(r=null==r?0:Mo(ba(r),292))&&Ao(e)){var n=(Sa(e)+"e").split("e");return+((n=(Sa(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}function ai(e){return function(t){var r=ps(t);return r==Fe?F(t):r==Ge?function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}(t):function(e,t){return h(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function oi(e,t,r,n,i,a,o,s){var l=t&oe;if(!l&&"function"!=typeof e)throw new Ja(H);var u=n?n.length:0;if(u||(t&=~(ce|de),n=i=Z),o=o===Z?o:Po(ba(o),0),s=s===Z?s:ba(s),u-=i?i.length:0,t&de){var c=n,d=i;n=i=Z}var h=l?Z:cs(e),p=[e,t,r,n,i,c,d,a,o,s];if(h&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<(ae|oe|he),o=n==he&&r==le||n==he&&r==pe&&e[7].length<=t[8]||n==(he|pe)&&t[7].length<=t[8]&&r==le;if(!a&&!o)return e;n&ae&&(e[2]=t[2],i|=r&ae?0:se);var s=t[3];if(s){var l=e[3];e[3]=l?Dn(l,s,t[4]):s,e[4]=l?j(e[3],K):t[4]}s=t[5],s&&(l=e[5],e[5]=l?zn(l,s,t[6]):s,e[6]=l?j(e[5],K):t[6]),s=t[7],s&&(e[7]=s),n&he&&(e[8]=null==e[8]?t[8]:Mo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,h),e=p[0],t=p[1],r=p[2],n=p[3],i=p[4],!(s=p[9]=p[9]===Z?l?0:e.length:Po(p[9]-u,0))&&t&(le|ue)&&(t&=~(le|ue)),t&&t!=ae)m=t==le||t==ue?Zn(e,t,s):t!=ce&&t!=(ae|ce)||i.length?Hn.apply(Z,p):ei(e,t,r,n);else var m=function(e,t,r){var n=t&ae,i=Gn(e);return function t(){return(this&&this!==Pr&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Mi((h?as:fs)(m,p),e,t)}function si(e,t,r,n){return e===Z||aa(e,Ka[r])&&!ro.call(n,r)?t:e}function li(e,t,r,n,i,a){return ha(e)&&ha(t)&&(a.set(t,e),Kr(e,t,Z,li,a),a.delete(t)),e}function ui(e){return fa(e)?Z:e}function ci(e,t,r,n,i,a){var o=r&ne,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,p=r&ie?new Wt:Z;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],f=t[d];if(n)var g=o?n(f,m,d,t,e,a):n(m,f,d,e,t,a);if(g!==Z){if(g)continue;h=!1;break}if(p){if(!y(t,(function(e,t){if(!P(p,t)&&(m===e||i(m,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(m!==f&&!i(m,f,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function di(e){return gs(Oi(e,Z,Vi),e+"")}function hi(e){return fr(e,La,ds)}function pi(e){return fr(e,Na,hs)}function mi(e){for(var t=e.name+"",r=Go[t],n=ro.call(Go,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function fi(e){return(ro.call(r,"placeholder")?r:e).placeholder}function yi(){var e=r.iteratee||za;return e=e===za?zr:e,arguments.length?e(arguments[0],arguments[1]):e}function gi(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function vi(e){for(var t=La(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ni(i)]}return t}function _i(e,t){var r=function(e,t){return null==e?Z:e[t]}(e,t);return Ir(r)?r:Z}function bi(e,t,r){for(var n=-1,i=(t=An(t,e)).length,a=!1;++n<i;){var o=zi(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&da(i)&&Ti(o,i)&&(nl(e)||rl(e))}function xi(e){return"function"!=typeof e.constructor||Li(e)?{}:es(mo(e))}function wi(e){return nl(e)||rl(e)||!!(vo&&e&&e[vo])}function Ti(e,t){var r=typeof e;return!!(t=null==t?we:t)&&("number"==r||"symbol"!=r&&Rt.test(e))&&e>-1&&e%1==0&&e<t}function Si(e,t,r){if(!ha(r))return!1;var n=typeof t;return!!("number"==n?oa(r)&&Ti(t,r.length):"string"==n&&t in r)&&aa(r[t],e)}function ki(e,t){if(nl(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ga(e))||_t.test(e)||!vt.test(e)||null!=t&&e in $a(t)}function Ci(e){var t=mi(e),n=r[t];if("function"!=typeof n||!(t in St.prototype))return!1;if(e===n)return!0;var i=cs(n);return!!i&&e===i[0]}function Li(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ka)}function Ni(e){return e==e&&!ha(e)}function Ai(e,t){return function(r){return null!=r&&r[e]===t&&(t!==Z||e in $a(r))}}function Oi(e,t,r){return t=Po(t===Z?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Po(n.length-t,0),s=Va(o);++a<o;)s[a]=n[t+a];a=-1;for(var l=Va(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),i(e,this,l)}}function Ei(e,t){return t.length<2?e:mr(e,pn(t,0,-1))}function Pi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Mi(e,t,r){var n=t+"";return gs(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(kt,"{\n/* [wrapped with "+t+"] */\n")}(n,Fi(function(e){var t=e.match(Ct);return t?t[1].split(Lt):[]}(n),r)))}function Ii(e){var t=0,r=0;return function(){var n=Io(),i=ve-(n-r);if(r=n,i>0){if(++t>=ge)return arguments[0]}else t=0;return e.apply(Z,arguments)}}function Di(e,t){var r=-1,n=e.length,i=n-1;for(t=t===Z?n:t;++r<t;){var a=on(r,i),o=e[a];e[a]=e[r],e[r]=o}return e.length=t,e}function zi(e){if("string"==typeof e||ga(e))return e;var t=e+"";return"0"==t&&1/e==-xe?"-0":t}function Ri(e){if(null!=e){try{return to.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fi(e,t){return o(Ne,(function(r){var n="_."+r[0];t&r[1]&&!c(e,n)&&e.push(n)})),e.sort()}function Bi(e){if(e instanceof St)return e.clone();var t=new k(e.__wrapped__,e.__chain__);return t.__actions__=Rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ji(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ba(r);return i<0&&(i=Po(n+i,0)),_(e,yi(t,3),i)}function Ui(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==Z&&(i=ba(r),i=r<0?Po(n+i,0):Mo(i,n-1)),_(e,yi(t,3),i,!0)}function Vi(e){return null!=e&&e.length?cr(e,1):[]}function Wi(e){return e&&e.length?e[0]:Z}function qi(e){var t=null==e?0:e.length;return t?e[t-1]:Z}function Gi(e,t){return e&&e.length&&t&&t.length?nn(e,t):e}function Zi(e){return null==e?e:Ro.call(e)}function $i(e){if(!e||!e.length)return[];var t=0;return e=u(e,(function(e){if(sa(e))return t=Po(e.length,t),!0})),N(t,(function(t){return h(e,S(t))}))}function Yi(e,t){if(!e||!e.length)return[];var r=$i(e);return null==t?r:h(r,(function(e){return i(t,Z,e)}))}function Hi(e){var t=r(e);return t.__chain__=!0,t}function Ji(e,t){return t(e)}function Xi(e,t){return(nl(e)?o:ts)(e,yi(t,3))}function Qi(e,t){return(nl(e)?s:rs)(e,yi(t,3))}function Ki(e,t){return(nl(e)?h:Jr)(e,yi(t,3))}function ea(e,t,r){return t=r?Z:t,t=e&&null==t?e.length:t,oi(e,he,Z,Z,Z,Z,t)}function ta(e,t){var r;if("function"!=typeof t)throw new Ja(H);return e=ba(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=Z),r}}function ra(e,t,r){function n(t){var r=l,n=u;return l=u=Z,m=t,d=e.apply(n,r)}function i(e){var r=e-p;return p===Z||r>=t||r<0||y&&e-m>=c}function a(){var e=Gs();return i(e)?o(e):(h=ys(a,function(e){var r=t-(e-p);return y?Mo(r,c-(e-m)):r}(e)),Z)}function o(e){return h=Z,g&&l?n(e):(l=u=Z,d)}function s(){var e=Gs(),r=i(e);if(l=arguments,u=this,p=e,r){if(h===Z)return function(e){return m=e,h=ys(a,t),f?n(e):d}(p);if(y)return ls(h),h=ys(a,t),n(p)}return h===Z&&(h=ys(a,t)),d}var l,u,c,d,h,p,m=0,f=!1,y=!1,g=!0;if("function"!=typeof e)throw new Ja(H);return t=wa(t)||0,ha(r)&&(f=!!r.leading,c=(y="maxWait"in r)?Po(wa(r.maxWait)||0,t):c,g="trailing"in r?!!r.trailing:g),s.cancel=function(){h!==Z&&ls(h),m=0,l=p=u=h=Z},s.flush=function(){return h===Z?d:o(Gs())},s}function na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ja(H);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(na.Cache||Vt),r}function ia(e){if("function"!=typeof e)throw new Ja(H);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function aa(e,t){return e===t||e!=e&&t!=t}function oa(e){return null!=e&&da(e.length)&&!ua(e)}function sa(e){return pa(e)&&oa(e)}function la(e){if(!pa(e))return!1;var t=yr(e);return t==De||t==Ie||"string"==typeof e.message&&"string"==typeof e.name&&!fa(e)}function ua(e){if(!ha(e))return!1;var t=yr(e);return t==ze||t==Re||t==Ee||t==We}function ca(e){return"number"==typeof e&&e==ba(e)}function da(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=we}function ha(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function pa(e){return null!=e&&"object"==typeof e}function ma(e){return"number"==typeof e||pa(e)&&yr(e)==Be}function fa(e){if(!pa(e)||yr(e)!=Ue)return!1;var t=mo(e);if(null===t)return!0;var r=ro.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&to.call(r)==oo}function ya(e){return"string"==typeof e||!nl(e)&&pa(e)&&yr(e)==Ze}function ga(e){return"symbol"==typeof e||pa(e)&&yr(e)==$e}function va(e){if(!e)return[];if(oa(e))return ya(e)?W(e):Rn(e);if(_o&&e[_o])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[_o]());var t=ps(e);return(t==Fe?F:t==Ge?U:Oa)(e)}function _a(e){return e?(e=wa(e))===xe||e===-xe?(e<0?-1:1)*Te:e==e?e:0:0===e?e:0}function ba(e){var t=_a(e),r=t%1;return t==t?r?t-r:t:0}function xa(e){return e?rr(ba(e),0,ke):0}function wa(e){if("number"==typeof e)return e;if(ga(e))return Se;if(ha(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ha(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=A(e);var r=It.test(e);return r||zt.test(e)?Ar(e.slice(2),r?2:8):Mt.test(e)?Se:+e}function Ta(e){return Fn(e,Na(e))}function Sa(e){return null==e?"":_n(e)}function ka(e,t,r){var n=null==e?Z:mr(e,t);return n===Z?r:n}function Ca(e,t){return null!=e&&bi(e,t,xr)}function La(e){return oa(e)?Gt(e):Rr(e)}function Na(e){return oa(e)?Gt(e,!0):qr(e)}function Aa(e,t){if(null==e)return{};var r=h(pi(e),(function(e){return[e]}));return t=yi(t),rn(e,r,(function(e,r){return t(e,r[0])}))}function Oa(e){return null==e?[]:E(e,La(e))}function Ea(e){return zl(Sa(e).toLowerCase())}function Pa(e){return(e=Sa(e))&&e.replace(Ft,Gr).replace(vr,"")}function Ma(e,t,r){return e=Sa(e),(t=r?Z:t)===Z?R(e)?G(e):g(e):e.match(t)||[]}function Ia(e){return function(){return e}}function Da(e){return e}function za(e){return zr("function"==typeof e?e:nr(e,ee))}function Ra(e,t,r){var n=La(t),i=pr(t,n);null!=r||ha(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=pr(t,La(t)));var a=!(ha(r)&&"chain"in r&&!r.chain),s=ua(e);return o(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__);return(r.__actions__=Rn(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,p([this.value()],arguments))})})),e}function Fa(){}function Ba(e){return ki(e)?S(zi(e)):function(e){return function(t){return mr(t,e)}}(e)}function ja(){return[]}function Ua(){return!1}var Va=(t=null==t?Pr:Yr.defaults(Pr.Object(),t,Yr.pick(Pr,Tr))).Array,Wa=t.Date,qa=t.Error,Ga=t.Function,Za=t.Math,$a=t.Object,Ya=t.RegExp,Ha=t.String,Ja=t.TypeError,Xa=Va.prototype,Qa=Ga.prototype,Ka=$a.prototype,eo=t["__core-js_shared__"],to=Qa.toString,ro=Ka.hasOwnProperty,no=0,io=function(){var e=/[^.]+$/.exec(eo&&eo.keys&&eo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ao=Ka.toString,oo=to.call($a),so=Pr._,lo=Ya("^"+to.call(ro).replace(xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uo=Dr?t.Buffer:Z,co=t.Symbol,ho=t.Uint8Array,po=uo?uo.allocUnsafe:Z,mo=B($a.getPrototypeOf,$a),fo=$a.create,yo=Ka.propertyIsEnumerable,go=Xa.splice,vo=co?co.isConcatSpreadable:Z,_o=co?co.iterator:Z,bo=co?co.toStringTag:Z,xo=function(){try{var e=_i($a,"defineProperty");return e({},"",{}),e}catch(e){}}(),wo=t.clearTimeout!==Pr.clearTimeout&&t.clearTimeout,To=Wa&&Wa.now!==Pr.Date.now&&Wa.now,So=t.setTimeout!==Pr.setTimeout&&t.setTimeout,ko=Za.ceil,Co=Za.floor,Lo=$a.getOwnPropertySymbols,No=uo?uo.isBuffer:Z,Ao=t.isFinite,Oo=Xa.join,Eo=B($a.keys,$a),Po=Za.max,Mo=Za.min,Io=Wa.now,Do=t.parseInt,zo=Za.random,Ro=Xa.reverse,Fo=_i(t,"DataView"),Bo=_i(t,"Map"),jo=_i(t,"Promise"),Uo=_i(t,"Set"),Vo=_i(t,"WeakMap"),Wo=_i($a,"create"),qo=Vo&&new Vo,Go={},Zo=Ri(Fo),$o=Ri(Bo),Yo=Ri(jo),Ho=Ri(Uo),Jo=Ri(Vo),Xo=co?co.prototype:Z,Qo=Xo?Xo.valueOf:Z,Ko=Xo?Xo.toString:Z,es=function(){function e(){}return function(t){if(!ha(t))return{};if(fo)return fo(t);e.prototype=t;var r=new e;return e.prototype=Z,r}}();r.templateSettings={escape:ft,evaluate:yt,interpolate:gt,variable:"",imports:{_:r}},r.prototype=n.prototype,r.prototype.constructor=r,k.prototype=es(n.prototype),k.prototype.constructor=k,St.prototype=es(n.prototype),St.prototype.constructor=St,Nt.prototype.clear=function(){this.__data__=Wo?Wo(null):{},this.size=0},Nt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nt.prototype.get=function(e){var t=this.__data__;if(Wo){var r=t[e];return r===X?Z:r}return ro.call(t,e)?t[e]:Z},Nt.prototype.has=function(e){var t=this.__data__;return Wo?t[e]!==Z:ro.call(t,e)},Nt.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wo&&t===Z?X:t,this},Ut.prototype.clear=function(){this.__data__=[],this.size=0},Ut.prototype.delete=function(e){var t=this.__data__,r=Xt(t,e);return!(r<0||(r==t.length-1?t.pop():go.call(t,r,1),--this.size,0))},Ut.prototype.get=function(e){var t=this.__data__,r=Xt(t,e);return r<0?Z:t[r][1]},Ut.prototype.has=function(e){return Xt(this.__data__,e)>-1},Ut.prototype.set=function(e,t){var r=this.__data__,n=Xt(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Vt.prototype.clear=function(){this.size=0,this.__data__={hash:new Nt,map:new(Bo||Ut),string:new Nt}},Vt.prototype.delete=function(e){var t=gi(this,e).delete(e);return this.size-=t?1:0,t},Vt.prototype.get=function(e){return gi(this,e).get(e)},Vt.prototype.has=function(e){return gi(this,e).has(e)},Vt.prototype.set=function(e,t){var r=gi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Wt.prototype.add=Wt.prototype.push=function(e){return this.__data__.set(e,X),this},Wt.prototype.has=function(e){return this.__data__.has(e)},qt.prototype.clear=function(){this.__data__=new Ut,this.size=0},qt.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},qt.prototype.get=function(e){return this.__data__.get(e)},qt.prototype.has=function(e){return this.__data__.has(e)},qt.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ut){var n=r.__data__;if(!Bo||n.length<$-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vt(n)}return r.set(e,t),this.size=r.size,this};var ts=Un(dr),rs=Un(hr,!0),ns=Vn(),is=Vn(!0),as=qo?function(e,t){return qo.set(e,t),e}:Da,os=xo?function(e,t){return xo(e,"toString",{configurable:!0,enumerable:!1,value:Ia(t),writable:!0})}:Da,ss=ln,ls=wo||function(e){return Pr.clearTimeout(e)},us=Uo&&1/U(new Uo([,-0]))[1]==xe?function(e){return new Uo(e)}:Fa,cs=qo?function(e){return qo.get(e)}:Fa,ds=Lo?function(e){return null==e?[]:(e=$a(e),u(Lo(e),(function(t){return yo.call(e,t)})))}:ja,hs=Lo?function(e){for(var t=[];e;)p(t,ds(e)),e=mo(e);return t}:ja,ps=yr;(Fo&&ps(new Fo(new ArrayBuffer(1)))!=Qe||Bo&&ps(new Bo)!=Fe||jo&&ps(jo.resolve())!=Ve||Uo&&ps(new Uo)!=Ge||Vo&&ps(new Vo)!=He)&&(ps=function(e){var t=yr(e),r=t==Ue?e.constructor:Z,n=r?Ri(r):"";if(n)switch(n){case Zo:return Qe;case $o:return Fe;case Yo:return Ve;case Ho:return Ge;case Jo:return He}return t});var ms=eo?ua:Ua,fs=Ii(as),ys=So||function(e,t){return Pr.setTimeout(e,t)},gs=Ii(os),vs=function(e){var t=na(e,(function(e){return r.size===Q&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(bt,(function(e,r,n,i){t.push(n?i.replace(Ot,"$1"):r||e)})),t})),_s=ln((function(e,t){return sa(e)?or(e,cr(t,1,sa,!0)):[]})),bs=ln((function(e,t){var r=qi(t);return sa(r)&&(r=Z),sa(e)?or(e,cr(t,1,sa,!0),yi(r,2)):[]})),xs=ln((function(e,t){var r=qi(t);return sa(r)&&(r=Z),sa(e)?or(e,cr(t,1,sa,!0),Z,r):[]})),ws=ln((function(e){var t=h(e,Ln);return t.length&&t[0]===e[0]?wr(t):[]})),Ts=ln((function(e){var t=qi(e),r=h(e,Ln);return t===qi(r)?t=Z:r.pop(),r.length&&r[0]===e[0]?wr(r,yi(t,2)):[]})),Ss=ln((function(e){var t=qi(e),r=h(e,Ln);return(t="function"==typeof t?t:Z)&&r.pop(),r.length&&r[0]===e[0]?wr(r,Z,t):[]})),ks=ln(Gi),Cs=di((function(e,t){var r=null==e?0:e.length,n=tr(e,t);return an(e,h(t,(function(e){return Ti(e,r)?+e:e})).sort(In)),n})),Ls=ln((function(e){return bn(cr(e,1,sa,!0))})),Ns=ln((function(e){var t=qi(e);return sa(t)&&(t=Z),bn(cr(e,1,sa,!0),yi(t,2))})),As=ln((function(e){var t=qi(e);return t="function"==typeof t?t:Z,bn(cr(e,1,sa,!0),Z,t)})),Os=ln((function(e,t){return sa(e)?or(e,t):[]})),Es=ln((function(e){return kn(u(e,sa))})),Ps=ln((function(e){var t=qi(e);return sa(t)&&(t=Z),kn(u(e,sa),yi(t,2))})),Ms=ln((function(e){var t=qi(e);return t="function"==typeof t?t:Z,kn(u(e,sa),Z,t)})),Is=ln($i),Ds=ln((function(e){var t=e.length,r=t>1?e[t-1]:Z;return r="function"==typeof r?(e.pop(),r):Z,Yi(e,r)})),zs=di((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return tr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof St&&Ti(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:Ji,args:[i],thisArg:Z}),new k(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(Z),e}))):this.thru(i)})),Rs=Bn((function(e,t,r){ro.call(e,r)?++e[r]:er(e,r,1)})),Fs=$n(ji),Bs=$n(Ui),js=Bn((function(e,t,r){ro.call(e,r)?e[r].push(t):er(e,r,[t])})),Us=ln((function(e,t,r){var n=-1,a="function"==typeof t,o=oa(e)?Va(e.length):[];return ts(e,(function(e){o[++n]=a?i(t,e,r):Lr(e,t,r)})),o})),Vs=Bn((function(e,t,r){er(e,r,t)})),Ws=Bn((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),qs=ln((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Si(e,t[0],t[1])?t=[]:r>2&&Si(t[0],t[1],t[2])&&(t=[t[0]]),tn(e,cr(t,1),[])})),Gs=To||function(){return Pr.Date.now()},Zs=ln((function(e,t,r){var n=ae;if(r.length){var i=j(r,fi(Zs));n|=ce}return oi(e,n,t,r,i)})),$s=ln((function(e,t,r){var n=ae|oe;if(r.length){var i=j(r,fi($s));n|=ce}return oi(t,n,e,r,i)})),Ys=ln((function(e,t){return ar(e,1,t)})),Hs=ln((function(e,t,r){return ar(e,wa(t)||0,r)}));na.Cache=Vt;var Js=ss((function(e,t){var r=(t=1==t.length&&nl(t[0])?h(t[0],O(yi())):h(cr(t,1),O(yi()))).length;return ln((function(n){for(var a=-1,o=Mo(n.length,r);++a<o;)n[a]=t[a].call(this,n[a]);return i(e,this,n)}))})),Xs=ln((function(e,t){return oi(e,ce,Z,t,j(t,fi(Xs)))})),Qs=ln((function(e,t){return oi(e,de,Z,t,j(t,fi(Qs)))})),Ks=di((function(e,t){return oi(e,pe,Z,Z,Z,t)})),el=ri(_r),tl=ri((function(e,t){return e>=t})),rl=Or(function(){return arguments}())?Or:function(e){return pa(e)&&ro.call(e,"callee")&&!yo.call(e,"callee")},nl=Va.isArray,il=Fr?O(Fr):function(e){return pa(e)&&yr(e)==Xe},al=No||Ua,ol=Br?O(Br):function(e){return pa(e)&&yr(e)==Me},sl=jr?O(jr):function(e){return pa(e)&&ps(e)==Fe},ll=Ur?O(Ur):function(e){return pa(e)&&yr(e)==qe},ul=Vr?O(Vr):function(e){return pa(e)&&ps(e)==Ge},cl=Wr?O(Wr):function(e){return pa(e)&&da(e.length)&&!!kr[yr(e)]},dl=ri(Hr),hl=ri((function(e,t){return e<=t})),pl=jn((function(e,t){if(Li(t)||oa(t))return Fn(t,La(t),e),Z;for(var r in t)ro.call(t,r)&&Jt(e,r,t[r])})),ml=jn((function(e,t){Fn(t,Na(t),e)})),fl=jn((function(e,t,r,n){Fn(t,Na(t),e,n)})),yl=jn((function(e,t,r,n){Fn(t,La(t),e,n)})),gl=di(tr),vl=ln((function(e,t){e=$a(e);var r=-1,n=t.length,i=n>2?t[2]:Z;for(i&&Si(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=Na(a),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(c===Z||aa(c,Ka[u])&&!ro.call(e,u))&&(e[u]=a[u])}return e})),_l=ln((function(e){return e.push(Z,li),i(Sl,Z,e)})),bl=Jn((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ao.call(t)),e[t]=r}),Ia(Da)),xl=Jn((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ao.call(t)),ro.call(e,t)?e[t].push(r):e[t]=[r]}),yi),wl=ln(Lr),Tl=jn((function(e,t,r){Kr(e,t,r)})),Sl=jn((function(e,t,r,n){Kr(e,t,r,n)})),kl=di((function(e,t){var r={};if(null==e)return r;var n=!1;t=h(t,(function(t){return t=An(t,e),n||(n=t.length>1),t})),Fn(e,pi(e),r),n&&(r=nr(r,ee|te|re,ui));for(var i=t.length;i--;)xn(r,t[i]);return r})),Cl=di((function(e,t){return null==e?{}:function(e,t){return rn(e,t,(function(t,r){return Ca(e,r)}))}(e,t)})),Ll=ai(La),Nl=ai(Na),Al=qn((function(e,t,r){return t=t.toLowerCase(),e+(r?Ea(t):t)})),Ol=qn((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),El=qn((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Pl=Wn("toLowerCase"),Ml=qn((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Il=qn((function(e,t,r){return e+(r?" ":"")+zl(t)})),Dl=qn((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),zl=Wn("toUpperCase"),Rl=ln((function(e,t){try{return i(e,Z,t)}catch(e){return la(e)?e:new qa(e)}})),Fl=di((function(e,t){return o(t,(function(t){t=zi(t),er(e,t,Zs(e[t],e))})),e})),Bl=Yn(),jl=Yn(!0),Ul=ln((function(e,t){return function(r){return Lr(r,e,t)}})),Vl=ln((function(e,t){return function(r){return Lr(e,r,t)}})),Wl=Qn(h),ql=Qn(l),Gl=Qn(y),Zl=ti(),$l=ti(!0),Yl=Xn((function(e,t){return e+t}),0),Hl=ii("ceil"),Jl=Xn((function(e,t){return e/t}),1),Xl=ii("floor"),Ql=Xn((function(e,t){return e*t}),1),Kl=ii("round"),eu=Xn((function(e,t){return e-t}),0);return r.after=function(e,t){if("function"!=typeof t)throw new Ja(H);return e=ba(e),function(){if(--e<1)return t.apply(this,arguments)}},r.ary=ea,r.assign=pl,r.assignIn=ml,r.assignInWith=fl,r.assignWith=yl,r.at=gl,r.before=ta,r.bind=Zs,r.bindAll=Fl,r.bindKey=$s,r.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return nl(e)?e:[e]},r.chain=Hi,r.chunk=function(e,t,r){t=(r?Si(e,t,r):t===Z)?1:Po(ba(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var i=0,a=0,o=Va(ko(n/t));i<n;)o[a++]=pn(e,i,i+=t);return o},r.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},r.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Va(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return p(nl(r)?Rn(r):[r],cr(t,1))},r.cond=function(e){var t=null==e?0:e.length,r=yi();return e=t?h(e,(function(e){if("function"!=typeof e[1])throw new Ja(H);return[r(e[0]),e[1]]})):[],ln((function(r){for(var n=-1;++n<t;){var a=e[n];if(i(a[0],this,r))return i(a[1],this,r)}}))},r.conforms=function(e){return function(e){var t=La(e);return function(r){return ir(r,e,t)}}(nr(e,ee))},r.constant=Ia,r.countBy=Rs,r.create=function(e,t){var r=es(e);return null==t?r:Kt(r,t)},r.curry=function e(t,r,n){var i=oi(t,le,Z,Z,Z,Z,Z,r=n?Z:r);return i.placeholder=e.placeholder,i},r.curryRight=function e(t,r,n){var i=oi(t,ue,Z,Z,Z,Z,Z,r=n?Z:r);return i.placeholder=e.placeholder,i},r.debounce=ra,r.defaults=vl,r.defaultsDeep=_l,r.defer=Ys,r.delay=Hs,r.difference=_s,r.differenceBy=bs,r.differenceWith=xs,r.drop=function(e,t,r){var n=null==e?0:e.length;return n?pn(e,(t=r||t===Z?1:ba(t))<0?0:t,n):[]},r.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?pn(e,0,(t=n-(t=r||t===Z?1:ba(t)))<0?0:t):[]},r.dropRightWhile=function(e,t){return e&&e.length?Tn(e,yi(t,3),!0,!0):[]},r.dropWhile=function(e,t){return e&&e.length?Tn(e,yi(t,3),!0):[]},r.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Si(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ba(r))<0&&(r=-r>i?0:i+r),(n=n===Z||n>i?i:ba(n))<0&&(n+=i),n=r>n?0:xa(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},r.filter=function(e,t){return(nl(e)?u:ur)(e,yi(t,3))},r.flatMap=function(e,t){return cr(Ki(e,t),1)},r.flatMapDeep=function(e,t){return cr(Ki(e,t),xe)},r.flatMapDepth=function(e,t,r){return r=r===Z?1:ba(r),cr(Ki(e,t),r)},r.flatten=Vi,r.flattenDeep=function(e){return null!=e&&e.length?cr(e,xe):[]},r.flattenDepth=function(e,t){return null!=e&&e.length?cr(e,t=t===Z?1:ba(t)):[]},r.flip=function(e){return oi(e,me)},r.flow=Bl,r.flowRight=jl,r.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},r.functions=function(e){return null==e?[]:pr(e,La(e))},r.functionsIn=function(e){return null==e?[]:pr(e,Na(e))},r.groupBy=js,r.initial=function(e){return null!=e&&e.length?pn(e,0,-1):[]},r.intersection=ws,r.intersectionBy=Ts,r.intersectionWith=Ss,r.invert=bl,r.invertBy=xl,r.invokeMap=Us,r.iteratee=za,r.keyBy=Vs,r.keys=La,r.keysIn=Na,r.map=Ki,r.mapKeys=function(e,t){var r={};return t=yi(t,3),dr(e,(function(e,n,i){er(r,t(e,n,i),e)})),r},r.mapValues=function(e,t){var r={};return t=yi(t,3),dr(e,(function(e,n,i){er(r,n,t(e,n,i))})),r},r.matches=function(e){return Xr(nr(e,ee))},r.matchesProperty=function(e,t){return Qr(e,nr(t,ee))},r.memoize=na,r.merge=Tl,r.mergeWith=Sl,r.method=Ul,r.methodOf=Vl,r.mixin=Ra,r.negate=ia,r.nthArg=function(e){return e=ba(e),ln((function(t){return en(t,e)}))},r.omit=kl,r.omitBy=function(e,t){return Aa(e,ia(yi(t)))},r.once=function(e){return ta(2,e)},r.orderBy=function(e,t,r,n){return null==e?[]:(nl(t)||(t=null==t?[]:[t]),nl(r=n?Z:r)||(r=null==r?[]:[r]),tn(e,t,r))},r.over=Wl,r.overArgs=Js,r.overEvery=ql,r.overSome=Gl,r.partial=Xs,r.partialRight=Qs,r.partition=Ws,r.pick=Cl,r.pickBy=Aa,r.property=Ba,r.propertyOf=function(e){return function(t){return null==e?Z:mr(e,t)}},r.pull=ks,r.pullAll=Gi,r.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?nn(e,t,yi(r,2)):e},r.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?nn(e,t,Z,r):e},r.pullAt=Cs,r.range=Zl,r.rangeRight=$l,r.rearg=Ks,r.reject=function(e,t){return(nl(e)?u:ur)(e,ia(yi(t,3)))},r.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=yi(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return an(e,i),r},r.rest=function(e,t){if("function"!=typeof e)throw new Ja(H);return ln(e,t=t===Z?t:ba(t))},r.reverse=Zi,r.sampleSize=function(e,t,r){return t=(r?Si(e,t,r):t===Z)?1:ba(t),(nl(e)?$t:cn)(e,t)},r.set=function(e,t,r){return null==e?e:dn(e,t,r)},r.setWith=function(e,t,r,n){return n="function"==typeof n?n:Z,null==e?e:dn(e,t,r,n)},r.shuffle=function(e){return(nl(e)?Yt:hn)(e)},r.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Si(e,t,r)?(t=0,r=n):(t=null==t?0:ba(t),r=r===Z?n:ba(r)),pn(e,t,r)):[]},r.sortBy=qs,r.sortedUniq=function(e){return e&&e.length?gn(e):[]},r.sortedUniqBy=function(e,t){return e&&e.length?gn(e,yi(t,2)):[]},r.split=function(e,t,r){return r&&"number"!=typeof r&&Si(e,t,r)&&(t=r=Z),(r=r===Z?ke:r>>>0)?(e=Sa(e))&&("string"==typeof t||null!=t&&!ll(t))&&(!(t=_n(t))&&z(e))?On(W(e),0,r):e.split(t,r):[]},r.spread=function(e,t){if("function"!=typeof e)throw new Ja(H);return t=null==t?0:Po(ba(t),0),ln((function(r){var n=r[t],a=On(r,0,t);return n&&p(a,n),i(e,this,a)}))},r.tail=function(e){var t=null==e?0:e.length;return t?pn(e,1,t):[]},r.take=function(e,t,r){return e&&e.length?pn(e,0,(t=r||t===Z?1:ba(t))<0?0:t):[]},r.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?pn(e,(t=n-(t=r||t===Z?1:ba(t)))<0?0:t,n):[]},r.takeRightWhile=function(e,t){return e&&e.length?Tn(e,yi(t,3),!1,!0):[]},r.takeWhile=function(e,t){return e&&e.length?Tn(e,yi(t,3)):[]},r.tap=function(e,t){return t(e),e},r.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ja(H);return ha(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ra(e,t,{leading:n,maxWait:t,trailing:i})},r.thru=Ji,r.toArray=va,r.toPairs=Ll,r.toPairsIn=Nl,r.toPath=function(e){return nl(e)?h(e,zi):ga(e)?[e]:Rn(vs(Sa(e)))},r.toPlainObject=Ta,r.transform=function(e,t,r){var n=nl(e),i=n||al(e)||cl(e);if(t=yi(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:ha(e)&&ua(a)?es(mo(e)):{}}return(i?o:dr)(e,(function(e,n,i){return t(r,e,n,i)})),r},r.unary=function(e){return ea(e,1)},r.union=Ls,r.unionBy=Ns,r.unionWith=As,r.uniq=function(e){return e&&e.length?bn(e):[]},r.uniqBy=function(e,t){return e&&e.length?bn(e,yi(t,2)):[]},r.uniqWith=function(e,t){return t="function"==typeof t?t:Z,e&&e.length?bn(e,Z,t):[]},r.unset=function(e,t){return null==e||xn(e,t)},r.unzip=$i,r.unzipWith=Yi,r.update=function(e,t,r){return null==e?e:wn(e,t,Nn(r))},r.updateWith=function(e,t,r,n){return n="function"==typeof n?n:Z,null==e?e:wn(e,t,Nn(r),n)},r.values=Oa,r.valuesIn=function(e){return null==e?[]:E(e,Na(e))},r.without=Os,r.words=Ma,r.wrap=function(e,t){return Xs(Nn(t),e)},r.xor=Es,r.xorBy=Ps,r.xorWith=Ms,r.zip=Is,r.zipObject=function(e,t){return Cn(e||[],t||[],Jt)},r.zipObjectDeep=function(e,t){return Cn(e||[],t||[],dn)},r.zipWith=Ds,r.entries=Ll,r.entriesIn=Nl,r.extend=ml,r.extendWith=fl,Ra(r,r),r.add=Yl,r.attempt=Rl,r.camelCase=Al,r.capitalize=Ea,r.ceil=Hl,r.clamp=function(e,t,r){return r===Z&&(r=t,t=Z),r!==Z&&(r=(r=wa(r))==r?r:0),t!==Z&&(t=(t=wa(t))==t?t:0),rr(wa(e),t,r)},r.clone=function(e){return nr(e,re)},r.cloneDeep=function(e){return nr(e,ee|re)},r.cloneDeepWith=function(e,t){return nr(e,ee|re,t="function"==typeof t?t:Z)},r.cloneWith=function(e,t){return nr(e,re,t="function"==typeof t?t:Z)},r.conformsTo=function(e,t){return null==t||ir(e,t,La(t))},r.deburr=Pa,r.defaultTo=function(e,t){return null==e||e!=e?t:e},r.divide=Jl,r.endsWith=function(e,t,r){e=Sa(e),t=_n(t);var n=e.length,i=r=r===Z?n:rr(ba(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},r.eq=aa,r.escape=function(e){return(e=Sa(e))&&mt.test(e)?e.replace(ht,Zr):e},r.escapeRegExp=function(e){return(e=Sa(e))&&wt.test(e)?e.replace(xt,"\\$&"):e},r.every=function(e,t,r){var n=nl(e)?l:sr;return r&&Si(e,t,r)&&(t=Z),n(e,yi(t,3))},r.find=Fs,r.findIndex=ji,r.findKey=function(e,t){return v(e,yi(t,3),dr)},r.findLast=Bs,r.findLastIndex=Ui,r.findLastKey=function(e,t){return v(e,yi(t,3),hr)},r.floor=Xl,r.forEach=Xi,r.forEachRight=Qi,r.forIn=function(e,t){return null==e?e:ns(e,yi(t,3),Na)},r.forInRight=function(e,t){return null==e?e:is(e,yi(t,3),Na)},r.forOwn=function(e,t){return e&&dr(e,yi(t,3))},r.forOwnRight=function(e,t){return e&&hr(e,yi(t,3))},r.get=ka,r.gt=el,r.gte=tl,r.has=function(e,t){return null!=e&&bi(e,t,br)},r.hasIn=Ca,r.head=Wi,r.identity=Da,r.includes=function(e,t,r,n){e=oa(e)?e:Oa(e),r=r&&!n?ba(r):0;var i=e.length;return r<0&&(r=Po(i+r,0)),ya(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&b(e,t,r)>-1},r.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ba(r);return i<0&&(i=Po(n+i,0)),b(e,t,i)},r.inRange=function(e,t,r){return t=_a(t),r===Z?(r=t,t=0):r=_a(r),function(e,t,r){return e>=Mo(t,r)&&e<Po(t,r)}(e=wa(e),t,r)},r.invoke=wl,r.isArguments=rl,r.isArray=nl,r.isArrayBuffer=il,r.isArrayLike=oa,r.isArrayLikeObject=sa,r.isBoolean=function(e){return!0===e||!1===e||pa(e)&&yr(e)==Pe},r.isBuffer=al,r.isDate=ol,r.isElement=function(e){return pa(e)&&1===e.nodeType&&!fa(e)},r.isEmpty=function(e){if(null==e)return!0;if(oa(e)&&(nl(e)||"string"==typeof e||"function"==typeof e.splice||al(e)||cl(e)||rl(e)))return!e.length;var t=ps(e);if(t==Fe||t==Ge)return!e.size;if(Li(e))return!Rr(e).length;for(var r in e)if(ro.call(e,r))return!1;return!0},r.isEqual=function(e,t){return Er(e,t)},r.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:Z)?r(e,t):Z;return n===Z?Er(e,t,Z,r):!!n},r.isError=la,r.isFinite=function(e){return"number"==typeof e&&Ao(e)},r.isFunction=ua,r.isInteger=ca,r.isLength=da,r.isMap=sl,r.isMatch=function(e,t){return e===t||Mr(e,t,vi(t))},r.isMatchWith=function(e,t,r){return r="function"==typeof r?r:Z,Mr(e,t,vi(t),r)},r.isNaN=function(e){return ma(e)&&e!=+e},r.isNative=function(e){if(ms(e))throw new qa(Y);return Ir(e)},r.isNil=function(e){return null==e},r.isNull=function(e){return null===e},r.isNumber=ma,r.isObject=ha,r.isObjectLike=pa,r.isPlainObject=fa,r.isRegExp=ll,r.isSafeInteger=function(e){return ca(e)&&e>=-we&&e<=we},r.isSet=ul,r.isString=ya,r.isSymbol=ga,r.isTypedArray=cl,r.isUndefined=function(e){return e===Z},r.isWeakMap=function(e){return pa(e)&&ps(e)==He},r.isWeakSet=function(e){return pa(e)&&yr(e)==Je},r.join=function(e,t){return null==e?"":Oo.call(e,t)},r.kebabCase=Ol,r.last=qi,r.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==Z&&(i=(i=ba(r))<0?Po(n+i,0):Mo(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):_(e,w,i,!0)},r.lowerCase=El,r.lowerFirst=Pl,r.lt=dl,r.lte=hl,r.max=function(e){return e&&e.length?lr(e,Da,_r):Z},r.maxBy=function(e,t){return e&&e.length?lr(e,yi(t,2),_r):Z},r.mean=function(e){return T(e,Da)},r.meanBy=function(e,t){return T(e,yi(t,2))},r.min=function(e){return e&&e.length?lr(e,Da,Hr):Z},r.minBy=function(e,t){return e&&e.length?lr(e,yi(t,2),Hr):Z},r.stubArray=ja,r.stubFalse=Ua,r.stubObject=function(){return{}},r.stubString=function(){return""},r.stubTrue=function(){return!0},r.multiply=Ql,r.nth=function(e,t){return e&&e.length?en(e,ba(t)):Z},r.noConflict=function(){return Pr._===this&&(Pr._=so),this},r.noop=Fa,r.now=Gs,r.pad=function(e,t,r){e=Sa(e);var n=(t=ba(t))?V(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Kn(Co(i),r)+e+Kn(ko(i),r)},r.padEnd=function(e,t,r){e=Sa(e);var n=(t=ba(t))?V(e):0;return t&&n<t?e+Kn(t-n,r):e},r.padStart=function(e,t,r){e=Sa(e);var n=(t=ba(t))?V(e):0;return t&&n<t?Kn(t-n,r)+e:e},r.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Do(Sa(e).replace(Tt,""),t||0)},r.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Si(e,t,r)&&(t=r=Z),r===Z&&("boolean"==typeof t?(r=t,t=Z):"boolean"==typeof e&&(r=e,e=Z)),e===Z&&t===Z?(e=0,t=1):(e=_a(e),t===Z?(t=e,e=0):t=_a(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=zo();return Mo(e+i*(t-e+Nr("1e-"+((i+"").length-1))),t)}return on(e,t)},r.reduce=function(e,t,r){var n=nl(e)?m:C,i=arguments.length<3;return n(e,yi(t,4),r,i,ts)},r.reduceRight=function(e,t,r){var n=nl(e)?f:C,i=arguments.length<3;return n(e,yi(t,4),r,i,rs)},r.repeat=function(e,t,r){return t=(r?Si(e,t,r):t===Z)?1:ba(t),sn(Sa(e),t)},r.replace=function(){var e=arguments,t=Sa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},r.result=function(e,t,r){var n=-1,i=(t=An(t,e)).length;for(i||(i=1,e=Z);++n<i;){var a=null==e?Z:e[zi(t[n])];a===Z&&(n=i,a=r),e=ua(a)?a.call(e):a}return e},r.round=Kl,r.runInContext=e,r.sample=function(e){return(nl(e)?Zt:un)(e)},r.size=function(e){if(null==e)return 0;if(oa(e))return ya(e)?V(e):e.length;var t=ps(e);return t==Fe||t==Ge?e.size:Rr(e).length},r.snakeCase=Ml,r.some=function(e,t,r){var n=nl(e)?y:mn;return r&&Si(e,t,r)&&(t=Z),n(e,yi(t,3))},r.sortedIndex=function(e,t){return fn(e,t)},r.sortedIndexBy=function(e,t,r){return yn(e,t,yi(r,2))},r.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=fn(e,t);if(n<r&&aa(e[n],t))return n}return-1},r.sortedLastIndex=function(e,t){return fn(e,t,!0)},r.sortedLastIndexBy=function(e,t,r){return yn(e,t,yi(r,2),!0)},r.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=fn(e,t,!0)-1;if(aa(e[r],t))return r}return-1},r.startCase=Il,r.startsWith=function(e,t,r){return e=Sa(e),r=null==r?0:rr(ba(r),0,e.length),t=_n(t),e.slice(r,r+t.length)==t},r.subtract=eu,r.sum=function(e){return e&&e.length?L(e,Da):0},r.sumBy=function(e,t){return e&&e.length?L(e,yi(t,2)):0},r.template=function(e,t,n){var i=r.templateSettings;n&&Si(e,t,n)&&(t=Z),e=Sa(e),t=fl({},t,i,si);var a,o,s=fl({},t.imports,i.imports,si),l=La(s),u=E(s,l),c=0,d=t.interpolate||Bt,h="__p += '",p=Ya((t.escape||Bt).source+"|"+d.source+"|"+(d===gt?Et:Bt).source+"|"+(t.evaluate||Bt).source+"|$","g"),m="//# sourceURL="+(ro.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sr+"]")+"\n";e.replace(p,(function(t,r,n,i,s,l){return n||(n=i),h+=e.slice(c,l).replace(jt,D),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var f=ro.call(t,"variable")&&t.variable;if(f){if(At.test(f))throw new qa(J)}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(lt,""):h).replace(ut,"$1").replace(ct,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Rl((function(){return Ga(l,m+"return "+h).apply(Z,u)}));if(y.source=h,la(y))throw y;return y},r.times=function(e,t){if((e=ba(e))<1||e>we)return[];var r=ke,n=Mo(e,ke);t=yi(t),e-=ke;for(var i=N(n,t);++r<e;)t(r);return i},r.toFinite=_a,r.toInteger=ba,r.toLength=xa,r.toLower=function(e){return Sa(e).toLowerCase()},r.toNumber=wa,r.toSafeInteger=function(e){return e?rr(ba(e),-we,we):0===e?e:0},r.toString=Sa,r.toUpper=function(e){return Sa(e).toUpperCase()},r.trim=function(e,t,r){if((e=Sa(e))&&(r||t===Z))return A(e);if(!e||!(t=_n(t)))return e;var n=W(e),i=W(t);return On(n,M(n,i),I(n,i)+1).join("")},r.trimEnd=function(e,t,r){if((e=Sa(e))&&(r||t===Z))return e.slice(0,q(e)+1);if(!e||!(t=_n(t)))return e;var n=W(e);return On(n,0,I(n,W(t))+1).join("")},r.trimStart=function(e,t,r){if((e=Sa(e))&&(r||t===Z))return e.replace(Tt,"");if(!e||!(t=_n(t)))return e;var n=W(e);return On(n,M(n,W(t))).join("")},r.truncate=function(e,t){var r=fe,n=ye;if(ha(t)){var i="separator"in t?t.separator:i;r="length"in t?ba(t.length):r,n="omission"in t?_n(t.omission):n}var a=(e=Sa(e)).length;if(z(e)){var o=W(e);a=o.length}if(r>=a)return e;var s=r-V(n);if(s<1)return n;var l=o?On(o,0,s).join(""):e.slice(0,s);if(i===Z)return l+n;if(o&&(s+=l.length-s),ll(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=Ya(i.source,Sa(Pt.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===Z?s:d)}}else if(e.indexOf(_n(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+n},r.unescape=function(e){return(e=Sa(e))&&pt.test(e)?e.replace(dt,$r):e},r.uniqueId=function(e){var t=++no;return Sa(e)+t},r.upperCase=Dl,r.upperFirst=zl,r.each=Xi,r.eachRight=Qi,r.first=Wi,Ra(r,function(){var e={};return dr(r,(function(t,n){ro.call(r.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),r.VERSION="4.17.21",o(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){r[e].placeholder=r})),o(["drop","take"],(function(e,t){St.prototype[e]=function(r){r=r===Z?1:Po(ba(r),0);var n=this.__filtered__&&!t?new St(this):this.clone();return n.__filtered__?n.__takeCount__=Mo(r,n.__takeCount__):n.__views__.push({size:Mo(r,ke),type:e+(n.__dir__<0?"Right":"")}),n},St.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),o(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==_e||3==r;St.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:yi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),o(["head","last"],(function(e,t){var r="take"+(t?"Right":"");St.prototype[e]=function(){return this[r](1).value()[0]}})),o(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");St.prototype[e]=function(){return this.__filtered__?new St(this):this[r](1)}})),St.prototype.compact=function(){return this.filter(Da)},St.prototype.find=function(e){return this.filter(e).head()},St.prototype.findLast=function(e){return this.reverse().find(e)},St.prototype.invokeMap=ln((function(e,t){return"function"==typeof e?new St(this):this.map((function(r){return Lr(r,e,t)}))})),St.prototype.reject=function(e){return this.filter(ia(yi(e)))},St.prototype.slice=function(e,t){e=ba(e);var r=this;return r.__filtered__&&(e>0||t<0)?new St(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==Z&&(r=(t=ba(t))<0?r.dropRight(-t):r.take(t-e)),r)},St.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},St.prototype.toArray=function(){return this.take(ke)},dr(St.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=r[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(r.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof St,u=s[0],c=l||nl(t),d=function(e){var t=a.apply(r,p([e],s));return i&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,m=!!this.__actions__.length,f=o&&!h,y=l&&!m;if(!o&&c){t=y?t:new St(this);var g=e.apply(t,s);return g.__actions__.push({func:Ji,args:[d],thisArg:Z}),new k(g,h)}return f&&y?e.apply(this,s):(g=this.thru(d),f?i?g.value()[0]:g.value():g)})})),o(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Xa[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);r.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(nl(r)?r:[],e)}return this[n]((function(r){return t.apply(nl(r)?r:[],e)}))}})),dr(St.prototype,(function(e,t){var n=r[t];if(n){var i=n.name+"";ro.call(Go,i)||(Go[i]=[]),Go[i].push({name:t,func:n})}})),Go[Hn(Z,oe).name]=[{name:"wrapper",func:Z}],St.prototype.clone=function(){var e=new St(this.__wrapped__);return e.__actions__=Rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Rn(this.__views__),e},St.prototype.reverse=function(){if(this.__filtered__){var e=new St(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},St.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=nl(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Mo(t,e+o);break;case"takeRight":e=Po(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=n?s:o-1,c=this.__iteratees__,d=c.length,h=0,p=Mo(l,this.__takeCount__);if(!r||!n&&i==l&&p==l)return Sn(e,this.__actions__);var m=[];e:for(;l--&&h<p;){for(var f=-1,y=e[u+=t];++f<d;){var g=c[f],v=g.iteratee,_=g.type,b=v(y);if(_==be)y=b;else if(!b){if(_==_e)continue e;break e}}m[h++]=y}return m},r.prototype.at=zs,r.prototype.chain=function(){return Hi(this)},r.prototype.commit=function(){return new k(this.value(),this.__chain__)},r.prototype.next=function(){this.__values__===Z&&(this.__values__=va(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Z:this.__values__[this.__index__++]}},r.prototype.plant=function(e){for(var t,r=this;r instanceof n;){var i=Bi(r);i.__index__=0,i.__values__=Z,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},r.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof St){var t=e;return this.__actions__.length&&(t=new St(this)),(t=t.reverse()).__actions__.push({func:Ji,args:[Zi],thisArg:Z}),new k(t,this.__chain__)}return this.thru(Zi)},r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=function(){return Sn(this.__wrapped__,this.__actions__)},r.prototype.first=r.prototype.head,_o&&(r.prototype[_o]=function(){return this}),r}();Pr._=Yr,void 0===(n=function(){return Yr}.call(t,r,t,e))||(e.exports=n)}.call(this)},36412:(e,t,r)=>{var n=r(67489),i="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},3526:(e,t,r)=>{var n=r(19553),i=r(64651),a=r(10235),o=r(9997);e.exports=function(e){return a(e)?n(o(e)):i(e)}},23065:(e,t,r)=>{var n=r(97593),i=r(59962),a=r(80790),o=r(80339),s=a((function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,n(t,1),[])}));e.exports=s},8519:(e,t,r)=>{var n=r(48066),i=1/0,a=17976931348623157e292;e.exports=function(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},57550:(e,t,r)=>{var n=r(8519);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},80106:(e,t,r)=>{var n=r(17736);e.exports=function(e){return null==e?"":n(e)}},26059:function(e,t,r){var n,i;!function(a,o){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?a:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}function s(t,r){for(var i=0;i<n.length;i++){var a=n[i];this[a]=i<t?e:this.methodFactory(a,t,r)}this.log=this.debug}function l(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function u(e,t,r){return o(e)||l.apply(this,arguments)}function c(e,r,i){var a,o=this;r=null==r?"WARN":r;var l="loglevel";function c(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}function d(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}function h(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||u,o.getLevel=function(){return a},o.setLevel=function(r,n){if("string"==typeof r&&void 0!==o.levels[r.toUpperCase()]&&(r=o.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==n&&c(r),s.call(o,r,e),typeof console===t&&r<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){r=e,d()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(r,!1),h()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var p=d();null==p&&(p=r),o.setLevel(p,!1)}var d=new c,h={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new c(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return h},d.default=d,d},void 0===(i="function"==typeof n?n.call(t,r,t,e):n)||(e.exports=i)}()},53453:e=>{e.exports=function(e,t,r,n){var i=e[0],a=e[1],o=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=(n-r)/2,l=0,u=s-1;l<s;u=l++){var c=t[r+2*l+0],d=t[r+2*l+1],h=t[r+2*u+0],p=t[r+2*u+1];d>a!=p>a&&i<(h-c)*(a-d)/(p-d)+c&&(o=!o)}return o}},54128:(e,t,r)=>{var n=r(53453),i=r(63971);e.exports=function(e,t,r,a){return t.length>0&&Array.isArray(t[0])?i(e,t,r,a):n(e,t,r,a)},e.exports.nested=i,e.exports.flat=n},63971:e=>{e.exports=function(e,t,r,n){var i=e[0],a=e[1],o=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=n-r,l=0,u=s-1;l<s;u=l++){var c=t[l+r][0],d=t[l+r][1],h=t[u+r][0],p=t[u+r][1];d>a!=p>a&&i<(h-c)*(a-d)/(p-d)+c&&(o=!o)}return o}},60985:(e,t,r)=>{"use strict";var n=r(34764);function i(e,t,r){var i,s,l,u;t=t||1;for(var c=0;c<e[0].length;c++){var d=e[0][c];(!c||d[0]<i)&&(i=d[0]),(!c||d[1]<s)&&(s=d[1]),(!c||d[0]>l)&&(l=d[0]),(!c||d[1]>u)&&(u=d[1])}var h=l-i,p=u-s,m=Math.min(h,p),f=m/2;if(0===m){var y=[i,s];return y.distance=0,y}for(var g=new n(void 0,a),v=i;v<l;v+=m)for(var _=s;_<u;_+=m)g.push(new o(v+f,_+f,f,e));var b=function(e){for(var t=0,r=0,n=0,i=e[0],a=0,s=i.length,l=s-1;a<s;l=a++){var u=i[a],c=i[l],d=u[0]*c[1]-c[0]*u[1];r+=(u[0]+c[0])*d,n+=(u[1]+c[1])*d,t+=3*d}return 0===t?new o(i[0][0],i[0][1],0,e):new o(r/t,n/t,0,e)}(e),x=new o(i+h/2,s+p/2,0,e);x.d>b.d&&(b=x);for(var w=g.length;g.length;){var T=g.pop();T.d>b.d&&(b=T,r&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,w)),T.max-b.d<=t||(f=T.h/2,g.push(new o(T.x-f,T.y-f,f,e)),g.push(new o(T.x+f,T.y-f,f,e)),g.push(new o(T.x-f,T.y+f,f,e)),g.push(new o(T.x+f,T.y+f,f,e)),w+=4)}r&&(console.log("num probes: "+w),console.log("best distance: "+b.d));var S=[b.x,b.y];return S.distance=b.d,S}function a(e,t){return t.max-e.max}function o(e,t,r,n){this.x=e,this.y=t,this.h=r,this.d=function(e,t,r){for(var n=!1,i=1/0,a=0;a<r.length;a++)for(var o=r[a],l=0,u=o.length,c=u-1;l<u;c=l++){var d=o[l],h=o[c];d[1]>t!=h[1]>t&&e<(h[0]-d[0])*(t-d[1])/(h[1]-d[1])+d[0]&&(n=!n),i=Math.min(i,s(e,t,d,h))}return 0===i?0:(n?1:-1)*Math.sqrt(i)}(e,t,n),this.max=this.d+this.h*Math.SQRT2}function s(e,t,r,n){var i=r[0],a=r[1],o=n[0]-i,s=n[1]-a;if(0!==o||0!==s){var l=((e-i)*o+(t-a)*s)/(o*o+s*s);l>1?(i=n[0],a=n[1]):l>0&&(i+=o*l,a+=s*l)}return(o=e-i)*o+(s=t-a)*s}n.default&&(n=n.default),e.exports=i,e.exports.default=i},74014:function(e){e.exports=function(){"use strict";function e(e,n,i,a,o){!function e(r,n,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(r,n,Math.max(i,Math.floor(n-l*c/s+d)),Math.min(a,Math.floor(n+(s-l)*c/s+d)),o)}var h=r[n],p=i,m=a;for(t(r,i,n),o(r[a],h)>0&&t(r,i,a);p<m;){for(t(r,p,m),p++,m--;o(r[p],h)<0;)p++;for(;o(r[m],h)>0;)m--}0===o(r[i],h)?t(r,i,m):t(r,++m,a),m<=n&&(i=m+1),n<=m&&(a=m-1)}}(e,n,i||0,a||e.length-1,o||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,r,n,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a=t;a<r;a++){var o=e.children[a];s(i,e.leaf?n(o):o)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(t,r,n,i,a){for(var o=[r,n];o.length;)if(!((n=o.pop())-(r=o.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;e(t,s,r,n,a),o.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!p(e,t))return r;for(var n=this.toBBox,i=[];t;){for(var a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?n(o):o;p(e,s)&&(t.leaf?r.push(o):h(e,s)?this._all(o,r):i.push(o))}t=i.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],a=t.leaf?this.toBBox(i):i;if(p(e,a)){if(t.leaf||h(e,a))return!0;r.push(i)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=m([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,a,o=this.data,s=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],r=u.pop(),a=!0),o.leaf){var c=i(e,o.children,t);if(-1!==c)return o.children.splice(c,1),l.push(o),this._condense(l),this}a||o.leaf||!h(o,s)?n?(r++,o=n.children[r],a=!1):o=null:(l.push(o),u.push(r),r=0,n=o,o=o.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var i,o=r-t+1,s=this._maxEntries;if(o<=s)return a(i=m(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=m([])).leaf=!1,i.height=n;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));f(e,t,r,u,this.compareMinX);for(var c=t;c<=r;c+=u){var d=Math.min(c+u-1,r);f(e,c,d,l,this.compareMinY);for(var h=c;h<=d;h+=l){var p=Math.min(h+l-1,d);i.children.push(this._build(e,h,p,n-1))}}return a(i,this.toBBox),i},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var i=1/0,a=1/0,o=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),d=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-u);d<a?(a=d,i=u<i?u:i,o=l):d===a&&u<i&&(i=u,o=l)}t=o||t.children[0]}var h,p;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),i=[],a=this._chooseSubtree(n,this.data,t,i);for(a.children.push(e),s(a,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=m(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,a(r,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,i,a,s,l,u,d,h=1/0,p=1/0,m=t;m<=r-t;m++){var f=o(e,0,m,this.toBBox),y=o(e,m,r,this.toBBox),g=(i=f,a=y,s=void 0,l=void 0,u=void 0,d=void 0,s=Math.max(i.minX,a.minX),l=Math.max(i.minY,a.minY),u=Math.min(i.maxX,a.maxX),d=Math.min(i.maxY,a.maxY),Math.max(0,u-s)*Math.max(0,d-l)),v=c(f)+c(y);g<h?(h=g,n=m,p=v<p?v:p):g===h&&v<p&&(p=v,n=m)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var i=this.toBBox,a=o(e,0,t,i),l=o(e,r-t,r,i),u=d(a)+d(l),c=t;c<r-t;c++){var h=e.children[c];s(a,e.leaf?i(h):h),u+=d(a)}for(var p=r-t-1;p>=t;p--){var m=e.children[p];s(l,e.leaf?i(m):m),u+=d(l)}return u},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},n}()},76953:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case y:case f:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=f,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===s||e===o||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===f||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===v||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g)},t.typeOf=x},9419:(e,t,r)=>{"use strict";e.exports=r(76953)},87517:(e,t,r)=>{"use strict";r.d(t,{$j:()=>z});var n=r(56863),i=r(82152),a=r(19176);let o=function(e){e()};const s=()=>o;var l=r(2085);const u=Symbol.for("react-redux-context"),c="undefined"!=typeof globalThis?globalThis:{};function d(){var e;if(!l.createContext)return{};const t=null!=(e=c[u])?e:c[u]=new Map;let r=t.get(l.createContext);return r||(r=l.createContext(null),t.set(l.createContext,r)),r}const h=d();let p=null;var m=r(87462);function f(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var y=r(47536),g=r.n(y),v=r(92315);const _=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function b(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let s,l,u,c,d,h=!1;function p(h,p){const m=!a(p,l),f=!i(h,s,p,l);return s=h,l=p,m&&f?(u=e(s,l),t.dependsOnOwnProps&&(c=t(n,l)),d=r(u,c,l),d):m?(e.dependsOnOwnProps&&(u=e(s,l)),t.dependsOnOwnProps&&(c=t(n,l)),d=r(u,c,l),d):f?function(){const t=e(s,l),n=!o(t,u);return u=t,n&&(d=r(u,c,l)),d}():d}return function(i,a){return h?p(i,a):(s=i,l=a,u=e(s,l),c=t(n,l),d=r(u,c,l),h=!0,d)}}function x(e){return function(t){const r=e(t);function n(){return r}return n.dependsOnOwnProps=!1,n}}function w(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function T(e,t){return function(t,{displayName:r}){const n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e,void 0)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=w(e);let i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=w(i),i=n(t,r)),i},n}}function S(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function k(e,t,r){return(0,m.Z)({},r,e,t)}const C={notify(){},get:()=>[]};function L(e,t){let r,n=C;function i(){o.onStateChange&&o.onStateChange()}function a(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=function(){const e=s();let t=null,r=null;return{clear(){t=null,r=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const o={addNestedSub:function(e){return a(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(r)},trySubscribe:a,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=C)},getListeners:()=>n};return o}const N=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?l.useLayoutEffect:l.useEffect;function A(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function O(e,t){if(A(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!A(e[r[n]],t[r[n]]))return!1;return!0}const E=["reactReduxForwardedRef"];let P=()=>{throw new Error("uSES not initialized!")};const M=[null,null];function I(e,t,r,n,i,a){e.current=n,r.current=!1,i.current&&(i.current=null,a())}function D(e,t){return e===t}const z=function(e,t,r,{pure:n,areStatesEqual:i=D,areOwnPropsEqual:a=O,areStatePropsEqual:o=O,areMergedPropsEqual:s=O,forwardRef:u=!1,context:c=h}={}){const d=c,p=function(e){return e?"function"==typeof e?T(e):S(e,"mapStateToProps"):x((()=>({})))}(e),y=function(e){return e&&"object"==typeof e?x((t=>function(e,t){const r={};for(const n in e){const i=e[n];"function"==typeof i&&(r[n]=(...e)=>t(i(...e)))}return r}(e,t))):e?"function"==typeof e?T(e):S(e,"mapDispatchToProps"):x((e=>({dispatch:e})))}(t),w=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:r,areMergedPropsEqual:n}){let i,a=!1;return function(t,r,o){const s=e(t,r,o);return a?n(s,i)||(i=s):(a=!0,i=s),i}}}(e):S(e,"mergeProps"):()=>k}(r),C=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",r=`Connect(${t})`,n={shouldHandleStateChanges:C,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:y,initMergeProps:w,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:s};function c(t){const[r,i,a]=l.useMemo((()=>{const{reactReduxForwardedRef:e}=t,r=f(t,E);return[t.context,e,r]}),[t]),o=l.useMemo((()=>r&&r.Consumer&&(0,v.isContextConsumer)(l.createElement(r.Consumer,null))?r:d),[r,d]),s=l.useContext(o),u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(s)&&Boolean(s.store);const h=u?t.store:s.store,p=c?s.getServerState:h.getState,y=l.useMemo((()=>function(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,a=f(t,_);return b(r(e,a),n(e,a),i(e,a),e,a)}(h.dispatch,n)),[h]),[g,x]=l.useMemo((()=>{if(!C)return M;const e=L(h,u?void 0:s.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,u,s]),w=l.useMemo((()=>u?s:(0,m.Z)({},s,{subscription:g})),[u,s,g]),T=l.useRef(),S=l.useRef(a),k=l.useRef(),A=l.useRef(!1),O=(l.useRef(!1),l.useRef(!1)),D=l.useRef();N((()=>(O.current=!0,()=>{O.current=!1})),[]);const z=l.useMemo((()=>()=>k.current&&a===S.current?k.current:y(h.getState(),a)),[h,a]),R=l.useMemo((()=>e=>g?function(e,t,r,n,i,a,o,s,l,u,c){if(!e)return()=>{};let d=!1,h=null;const p=()=>{if(d||!s.current)return;const e=t.getState();let r,p;try{r=n(e,i.current)}catch(e){p=e,h=e}p||(h=null),r===a.current?o.current||u():(a.current=r,l.current=r,o.current=!0,c())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}(C,h,g,y,S,T,A,O,k,x,e):()=>{}),[g]);var F,B,j;let U;F=I,B=[S,T,A,a,k,x],N((()=>F(...B)),j);try{U=P(R,z,p?()=>y(p(),a):z)}catch(e){throw D.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${D.current.stack}\n\n`),e}N((()=>{D.current=void 0,k.current=void 0,T.current=U}));const V=l.useMemo((()=>l.createElement(e,(0,m.Z)({},U,{ref:i}))),[i,e,U]);return l.useMemo((()=>C?l.createElement(o.Provider,{value:w},V):V),[o,V,w])}const h=l.memo(c);if(h.WrappedComponent=e,h.displayName=c.displayName=r,u){const t=l.forwardRef((function(e,t){return l.createElement(h,(0,m.Z)({},e,{reactReduxForwardedRef:t}))}));return t.displayName=r,t.WrappedComponent=e,g()(t,e)}return g()(h,e)}};var R,F;R=i.useSyncExternalStoreWithSelector,p=R,(e=>{P=e})(n.useSyncExternalStore),F=a.unstable_batchedUpdates,o=F},56225:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case o:case h:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case f:case m:case l:return e;default:return t}}case i:return t}}}r=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return g(e)===u}},92315:(e,t,r)=>{"use strict";e.exports=r(56225)},99506:function(e,t){!function(e){"use strict";const t=134217729,r=33306690738754706e-32;function n(e,t,r,n,i){let a,o,s,l,u=t[0],c=n[0],d=0,h=0;c>u==c>-u?(a=u,u=t[++d]):(a=c,c=n[++h]);let p=0;if(d<e&&h<r)for(c>u==c>-u?(s=a-((o=u+a)-u),u=t[++d]):(s=a-((o=c+a)-c),c=n[++h]),a=o,0!==s&&(i[p++]=s);d<e&&h<r;)c>u==c>-u?(s=a-((o=a+u)-(l=o-a))+(u-l),u=t[++d]):(s=a-((o=a+c)-(l=o-a))+(c-l),c=n[++h]),a=o,0!==s&&(i[p++]=s);for(;d<e;)s=a-((o=a+u)-(l=o-a))+(u-l),u=t[++d],a=o,0!==s&&(i[p++]=s);for(;h<r;)s=a-((o=a+c)-(l=o-a))+(c-l),c=n[++h],a=o,0!==s&&(i[p++]=s);return 0===a&&0!==p||(i[p++]=a),p}function i(e){return new Float64Array(e)}const a=33306690738754716e-32,o=22204460492503146e-32,s=11093356479670487e-47,l=i(4),u=i(8),c=i(12),d=i(16),h=i(4);e.orient2d=function(e,i,p,m,f,y){const g=(i-y)*(p-f),v=(e-f)*(m-y),_=g-v;if(0===g||0===v||g>0!=v>0)return _;const b=Math.abs(g+v);return Math.abs(_)>=a*b?_:-function(e,i,a,p,m,f,y){let g,v,_,b,x,w,T,S,k,C,L,N,A,O,E,P,M,I;const D=e-m,z=a-m,R=i-f,F=p-f;x=(E=(S=D-(T=(w=t*D)-(w-D)))*(C=F-(k=(w=t*F)-(w-F)))-((O=D*F)-T*k-S*k-T*C))-(L=E-(M=(S=R-(T=(w=t*R)-(w-R)))*(C=z-(k=(w=t*z)-(w-z)))-((P=R*z)-T*k-S*k-T*C))),l[0]=E-(L+x)+(x-M),x=(A=O-((N=O+L)-(x=N-O))+(L-x))-(L=A-P),l[1]=A-(L+x)+(x-P),x=(I=N+L)-N,l[2]=N-(I-x)+(L-x),l[3]=I;let B=function(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}(4,l),j=o*y;if(B>=j||-B>=j)return B;if(g=e-(D+(x=e-D))+(x-m),_=a-(z+(x=a-z))+(x-m),v=i-(R+(x=i-R))+(x-f),b=p-(F+(x=p-F))+(x-f),0===g&&0===v&&0===_&&0===b)return B;if(j=s*y+r*Math.abs(B),(B+=D*b+F*g-(R*_+z*v))>=j||-B>=j)return B;x=(E=(S=g-(T=(w=t*g)-(w-g)))*(C=F-(k=(w=t*F)-(w-F)))-((O=g*F)-T*k-S*k-T*C))-(L=E-(M=(S=v-(T=(w=t*v)-(w-v)))*(C=z-(k=(w=t*z)-(w-z)))-((P=v*z)-T*k-S*k-T*C))),h[0]=E-(L+x)+(x-M),x=(A=O-((N=O+L)-(x=N-O))+(L-x))-(L=A-P),h[1]=A-(L+x)+(x-P),x=(I=N+L)-N,h[2]=N-(I-x)+(L-x),h[3]=I;const U=n(4,l,4,h,u);x=(E=(S=D-(T=(w=t*D)-(w-D)))*(C=b-(k=(w=t*b)-(w-b)))-((O=D*b)-T*k-S*k-T*C))-(L=E-(M=(S=R-(T=(w=t*R)-(w-R)))*(C=_-(k=(w=t*_)-(w-_)))-((P=R*_)-T*k-S*k-T*C))),h[0]=E-(L+x)+(x-M),x=(A=O-((N=O+L)-(x=N-O))+(L-x))-(L=A-P),h[1]=A-(L+x)+(x-P),x=(I=N+L)-N,h[2]=N-(I-x)+(L-x),h[3]=I;const V=n(U,u,4,h,c);x=(E=(S=g-(T=(w=t*g)-(w-g)))*(C=b-(k=(w=t*b)-(w-b)))-((O=g*b)-T*k-S*k-T*C))-(L=E-(M=(S=v-(T=(w=t*v)-(w-v)))*(C=_-(k=(w=t*_)-(w-_)))-((P=v*_)-T*k-S*k-T*C))),h[0]=E-(L+x)+(x-M),x=(A=O-((N=O+L)-(x=N-O))+(L-x))-(L=A-P),h[1]=A-(L+x)+(x-P),x=(I=N+L)-N,h[2]=N-(I-x)+(L-x),h[3]=I;const W=n(V,c,4,h,d);return d[W-1]}(e,i,p,m,f,y,b)},e.orient2dfast=function(e,t,r,n,i,a){return(t-a)*(r-i)-(e-i)*(n-a)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},68692:(e,t,r)=>{"use strict";var n=r(72211);e.exports=n,"undefined"!=typeof window&&(window.Suggestions=n)},4865:e=>{"use strict";var t=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};t.prototype.show=function(){this.element.style.display="block"},t.prototype.hide=function(){this.element.style.display="none"},t.prototype.add=function(e){this.items.push(e)},t.prototype.clear=function(){this.items=[],this.active=0},t.prototype.isEmpty=function(){return!this.items.length},t.prototype.isVisible=function(){return"block"===this.element.style.display},t.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},t.prototype.drawItem=function(e,t){var r=document.createElement("li"),n=document.createElement("a");t&&(r.className+=" active"),n.innerHTML=e.string,r.appendChild(n),this.element.appendChild(r),r.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),r.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},t.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},t.prototype.move=function(e){this.active=e,this.draw()},t.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},t.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},t.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},e.exports=t},72211:(e,t,r)=>{"use strict";var n=r(87916),i=r(55854),a=r(4865),o=function(e,t,r){return r=r||{},this.options=n({minLength:2,limit:5,filter:!0,hideOnBlur:!0},r),this.el=e,this.data=t||[],this.list=new a(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};o.prototype.handleKeyUp=function(e){40!==e&&38!==e&&27!==e&&13!==e&&9!==e&&this.handleInputChange(this.el.value)},o.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},o.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},o.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout((function(){t.handleInputChange(e.target.value)}),100)}},o.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},o.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},o.prototype.update=function(e){this.data=e,this.handleKeyUp()},o.prototype.clear=function(){this.data=[],this.list.clear()},o.prototype.normalize=function(e){return e=e.toLowerCase()},o.prototype.match=function(e,t){return e.indexOf(t)>-1},o.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},o.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?i.filter(this.query,this.data,t).map(function(e){return{original:e.original,string:this.render(e.original,e.string)}}.bind(this)):this.data.map(function(e){return{original:e,string:this.render(e)}}.bind(this)))},o.prototype.getItemValue=function(e){return e},o.prototype.render=function(e,t){if(t)return t;for(var r=e.original?this.getItemValue(e.original):this.getItemValue(e),n=this.normalize(r),i=n.lastIndexOf(this.query);i>-1;){var a=i+this.query.length;r=r.slice(0,i)+"<strong>"+r.slice(i,a)+"</strong>"+r.slice(a),i=n.slice(0,i).lastIndexOf(this.query)}return r},o.prototype.renderError=function(e){this.list.drawError(e)},e.exports=o},34764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});class n{constructor(e=[],t=i){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const i=e-1>>1,a=t[i];if(r(n,a)>=0)break;t[e]=a,e=i}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),a=t[n];const o=n+1;if(o<this.length&&r(t[o],a)<0&&(n=o,a=t[o]),r(a,i)>=0)break;t[e]=a,e=n}t[e]=i}}function i(e,t){return e<t?-1:e>t?1:0}},60886:(e,t,r)=>{"use strict";var n=r(2085);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return s((function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,r,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},62448:(e,t,r)=>{"use strict";var n=r(2085),i=r(56863);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,s=r)}var o,s,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,r,n,i]);var p=o(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=p}),[p]),c(p),p}},56863:(e,t,r)=>{"use strict";e.exports=r(60886)},82152:(e,t,r)=>{"use strict";e.exports=r(62448)},9755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DOMException:()=>x,Headers:()=>c,Request:()=>g,Response:()=>_,fetch:()=>w});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function p(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(p)}),this.text=function(){var e,t,r,n=d(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=l(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];_.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var x=n.DOMException;try{new x}catch(e){(x=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),x.prototype.constructor=x}function w(e,t){return new Promise((function(r,a){var o=new g(e,t);if(o.signal&&o.signal.aborted)return a(new x("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;setTimeout((function(){r(new _(i,n))}),0)},s.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){a(new x("Aborted","AbortError"))}),0)},s.open(o.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof c?o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,l(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}w.polyfill=!0,n.fetch||(n.fetch=w,n.Headers=c,n.Request=g,n.Response=_)},87916:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},61629:function(e){e.exports=function(){"use strict";var e,t,r;function n(n,i){if(e)if(t){var a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),r=i(o),"undefined"!=typeof window&&(r.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return n(["exports"],(function(e){var t=r;function r(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}function n(e,r,n,i){const a=new t(e,r,n,i);return function(e){return a.solve(e)}}r.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var i=this.sampleCurveX(r)-e;if(Math.abs(i)<t)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r-=i/a}var o=0,s=1;for(r=e,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-e)<t));n++)e>i?o=r:s=r,r=.5*(s-o)+o;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};const i=n(.25,.1,.25,1);function a(e,t,r){return Math.min(r,Math.max(t,e))}function o(e,t,r){const n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function s(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}let l=1;function u(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t))}))}function c(e,t,r){const n={};for(const i in e)n[i]=t.call(r||this,e[i],i,e);return n}function d(e,t,r){const n={};for(const i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function h(e){return Array.isArray(e)?e.map(h):"object"==typeof e&&e?c(e,h):e}const p={};function m(e){p[e]||("undefined"!=typeof console&&console.warn(e),p[e]=!0)}function f(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function y(e){let t=0;for(let r,n,i=0,a=e.length,o=a-1;i<a;o=i++)r=e[i],n=e[o],t+=(n.x-r.x)*(r.y+n.y);return t}function g(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function v(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,r,n,i)=>{const a=n||i;return t[r]=!a||a.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let _,b,x=null;function w(e){if(null==x){const t=e.navigator?e.navigator.userAgent:null;x=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return x}function T(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const S={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e){const t=requestAnimationFrame(e);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(e,t=0){const r=window.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(_||(_=document.createElement("a")),_.href=e,_.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==b&&(b=matchMedia("(prefers-reduced-motion: reduce)")),b.matches)}};var k=C;function C(e,t){this.x=e,this.y=t}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(e){return e instanceof C?e:Array.isArray(e)?new C(e[0],e[1]):e};const L={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},N="mapbox-tiles";let A,O,E=500,P=50;function M(){"undefined"==typeof caches||A||(A=caches.open(N))}let I=1/0;const D={supported:!1,testSupport:function(e){!F&&R&&(B?j(e):z=e)}};let z,R,F=!1,B=!1;function j(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,R),e.isContextLost())return;D.supported=!0}catch(e){}e.deleteTexture(t),F=!0}"undefined"!=typeof document&&(R=document.createElement("img"),R.onload=function(){z&&j(z),z=null,B=!0},R.onerror=function(){F=!0,z=null},R.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const U={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(U);class V extends Error{constructor(e,t,r,n){super(`AJAXError: ${t} (${e}): ${r}`),this.status=e,this.statusText=t,this.url=r,this.body=n}}const W=g()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href;function q(e,t){const r=new AbortController,n=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:W(),signal:r.signal});let i=!1,a=!1;return"json"===e.type&&n.headers.set("Accept","application/json"),((r,o,s)=>{if(a)return;const l=Date.now();fetch(n).then((r=>r.ok?((r,o,s)=>{("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((e=>{a||(o&&s&&function(e,t,r){if(M(),!A)return;const n={status:t.status,statusText:t.statusText,headers:new Headers};t.headers.forEach(((e,t)=>n.headers.set(t,e)));const i=v(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&n.headers.set("Expires",new Date(r+1e3*i["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<42e4||function(e,t){if(void 0===O)try{new Response(new ReadableStream),O=!0}catch(e){O=!1}O?t(e.body):e.blob().then(t)}(t,(t=>{const r=new Response(t,n);M(),A&&A.then((t=>t.put(function(e){const t=e.indexOf("?");return t<0?e:e.slice(0,t)}(e.url),r))).catch((e=>m(e.message)))})))}(n,o,s),i=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((e=>{a||t(new Error(e.message))}))})(r,null,l):r.blob().then((n=>t(new V(r.status,r.statusText,e.url,n)))))).catch((e=>{20!==e.code&&t(new Error(e.message))}))})(),{cancel:()=>{a=!0,i||r.abort()}}}const G=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(g()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!g()){const r=e.url.substring(0,e.url.indexOf("://"));return(L.REGISTERED_PROTOCOLS[r]||q)(e,t)}}if(!(/^file:/.test(r=e.url)||/^file:/.test(W())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return q(e,t);if(g()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){const r=new XMLHttpRequest;r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer");for(const t in e.headers)r.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=()=>{t(new Error(r.statusText))},r.onload=()=>{if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){let n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else{const n=new Blob([r.response],{type:r.getResponseHeader("Content-Type")});t(new V(r.status,r.statusText,e.url,n))}},r.send(e.body),{cancel:()=>r.abort()}}(e,t)},Z=function(e,t){return G(s(e,{type:"arrayBuffer"}),t)};function $(e){const t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}const Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let H,J;H=[],J=0;const X=function(e,t){if(D.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),J>=L.MAX_PARALLEL_IMAGE_REQUESTS){const r={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return H.push(r),r}J++;let r=!1;const n=()=>{if(!r)for(r=!0,J--;H.length&&J<L.MAX_PARALLEL_IMAGE_REQUESTS;){const e=H.shift(),{requestParameters:t,callback:r,cancelled:n}=e;n||(e.cancel=X(t,r).cancel)}},i=Z(e,((e,r,i,a)=>{n(),e?t(e):r&&function(e,t){"function"==typeof createImageBitmap?function(e,t){const r=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(r).then((e=>{t(null,e)})).catch((e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(e,t):function(e,t){const r=new Image;r.onload=()=>{t(null,r),URL.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame((()=>{r.src=Y}))},r.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const n=new Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?URL.createObjectURL(n):Y}(e,t)}(r,((e,r)=>{null!=e?t(e):null!=r&&t(null,r,{cacheControl:i,expires:a})}))}));return{cancel:()=>{i.cancel(),n()}}};function Q(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function K(e,t,r){if(r&&r[e]){const n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}class ee{constructor(e,t={}){s(this,t),this.type=e}}class te extends ee{constructor(e,t={}){super("error",s({error:e},t))}}class re{on(e,t){return this._listeners=this._listeners||{},Q(e,t,this._listeners),this}off(e,t){return K(e,t,this._listeners),K(e,t,this._oneTimeListeners),this}once(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Q(e,t,this._oneTimeListeners),this}fire(e,t){"string"==typeof e&&(e=new ee(e,t||{}));const r=e.type;if(this.listens(r)){e.target=this;const t=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of t)r.call(this,e);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const t of n)K(r,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(s(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof te&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class ie{constructor(e,t,r,n){this.message=(e?`${e}: `:"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function ae(e){const t=e.value;return t?[new ie(e.key,t,"constants have been deprecated as of v8")]:[]}function oe(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}function se(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function le(e){if(Array.isArray(e))return e.map(le);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const r in e)t[r]=le(e[r]);return t}return se(e)}class ue extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ce{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,r]of t)this.bindings[e]=r}concat(e){return new ce(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const de={kind:"null"},he={kind:"number"},pe={kind:"string"},me={kind:"boolean"},fe={kind:"color"},ye={kind:"object"},ge={kind:"value"},ve={kind:"collator"},_e={kind:"formatted"},be={kind:"padding"},xe={kind:"resolvedImage"};function we(e,t){return{kind:"array",itemType:e,N:t}}function Te(e){if("array"===e.kind){const t=Te(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const Se=[de,he,pe,me,fe,_e,ye,we(ge),be,xe];function ke(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!ke(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Se)if(!ke(e,t))return null}return`Expected ${Te(e)} but found ${Te(t)} instead.`}function Ce(e,t){return t.some((t=>t.kind===e.kind))}function Le(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}var Ne,Ae={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Oe(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ee(e){return Oe("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Pe(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Me(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{Ne={}.parseCSSColor=function(e){var t,r=e.replace(/ /g,"").toLowerCase();if(r in Ae)return Ae[r].slice();if("#"===r[0])return 4===r.length?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===r.length&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var n=r.indexOf("("),i=r.indexOf(")");if(-1!==n&&i+1===r.length){var a=r.substr(0,n),o=r.substr(n+1,i-(n+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)return null;s=Pe(o.pop());case"rgb":return 3!==o.length?null:[Ee(o[0]),Ee(o[1]),Ee(o[2]),s];case"hsla":if(4!==o.length)return null;s=Pe(o.pop());case"hsl":if(3!==o.length)return null;var l=(parseFloat(o[0])%360+360)%360/360,u=Pe(o[1]),c=Pe(o[2]),d=c<=.5?c*(u+1):c+u-c*u,h=2*c-d;return[Oe(255*Me(h,d,l+1/3)),Oe(255*Me(h,d,l)),Oe(255*Me(h,d,l-1/3)),s];default:return null}}return null}}catch(e){}class Ie{constructor(e,t,r,n=1){this.r=e,this.g=t,this.b=r,this.a=n}static parse(e){if(!e)return;if(e instanceof Ie)return e;if("string"!=typeof e)return;const t=Ne(e);return t?new Ie(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,r,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${n})`}toArray(){const{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]}}Ie.black=new Ie(0,0,0,1),Ie.white=new Ie(1,1,1,1),Ie.transparent=new Ie(0,0,0,0),Ie.red=new Ie(1,0,0,1);class De{constructor(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ze{constructor(e,t,r,n,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i}}class Re{constructor(e){this.sections=e}static fromString(e){return new Re([new ze(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Re?e:Re.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}}class Fe{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Fe)return e;if("number"==typeof e)return new Fe([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new Fe(e)}}toString(){return JSON.stringify(this.values)}}class Be{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Be({name:e,available:!1}):null}}function je(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ue(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ie)return!0;if(e instanceof De)return!0;if(e instanceof Re)return!0;if(e instanceof Fe)return!0;if(e instanceof Be)return!0;if(Array.isArray(e)){for(const t of e)if(!Ue(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Ue(e[t]))return!1;return!0}return!1}function Ve(e){if(null===e)return de;if("string"==typeof e)return pe;if("boolean"==typeof e)return me;if("number"==typeof e)return he;if(e instanceof Ie)return fe;if(e instanceof De)return ve;if(e instanceof Re)return _e;if(e instanceof Fe)return be;if(e instanceof Be)return xe;if(Array.isArray(e)){const t=e.length;let r;for(const t of e){const e=Ve(t);if(r){if(r===e)continue;r=ge;break}r=e}return we(r||ge,t)}return ye}function We(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ie||e instanceof Re||e instanceof Fe||e instanceof Be?e.toString():JSON.stringify(e)}class qe{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Ue(e[1]))return t.error("invalid value");const r=e[1];let n=Ve(r);const i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new qe(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ge{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const Ze={string:pe,number:he,boolean:me,object:ye};class $e{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r,n=1;const i=e[0];if("array"===i){let i,a;if(e.length>2){const r=e[1];if("string"!=typeof r||!(r in Ze)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Ze[r],n++}else i=ge;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}r=we(i,a)}else{if(!Ze[i])throw new Error(`Types doesn't contain name = ${i}`);r=Ze[i]}const a=[];for(;n<e.length;n++){const r=t.parse(e[n],n,ge);if(!r)return null;a.push(r)}return new $e(r,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(!ke(this.type,Ve(r)))return r;if(t===this.args.length-1)throw new Ge(`Expected value to be of type ${Te(this.type)}, but found ${Te(Ve(r))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const Ye={"to-boolean":me,"to-color":fe,"to-number":he,"to-string":pe};class He{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if(!Ye[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");const n=Ye[r],i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],r,ge);if(!n)return null;i.push(n)}return new He(n,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,r;for(const n of this.args){if(t=n.evaluate(e),r=null,t instanceof Ie)return t;if("string"==typeof t){const r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&(r=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:je(t[0],t[1],t[2],t[3]),!r))return new Ie(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ge(r||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}if("padding"===this.type.kind){let t;for(const r of this.args){t=r.evaluate(e);const n=Fe.parse(t);if(n)return n}throw new Ge(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}if("number"===this.type.kind){let t=null;for(const r of this.args){if(t=r.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new Ge(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Re.fromString(We(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Be.fromString(We(this.args[0].evaluate(e))):We(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const Je=["Unknown","Point","LineString","Polygon"];class Xe{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Je[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ie.parse(e)),t}}class Qe{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const r=e[0],n=Qe.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,o=a.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[n,a]of o){s=new xt(t.registry,t.path,null,t.scope);const o=[];let l=!1;for(let t=1;t<e.length;t++){const r=e[t],i=Array.isArray(n)?n[t-1]:n.type,a=s.parse(r,1+o.length,i);if(!a){l=!0;break}o.push(a)}if(!l)if(Array.isArray(n)&&n.length!==o.length)s.error(`Expected ${n.length} arguments, but found ${o.length} instead.`);else{for(let e=0;e<o.length;e++){const t=Array.isArray(n)?n[e]:n.type,r=o[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new Qe(r,i,a,o)}}if(1===o.length)t.errors.push(...s.errors);else{const r=(o.length?o:a).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(Te).join(", ")})`:`(${Te(t.type)}...)`;var t})).join(" | "),n=[];for(let r=1;r<e.length;r++){const i=t.parse(e[r],1+n.length);if(!i)return null;n.push(Te(i.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){Qe.definitions=t;for(const r in t)e[r]=Qe}}class Ke{constructor(e,t,r){this.type=ve,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,me);if(!n)return null;const i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,me);if(!i)return null;let a=null;return r.locale&&(a=t.parse(r.locale,1,pe),!a)?null:new Ke(n,i,a)}evaluate(e){return new De(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}const et=8192;function tt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function rt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function nt(e,t){const r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*et),Math.round(n*i*et)]}function it(e,t,r){const n=e[0]-t[0],i=e[1]-t[1],a=e[0]-r[0],o=e[1]-r[1];return n*o-a*i==0&&n*a<=0&&i*o<=0}function at(e,t){let r=!1;for(let o=0,s=t.length;o<s;o++){const s=t[o];for(let t=0,o=s.length;t<o-1;t++){if(it(e,s[t],s[t+1]))return!1;(i=s[t])[1]>(n=e)[1]!=(a=s[t+1])[1]>n[1]&&n[0]<(a[0]-i[0])*(n[1]-i[1])/(a[1]-i[1])+i[0]&&(r=!r)}}var n,i,a;return r}function ot(e,t){for(let r=0;r<t.length;r++)if(at(e,t[r]))return!0;return!1}function st(e,t,r,n){const i=n[0]-r[0],a=n[1]-r[1],o=(e[0]-r[0])*a-i*(e[1]-r[1]),s=(t[0]-r[0])*a-i*(t[1]-r[1]);return o>0&&s<0||o<0&&s>0}function lt(e,t,r){for(const u of r)for(let r=0;r<u.length-1;++r)if(0!=(s=[(o=u[r+1])[0]-(a=u[r])[0],o[1]-a[1]])[0]*(l=[(i=t)[0]-(n=e)[0],i[1]-n[1]])[1]-s[1]*l[0]&&st(n,i,a,o)&&st(a,o,n,i))return!0;var n,i,a,o,s,l;return!1}function ut(e,t){for(let r=0;r<e.length;++r)if(!at(e[r],t))return!1;for(let r=0;r<e.length-1;++r)if(lt(e[r],e[r+1],t))return!1;return!0}function ct(e,t){for(let r=0;r<t.length;r++)if(ut(e,t[r]))return!0;return!1}function dt(e,t,r){const n=[];for(let i=0;i<e.length;i++){const a=[];for(let n=0;n<e[i].length;n++){const o=nt(e[i][n],r);tt(t,o),a.push(o)}n.push(a)}return n}function ht(e,t,r){const n=[];for(let i=0;i<e.length;i++){const a=dt(e[i],t,r);n.push(a)}return n}function pt(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){const t=.5*n;let i=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===i&&(i=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=i}tt(t,e)}function mt(e,t,r,n){const i=Math.pow(2,n.z)*et,a=[n.x*et,n.y*et],o=[];for(const n of e)for(const e of n){const n=[e.x+a[0],e.y+a[1]];pt(n,t,r,i),o.push(n)}return o}function ft(e,t,r,n){const i=Math.pow(2,n.z)*et,a=[n.x*et,n.y*et],o=[];for(const r of e){const e=[];for(const n of r){const r=[n.x+a[0],n.y+a[1]];tt(t,r),e.push(r)}o.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of o)for(const n of e)pt(n,t,r,i)}var s;return o}class yt{constructor(e,t){this.type=me,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Ue(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const r=t.features[e].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new yt(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new yt(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new yt(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const a=dt(t.coordinates,n,i),o=mt(e.geometry(),r,n,i);if(!rt(r,n))return!1;for(const e of o)if(!at(e,a))return!1}if("MultiPolygon"===t.type){const a=ht(t.coordinates,n,i),o=mt(e.geometry(),r,n,i);if(!rt(r,n))return!1;for(const e of o)if(!ot(e,a))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const a=dt(t.coordinates,n,i),o=ft(e.geometry(),r,n,i);if(!rt(r,n))return!1;for(const e of o)if(!ut(e,a))return!1}if("MultiPolygon"===t.type){const a=ht(t.coordinates,n,i),o=ft(e.geometry(),r,n,i);if(!rt(r,n))return!1;for(const e of o)if(!ct(e,a))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function gt(e){if(e instanceof Qe){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof yt)return!1;let t=!0;return e.eachChild((e=>{t&&!gt(e)&&(t=!1)})),t}function vt(e){if(e instanceof Qe&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!vt(e)&&(t=!1)})),t}function _t(e,t){if(e instanceof Qe&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild((e=>{r&&!_t(e,t)&&(r=!1)})),r}class bt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new bt(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class xt{constructor(e,t=[],r,n=new ce,i=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=n,this.errors=i,this.expectedType=r}parse(e,t,r,n,i={}){return t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new $e(t,[e]):"coerce"===r?new He(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,i=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind)if("padding"!==e.kind||"value"!==i.kind&&"number"!==i.kind&&"array"!==i.kind){if(this.checkSubtype(e,i))return null}else n=r(n,e,t.typeAnnotation||"coerce");else n=r(n,e,t.typeAnnotation||"coerce");else n=r(n,e,t.typeAnnotation||"assert")}if(!(n instanceof qe)&&"resolvedImage"!==n.type.kind&&wt(n)){const t=new Xe;try{n=new qe(n.type,n.evaluate(t))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new xt(this.registry,n,t||null,i,this.errors)}error(e,...t){const r=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new ue(r,e))}checkSubtype(e,t){const r=ke(e,t);return r&&this.error(r),r}}function wt(e){if(e instanceof bt)return wt(e.boundExpression);if(e instanceof Qe&&"error"===e.name)return!1;if(e instanceof Ke)return!1;if(e instanceof yt)return!1;const t=e instanceof He||e instanceof $e;let r=!0;return e.eachChild((e=>{r=t?r&&wt(e):r&&e instanceof qe})),!!r&&gt(e)&&_t(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Tt(e,t){const r=e.length-1;let n,i,a=0,o=r,s=0;for(;a<=o;)if(s=Math.floor((a+o)/2),n=e[s],i=e[s+1],n<=t){if(s===r||t<i)return s;a=s+1}else{if(!(n>t))throw new Ge("Input is not a number.");o=s-1}return 0}class St{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,he);if(!r)return null;const n=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){const a=1===r?-1/0:e[r],o=e[r+1],s=r,l=r+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const u=t.parse(o,l,i);if(!u)return null;i=i||u.type,n.push([a,u])}return new St(i,r,n)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Tt(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function kt(e,t,r){return e*(1-r)+t*r}var Ct=Object.freeze({__proto__:null,number:kt,color:function(e,t,r){return new Ie(kt(e.r,t.r,r),kt(e.g,t.g,r),kt(e.b,t.b,r),kt(e.a,t.a,r))},array:function(e,t,r){return e.map(((e,n)=>kt(e,t[n],r)))},padding:function(e,t,r){const n=e.values,i=t.values;return new Fe([kt(n[0],i[0],r),kt(n[1],i[1],r),kt(n[2],i[2],r),kt(n[3],i[3],r)])}});const Lt=.95047,Nt=1.08883,At=4/29,Ot=6/29,Et=3*Ot*Ot,Pt=Math.PI/180,Mt=180/Math.PI;function It(e){return e>.008856451679035631?Math.pow(e,1/3):e/Et+At}function Dt(e){return e>Ot?e*e*e:Et*(e-At)}function zt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Rt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ft(e){const t=Rt(e.r),r=Rt(e.g),n=Rt(e.b),i=It((.4124564*t+.3575761*r+.1804375*n)/Lt),a=It((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-It((.0193339*t+.119192*r+.9503041*n)/Nt)),alpha:e.a}}function Bt(e){let t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*Dt(t),r=Lt*Dt(r),n=Nt*Dt(n),new Ie(zt(3.2404542*r-1.5371385*t-.4985314*n),zt(-.969266*r+1.8760108*t+.041556*n),zt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function jt(e,t,r){const n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Ut={forward:Ft,reverse:Bt,interpolate:function(e,t,r){return{l:kt(e.l,t.l,r),a:kt(e.a,t.a,r),b:kt(e.b,t.b,r),alpha:kt(e.alpha,t.alpha,r)}}},Vt={forward:function(e){const{l:t,a:r,b:n}=Ft(e),i=Math.atan2(n,r)*Mt;return{h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Pt,r=e.c;return Bt({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:jt(e.h,t.h,r),c:kt(e.c,t.c,r),l:kt(e.l,t.l,r),alpha:kt(e.alpha,t.alpha,r)}}};var Wt=Object.freeze({__proto__:null,lab:Ut,hcl:Vt});class qt{constructor(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,r,n,i){let a=0;if("exponential"===e.name)a=Gt(r,e.base,n,i);else if("linear"===e.name)a=Gt(r,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints;a=new t(o[0],o[1],o[2],o[3]).solve(Gt(r,1,n,i))}return a}static parse(e,t){let[r,n,i,...a]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const e=n.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,he),!i)return null;const o=[];let s=null;"interpolate-hcl"===r||"interpolate-lab"===r?s=fe:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<a.length;e+=2){const r=a[e],n=a[e+1],i=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(o.length&&o[o.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const u=t.parse(n,l,s);if(!u)return null;s=s||u.type,o.push([r,u])}return"number"===s.kind||"color"===s.kind||"padding"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new qt(s,r,n,i,o):t.error(`Type ${Te(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);const a=Tt(t,n),o=qt.interpolationFactor(this.interpolation,n,t[a],t[a+1]),s=r[a].evaluate(e),l=r[a+1].evaluate(e);return"interpolate"===this.operator?Ct[this.type.kind.toLowerCase()](s,l,o):"interpolate-hcl"===this.operator?Vt.reverse(Vt.interpolate(Vt.forward(s),Vt.forward(l),o)):Ut.reverse(Ut.interpolate(Ut.forward(s),Ut.forward(l),o))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Gt(e,t,r,n){const i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}class Zt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const n=t.expectedType;n&&"value"!==n.kind&&(r=n);const i=[];for(const n of e.slice(1)){const e=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,i.push(e)}if(!r)throw new Error("No output type");const a=n&&i.some((e=>ke(n,e.type)));return new Zt(a?ge:r,i)}evaluate(e){let t,r=null,n=0;for(const i of this.args)if(n++,r=i.evaluate(e),r&&r instanceof Be&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null!==r)break;return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}class $t{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let n=1;n<e.length-1;n+=2){const i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);const a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new $t(r,n):null}outputDefined(){return this.result.outputDefined()}}class Yt{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,he),n=t.parse(e[2],2,we(t.expectedType||ge));return r&&n?new Yt(n.type.itemType,r,n):null}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Ge(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Ge(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Ge(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Ht{constructor(e,t){this.type=me,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ge),n=t.parse(e[2],2,ge);return r&&n?Ce(r.type,[me,pe,he,de,ge])?new Ht(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Te(r.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Le(t,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Te(Ve(t))} instead.`);if(!Le(r,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Te(Ve(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Jt{constructor(e,t,r){this.type=he,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ge),n=t.parse(e[2],2,ge);if(!r||!n)return null;if(!Ce(r.type,[me,pe,he,de,ge]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Te(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,he);return i?new Jt(r,n,i):null}return new Jt(r,n)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Le(t,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Te(Ve(t))} instead.`);if(!Le(r,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Te(Ve(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Xt{constructor(e,t,r,n,i,a){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i={},a=[];for(let o=2;o<e.length-1;o+=2){let s=e[o];const l=e[o+1];Array.isArray(s)||(s=[s]);const u=t.concat(o);if(0===s.length)return u.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,Ve(e)))return null}else r=Ve(e);if(void 0!==i[String(e)])return u.error("Branch labels must be unique.");i[String(e)]=a.length}const c=t.parse(l,o,n);if(!c)return null;n=n||c.type,a.push(c)}const o=t.parse(e[1],1,ge);if(!o)return null;const s=t.parse(e[e.length-1],e.length-1,n);return s?"value"!==o.type.kind&&t.concat(1).checkSubtype(r,o.type)?null:new Xt(r,n,o,i,a,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ve(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}}class Qt{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const n=[];for(let i=1;i<e.length-1;i+=2){const a=t.parse(e[i],i,me);if(!a)return null;const o=t.parse(e[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}const i=t.parse(e[e.length-1],e.length-1,r);if(!i)return null;if(!r)throw new Error("Can't infer output type");return new Qt(r,n,i)}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}}class Kt{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ge),n=t.parse(e[2],2,he);if(!r||!n)return null;if(!Ce(r.type,[we(ge),pe,ge]))return t.error(`Expected first argument to be of type array or string, but found ${Te(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,he);return i?new Kt(r.type,r,n,i):null}return new Kt(r.type,r,n)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Le(t,["string","array"]))throw new Ge(`Expected first argument to be of type array or string, but found ${Te(Ve(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function er(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function tr(e,t,r,n){return 0===n.compare(t,r)}function rr(e,t,r){const n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=me,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const r=e[0];let a=t.parse(e[1],1,ge);if(!a)return null;if(!er(r,a.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${Te(a.type)}'.`);let o=t.parse(e[2],2,ge);if(!o)return null;if(!er(r,o.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${Te(o.type)}'.`);if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error(`Cannot compare types '${Te(a.type)}' and '${Te(o.type)}'.`);n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new $e(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new $e(a.type,[o])));let s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ve),!s)return null}return new i(a,o,s)}evaluate(i){const a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const t=Ve(a),r=Ve(o);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ge(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=Ve(a),r=Ve(o);if("string"!==e.kind||"string"!==r.kind)return t(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):t(i,a,o)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const nr=rr("==",(function(e,t,r){return t===r}),tr),ir=rr("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!tr(0,t,r,n)})),ar=rr("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),or=rr(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),sr=rr("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),lr=rr(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0}));class ur{constructor(e,t,r,n,i){this.type=pe,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,he);if(!r)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&(i=t.parse(n.locale,1,pe),!i))return null;let a=null;if(n.currency&&(a=t.parse(n.currency,1,pe),!a))return null;let o=null;if(n["min-fraction-digits"]&&(o=t.parse(n["min-fraction-digits"],1,he),!o))return null;let s=null;return n["max-fraction-digits"]&&(s=t.parse(n["max-fraction-digits"],1,he),!s)?null:new ur(r,i,a,o,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class cr{constructor(e){this.type=_e,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");const n=[];let i=!1;for(let r=1;r<=e.length-1;++r){const a=e[r];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;let e=null;if(a["font-scale"]&&(e=t.parse(a["font-scale"],1,he),!e))return null;let r=null;if(a["text-font"]&&(r=t.parse(a["text-font"],1,we(pe)),!r))return null;let o=null;if(a["text-color"]&&(o=t.parse(a["text-color"],1,fe),!o))return null;const s=n[n.length-1];s.scale=e,s.font=r,s.textColor=o}else{const a=t.parse(e[r],1,ge);if(!a)return null;const o=a.type.kind;if("string"!==o&&"value"!==o&&"null"!==o&&"resolvedImage"!==o)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:a,scale:null,font:null,textColor:null})}}return new cr(n)}evaluate(e){return new Re(this.sections.map((t=>{const r=t.content.evaluate(e);return Ve(r)===xe?new ze("",r,null,null,null):new ze(We(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}}class dr{constructor(e){this.type=xe,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,pe);return r?new dr(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=Be.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}}class hr{constructor(e){this.type=he,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${Te(r.type)} instead.`):new hr(r):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ge(`Expected value to be of type string or array, but found ${Te(Ve(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const pr={"==":nr,"!=":ir,">":or,"<":ar,">=":lr,"<=":sr,array:$e,at:Yt,boolean:$e,case:Qt,coalesce:Zt,collator:Ke,format:cr,image:dr,in:Ht,"index-of":Jt,interpolate:qt,"interpolate-hcl":qt,"interpolate-lab":qt,length:hr,let:$t,literal:qe,match:Xt,number:$e,"number-format":ur,object:$e,slice:Kt,step:St,string:$e,"to-boolean":He,"to-color":He,"to-number":He,"to-string":He,var:bt,within:yt};function mr(e,[t,r,n,i]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);const a=i?i.evaluate(e):1,o=je(t,r,n,a);if(o)throw new Ge(o);return new Ie(t/255*a,r/255*a,n/255*a,a)}function fr(e,t){return e in t}function yr(e,t){const r=t[e];return void 0===r?null:r}function gr(e){return{type:e}}function vr(e){return{result:"success",value:e}}function _r(e){return{result:"error",value:e}}function br(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function xr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function wr(e){return!!e.expression&&e.expression.interpolated}function Tr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Sr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function kr(e){return e}function Cr(e,t){const r="color"===t.type,n=e.stops&&"object"==typeof e.stops[0][0],i=n||!(n||void 0!==e.property),a=e.type||(wr(t)?"exponential":"interval");if(r||"padding"===t.type){const n=r?Ie.parse:Fe.parse;(e=oe({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],n(e[1])]))),e.default=n(e.default?e.default:t.default)}if(e.colorSpace&&"rgb"!==e.colorSpace&&!Wt[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let o,s,l;if("exponential"===a)o=Or;else if("interval"===a)o=Ar;else if("categorical"===a){o=Nr,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);o=Er}if(n){const r={},n=[];for(let t=0;t<e.stops.length;t++){const i=e.stops[t],a=i[0].zoom;void 0===r[a]&&(r[a]={zoom:a,type:e.type,property:e.property,default:e.default,stops:[]},n.push(a)),r[a].stops.push([i[0].value,i[1]])}const i=[];for(const e of n)i.push([r[e].zoom,Cr(r[e],t)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:qt.interpolationFactor.bind(void 0,a),zoomStops:i.map((e=>e[0])),evaluate:({zoom:r},n)=>Or({stops:i,base:e.base},t,r).evaluate(r,n)}}if(i){const r="exponential"===a?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:r,interpolationFactor:qt.interpolationFactor.bind(void 0,r),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:r})=>o(e,t,r,s,l)}}return{kind:"source",evaluate(r,n){const i=n&&n.properties?n.properties[e.property]:void 0;return void 0===i?Lr(e.default,t.default):o(e,t,i,s,l)}}}function Lr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Nr(e,t,r,n,i){return Lr(typeof r===i?n[r]:void 0,e.default,t.default)}function Ar(e,t,r){if("number"!==Tr(r))return Lr(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];const i=Tt(e.stops.map((e=>e[0])),r);return e.stops[i][1]}function Or(e,t,r){const n=void 0!==e.base?e.base:1;if("number"!==Tr(r))return Lr(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];const a=Tt(e.stops.map((e=>e[0])),r),o=function(e,t,r,n){const i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],l=e.stops[a+1][1];let u=Ct[t.type]||kr;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Wt[e.colorSpace];u=(e,r)=>t.reverse(t.interpolate(t.forward(e),t.forward(r),o))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),r=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==r)return u(t,r,o)}}:u(s,l,o)}function Er(e,t,r){switch(t.type){case"color":r=Ie.parse(r);break;case"formatted":r=Re.fromString(r.toString());break;case"resolvedImage":r=Be.fromString(r.toString());break;case"padding":r=Fe.parse(r);break;default:Tr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0)}return Lr(r,e.default,t.default)}Qe.register(pr,{error:[{kind:"error"},[pe],(e,[t])=>{throw new Ge(t.evaluate(e))}],typeof:[pe,[ge],(e,[t])=>Te(Ve(t.evaluate(e)))],"to-rgba":[we(he,4),[fe],(e,[t])=>t.evaluate(e).toArray()],rgb:[fe,[he,he,he],mr],rgba:[fe,[he,he,he,he],mr],has:{type:me,overloads:[[[pe],(e,[t])=>fr(t.evaluate(e),e.properties())],[[pe,ye],(e,[t,r])=>fr(t.evaluate(e),r.evaluate(e))]]},get:{type:ge,overloads:[[[pe],(e,[t])=>yr(t.evaluate(e),e.properties())],[[pe,ye],(e,[t,r])=>yr(t.evaluate(e),r.evaluate(e))]]},"feature-state":[ge,[pe],(e,[t])=>yr(t.evaluate(e),e.featureState||{})],properties:[ye,[],e=>e.properties()],"geometry-type":[pe,[],e=>e.geometryType()],id:[ge,[],e=>e.id()],zoom:[he,[],e=>e.globals.zoom],"heatmap-density":[he,[],e=>e.globals.heatmapDensity||0],"line-progress":[he,[],e=>e.globals.lineProgress||0],accumulated:[ge,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[he,gr(he),(e,t)=>{let r=0;for(const n of t)r+=n.evaluate(e);return r}],"*":[he,gr(he),(e,t)=>{let r=1;for(const n of t)r*=n.evaluate(e);return r}],"-":{type:he,overloads:[[[he,he],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[he],(e,[t])=>-t.evaluate(e)]]},"/":[he,[he,he],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[he,[he,he],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[he,[],()=>Math.LN2],pi:[he,[],()=>Math.PI],e:[he,[],()=>Math.E],"^":[he,[he,he],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[he,[he],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[he,[he],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[he,[he],(e,[t])=>Math.log(t.evaluate(e))],log2:[he,[he],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[he,[he],(e,[t])=>Math.sin(t.evaluate(e))],cos:[he,[he],(e,[t])=>Math.cos(t.evaluate(e))],tan:[he,[he],(e,[t])=>Math.tan(t.evaluate(e))],asin:[he,[he],(e,[t])=>Math.asin(t.evaluate(e))],acos:[he,[he],(e,[t])=>Math.acos(t.evaluate(e))],atan:[he,[he],(e,[t])=>Math.atan(t.evaluate(e))],min:[he,gr(he),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[he,gr(he),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[he,[he],(e,[t])=>Math.abs(t.evaluate(e))],round:[he,[he],(e,[t])=>{const r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[he,[he],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[he,[he],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[me,[pe,ge],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[me,[ge],(e,[t])=>e.id()===t.value],"filter-type-==":[me,[pe],(e,[t])=>e.geometryType()===t.value],"filter-<":[me,[pe,ge],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[me,[ge],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[me,[pe,ge],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[me,[ge],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[me,[pe,ge],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[me,[ge],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[me,[pe,ge],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[me,[ge],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[me,[ge],(e,[t])=>t.value in e.properties()],"filter-has-id":[me,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[me,[we(pe)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[me,[we(ge)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[me,[pe,we(ge)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[me,[pe,we(ge)],(e,[t,r])=>function(e,t,r,n){for(;r<=n;){const i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:me,overloads:[[[me,me],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[gr(me),(e,t)=>{for(const r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:me,overloads:[[[me,me],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[gr(me),(e,t)=>{for(const r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[me,[me],(e,[t])=>!t.evaluate(e)],"is-supported-script":[me,[pe],(e,[t])=>{const r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[pe,[pe],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[pe,[pe],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[pe,gr(ge),(e,t)=>t.map((t=>We(t.evaluate(e)))).join("")],"resolved-locale":[pe,[ve],(e,[t])=>t.evaluate(e).resolvedLocale()]});class Pr{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Xe,this._defaultValue=t?function(e){return"color"===e.type&&Sr(e.default)?new Ie(0,0,0,0):"color"===e.type?Ie.parse(e.default)||null:"padding"===e.type?Fe.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ge(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Mr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in pr}function Ir(e,t){const r=new xt(pr,[],t?function(e){const t={color:fe,string:pe,number:he,enum:pe,boolean:me,formatted:_e,padding:be,resolvedImage:xe};return"array"===e.type?we(t[e.value]||ge,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?vr(new Pr(n,t)):_r(r.errors)}class Dr{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!vt(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)}evaluate(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)}}class zr{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!vt(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)}evaluate(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)}interpolationFactor(e,t,r){return this.interpolationType?qt.interpolationFactor(this.interpolationType,e,t,r):0}}function Rr(e,t){const r=Ir(e,t);if("error"===r.result)return r;const n=r.value.expression,i=gt(n);if(!i&&!br(t))return _r([new ue("","data expressions not supported")]);const a=_t(n,["zoom"]);if(!a&&!xr(t))return _r([new ue("","zoom expressions not supported")]);const o=Br(n);return o||a?o instanceof ue?_r([o]):o instanceof qt&&!wr(t)?_r([new ue("",'"interpolate" expressions cannot be used with this property')]):vr(o?new zr(i?"camera":"composite",r.value,o.labels,o instanceof qt?o.interpolation:void 0):new Dr(i?"constant":"source",r.value)):_r([new ue("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Fr{constructor(e,t){this._parameters=e,this._specification=t,oe(this,Cr(this._parameters,this._specification))}static deserialize(e){return new Fr(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Br(e){let t=null;if(e instanceof $t)t=Br(e.result);else if(e instanceof Zt){for(const r of e.args)if(t=Br(r),t)break}else(e instanceof St||e instanceof qt)&&e.input instanceof Qe&&"zoom"===e.input.name&&(t=e);return t instanceof ue||e.eachChild((e=>{const r=Br(e);r instanceof ue?t=r:!t&&r?t=new ue("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new ue("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function jr(e){const t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec;let s=[];const l=Tr(r);if("object"!==l)return[new ie(t,r,`object expected, ${l} found`)];for(const e in r){const l=e.split(".")[0],u=n[l]||n["*"];let c;if(i[l])c=i[l];else if(n[l])c=fn;else if(i["*"])c=i["*"];else{if(!n["*"]){s.push(new ie(t,r[e],`unknown property "${e}"`));continue}c=fn}s=s.concat(c({key:(t?`${t}.`:t)+e,value:r[e],valueSpec:u,style:a,styleSpec:o,object:r,objectKey:e},r))}for(const e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===r[e]&&s.push(new ie(t,r,`missing required property "${e}"`));return s}function Ur(e){const t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||fn;if("array"!==Tr(t))return[new ie(a,t,`array expected, ${Tr(t)} found`)];if(r.length&&t.length!==r.length)return[new ie(a,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new ie(a,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let s={type:r.value,values:r.values};i.$version<7&&(s.function=r.function),"object"===Tr(r.value)&&(s=r.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(o({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:n,styleSpec:i,key:`${a}[${e}]`}));return l}function Vr(e){const t=e.key,r=e.value,n=e.valueSpec;let i=Tr(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new ie(t,r,`number expected, ${i} found`)]:"minimum"in n&&r<n.minimum?[new ie(t,r,`${r} is less than the minimum value ${n.minimum}`)]:"maximum"in n&&r>n.maximum?[new ie(t,r,`${r} is greater than the maximum value ${n.maximum}`)]:[]}function Wr(e){const t=e.valueSpec,r=se(e.value.type);let n,i,a,o={};const s="categorical"!==r&&void 0===e.value.property,l=!s,u="array"===Tr(e.value.stops)&&"array"===Tr(e.value.stops[0])&&"object"===Tr(e.value.stops[0][0]),c=jr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new ie(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;return t=t.concat(Ur({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Tr(n)&&0===n.length&&t.push(new ie(e.key,n,"array must have at least one stop")),t},default:function(e){return fn({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&c.push(new ie(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||c.push(new ie(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!wr(e.valueSpec)&&c.push(new ie(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!br(e.valueSpec)?c.push(new ie(e.key,e.value,"property functions not supported")):s&&!xr(e.valueSpec)&&c.push(new ie(e.key,e.value,"zoom functions not supported"))),"categorical"!==r&&!u||void 0!==e.value.property||c.push(new ie(e.key,e.value,'"property" property is required')),c;function d(e){let r=[];const n=e.value,s=e.key;if("array"!==Tr(n))return[new ie(s,n,`array expected, ${Tr(n)} found`)];if(2!==n.length)return[new ie(s,n,`array length 2 expected, length ${n.length} found`)];if(u){if("object"!==Tr(n[0]))return[new ie(s,n,`object expected, ${Tr(n[0])} found`)];if(void 0===n[0].zoom)return[new ie(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new ie(s,n,"object stop key must have value")];if(a&&a>se(n[0].zoom))return[new ie(s,n[0].zoom,"stop zoom values must appear in ascending order")];se(n[0].zoom)!==a&&(a=se(n[0].zoom),i=void 0,o={}),r=r.concat(jr({key:`${s}[0]`,value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Vr,value:h}}))}else r=r.concat(h({key:`${s}[0]`,value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return Mr(le(n[1]))?r.concat([new ie(`${s}[1]`,n[1],"expressions are not allowed in function stops.")]):r.concat(fn({key:`${s}[1]`,value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function h(e,a){const s=Tr(e.value),l=se(e.value),u=null!==e.value?e.value:a;if(n){if(s!==n)return[new ie(e.key,u,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ie(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){let n=`number expected, ${s} found`;return br(t)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ie(e.key,u,n)]}return"categorical"!==r||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&void 0!==i&&l<i?[new ie(e.key,u,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in o?[new ie(e.key,u,"stop domain values must be unique")]:(o[l]=!0,[])):[new ie(e.key,u,`integer expected, found ${l}`)]}}function qr(e){const t=("property"===e.expressionContext?Rr:Ir)(le(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new ie(`${e.key}${t.key}`,e.value,t.message)));const r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new ie(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!vt(r))return[new ie(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!vt(r))return[new ie(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!_t(r,["zoom","feature-state"]))return[new ie(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!gt(r))return[new ie(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gr(e){const t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(se(r))&&i.push(new ie(t,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(se(r))&&i.push(new ie(t,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),i}function Zr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Zr(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const $r={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Yr(e){if(null==e)return{filter:()=>!0,needGeometry:!1};Zr(e)||(e=Xr(e));const t=Ir(e,$r);if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return{filter:(e,r,n)=>t.value.evaluate(e,r,{},n),needGeometry:Jr(e)}}function Hr(e,t){return e<t?-1:e>t?1:0}function Jr(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Jr(e[t]))return!0;return!1}function Xr(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?Qr(e[1],e[2],"=="):"!="===t?tn(Qr(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Qr(e[1],e[2],t):"any"===t?(r=e.slice(1),["any"].concat(r.map(Xr))):"all"===t?["all"].concat(e.slice(1).map(Xr)):"none"===t?["all"].concat(e.slice(1).map(Xr).map(tn)):"in"===t?Kr(e[1],e.slice(2)):"!in"===t?tn(Kr(e[1],e.slice(2))):"has"===t?en(e[1]):"!has"===t?tn(en(e[1])):"within"!==t||e;var r}function Qr(e,t,r){switch(e){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,e,t]}}function Kr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Hr)]]:["filter-in-small",e,["literal",t]]}}function en(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function tn(e){return["!",e]}function rn(e){return Zr(le(e.value))?qr(oe({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):nn(e)}function nn(e){const t=e.value,r=e.key;if("array"!==Tr(t))return[new ie(r,t,`array expected, ${Tr(t)} found`)];const n=e.styleSpec;let i,a=[];if(t.length<1)return[new ie(r,t,"filter array must have at least 1 element")];switch(a=a.concat(Gr({key:`${r}[0]`,value:t[0],valueSpec:n.filter_operator,style:e.style,styleSpec:e.styleSpec})),se(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===se(t[1])&&a.push(new ie(r,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&a.push(new ie(r,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=Tr(t[1]),"string"!==i&&a.push(new ie(`${r}[1]`,t[1],`string expected, ${i} found`)));for(let o=2;o<t.length;o++)i=Tr(t[o]),"$type"===se(t[1])?a=a.concat(Gr({key:`${r}[${o}]`,value:t[o],valueSpec:n.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new ie(`${r}[${o}]`,t[o],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let n=1;n<t.length;n++)a=a.concat(nn({key:`${r}[${n}]`,value:t[n],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Tr(t[1]),2!==t.length?a.push(new ie(r,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==i&&a.push(new ie(`${r}[1]`,t[1],`string expected, ${i} found`));break;case"within":i=Tr(t[1]),2!==t.length?a.push(new ie(r,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==i&&a.push(new ie(`${r}[1]`,t[1],`object expected, ${i} found`))}return a}function an(e,t){const r=e.key,n=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=o.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return fn({key:r,value:a,valueSpec:i.transition,style:n,styleSpec:i});const u=e.valueSpec||s[o];if(!u)return[new ie(r,a,`unknown property "${o}"`)];let c;if("string"===Tr(a)&&br(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(a)))return[new ie(r,a,`"${o}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(c[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===o&&n&&!n.glyphs&&d.push(new ie(r,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Sr(le(a))&&"identity"===se(a.type)&&d.push(new ie(r,a,'"text-font" does not support identity functions'))),d.concat(fn({key:e.key,value:a,valueSpec:u,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function on(e){return an(e,"paint")}function sn(e){return an(e,"layout")}function ln(e){let t=[];const r=e.value,n=e.key,i=e.style,a=e.styleSpec;r.type||r.ref||t.push(new ie(n,r,'either "type" or "ref" is required'));let o=se(r.type);const s=se(r.ref);if(r.id){const a=se(r.id);for(let o=0;o<e.arrayIndex;o++){const e=i.layers[o];se(e.id)===a&&t.push(new ie(n,r.id,`duplicate layer id "${r.id}", previously used at line ${e.id.__line__}`))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in r&&t.push(new ie(n,r[e],`"${e}" is prohibited for ref layers`))})),i.layers.forEach((t=>{se(t.id)===s&&(e=t)})),e?e.ref?t.push(new ie(n,r.ref,"ref cannot reference another ref layer")):o=se(e.type):t.push(new ie(n,r.ref,`ref layer "${s}" not found`))}else if("background"!==o)if(r.source){const e=i.sources&&i.sources[r.source],a=e&&se(e.type);e?"vector"===a&&"raster"===o?t.push(new ie(n,r.source,`layer "${r.id}" requires a raster source`)):"raster"===a&&"raster"!==o?t.push(new ie(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==a||r["source-layer"]?"raster-dem"===a&&"hillshade"!==o?t.push(new ie(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==o||!r.paint||!r.paint["line-gradient"]||"geojson"===a&&e.lineMetrics||t.push(new ie(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new ie(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new ie(n,r.source,`source "${r.source}" not found`))}else t.push(new ie(n,r,'missing required property "source"'));return t=t.concat(jr({key:n,value:r,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>fn({key:`${n}.type`,value:r.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"}),filter:rn,layout:e=>jr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>sn(oe({layerType:o},e))}}),paint:e=>jr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>on(oe({layerType:o},e))}})}})),t}function un(e){const t=e.value,r=e.key,n=Tr(t);return"string"!==n?[new ie(r,t,`string expected, ${n} found`)]:[]}const cn={promoteId:function({key:e,value:t}){if("string"===Tr(t))return un({key:e,value:t});{const r=[];for(const n in t)r.push(...un({key:`${e}.${n}`,value:t[n]}));return r}}};function dn(e){const t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new ie(r,t,'"type" is required')];const a=se(t.type);let o;switch(a){case"vector":case"raster":case"raster-dem":return o=jr({key:r,value:t,valueSpec:n[`source_${a.replace("-","_")}`],style:e.style,styleSpec:n,objectElementValidators:cn}),o;case"geojson":if(o=jr({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:cn}),t.cluster)for(const e in t.clusterProperties){const[n,i]=t.clusterProperties[e],a="string"==typeof n?[n,["accumulated"],["get",e]]:n;o.push(...qr({key:`${r}.${e}.map`,value:i,expressionContext:"cluster-map"})),o.push(...qr({key:`${r}.${e}.reduce`,value:a,expressionContext:"cluster-reduce"}))}return o;case"video":return jr({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return jr({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new ie(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Gr({key:`${r}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function hn(e){const t=e.value,r=e.styleSpec,n=r.light,i=e.style;let a=[];const o=Tr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ie("light",t,`object expected, ${o} found`)]),a;for(const e in t){const o=e.match(/^(.*)-transition$/);a=a.concat(o&&n[o[1]]&&n[o[1]].transition?fn({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):n[e]?fn({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}):[new ie(e,t[e],`unknown property "${e}"`)])}return a}function pn(e){const t=e.value,r=e.styleSpec,n=r.terrain,i=e.style;let a=[];const o=Tr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ie("terrain",t,`object expected, ${o} found`)]),a;for(const e in t)a=a.concat(n[e]?fn({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}):[new ie(e,t[e],`unknown property "${e}"`)]);return a}const mn={"*":()=>[],array:Ur,boolean:function(e){const t=e.value,r=e.key,n=Tr(t);return"boolean"!==n?[new ie(r,t,`boolean expected, ${n} found`)]:[]},number:Vr,color:function(e){const t=e.key,r=e.value,n=Tr(r);return"string"!==n?[new ie(t,r,`color expected, ${n} found`)]:null===Ne(r)?[new ie(t,r,`color expected, "${r}" found`)]:[]},constants:ae,enum:Gr,filter:rn,function:Wr,layer:ln,object:jr,source:dn,light:hn,terrain:pn,string:un,formatted:function(e){return 0===un(e).length?[]:qr(e)},resolvedImage:function(e){return 0===un(e).length?[]:qr(e)},padding:function(e){const t=e.key,r=e.value;if("array"===Tr(r)){if(r.length<1||r.length>4)return[new ie(t,r,`padding requires 1 to 4 values; ${r.length} values found`)];const e={type:"number"};let n=[];for(let i=0;i<r.length;i++)n=n.concat(fn({key:`${t}[${i}]`,value:r[i],valueSpec:e}));return n}return Vr({key:t,value:r,valueSpec:{}})}};function fn(e){const t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&Sr(se(t))?Wr(e):r.expression&&Mr(le(t))?qr(e):r.type&&mn[r.type]?mn[r.type](e):jr(oe({},e,{valueSpec:r.type?n[r.type]:r}))}function yn(e){const t=e.value,r=e.key,n=un(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new ie(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new ie(r,t,'"glyphs" url must include a "{range}" token'))),n}function gn(e,t=ne){let r=[];return r=r.concat(fn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:yn,"*":()=>[]}})),e.constants&&(r=r.concat(ae({key:"constants",value:e.constants,style:e,styleSpec:t}))),vn(r)}function vn(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function _n(e){return function(...t){return vn(e.apply(this,t))}}gn.source=_n(dn),gn.light=_n(hn),gn.terrain=_n(pn),gn.layer=_n(ln),gn.filter=_n(rn),gn.paintProperty=_n(on),gn.layoutProperty=_n(sn);const bn=gn,xn=bn.light,wn=bn.paintProperty,Tn=bn.layoutProperty;function Sn(e,t){let r=!1;if(t&&t.length)for(const n of t)e.fire(new te(new Error(n.message))),r=!0;return r}class kn{constructor(e,t,r){const n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(let e=0;e<this.d*this.d;e++){const t=i[3+e],r=i[3+e+1];n.push(t===r?null:i.subarray(t,r))}const a=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],a),this.bboxes=i.subarray(a),this.insert=this._insertReadonly}else{this.d=t+2*r;for(let e=0;e<this.d*this.d;e++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;const i=r/t*e;this.min=-i,this.max=e+i}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,r,n,i,a){this.cells[i].push(a)}query(e,t,r,n,i){const a=this.min,o=this.max;if(e<=a&&t<=a&&o<=r&&o<=n&&!i)return Array.prototype.slice.call(this.keys);{const a=[];return this._forEachCell(e,t,r,n,this._queryCell,a,{},i),a}}_queryCell(e,t,r,n,i,a,o,s){const l=this.cells[i];if(null!==l){const i=this.keys,u=this.bboxes;for(let c=0;c<l.length;c++){const d=l[c];if(void 0===o[d]){const l=4*d;(s?s(u[l+0],u[l+1],u[l+2],u[l+3]):e<=u[l+2]&&t<=u[l+3]&&r>=u[l+0]&&n>=u[l+1])?(o[d]=!0,a.push(i[d])):o[d]=!1}}}}_forEachCell(e,t,r,n,i,a,o,s){const l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),d=this._convertToCellCoord(n);for(let h=l;h<=c;h++)for(let l=u;l<=d;l++){const u=this.d*l+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(l),this._convertFromCellCoord(h+1),this._convertFromCellCoord(l+1)))&&i.call(this,e,t,r,n,u,a,o,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let r=0;for(let e=0;e<this.cells.length;e++)r+=this.cells[e].length;const n=new Int32Array(t+r+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;let i=t;for(let t=0;t<e.length;t++){const r=e[t];n[3+t]=i,n.set(r,i),i+=r.length}return n[3+e.length]=i,n.set(this.keys,i),i+=this.keys.length,n[3+e.length+1]=i,n.set(this.bboxes,i),i+=this.bboxes.length,n.buffer}static serialize(e,t){const r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}}static deserialize(e){return new kn(e.buffer)}}const Cn={};function Ln(e,t,r={}){if(Cn[e])throw new Error(`${e} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Cn[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}Ln("Object",Object),Ln("TransferableGridIndex",kn),Ln("Color",Ie),Ln("Error",Error),Ln("AJAXError",V),Ln("ResolvedImage",Be),Ln("StylePropertyFunction",Fr),Ln("StyleExpression",Pr,{omit:["_evaluator"]}),Ln("ZoomDependentExpression",zr),Ln("ZoomConstantExpression",Dr),Ln("CompoundExpression",Qe,{omit:["_evaluate"]});for(const e in pr)pr[e]._classRegistryKey||Ln(`Expression_${e}`,pr[e]);function Nn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function An(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(Nn(e))return t&&t.push(e),e;if(T(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const r=e;return t&&t.push(r.buffer),r}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const r=[];for(const n of e)r.push(An(n,t));return r}if("object"==typeof e){const r=e.constructor,n=r._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class");if(!Cn[n])throw new Error(`${n} is not registered.`);const i=r.serialize?r.serialize(e,t):{};if(r.serialize){if(t&&i===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const r in e){if(!e.hasOwnProperty(r))continue;if(Cn[n].omit.indexOf(r)>=0)continue;const a=e[r];i[r]=Cn[n].shallow.indexOf(r)>=0?a:An(a,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(i.$name=n),i}throw new Error("can't serialize object of type "+typeof e)}function On(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||Nn(e)||T(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(On);if("object"==typeof e){const t=e.$name||"Object";if(!Cn[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:r}=Cn[t];if(!r)throw new Error(`can't deserialize unregistered class ${t}`);if(r.deserialize)return r.deserialize(e);const n=Object.create(r.prototype);for(const r of Object.keys(e)){if("$name"===r)continue;const i=e[r];n[r]=Cn[t].shallow.indexOf(r)>=0?i:On(i)}return n}throw new Error("can't deserialize object of type "+typeof e)}class En{constructor(){this.first=!0}update(e,t){const r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))}}const Pn={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Mn(e){for(const t of e)if(zn(t.charCodeAt(0)))return!0;return!1}function In(e){for(const t of e)if(!Dn(t.charCodeAt(0)))return!1;return!0}function Dn(e){return!(Pn.Arabic(e)||Pn["Arabic Supplement"](e)||Pn["Arabic Extended-A"](e)||Pn["Arabic Presentation Forms-A"](e)||Pn["Arabic Presentation Forms-B"](e))}function zn(e){return!(746!==e&&747!==e&&(e<4352||!(Pn["Bopomofo Extended"](e)||Pn.Bopomofo(e)||Pn["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Pn["CJK Compatibility Ideographs"](e)||Pn["CJK Compatibility"](e)||Pn["CJK Radicals Supplement"](e)||Pn["CJK Strokes"](e)||!(!Pn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Pn["CJK Unified Ideographs Extension A"](e)||Pn["CJK Unified Ideographs"](e)||Pn["Enclosed CJK Letters and Months"](e)||Pn["Hangul Compatibility Jamo"](e)||Pn["Hangul Jamo Extended-A"](e)||Pn["Hangul Jamo Extended-B"](e)||Pn["Hangul Jamo"](e)||Pn["Hangul Syllables"](e)||Pn.Hiragana(e)||Pn["Ideographic Description Characters"](e)||Pn.Kanbun(e)||Pn["Kangxi Radicals"](e)||Pn["Katakana Phonetic Extensions"](e)||Pn.Katakana(e)&&12540!==e||!(!Pn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Pn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Pn["Unified Canadian Aboriginal Syllabics"](e)||Pn["Unified Canadian Aboriginal Syllabics Extended"](e)||Pn["Vertical Forms"](e)||Pn["Yijing Hexagram Symbols"](e)||Pn["Yi Syllables"](e)||Pn["Yi Radicals"](e))))}function Rn(e){return!(zn(e)||function(e){return!!(Pn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Pn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Pn["Letterlike Symbols"](e)||Pn["Number Forms"](e)||Pn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Pn["Control Pictures"](e)&&9251!==e||Pn["Optical Character Recognition"](e)||Pn["Enclosed Alphanumerics"](e)||Pn["Geometric Shapes"](e)||Pn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Pn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Pn["CJK Symbols and Punctuation"](e)||Pn.Katakana(e)||Pn["Private Use Area"](e)||Pn["CJK Compatibility Forms"](e)||Pn["Small Form Variants"](e)||Pn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Fn(e){return e>=1424&&e<=2303||Pn["Arabic Presentation Forms-A"](e)||Pn["Arabic Presentation Forms-B"](e)}function Bn(e,t){return!(!t&&Fn(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Pn.Khmer(e))}function jn(e){for(const t of e)if(Fn(t.charCodeAt(0)))return!0;return!1}const Un="deferred",Vn="loading",Wn="loaded";let qn=null,Gn="unavailable",Zn=null;const $n=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Gn="error"),qn&&qn(e)};function Yn(){Hn.fire(new ee("pluginStateChange",{pluginStatus:Gn,pluginURL:Zn}))}const Hn=new re,Jn=function(){return Gn},Xn=function(){if(Gn!==Un||!Zn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Gn=Vn,Yn(),Zn&&Z({url:Zn},(e=>{e?$n(e):(Gn=Wn,Yn())}))},Qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Gn===Wn||null!=Qn.applyArabicShaping,isLoading:()=>Gn===Vn,setState(e){if(!g())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Gn=e.pluginStatus,Zn=e.pluginURL},isParsed(){if(!g())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=Qn.applyArabicShaping&&null!=Qn.processBidirectionalText&&null!=Qn.processStyledBidirectionalText},getPluginURL(){if(!g())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Zn}};class Kn{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new En,this.transition={})}isSupportedScript(e){return function(e,t){for(const r of e)if(!Bn(r.charCodeAt(0),t))return!1;return!0}(e,Qn.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}}}class ei{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Sr(e))return new Fr(e,t);if(Mr(e)){const r=Rr(e,t);if("error"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return r.value}{let r=e;return"color"===t.type&&"string"==typeof e?r=Ie.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)||(r=Fe.parse(e)),{kind:"constant",evaluate:()=>r}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)}}class ti{constructor(e){this.property=e,this.value=new ei(e,void 0)}transitioned(e,t){return new ni(this.property,this.value,t,s({},e.transition,this.transition),e.now)}untransitioned(){return new ni(this.property,this.value,null,{},0)}}class ri{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return h(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new ti(this._values[e].property)),this._values[e].value=new ei(this._values[e].property,null===t?void 0:h(t))}getTransition(e){return h(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new ti(this._values[e].property)),this._values[e].transition=h(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const r=this.getValue(t);void 0!==r&&(e[t]=r);const n=this.getTransition(t);void 0!==n&&(e[`${t}-transition`]=n)}return e}transitioned(e,t){const r=new ii(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(e,t._values[n]);return r}untransitioned(){const e=new ii(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class ni{constructor(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)}possiblyEvaluate(e,t,r){const n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),a=this.prior;if(a){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return a.possiblyEvaluate(e,t,r);{const o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,r),i,function(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(o))}}return i}}class ii{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,r){const n=new si(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class ai{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return h(this._values[e].value)}setValue(e,t){this._values[e]=new ei(this._values[e].property,null===t?void 0:h(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const r=this.getValue(t);void 0!==r&&(e[t]=r)}return e}possiblyEvaluate(e,t,r){const n=new si(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}}class oi{constructor(e,t,r){this.property=e,this.value=t,this.parameters=r}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)}}class si{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class li{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,r){const n=Ct[this.specification.type];return n?n(e,t,r):e}}class ui{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,r,n){return new oi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)}interpolate(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new oi(this,{kind:"constant",value:void 0},e.parameters);const n=Ct[this.specification.type];return n?new oi(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e}evaluate(e,t,r,n,i,a){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,a)}}class ci extends ui{possiblyEvaluate(e,t,r,n){if(void 0===e.value)return new oi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},r,n),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new oi(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){const r=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new oi(this,{kind:"constant",value:r},t)}return new oi(this,e.expression,t)}evaluate(e,t,r,n,i,a){if("source"===e.kind){const o=e.evaluate(t,r,n,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class di{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Kn(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Kn(Math.floor(t.zoom),t)),e.expression.evaluate(new Kn(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class hi{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)}interpolate(){return!1}}class pi{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const r=e[t];r.specification.overridable&&this.overridableProperties.push(t);const n=this.defaultPropertyValues[t]=new ei(r,void 0),i=this.defaultTransitionablePropertyValues[t]=new ti(r);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}}}Ln("DataDrivenProperty",ui),Ln("DataConstantProperty",li),Ln("CrossFadedDataDrivenProperty",ci),Ln("CrossFadedProperty",di),Ln("ColorRampProperty",hi);const mi="-transition";class fi extends re{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new ai(t.layout)),t.paint)){this._transitionablePaint=new ri(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new si(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,r={}){null!=t&&this._validate(Tn,`layers.${this.id}.layout.${e}`,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(mi)?this._transitionablePaint.getTransition(e.slice(0,-mi.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,r={}){if(null!=t&&this._validate(wn,`layers.${this.id}.paint.${e}`,e,t,r))return!1;if(e.endsWith(mi))return this._transitionablePaint.setTransition(e.slice(0,-mi.length),t||void 0),!1;{const r=this._transitionablePaint._values[e],n="cross-faded-data-driven"===r.property.specification["property-type"],i=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const o=this._transitionablePaint._values[e].value;return o.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(e,a,o)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,r){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),d(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,r,n,i={}){return(!i||!1!==i.validate)&&Sn(this,e.call(bn,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof oi&&br(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const yi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class gi{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class vi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function _i(e,t=1){let r=0,n=0;return{members:e.map((e=>{const i=yi[e.type].BYTES_PER_ELEMENT,a=r=bi(r,Math.max(t,i)),o=e.components||1;return n=Math.max(n,i),r+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:bi(r,Math.max(n,t)),alignment:t}}function bi(e,t){return Math.ceil(e/t)*t}class xi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e}}xi.prototype.bytesPerElement=4,Ln("StructArrayLayout2i4",xi);class wi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const a=4*e;return this.int16[a+0]=t,this.int16[a+1]=r,this.int16[a+2]=n,this.int16[a+3]=i,e}}wi.prototype.bytesPerElement=8,Ln("StructArrayLayout4i8",wi);class Ti extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)}emplace(e,t,r,n,i,a,o){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}Ti.prototype.bytesPerElement=12,Ln("StructArrayLayout2i4i12",Ti);class Si extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)}emplace(e,t,r,n,i,a,o){const s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=i,this.uint8[l+6]=a,this.uint8[l+7]=o,e}}Si.prototype.bytesPerElement=8,Ln("StructArrayLayout2i4ub8",Si);class ki extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e}}ki.prototype.bytesPerElement=8,Ln("StructArrayLayout2f8",ki);class Ci extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a,o,s,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,r,n,i,a,o,s,l,u)}emplace(e,t,r,n,i,a,o,s,l,u,c){const d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=r,this.uint16[d+2]=n,this.uint16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=u,this.uint16[d+9]=c,e}}Ci.prototype.bytesPerElement=20,Ln("StructArrayLayout10ui20",Ci);class Li extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a,o,s,l,u,c,d){const h=this.length;return this.resize(h+1),this.emplace(h,e,t,r,n,i,a,o,s,l,u,c,d)}emplace(e,t,r,n,i,a,o,s,l,u,c,d,h){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=u,this.int16[p+9]=c,this.int16[p+10]=d,this.int16[p+11]=h,e}}Li.prototype.bytesPerElement=24,Ln("StructArrayLayout4i4ui4i24",Li);class Ni extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e}}Ni.prototype.bytesPerElement=12,Ln("StructArrayLayout3f12",Ni);class Ai extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Ai.prototype.bytesPerElement=4,Ln("StructArrayLayout1ul4",Ai);class Oi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a,o,s,l){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,a,o,s,l)}emplace(e,t,r,n,i,a,o,s,l,u){const c=10*e,d=5*e;return this.int16[c+0]=t,this.int16[c+1]=r,this.int16[c+2]=n,this.int16[c+3]=i,this.int16[c+4]=a,this.int16[c+5]=o,this.uint32[d+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e}}Oi.prototype.bytesPerElement=20,Ln("StructArrayLayout6i1ul2ui20",Oi);class Ei extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)}emplace(e,t,r,n,i,a,o){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}Ei.prototype.bytesPerElement=12,Ln("StructArrayLayout2i2i2i12",Ei);class Pi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i)}emplace(e,t,r,n,i,a){const o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.int16[s+6]=i,this.int16[s+7]=a,e}}Pi.prototype.bytesPerElement=16,Ln("StructArrayLayout2f1f2i16",Pi);class Mi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=r,this.float32[o+1]=n,this.float32[o+2]=i,e}}Mi.prototype.bytesPerElement=12,Ln("StructArrayLayout2ub2f12",Mi);class Ii extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e}}Ii.prototype.bytesPerElement=6,Ln("StructArrayLayout3ui6",Ii);class Di extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y){const g=this.length;return this.resize(g+1),this.emplace(g,e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y)}emplace(e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y,g){const v=24*e,_=12*e,b=48*e;return this.int16[v+0]=t,this.int16[v+1]=r,this.uint16[v+2]=n,this.uint16[v+3]=i,this.uint32[_+2]=a,this.uint32[_+3]=o,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[_+7]=d,this.float32[_+8]=h,this.uint8[b+36]=p,this.uint8[b+37]=m,this.uint8[b+38]=f,this.uint32[_+10]=y,this.int16[v+22]=g,e}}Di.prototype.bytesPerElement=48,Ln("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Di);class zi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y,g,v,_,b,x,w,T,S,k,C,L){const N=this.length;return this.resize(N+1),this.emplace(N,e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y,g,v,_,b,x,w,T,S,k,C,L)}emplace(e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y,g,v,_,b,x,w,T,S,k,C,L,N){const A=34*e,O=17*e;return this.int16[A+0]=t,this.int16[A+1]=r,this.int16[A+2]=n,this.int16[A+3]=i,this.int16[A+4]=a,this.int16[A+5]=o,this.int16[A+6]=s,this.int16[A+7]=l,this.uint16[A+8]=u,this.uint16[A+9]=c,this.uint16[A+10]=d,this.uint16[A+11]=h,this.uint16[A+12]=p,this.uint16[A+13]=m,this.uint16[A+14]=f,this.uint16[A+15]=y,this.uint16[A+16]=g,this.uint16[A+17]=v,this.uint16[A+18]=_,this.uint16[A+19]=b,this.uint16[A+20]=x,this.uint16[A+21]=w,this.uint16[A+22]=T,this.uint32[O+12]=S,this.float32[O+13]=k,this.float32[O+14]=C,this.float32[O+15]=L,this.float32[O+16]=N,e}}zi.prototype.bytesPerElement=68,Ln("StructArrayLayout8i15ui1ul4f68",zi);class Ri extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Ri.prototype.bytesPerElement=4,Ln("StructArrayLayout1f4",Ri);class Fi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e}}Fi.prototype.bytesPerElement=6,Ln("StructArrayLayout3i6",Fi);class Bi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e}}Bi.prototype.bytesPerElement=8,Ln("StructArrayLayout1ul2ui8",Bi);class ji extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e}}ji.prototype.bytesPerElement=4,Ln("StructArrayLayout2ui4",ji);class Ui extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Ui.prototype.bytesPerElement=2,Ln("StructArrayLayout1ui2",Ui);class Vi extends vi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const a=4*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,e}}Vi.prototype.bytesPerElement=16,Ln("StructArrayLayout4f16",Vi);class Wi extends gi{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new k(this.anchorPointX,this.anchorPointY)}}Wi.prototype.size=20;class qi extends Oi{get(e){return new Wi(this,e)}}Ln("CollisionBoxArray",qi);class Gi extends gi{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Gi.prototype.size=48;class Zi extends Di{get(e){return new Gi(this,e)}}Ln("PlacedSymbolArray",Zi);class $i extends gi{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}$i.prototype.size=68;class Yi extends zi{get(e){return new $i(this,e)}}Ln("SymbolInstanceArray",Yi);class Hi extends Ri{getoffsetX(e){return this.float32[1*e+0]}}Ln("GlyphOffsetArray",Hi);class Ji extends Fi{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Ln("SymbolLineVertexArray",Ji);class Xi extends gi{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Xi.prototype.size=8;class Qi extends Bi{get(e){return new Xi(this,e)}}Ln("FeatureIndexArray",Qi);class Ki extends xi{}class ea extends xi{}class ta extends xi{}class ra extends Ti{}class na extends Si{}class ia extends ki{}class aa extends Ci{}class oa extends Li{}class sa extends Ni{}class la extends Ai{}class ua extends Ei{}class ca extends Mi{}class da extends Ii{}class ha extends ji{}const pa=_i([{name:"a_pos",components:2,type:"Int16"}],4),{members:ma}=pa;class fa{constructor(e=[]){this.segments=e}prepareSegment(e,t,r,n){let i=this.segments[this.segments.length-1];return e>fa.MAX_VERTEX_ARRAY_LENGTH&&m(`Max vertices per segment is ${fa.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>fa.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,r,n){return new fa([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}function ya(e,t){return 256*(e=a(Math.floor(e),0,255))+a(Math.floor(t),0,255)}fa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ln("SegmentVector",fa);const ga=_i([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var va={exports:{}},_a={exports:{}};_a.exports=function(e,t){var r,n,i,a,o,s,l,u;for(n=e.length-(r=3&e.length),i=t,o=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var ba={exports:{}};ba.exports=function(e,t){for(var r,n=e.length,i=t^n,a=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var xa=_a.exports,wa=ba.exports;va.exports=xa,va.exports.murmur3=xa,va.exports.murmur2=wa;class Ta{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,r,n){this.ids.push(Sa(e)),this.positions.push(t,r,n)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const t=Sa(e);let r=0,n=this.ids.length-1;for(;r<n;){const e=r+n>>1;this.ids[e]>=t?n=e:r=e+1}const i=[];for(;this.ids[r]===t;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(e,t){const r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return ka(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(e){const t=new Ta;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function Sa(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:va.exports(String(e))}function ka(e,t,r,n){for(;r<n;){const i=e[r+n>>1];let a=r-1,o=n+1;for(;;){do{a++}while(e[a]<i);do{o--}while(e[o]>i);if(a>=o)break;Ca(e,a,o),Ca(t,3*a,3*o),Ca(t,3*a+1,3*o+1),Ca(t,3*a+2,3*o+2)}o-r<n-o?(ka(e,t,r,o),r=o+1):(ka(e,t,o+1,n),n=o)}}function Ca(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}Ln("FeaturePositionMap",Ta);class La{constructor(e,t){this.gl=e.gl,this.location=t}}class Na extends La{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class Aa extends La{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Oa extends La{constructor(e,t){super(e,t),this.current=Ie.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Ea=new Float32Array(16);function Pa(e){return[ya(255*e.r,255*e.g),ya(255*e.b,255*e.a)]}class Ma{constructor(e,t,r){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=r}setUniform(e,t,r){e.set(r.constantOr(this.value))}getBinding(e,t,r){return"color"===this.type?new Oa(e,t):new Na(e,t)}}class Ia{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,r,n){const i="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&e.set(i)}getBinding(e,t,r){return"u_pattern"===r.substr(0,9)?new Aa(e,t):new Na(e,t)}}class Da{constructor(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===r?2:1,offset:0}))),this.paintVertexArray=new n}populatePaintArray(e,t,r,n,i){const a=this.paintVertexArray.length,o=this.expression.evaluate(new Kn(0),t,{},n,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)}updatePaintArray(e,t,r,n){const i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(e,t,i)}_setPaintValue(e,t,r){if("color"===this.type){const n=Pa(r);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class za{constructor(e,t,r,n,i,a){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===r?4:2,offset:0}))),this.paintVertexArray=new a}populatePaintArray(e,t,r,n,i){const a=this.expression.evaluate(new Kn(this.zoom),t,{},n,[],i),o=this.expression.evaluate(new Kn(this.zoom+1),t,{},n,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)}updatePaintArray(e,t,r,n){const i=this.expression.evaluate({zoom:this.zoom},r,n),a=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(e,t,i,a)}_setPaintValue(e,t,r,n){if("color"===this.type){const i=Pa(r),a=Pa(n);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i[0],i[1],a[0],a[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=a(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(n)}getBinding(e,t,r){return new Na(e,t)}}class Ra{constructor(e,t,r,n,i,a){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=n,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(e,t,r){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)}updatePaintArray(e,t,r,n,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)}_setPaintValues(e,t,r,n){if(!n||!r)return;const{min:i,mid:a,max:o}=r,s=n[i],l=n[a],u=n[o];if(s&&l&&u)for(let r=e;r<t;r++)this.zoomInPaintVertexArray.emplace(r,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(r,l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1],l.pixelRatio,u.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,ga.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,ga.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Fa{constructor(e,t,r){this.binders={},this._buffers=[];const n=[];for(const i in e.paint._values){if(!r(i))continue;const a=e.paint.get(i);if(!(a instanceof oi&&br(a.property.specification)))continue;const o=ja(i,e.type),s=a.value,l=a.property.specification.type,u=a.property.useIntegerZoom,c=a.property.specification["property-type"],d="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=d?new Ia(s.value,o):new Ma(s.value,o,l),n.push(`/u_${i}`);else if("source"===s.kind||d){const r=Ua(i,l,"source");this.binders[i]=d?new Ra(s,l,u,t,r,e.id):new Da(s,o,l,r),n.push(`/a_${i}`)}else{const e=Ua(i,l,"composite");this.binders[i]=new za(s,o,l,u,t,e),n.push(`/z_${i}`)}}this.cacheKey=n.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Da||t instanceof za?t.maxValue:0}populatePaintArrays(e,t,r,n,i){for(const a in this.binders){const o=this.binders[a];(o instanceof Da||o instanceof za||o instanceof Ra)&&o.populatePaintArray(e,t,r,n,i)}}setConstantPatternPositions(e,t){for(const r in this.binders){const n=this.binders[r];n instanceof Ia&&n.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,r,n,i){let a=!1;for(const o in e){const s=t.getPositions(o);for(const t of s){const s=r.feature(t.index);for(const r in this.binders){const l=this.binders[r];if((l instanceof Da||l instanceof za||l instanceof Ra)&&!0===l.expression.isStateDependent){const u=n.paint.get(r);l.expression=u.value,l.updatePaintArray(t.start,t.end,s,e[o],i),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const r=this.binders[t];(r instanceof Ma||r instanceof Ia)&&e.push(...r.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const r=this.binders[t];if(r instanceof Da||r instanceof za)for(let t=0;t<r.paintVertexAttributes.length;t++)e.push(r.paintVertexAttributes[t].name);else if(r instanceof Ra)for(let t=0;t<ga.members.length;t++)e.push(ga.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const r=this.binders[t];if(r instanceof Ma||r instanceof Ia||r instanceof za)for(const t of r.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const r=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof Ma||i instanceof Ia||i instanceof za)for(const a of i.uniformNames)if(t[a]){const o=i.getBinding(e,t[a],a);r.push({name:a,property:n,binding:o})}}return r}setUniforms(e,t,r,n){for(const{name:e,property:i,binding:a}of t)this.binders[i].setUniform(a,n,r.get(i),e)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const r=this.binders[t];if(e&&r instanceof Ra){const t=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(r instanceof Da||r instanceof za)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(e){for(const t in this.binders){const r=this.binders[t];(r instanceof Da||r instanceof za||r instanceof Ra)&&r.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Da||t instanceof za||t instanceof Ra)&&t.destroy()}}}class Ba{constructor(e,t,r=(()=>!0)){this.programConfigurations={};for(const n of e)this.programConfigurations[n.id]=new Fa(n,t,r);this.needsUpload=!1,this._featureMap=new Ta,this._bufferOffset=0}populatePaintArrays(e,t,r,n,i,a){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(e,t,n,i,a);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,r,n){for(const i of r)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,n)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function ja(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(`${t}-`,"").replace(/-/g,"_")]}function Ua(e,t,r){const n={color:{source:ki,composite:Vi},number:{source:Ri,composite:ki}},i=function(e){return{"line-pattern":{source:aa,composite:aa},"fill-pattern":{source:aa,composite:aa},"fill-extrusion-pattern":{source:aa,composite:aa}}[e]}(e);return i&&i[r]||n[t][r]}Ln("ConstantBinder",Ma),Ln("CrossFadedConstantBinder",Ia),Ln("SourceExpressionBinder",Da),Ln("CrossFadedCompositeBinder",Ra),Ln("CompositeExpressionBinder",za),Ln("ProgramConfiguration",Fa,{omit:["_buffers"]}),Ln("ProgramConfigurationSet",Ba);var Va=8192;const Wa=Math.pow(2,14)-1,qa=-Wa-1;function Ga(e){const t=Va/e.extent,r=e.loadGeometry();for(let e=0;e<r.length;e++){const n=r[e];for(let e=0;e<n.length;e++){const r=n[e],i=Math.round(r.x*t),o=Math.round(r.y*t);r.x=a(i,qa,Wa),r.y=a(o,qa,Wa),(i<r.x||i>r.x+1||o<r.y||o>r.y+1)&&m("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function Za(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Ga(e):[]}}function $a(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}class Ya{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ea,this.indexArray=new da,this.segments=new fa,this.programConfigurations=new Ba(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){const n=this.layers[0],i=[];let a=null,o=!1;"circle"===n.type&&(a=n.layout.get("circle-sort-key"),o=!a.isConstant());for(const{feature:t,id:n,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Za(t,e);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),u,r))continue;const c=o?a.evaluate(u,{},r):void 0,d={id:n,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:Ga(t),patterns:{},sortKey:c};i.push(d)}o&&i.sort(((e,t)=>e.sortKey-t.sortKey));for(const n of i){const{geometry:i,index:a,sourceLayerIndex:o}=n,s=e[a].feature;this.addFeature(n,i,a,r),t.featureIndex.insert(s,i,a,o,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ma),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,r,n){for(const r of t)for(const t of r){const r=t.x,n=t.y;if(r<0||r>=Va||n<0||n>=Va)continue;const i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),a=i.vertexLength;$a(this.layoutVertexArray,r,n,-1,-1),$a(this.layoutVertexArray,r,n,1,-1),$a(this.layoutVertexArray,r,n,1,1),$a(this.layoutVertexArray,r,n,-1,1),this.indexArray.emplaceBack(a,a+1,a+2),this.indexArray.emplaceBack(a,a+3,a+2),i.vertexLength+=4,i.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n)}}function Ha(e,t){for(let r=0;r<e.length;r++)if(io(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(io(e,t[r]))return!0;return!!Ka(e,t)}function Ja(e,t,r){return!!io(e,t)||!!to(t,e,r)}function Xa(e,t){if(1===e.length)return no(t,e[0]);for(let r=0;r<t.length;r++){const n=t[r];for(let t=0;t<n.length;t++)if(io(e,n[t]))return!0}for(let r=0;r<e.length;r++)if(no(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(Ka(e,t[r]))return!0;return!1}function Qa(e,t,r){if(e.length>1){if(Ka(e,t))return!0;for(let n=0;n<t.length;n++)if(to(t[n],e,r))return!0}for(let n=0;n<e.length;n++)if(to(e[n],t,r))return!0;return!1}function Ka(e,t){if(0===e.length||0===t.length)return!1;for(let r=0;r<e.length-1;r++){const n=e[r],i=e[r+1];for(let e=0;e<t.length-1;e++)if(eo(n,i,t[e],t[e+1]))return!0}return!1}function eo(e,t,r,n){return f(e,r,n)!==f(t,r,n)&&f(e,t,r)!==f(e,t,n)}function to(e,t,r){const n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(let r=1;r<t.length;r++)if(ro(e,t[r-1],t[r])<n)return!0;return!1}function ro(e,t,r){const n=t.distSqr(r);if(0===n)return e.distSqr(t);const i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function no(e,t){let r,n,i,a=!1;for(let o=0;o<e.length;o++){r=e[o];for(let e=0,o=r.length-1;e<r.length;o=e++)n=r[e],i=r[o],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(a=!a)}return a}function io(e,t){let r=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const a=e[n],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(r=!r)}return r}function ao(e,t,r){const n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;const a=f(e,t,r[0]);return a!==f(e,t,r[1])||a!==f(e,t,r[2])||a!==f(e,t,r[3])}function oo(e,t,r){const n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function so(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function lo(e,t,r,n,i){if(!t[0]&&!t[1])return e;const a=k.convert(t)._mult(i);"viewport"===r&&a._rotate(-n);const o=[];for(let t=0;t<e.length;t++)o.push(e[t].sub(a));return o}Ln("CircleBucket",Ya,{omit:["layers"]});const uo=new pi({"circle-sort-key":new ui(ne.layout_circle["circle-sort-key"])});var co={paint:new pi({"circle-radius":new ui(ne.paint_circle["circle-radius"]),"circle-color":new ui(ne.paint_circle["circle-color"]),"circle-blur":new ui(ne.paint_circle["circle-blur"]),"circle-opacity":new ui(ne.paint_circle["circle-opacity"]),"circle-translate":new li(ne.paint_circle["circle-translate"]),"circle-translate-anchor":new li(ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new li(ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new li(ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ui(ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ui(ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ui(ne.paint_circle["circle-stroke-opacity"])}),layout:uo},ho=1e-6,po="undefined"!=typeof Float32Array?Float32Array:Array;function mo(){var e=new po(9);return po!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function fo(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yo(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],p=t[10],m=t[11],f=t[12],y=t[13],g=t[14],v=t[15],_=r[0],b=r[1],x=r[2],w=r[3];return e[0]=_*n+b*s+x*d+w*f,e[1]=_*i+b*l+x*h+w*y,e[2]=_*a+b*u+x*p+w*g,e[3]=_*o+b*c+x*m+w*v,e[4]=(_=r[4])*n+(b=r[5])*s+(x=r[6])*d+(w=r[7])*f,e[5]=_*i+b*l+x*h+w*y,e[6]=_*a+b*u+x*p+w*g,e[7]=_*o+b*c+x*m+w*v,e[8]=(_=r[8])*n+(b=r[9])*s+(x=r[10])*d+(w=r[11])*f,e[9]=_*i+b*l+x*h+w*y,e[10]=_*a+b*u+x*p+w*g,e[11]=_*o+b*c+x*m+w*v,e[12]=(_=r[12])*n+(b=r[13])*s+(x=r[14])*d+(w=r[15])*f,e[13]=_*i+b*l+x*h+w*y,e[14]=_*a+b*u+x*p+w*g,e[15]=_*o+b*c+x*m+w*v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var go,vo=yo;function _o(){var e=new po(3);return po!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function bo(e,t,r){var n=new po(3);return n[0]=e,n[1]=t,n[2]=r,n}function xo(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}function wo(){var e=new po(4);return po!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function To(e,t){const r=xo([],[e.x,e.y,0,1],t);return new k(r[0]/r[3],r[1]/r[3])}_o(),go=new po(4),po!=Float32Array&&(go[0]=0,go[1]=0,go[2]=0,go[3]=0),_o(),bo(1,0,0),bo(0,1,0),wo(),wo(),mo(),function(){var e;e=new po(2),po!=Float32Array&&(e[0]=0,e[1]=0)}();class So extends Ya{}Ln("HeatmapBucket",So,{omit:["layers"]});var ko={paint:new pi({"heatmap-radius":new ui(ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ui(ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new li(ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new hi(ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new li(ne.paint_heatmap["heatmap-opacity"])})};function Co(e,{width:t,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*r*n)throw new RangeError(`mismatched image size. expected: ${i.length} but got: ${t*r*n}`)}else i=new Uint8Array(t*r*n);return e.width=t,e.height=r,e.data=i,e}function Lo(e,{width:t,height:r},n){if(t===e.width&&r===e.height)return;const i=Co({},{width:t,height:r},n);No(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,r)},n),e.width=t,e.height=r,e.data=i.data}function No(e,t,r,n,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const o=e.data,s=t.data;if(o===s)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<i.height;l++){const u=((r.y+l)*e.width+r.x)*a,c=((n.y+l)*t.width+n.x)*a;for(let e=0;e<i.width*a;e++)s[c+e]=o[u+e]}return t}class Ao{constructor(e,t){Co(this,e,1,t)}resize(e){Lo(this,e,1)}clone(){return new Ao({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){No(e,t,r,n,i,1)}}class Oo{constructor(e,t){Co(this,e,4,t)}resize(e){Lo(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Oo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){No(e,t,r,n,i,4)}}function Eo(e){const t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new Oo({width:r,height:n});if(Math.log(r)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${r}`);const a=(r,n,a)=>{t[e.evaluationKey]=a;const o=e.expression.evaluate(t);i.data[r+n+0]=Math.floor(255*o.r/o.a),i.data[r+n+1]=Math.floor(255*o.g/o.a),i.data[r+n+2]=Math.floor(255*o.b/o.a),i.data[r+n+3]=Math.floor(255*o.a)};if(e.clips)for(let t=0,i=0;t<n;++t,i+=4*r)for(let n=0,o=0;n<r;n++,o+=4){const s=n/(r-1),{start:l,end:u}=e.clips[t];a(i,o,l*(1-s)+u*s)}else for(let e=0,t=0;e<r;e++,t+=4)a(0,t,e/(r-1));return i}Ln("AlphaImage",Ao),Ln("RGBAImage",Oo);var Po={paint:new pi({"hillshade-illumination-direction":new li(ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new li(ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new li(ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new li(ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new li(ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new li(ne.paint_hillshade["hillshade-accent-color"])})};const Mo=_i([{name:"a_pos",components:2,type:"Int16"}],4),{members:Io}=Mo;var Do={exports:{}};function zo(e,t,r){r=r||2;var n,i,a,o,s,l,u,c=t&&t.length,d=c?t[0]*r:e.length,h=Ro(e,0,d,r,!0),p=[];if(!h||h.next===h.prev)return p;if(c&&(h=function(e,t,r,n){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Ro(e,t[i]*n,i<a-1?t[i+1]*n:e.length,n,!1))===o.next&&(o.steiner=!0),s.push(Yo(o));for(s.sort(qo),i=0;i<s.length;i++)r=Go(s[i],r);return r}(e,t,h,r)),e.length>80*r){n=a=e[0],i=o=e[1];for(var m=r;m<d;m+=r)(s=e[m])<n&&(n=s),(l=e[m+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-n,o-i))?32767/u:0}return Bo(h,p,r,n,i,u,0),p}function Ro(e,t,r,n,i){var a,o;if(i===ss(e,t,r,n)>0)for(a=t;a<r;a+=n)o=is(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=is(a,e[a],e[a+1],o);return o&&Qo(o,o.next)&&(as(o),o=o.next),o}function Fo(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Qo(n,n.next)&&0!==Xo(n.prev,n,n.next))n=n.next;else{if(as(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Bo(e,t,r,n,i,a,o){if(e){!o&&a&&function(e,t,r,n){var i=e;do{0===i.z&&(i.z=$o(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,s,l,u=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,u*=2}while(o>1)}(i)}(e,n,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Uo(e,n,i,a):jo(e))t.push(s.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),as(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Bo(e=Vo(Fo(e),t,r),t,r,n,i,a,2):2===o&&Wo(e,t,r,n,i,a):Bo(Fo(e),t,r,n,i,a,1);break}}}function jo(e){var t=e.prev,r=e,n=e.next;if(Xo(t,r,n)>=0)return!1;for(var i=t.x,a=r.x,o=n.x,s=t.y,l=r.y,u=n.y,c=i<a?i<o?i:o:a<o?a:o,d=s<l?s<u?s:u:l<u?l:u,h=i>a?i>o?i:o:a>o?a:o,p=s>l?s>u?s:u:l>u?l:u,m=n.next;m!==t;){if(m.x>=c&&m.x<=h&&m.y>=d&&m.y<=p&&Ho(i,s,a,l,o,u,m.x,m.y)&&Xo(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Uo(e,t,r,n){var i=e.prev,a=e,o=e.next;if(Xo(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,d=a.y,h=o.y,p=s<l?s<u?s:u:l<u?l:u,m=c<d?c<h?c:h:d<h?d:h,f=s>l?s>u?s:u:l>u?l:u,y=c>d?c>h?c:h:d>h?d:h,g=$o(p,m,t,r,n),v=$o(f,y,t,r,n),_=e.prevZ,b=e.nextZ;_&&_.z>=g&&b&&b.z<=v;){if(_.x>=p&&_.x<=f&&_.y>=m&&_.y<=y&&_!==i&&_!==o&&Ho(s,c,l,d,u,h,_.x,_.y)&&Xo(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=p&&b.x<=f&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&Ho(s,c,l,d,u,h,b.x,b.y)&&Xo(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=g;){if(_.x>=p&&_.x<=f&&_.y>=m&&_.y<=y&&_!==i&&_!==o&&Ho(s,c,l,d,u,h,_.x,_.y)&&Xo(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=f&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&Ho(s,c,l,d,u,h,b.x,b.y)&&Xo(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Vo(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!Qo(i,a)&&Ko(i,n,n.next,a)&&rs(i,a)&&rs(a,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(a.i/r|0),as(n),as(n.next),n=e=a),n=n.next}while(n!==e);return Fo(n)}function Wo(e,t,r,n,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Jo(o,s)){var l=ns(o,s);return o=Fo(o,o.next),l=Fo(l,l.next),Bo(o,t,r,n,i,a,0),void Bo(l,t,r,n,i,a,0)}s=s.next}o=o.next}while(o!==e)}function qo(e,t){return e.x-t.x}function Go(e,t){var r=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o&&(o=s,r=n.x<n.next.x?n:n.next,s===i))return r}n=n.next}while(n!==t);if(!r)return null;var l,u=r,c=r.x,d=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&Ho(a<d?i:o,a,c,d,a<d?o:i,a,n.x,n.y)&&(l=Math.abs(a-n.y)/(i-n.x),rs(n,e)&&(l<h||l===h&&(n.x>r.x||n.x===r.x&&Zo(r,n)))&&(r=n,h=l)),n=n.next}while(n!==u);return r}(e,t);if(!r)return t;var n=ns(r,e);return Fo(n,n.next),Fo(r,r.next)}function Zo(e,t){return Xo(e.prev,e,t.prev)<0&&Xo(t.next,e,e.next)<0}function $o(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Yo(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Ho(e,t,r,n,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(n-s)>=(r-o)*(t-s)&&(r-o)*(a-s)>=(i-o)*(n-s)}function Jo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Ko(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(rs(e,t)&&rs(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Xo(e.prev,e,t.prev)||Xo(e,t.prev,t))||Qo(e,t)&&Xo(e.prev,e,e.next)>0&&Xo(t.prev,t,t.next)>0)}function Xo(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Qo(e,t){return e.x===t.x&&e.y===t.y}function Ko(e,t,r,n){var i=ts(Xo(e,t,r)),a=ts(Xo(e,t,n)),o=ts(Xo(r,n,e)),s=ts(Xo(r,n,t));return i!==a&&o!==s||!(0!==i||!es(e,r,t))||!(0!==a||!es(e,n,t))||!(0!==o||!es(r,e,n))||!(0!==s||!es(r,t,n))}function es(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function ts(e){return e>0?1:e<0?-1:0}function rs(e,t){return Xo(e.prev,e,e.next)<0?Xo(e,t,e.next)>=0&&Xo(e,e.prev,t)>=0:Xo(e,t,e.prev)<0||Xo(e,e.next,t)<0}function ns(e,t){var r=new os(e.i,e.x,e.y),n=new os(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function is(e,t,r,n){var i=new os(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function as(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function os(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ss(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function ls(e,t,r,n,i){us(e,t,r||0,n||e.length-1,i||ds)}function us(e,t,r,n,i){for(;n>r;){if(n-r>600){var a=n-r+1,o=t-r+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);us(e,t,Math.max(r,Math.floor(t-o*l/a+u)),Math.min(n,Math.floor(t+(a-o)*l/a+u)),i)}var c=e[t],d=r,h=n;for(cs(e,r,t),i(e[n],c)>0&&cs(e,r,n);d<h;){for(cs(e,d,h),d++,h--;i(e[d],c)<0;)d++;for(;i(e[h],c)>0;)h--}0===i(e[r],c)?cs(e,r,h):cs(e,++h,n),h<=t&&(r=h+1),t<=h&&(n=h-1)}}function cs(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function ds(e,t){return e<t?-1:e>t?1:0}function hs(e,t){const r=e.length;if(r<=1)return[e];const n=[];let i,a;for(let t=0;t<r;t++){const r=y(e[t]);0!==r&&(e[t].area=Math.abs(r),void 0===a&&(a=r<0),a===r<0?(i&&n.push(i),i=[e[t]]):i.push(e[t]))}if(i&&n.push(i),t>1)for(let e=0;e<n.length;e++)n[e].length<=t||(ls(n[e],t,1,n[e].length-1,ps),n[e]=n[e].slice(0,t));return n}function ps(e,t){return t.area-e.area}function ms(e,t,r){const n=r.patternDependencies;let i=!1;for(const r of t){const t=r.paint.get(`${e}-pattern`);t.isConstant()||(i=!0);const a=t.constantOr(null);a&&(i=!0,n[a.to]=!0,n[a.from]=!0)}return i}function fs(e,t,r,n,i){const a=i.patternDependencies;for(const o of t){const t=o.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:n-1},r,{},i.availableImages),s=t.evaluate({zoom:n},r,{},i.availableImages),l=t.evaluate({zoom:n+1},r,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,a[e]=!0,a[s]=!0,a[l]=!0,r.patterns[o.id]={min:e,mid:s,max:l}}}return r}Do.exports=zo,Do.exports.default=zo,zo.deviation=function(e,t,r,n){var i=t&&t.length,a=Math.abs(ss(e,0,i?t[0]*r:e.length,r));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(ss(e,t[o]*r,o<s-1?t[o+1]*r:e.length,r));var l=0;for(o=0;o<n.length;o+=3){var u=n[o]*r,c=n[o+1]*r,d=n[o+2]*r;l+=Math.abs((e[u]-e[d])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[d+1]-e[u+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},zo.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&r.holes.push(n+=e[i-1].length)}return r};class ys{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ta,this.indexArray=new da,this.indexArray2=new ha,this.programConfigurations=new Ba(e.layers,e.zoom),this.segments=new fa,this.segments2=new fa,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){this.hasPattern=ms("fill",this.layers,t);const n=this.layers[0].layout.get("fill-sort-key"),i=!n.isConstant(),a=[];for(const{feature:o,id:s,index:l,sourceLayerIndex:u}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Za(o,e);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),c,r))continue;const d=i?n.evaluate(c,{},r,t.availableImages):void 0,h={id:s,properties:o.properties,type:o.type,sourceLayerIndex:u,index:l,geometry:e?c.geometry:Ga(o),patterns:{},sortKey:d};a.push(h)}i&&a.sort(((e,t)=>e.sortKey-t.sortKey));for(const n of a){const{geometry:i,index:a,sourceLayerIndex:o}=n;if(this.hasPattern){const e=fs("fill",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,a,r,{});t.featureIndex.insert(e[a].feature,i,a,o,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}addFeatures(e,t,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Io),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,r,n,i){for(const e of hs(t,500)){let t=0;for(const r of e)t+=r.length;const r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),n=r.vertexLength,i=[],a=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&a.push(i.length/2);const r=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),n=r.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(n+t.length-1,n),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(n+e-1,n+e),i.push(t[e].x),i.push(t[e].y);r.vertexLength+=t.length,r.primitiveLength+=t.length}const o=Do.exports(i,a);for(let e=0;e<o.length;e+=3)this.indexArray.emplaceBack(n+o[e],n+o[e+1],n+o[e+2]);r.vertexLength+=t,r.primitiveLength+=o.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}}Ln("FillBucket",ys,{omit:["layers","patternFeatures"]});const gs=new pi({"fill-sort-key":new ui(ne.layout_fill["fill-sort-key"])});var vs={paint:new pi({"fill-antialias":new li(ne.paint_fill["fill-antialias"]),"fill-opacity":new ui(ne.paint_fill["fill-opacity"]),"fill-color":new ui(ne.paint_fill["fill-color"]),"fill-outline-color":new ui(ne.paint_fill["fill-outline-color"]),"fill-translate":new li(ne.paint_fill["fill-translate"]),"fill-translate-anchor":new li(ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new ci(ne.paint_fill["fill-pattern"])}),layout:gs};const _s=_i([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),bs=_i([{name:"a_centroid",components:2,type:"Int16"}],4),{members:xs}=_s;var ws={},Ts=k,Ss=ks;function ks(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(Cs,this,t)}function Cs(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function Ls(e){for(var t,r,n=0,i=0,a=e.length,o=a-1;i<a;o=i++)n+=((r=e[o]).x-(t=e[i]).x)*(t.y+r.y);return n}ks.types=["Unknown","Point","LineString","Polygon"],ks.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,i=0,a=0,o=0,s=[];e.pos<r;){if(i<=0){var l=e.readVarint();n=7&l,i=l>>3}if(i--,1===n||2===n)a+=e.readSVarint(),o+=e.readSVarint(),1===n&&(t&&s.push(t),t=[]),t.push(new Ts(a,o));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&s.push(t),s},ks.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==r)throw new Error("unknown command "+r)}return[o,l,s,u]},ks.prototype.toGeoJSON=function(e,t,r){var n,i,a=this.extent*Math.pow(2,r),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=ks.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(n=0;n<l.length;n++)d[n]=l[n][0];c(l=d);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],a=0;a<t;a++){var o=Ls(e[a]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)c(l[n][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Ns=Ss,As=Os;function Os(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Es,this,t),this.length=this._features.length}function Es(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}Os.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Ns(this._pbf,t,this.extent,this._keys,this._values)};var Ps=As;function Ms(e,t,r){if(3===e){var n=new Ps(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}ws.VectorTile=function(e,t){this.layers=e.readFields(Ms,{},t)},ws.VectorTileFeature=Ss,ws.VectorTileLayer=As;const Is=ws.VectorTileFeature.types,Ds=Math.pow(2,13);function zs(e,t,r,n,i,a,o,s){e.emplaceBack(t,r,2*Math.floor(n*Ds)+o,i*Ds*2,a*Ds*2,Math.round(s))}class Rs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ra,this.centroidVertexArray=new Ki,this.indexArray=new da,this.programConfigurations=new Ba(e.layers,e.zoom),this.segments=new fa,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){this.features=[],this.hasPattern=ms("fill-extrusion",this.layers,t);for(const{feature:n,id:i,index:a,sourceLayerIndex:o}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Za(n,e);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),s,r))continue;const l={id:i,sourceLayerIndex:o,index:a,geometry:e?s.geometry:Ga(n),properties:n.properties,type:n.type,patterns:{}};this.hasPattern?this.features.push(fs("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,a,r,{}),t.featureIndex.insert(n,l.geometry,a,o,this.index,!0)}}addFeatures(e,t,r){for(const e of this.features){const{geometry:n}=e;this.addFeature(e,n,e.index,t,r)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,xs),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,bs.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,r,n,i){const a={x:0,y:0,vertexCount:0};for(const r of hs(t,500)){let t=0;for(const e of r)t+=e.length;let n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of r){if(0===e.length)continue;if(Bs(e))continue;let t=0;for(let r=0;r<e.length;r++){const i=e[r];if(r>=1){const o=e[r-1];if(!Fs(i,o)){n.vertexLength+4>fa.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=i.sub(o)._perp()._unit(),r=o.dist(i);t+r>32768&&(t=0),zs(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,0,t),zs(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,1,t),a.x+=2*i.x,a.y+=2*i.y,a.vertexCount+=2,t+=r,zs(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,0,t),zs(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,1,t),a.x+=2*o.x,a.y+=2*o.y,a.vertexCount+=2;const s=n.vertexLength;this.indexArray.emplaceBack(s,s+2,s+1),this.indexArray.emplaceBack(s+1,s+2,s+3),n.vertexLength+=4,n.primitiveLength+=2}}}}if(n.vertexLength+t>fa.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==Is[e.type])continue;const i=[],o=[],s=n.vertexLength;for(const e of r)if(0!==e.length){e!==r[0]&&o.push(i.length/2);for(let t=0;t<e.length;t++){const r=e[t];zs(this.layoutVertexArray,r.x,r.y,0,0,1,1,0),a.x+=r.x,a.y+=r.y,a.vertexCount+=1,i.push(r.x),i.push(r.y)}}const l=Do.exports(i,o);for(let e=0;e<l.length;e+=3)this.indexArray.emplaceBack(s+l[e],s+l[e+2],s+l[e+1]);n.primitiveLength+=l.length/3,n.vertexLength+=t}for(let e=0;e<a.vertexCount;e++)this.centroidVertexArray.emplaceBack(Math.floor(a.x/a.vertexCount),Math.floor(a.y/a.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}}function Fs(e,t){return e.x===t.x&&(e.x<0||e.x>Va)||e.y===t.y&&(e.y<0||e.y>Va)}function Bs(e){return e.every((e=>e.x<0))||e.every((e=>e.x>Va))||e.every((e=>e.y<0))||e.every((e=>e.y>Va))}Ln("FillExtrusionBucket",Rs,{omit:["layers","features"]});var js={paint:new pi({"fill-extrusion-opacity":new li(ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ui(ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new li(ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new li(ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ci(ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ui(ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ui(ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new li(ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Us(e,t){return e.x*t.x+e.y*t.y}function Vs(e,t){if(1===e.length){let r=0;const n=t[r++];let i;for(;!i||n.equals(i);)if(i=t[r++],!i)return 1/0;for(;r<t.length;r++){const a=t[r],o=e[0],s=i.sub(n),l=a.sub(n),u=o.sub(n),c=Us(s,s),d=Us(s,l),h=Us(l,l),p=Us(u,s),m=Us(u,l),f=c*h-d*d,y=(h*p-d*m)/f,g=(c*m-d*p)/f,v=n.z*(1-y-g)+i.z*y+a.z*g;if(isFinite(v))return v}return 1/0}{let e=1/0;for(const r of t)e=Math.min(e,r.z);return e}}const Ws=_i([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:qs}=Ws,Gs=_i([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Zs}=Gs,$s=ws.VectorTileFeature.types,Ys=Math.cos(Math.PI/180*37.5),Hs=Math.pow(2,14)/.5;class Js{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new na,this.layoutVertexArray2=new ia,this.indexArray=new da,this.programConfigurations=new Ba(e.layers,e.zoom),this.segments=new fa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,r){this.hasPattern=ms("line",this.layers,t);const n=this.layers[0].layout.get("line-sort-key"),i=!n.isConstant(),a=[];for(const{feature:t,id:o,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Za(t,e);if(!this.layers[0]._featureFilter.filter(new Kn(this.zoom),u,r))continue;const c=i?n.evaluate(u,{},r):void 0,d={id:o,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:Ga(t),patterns:{},sortKey:c};a.push(d)}i&&a.sort(((e,t)=>e.sortKey-t.sortKey));for(const n of a){const{geometry:i,index:a,sourceLayerIndex:o}=n;if(this.hasPattern){const e=fs("line",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,a,r,{});t.featureIndex.insert(e[a].feature,i,a,o,this.index)}}update(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)}addFeatures(e,t,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Zs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,qs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,r,n,i){const a=this.layers[0].layout,o=a.get("line-join").evaluate(e,{}),s=a.get("line-cap"),l=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const r of t)this.addLine(r,e,o,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)}addLine(e,t,r,n,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const o="Polygon"===$s[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(o?3:2))return;"bevel"===r&&(i=1.05);const u=this.overscaling<=16?122880/(512*this.overscaling):0,c=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let d,h,p,m,f;this.e1=this.e2=-1,o&&(d=e[s-2],f=e[l].sub(d)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?o?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;f&&(m=f),d&&(h=d),d=e[t],f=p?p.sub(d)._unit()._perp():m,m=m||f;let y=m.add(f);0===y.x&&0===y.y||y._unit();const g=m.x*f.x+m.y*f.y,v=y.x*f.x+y.y*f.y,_=0!==v?1/v:1/0,b=2*Math.sqrt(2-2*v),x=v<Ys&&h&&p,w=m.x*f.y-m.y*f.x>0;if(x&&t>l){const e=d.dist(h);if(e>2*u){const t=d.sub(d.sub(h)._mult(u/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,c),h=t}}const T=h&&p;let S=T?r:o?"butt":n;if(T&&"round"===S&&(_<a?S="miter":_<=2&&(S="fakeround")),"miter"===S&&_>i&&(S="bevel"),"bevel"===S&&(_>2&&(S="flipbevel"),_<i&&(S="miter")),h&&this.updateDistance(h,d),"miter"===S)y._mult(_),this.addCurrentVertex(d,y,0,0,c);else if("flipbevel"===S){if(_>100)y=f.mult(-1);else{const e=_*m.add(f).mag()/m.sub(f).mag();y._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(d,y,0,0,c),this.addCurrentVertex(d,y.mult(-1),0,0,c)}else if("bevel"===S||"fakeround"===S){const e=-Math.sqrt(_*_-1),t=w?e:0,r=w?0:e;if(h&&this.addCurrentVertex(d,m,t,r,c),"fakeround"===S){const e=Math.round(180*b/Math.PI/20);for(let t=1;t<e;t++){let r=t/e;if(.5!==r){const e=r-.5;r+=r*e*(r-1)*((1.0904+g*(g*(3.55645-1.43519*g)-3.2452))*e*e+(.848013+g*(.215638*g-1.06021)))}const n=f.sub(m)._mult(r)._add(m)._unit()._mult(w?-1:1);this.addHalfVertex(d,n.x,n.y,!1,w,0,c)}}p&&this.addCurrentVertex(d,f,-t,-r,c)}else if("butt"===S)this.addCurrentVertex(d,y,0,0,c);else if("square"===S){const e=h?1:-1;this.addCurrentVertex(d,y,e,e,c)}else"round"===S&&(h&&(this.addCurrentVertex(d,m,0,0,c),this.addCurrentVertex(d,m,1,1,c,!0)),p&&(this.addCurrentVertex(d,f,-1,-1,c,!0),this.addCurrentVertex(d,f,0,0,c)));if(x&&t<s-1){const e=d.dist(p);if(e>2*u){const t=d.add(p.sub(d)._mult(u/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,c),d=t}}}}addCurrentVertex(e,t,r,n,i,a=!1){const o=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,a,!1,r,i),this.addHalfVertex(e,o,s,a,!0,-n,i),this.distance>Hs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,n,i,a))}addHalfVertex({x:e,y:t},r,n,i,a,o,s){const l=.5*(this.lineClips?this.scaledDistance*(Hs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(a?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const u=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),s.primitiveLength++),a?this.e2=u:this.e1=u}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Ln("LineBucket",Js,{omit:["layers","patternFeatures"]});const Xs=new pi({"line-cap":new li(ne.layout_line["line-cap"]),"line-join":new ui(ne.layout_line["line-join"]),"line-miter-limit":new li(ne.layout_line["line-miter-limit"]),"line-round-limit":new li(ne.layout_line["line-round-limit"]),"line-sort-key":new ui(ne.layout_line["line-sort-key"])});var Qs={paint:new pi({"line-opacity":new ui(ne.paint_line["line-opacity"]),"line-color":new ui(ne.paint_line["line-color"]),"line-translate":new li(ne.paint_line["line-translate"]),"line-translate-anchor":new li(ne.paint_line["line-translate-anchor"]),"line-width":new ui(ne.paint_line["line-width"]),"line-gap-width":new ui(ne.paint_line["line-gap-width"]),"line-offset":new ui(ne.paint_line["line-offset"]),"line-blur":new ui(ne.paint_line["line-blur"]),"line-dasharray":new di(ne.paint_line["line-dasharray"]),"line-pattern":new ci(ne.paint_line["line-pattern"]),"line-gradient":new hi(ne.paint_line["line-gradient"])}),layout:Xs};const Ks=new class extends ui{possiblyEvaluate(e,t){return t=new Kn(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,r,n){return t=s({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,r,n)}}(Qs.paint.properties["line-width"].specification);function el(e,t){return t>0?t+2*e:e}Ks.useIntegerZoom=!0;const tl=_i([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),rl=_i([{name:"a_projected_pos",components:3,type:"Float32"}],4);_i([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const nl=_i([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);_i([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const il=_i([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),al=_i([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ol(e,t,r){return e.sections.forEach((e=>{e.text=function(e,t,r){const n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),Qn.applyArabicShaping&&(e=Qn.applyArabicShaping(e)),e}(e.text,t,r)})),e}_i([{name:"triangle",components:3,type:"Uint16"}]),_i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),_i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),_i([{type:"Float32",name:"offsetX"}]),_i([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const sl={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ll=24,ul=hl,cl=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=u}return(p?-1:1)*o*Math.pow(2,a-n)},dl=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,m=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=m,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+p]=255&o,p+=m,o/=256,u-=8);e[r+p-m]|=128*f};function hl(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}hl.Varint=0,hl.Fixed64=1,hl.Bytes=2,hl.Fixed32=5;var pl,ml=4294967296,fl=1/ml,yl="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function gl(e){return e.type===hl.Bytes?e.readVarint()+e.pos:e.pos+1}function vl(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function _l(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function bl(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function xl(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function wl(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Tl(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Sl(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function kl(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Cl(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Ll(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Nl(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function Al(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Ol(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function El(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Pl(e,t,r){1===e&&r.readMessage(Ml,t)}function Ml(e,t,r){if(3===e){const{id:e,bitmap:n,width:i,height:a,left:o,top:s,advance:l}=r.readMessage(Il,{});t.push({id:e,bitmap:new Ao({width:i+6,height:a+6},n),metrics:{width:i,height:a,left:o,top:s,advance:l}})}}function Il(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function Dl(e){let t=0,r=0;for(const n of e)t+=n.w*n.h,r=Math.max(r,n.w);e.sort(((e,t)=>t.h-e.h));const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let i=0,a=0;for(const t of e)for(let e=n.length-1;e>=0;e--){const r=n[e];if(!(t.w>r.w||t.h>r.h)){if(t.x=r.x,t.y=r.y,a=Math.max(a,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===r.w&&t.h===r.h){const t=n.pop();e<n.length&&(n[e]=t)}else t.h===r.h?(r.x+=t.w,r.w-=t.w):t.w===r.w?(r.y+=t.h,r.h-=t.h):(n.push({x:r.x+t.w,y:r.y,w:r.w-t.w,h:t.h}),r.y+=t.h,r.h-=t.h);break}}return{w:i,h:a,fill:t/(i*a)||0}}hl.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,a=this.pos;this.type=7&n,e(i,t,this),this.pos===a&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Al(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=El(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Al(this.buf,this.pos)+Al(this.buf,this.pos+4)*ml;return this.pos+=8,e},readSFixed64:function(){var e=Al(this.buf,this.pos)+El(this.buf,this.pos+4)*ml;return this.pos+=8,e},readFloat:function(){var e=cl(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=cl(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,a=r.buf;if(n=(112&(i=a[r.pos++]))>>4,i<128)return vl(e,n,t);if(n|=(127&(i=a[r.pos++]))<<3,i<128)return vl(e,n,t);if(n|=(127&(i=a[r.pos++]))<<10,i<128)return vl(e,n,t);if(n|=(127&(i=a[r.pos++]))<<17,i<128)return vl(e,n,t);if(n|=(127&(i=a[r.pos++]))<<24,i<128)return vl(e,n,t);if(n|=(1&(i=a[r.pos++]))<<31,i<128)return vl(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&yl?function(e,t,r){return yl.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var a,o,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==hl.Bytes)return e.push(this.readVarint(t));var r=gl(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==hl.Bytes)return e.push(this.readSVarint());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==hl.Bytes)return e.push(this.readBoolean());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==hl.Bytes)return e.push(this.readFloat());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==hl.Bytes)return e.push(this.readDouble());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==hl.Bytes)return e.push(this.readFixed32());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==hl.Bytes)return e.push(this.readSFixed32());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==hl.Bytes)return e.push(this.readFixed64());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==hl.Bytes)return e.push(this.readSFixed64());var t=gl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===hl.Varint)for(;this.buf[this.pos++]>127;);else if(t===hl.Bytes)this.pos=this.readVarint()+this.pos;else if(t===hl.Fixed32)this.pos+=4;else{if(t!==hl.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Ol(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Ol(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Ol(this.buf,-1&e,this.pos),Ol(this.buf,Math.floor(e*fl),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Ol(this.buf,-1&e,this.pos),Ol(this.buf,Math.floor(e*fl),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,a=0;a<t.length;a++){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){n>56319||a+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&_l(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),dl(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),dl(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&_l(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,hl.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,bl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,xl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Sl,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,wl,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Tl,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,kl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Cl,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Ll,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Nl,t)},writeBytesField:function(e,t){this.writeTag(e,hl.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,hl.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,hl.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,hl.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,hl.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,hl.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,hl.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,hl.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,hl.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,hl.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class zl{constructor(e,{pixelRatio:t,version:r,stretchX:n,stretchY:i,content:a}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=i,this.content=a,this.version=r}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Rl{constructor(e,t){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,r,i),this.addImages(t,n,i);const{w:a,h:o}=Dl(i),s=new Oo({width:a||1,height:o||1});for(const t in e){const n=e[t],i=r[t].paddedRect;Oo.copy(n.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data)}for(const e in t){const r=t[e],i=n[e].paddedRect,a=i.x+1,o=i.y+1,l=r.data.width,u=r.data.height;Oo.copy(r.data,s,{x:0,y:0},{x:a,y:o},r.data),Oo.copy(r.data,s,{x:0,y:u-1},{x:a,y:o-1},{width:l,height:1}),Oo.copy(r.data,s,{x:0,y:0},{x:a,y:o+u},{width:l,height:1}),Oo.copy(r.data,s,{x:l-1,y:0},{x:a-1,y:o},{width:1,height:u}),Oo.copy(r.data,s,{x:0,y:0},{x:a+l,y:o},{width:1,height:u})}this.image=s,this.iconPositions=r,this.patternPositions=n}addImages(e,t,r){for(const n in e){const i=e[n],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(a),t[n]=new zl(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)}patchUpdatedImage(e,t,r){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[n,i]=e.tl;r.update(t.data,void 0,{x:n,y:i})}}Ln("ImagePosition",zl),Ln("ImageAtlas",Rl),e.WritingMode=void 0,(pl=e.WritingMode||(e.WritingMode={}))[pl.none=0]="none",pl[pl.horizontal=1]="horizontal",pl[pl.vertical=2]="vertical",pl[pl.horizontalOnly=3]="horizontalOnly";const Fl=-17;class Bl{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const r=new Bl;return r.scale=e||1,r.fontStack=t,r}static forImage(e){const t=new Bl;return t.imageName=e,t}}class jl{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const r=new jl;for(let n=0;n<e.sections.length;n++){const i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r+1)||null,i=e.charCodeAt(r-1)||null;t+=n&&Rn(n)&&!sl[e[r+1]]||i&&Rn(i)&&!sl[e[r-1]]||!sl[e[r]]?e[r]:sl[e[r]]}return t}(this.text)}trim(){let e=0;for(let t=0;t<this.text.length&&Vl[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let r=this.text.length-1;r>=0&&r>=e&&Vl[this.text.charCodeAt(r)];r--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const r=new jl;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Bl.forText(e.scale,e.fontStack||t));const r=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(r)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void m("Can't add FormattedSection with an empty image.");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(Bl.forImage(t)),this.sectionIndex.push(this.sections.length-1)):m("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ul(t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y){const g=jl.fromFeature(t,a);let v;h===e.WritingMode.vertical&&g.verticalizePunctuation();const{processBidirectionalText:_,processStyledBidirectionalText:b}=Qn;if(_&&1===g.sections.length){v=[];const e=_(g.toString(),Hl(g,c,o,r,i,m,f));for(const t of e){const e=new jl;e.text=t,e.sections=g.sections;for(let r=0;r<t.length;r++)e.sectionIndex.push(0);v.push(e)}}else if(b){v=[];const e=b(g.text,g.sectionIndex,Hl(g,c,o,r,i,m,f));for(const t of e){const e=new jl;e.text=t[0],e.sectionIndex=t[1],e.sections=g.sections,v.push(e)}}else v=function(e,t){const r=[],n=e.text;let i=0;for(const n of t)r.push(e.substring(i,n)),i=n;return i<n.length&&r.push(e.substring(i,n.length)),r}(g,Hl(g,c,o,r,i,m,f));const x=[],w={positionedLines:x,text:g.toString(),top:d[1],bottom:d[1],left:d[0],right:d[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,r,n,i,a,o,s,l,u,c,d,h){let p=0,m=Fl,f=0,y=0;const g="right"===l?1:"left"===l?0:.5;let v=0;for(const s of a){s.trim();const a=s.getMaxScale(),l=(a-1)*ll,b={positionedGlyphs:[],lineOffset:0};t.positionedLines[v]=b;const x=b.positionedGlyphs;let w=0;if(!s.length()){m+=o,++v;continue}for(let o=0;o<s.length();o++){const f=s.getSection(o),y=s.getSectionIndex(o),g=s.getCharCode(o);let v=0,b=null,T=null,S=null,k=ll;const C=!(u===e.WritingMode.horizontal||!d&&!zn(g)||d&&(Vl[g]||(_=g,Pn.Arabic(_)||Pn["Arabic Supplement"](_)||Pn["Arabic Extended-A"](_)||Pn["Arabic Presentation Forms-A"](_)||Pn["Arabic Presentation Forms-B"](_))));if(f.imageName){const e=i[f.imageName];if(!e)continue;S=f.imageName,t.iconsInText=t.iconsInText||!0,T=e.paddedRect;const r=e.displaySize;f.scale=f.scale*ll/h,b={width:r[0],height:r[1],left:1,top:-3,advance:C?r[1]:r[0]},v=l+(ll-r[1]*f.scale),k=b.advance;const n=C?r[0]*f.scale-ll*a:r[1]*f.scale-ll*a;n>0&&n>w&&(w=n)}else{const e=n[f.fontStack],t=e&&e[g];if(t&&t.rect)T=t.rect,b=t.metrics;else{const e=r[f.fontStack],t=e&&e[g];if(!t)continue;b=t.metrics}v=(a-f.scale)*ll}C?(t.verticalizable=!0,x.push({glyph:g,imageName:S,x:p,y:m+v,vertical:C,scale:f.scale,fontStack:f.fontStack,sectionIndex:y,metrics:b,rect:T}),p+=k*f.scale+c):(x.push({glyph:g,imageName:S,x:p,y:m+v,vertical:C,scale:f.scale,fontStack:f.fontStack,sectionIndex:y,metrics:b,rect:T}),p+=b.advance*f.scale+c)}0!==x.length&&(f=Math.max(p-c,f),Xl(x,0,x.length-1,g,w)),p=0;const T=o*a+w;b.lineOffset=Math.max(w,l),m+=T,y=Math.max(T,y),++v}var _;const b=m-Fl,{horizontalAlign:x,verticalAlign:w}=Jl(s);(function(e,t,r,n,i,a,o,s,l){const u=(t-r)*i;let c=0;c=a!==o?-s*n-Fl:(-n*l+.5)*o;for(const t of e)for(const e of t.positionedGlyphs)e.x+=u,e.y+=c})(t.positionedLines,g,x,w,f,y,o,b,a.length),t.top+=-w*b,t.bottom=t.top+b,t.left+=-x*f,t.right=t.left+f}(w,r,n,i,v,s,l,u,h,c,p,y),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&w}const Vl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wl={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ql(e,t,r,n,i,a){if(t.imageName){const e=n[t.imageName];return e?e.displaySize[0]*t.scale*ll/a+i:0}{const n=r[t.fontStack],a=n&&n[e];return a?a.metrics.advance*t.scale+i:0}}function Gl(e,t,r,n){const i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function Zl(e,t,r){let n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function $l(e,t,r,n,i,a){let o=null,s=Gl(t,r,i,a);for(const e of n){const n=Gl(t-e.x,r,i,a)+e.badness;n<=s&&(o=e,s=n)}return{index:e,x:t,priorBreak:o,badness:s}}function Yl(e){return e?Yl(e.priorBreak).concat(e.index):[]}function Hl(e,t,r,n,i,a,o){if("point"!==a)return[];if(!e)return[];const s=[],l=function(e,t,r,n,i,a){let o=0;for(let r=0;r<e.length();r++){const s=e.getSection(r);o+=ql(e.getCharCode(r),s,n,i,t,a)}return o/Math.max(1,Math.ceil(o/r))}(e,t,r,n,i,o),u=e.text.indexOf("​")>=0;let c=0;for(let r=0;r<e.length();r++){const a=e.getSection(r),h=e.getCharCode(r);if(Vl[h]||(c+=ql(h,a,n,i,t,o)),r<e.length()-1){const t=!((d=h)<11904||!(Pn["Bopomofo Extended"](d)||Pn.Bopomofo(d)||Pn["CJK Compatibility Forms"](d)||Pn["CJK Compatibility Ideographs"](d)||Pn["CJK Compatibility"](d)||Pn["CJK Radicals Supplement"](d)||Pn["CJK Strokes"](d)||Pn["CJK Symbols and Punctuation"](d)||Pn["CJK Unified Ideographs Extension A"](d)||Pn["CJK Unified Ideographs"](d)||Pn["Enclosed CJK Letters and Months"](d)||Pn["Halfwidth and Fullwidth Forms"](d)||Pn.Hiragana(d)||Pn["Ideographic Description Characters"](d)||Pn["Kangxi Radicals"](d)||Pn["Katakana Phonetic Extensions"](d)||Pn.Katakana(d)||Pn["Vertical Forms"](d)||Pn["Yi Radicals"](d)||Pn["Yi Syllables"](d)));(Wl[h]||t||a.imageName)&&s.push($l(r+1,c,l,s,Zl(h,e.getCharCode(r+1),t&&u),!1))}}var d;return Yl($l(e.length(),c,l,s,0,!0))}function Jl(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function Xl(e,t,r,n,i){if(!n&&!i)return;const a=e[r],o=(e[r].x+a.metrics.advance*a.scale)*n;for(let n=t;n<=r;n++)e[n].x-=o,e[n].y+=i}function Ql(e,t,r){const{horizontalAlign:n,verticalAlign:i}=Jl(r),a=t[0]-e.displaySize[0]*n,o=t[1]-e.displaySize[1]*i;return{image:e,top:o,bottom:o+e.displaySize[1],left:a,right:a+e.displaySize[0]}}function Kl(e,t,r,n,i,a){const o=e.image;let s;if(o.content){const e=o.content,t=o.pixelRatio||1;s=[e[0]/t,e[1]/t,o.displaySize[0]-e[2]/t,o.displaySize[1]-e[3]/t]}const l=t.left*a,u=t.right*a;let c,d,h,p;"width"===r||"both"===r?(p=i[0]+l-n[3],d=i[0]+u+n[1]):(p=i[0]+(l+u-o.displaySize[0])/2,d=p+o.displaySize[0]);const m=t.top*a,f=t.bottom*a;return"height"===r||"both"===r?(c=i[1]+m-n[0],h=i[1]+f+n[2]):(c=i[1]+(m+f-o.displaySize[1])/2,h=c+o.displaySize[1]),{image:o,top:c,right:d,bottom:h,left:p,collisionPadding:s}}const eu=128;function tu(e,t){const{expression:r}=t;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new Kn(e+1))};if("source"===r.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:n}=r;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let a=i;for(;a<t.length&&t[a]<e+1;)a++;a=Math.min(t.length-1,a);const o=t[i],s=t[a];return"composite"===r.kind?{kind:"composite",minZoom:o,maxZoom:s,interpolationType:n}:{kind:"camera",minZoom:o,maxZoom:s,minSize:r.evaluate(new Kn(o)),maxSize:r.evaluate(new Kn(s)),interpolationType:n}}}class ru extends k{constructor(e,t,r,n){super(e,t),this.angle=r,void 0!==n&&(this.segment=n)}clone(){return new ru(this.x,this.y,this.angle,this.segment)}}function nu(e,t,r,n,i){if(void 0===t.segment)return!0;let a=t,o=t.segment+1,s=0;for(;s>-r/2;){if(o--,o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;const l=[];let u=0;for(;s<r/2;){const t=e[o],r=e[o+1];if(!r)return!1;let a=e[o-1].angleTo(t)-t.angleTo(r);for(a=Math.abs((a+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:a}),u+=a;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return!1;o++,s+=t.dist(r)}return!0}function iu(e){let t=0;for(let r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function au(e,t,r){return e?.6*t*r:0}function ou(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function su(e,t,r,n,i,a){const o=au(r,i,a),s=ou(r,n)*a;let l=0;const u=iu(e)/2;for(let r=0;r<e.length-1;r++){const n=e[r],i=e[r+1],a=n.dist(i);if(l+a>u){const c=(u-l)/a,d=kt(n.x,i.x,c),h=kt(n.y,i.y,c),p=new ru(d,h,i.angleTo(n),r);return p._round(),!o||nu(e,p,s,o,t)?p:void 0}l+=a}}function lu(e,t,r,n,i,a,o,s,l){const u=au(n,a,o),c=ou(n,i),d=c*o,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),uu(e,h?t/2*s%t:(c/2+2*a)*o*s%t,t,u,r,d,h,!1,l)}function uu(e,t,r,n,i,a,o,s,l){const u=a/2,c=iu(e);let d=0,h=t-r,p=[];for(let t=0;t<e.length-1;t++){const o=e[t],s=e[t+1],m=o.dist(s),f=s.angleTo(o);for(;h+r<d+m;){h+=r;const y=(h-d)/m,g=kt(o.x,s.x,y),v=kt(o.y,s.y,y);if(g>=0&&g<l&&v>=0&&v<l&&h-u>=0&&h+u<=c){const r=new ru(g,v,f,t);r._round(),n&&!nu(e,r,a,n,i)||p.push(r)}}d+=m}return s||p.length||o||(p=uu(e,d/2,r,n,i,a,o,!0,l)),p}function cu(e,t,r,n,i){const a=[];for(let o=0;o<e.length;o++){const s=e[o];let l;for(let e=0;e<s.length-1;e++){let o=s[e],u=s[e+1];o.x<t&&u.x<t||(o.x<t?o=new k(t,o.y+(t-o.x)/(u.x-o.x)*(u.y-o.y))._round():u.x<t&&(u=new k(t,o.y+(t-o.x)/(u.x-o.x)*(u.y-o.y))._round()),o.y<r&&u.y<r||(o.y<r?o=new k(o.x+(r-o.y)/(u.y-o.y)*(u.x-o.x),r)._round():u.y<r&&(u=new k(o.x+(r-o.y)/(u.y-o.y)*(u.x-o.x),r)._round()),o.x>=n&&u.x>=n||(o.x>=n?o=new k(n,o.y+(n-o.x)/(u.x-o.x)*(u.y-o.y))._round():u.x>=n&&(u=new k(n,o.y+(n-o.x)/(u.x-o.x)*(u.y-o.y))._round()),o.y>=i&&u.y>=i||(o.y>=i?o=new k(o.x+(i-o.y)/(u.y-o.y)*(u.x-o.x),i)._round():u.y>=i&&(u=new k(o.x+(i-o.y)/(u.y-o.y)*(u.x-o.x),i)._round()),l&&o.equals(l[l.length-1])||(l=[o],a.push(l)),l.push(u)))))}}return a}function du(e,t,r,n){const i=[],a=e.image,o=a.pixelRatio,s=a.paddedRect.w-2,l=a.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,d=a.stretchX||[[0,s]],h=a.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],m=d.reduce(p,0),f=h.reduce(p,0),y=s-m,g=l-f;let v=0,_=m,b=0,x=f,w=0,T=y,S=0,C=g;if(a.content&&n){const e=a.content;v=hu(d,0,e[0]),b=hu(h,0,e[1]),_=hu(d,e[0],e[2]),x=hu(h,e[1],e[3]),w=e[0]-v,S=e[1]-b,T=e[2]-e[0]-_,C=e[3]-e[1]-x}const L=(n,i,s,l)=>{const d=mu(n.stretch-v,_,u,e.left),h=fu(n.fixed-w,T,n.stretch,m),p=mu(i.stretch-b,x,c,e.top),y=fu(i.fixed-S,C,i.stretch,f),g=mu(s.stretch-v,_,u,e.left),L=fu(s.fixed-w,T,s.stretch,m),N=mu(l.stretch-b,x,c,e.top),A=fu(l.fixed-S,C,l.stretch,f),O=new k(d,p),E=new k(g,p),P=new k(g,N),M=new k(d,N),I=new k(h/o,y/o),D=new k(L/o,A/o),z=t*Math.PI/180;if(z){const e=Math.sin(z),t=Math.cos(z),r=[t,-e,e,t];O._matMult(r),E._matMult(r),M._matMult(r),P._matMult(r)}const R=n.stretch+n.fixed,F=i.stretch+i.fixed;return{tl:O,tr:E,bl:M,br:P,tex:{x:a.paddedRect.x+1+R,y:a.paddedRect.y+1+F,w:s.stretch+s.fixed-R,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:I,pixelOffsetBR:D,minFontScaleX:T/o/u,minFontScaleY:C/o/c,isSDF:r}};if(n&&(a.stretchX||a.stretchY)){const e=pu(d,y,m),t=pu(h,g,f);for(let r=0;r<e.length-1;r++){const n=e[r],a=e[r+1];for(let e=0;e<t.length-1;e++)i.push(L(n,t[e],a,t[e+1]))}}else i.push(L({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function hu(e,t,r){let n=0;for(const i of e)n+=Math.max(t,Math.min(r,i[1]))-Math.max(t,Math.min(r,i[0]));return n}function pu(e,t,r){const n=[{fixed:-1,stretch:0}];for(const[t,r]of e){const e=n[n.length-1];n.push({fixed:t-e.stretch,stretch:e.stretch}),n.push({fixed:t-e.stretch,stretch:e.stretch+(r-t)})}return n.push({fixed:t+1,stretch:r}),n}function mu(e,t,r,n){return e/t*r+n}function fu(e,t,r,n){return e-t*r/n}Ln("Anchor",ru);class yu{constructor(e,t,r,n,i,a,o,s,l,u){if(this.boxStartIndex=e.length,l){let e=a.top,t=a.bottom;const r=a.collisionPadding;r&&(e-=r[1],t+=r[3]);let n=t-e;n>0&&(n=Math.max(10,n),this.circleDiameter=n)}else{let l=a.top*o-s[0],c=a.bottom*o+s[2],d=a.left*o-s[3],h=a.right*o+s[1];const p=a.collisionPadding;if(p&&(d-=p[0]*o,l-=p[1]*o,h+=p[2]*o,c+=p[3]*o),u){const e=new k(d,l),t=new k(h,l),r=new k(d,c),n=new k(h,c),i=u*Math.PI/180;e._rotate(i),t._rotate(i),r._rotate(i),n._rotate(i),d=Math.min(e.x,t.x,r.x,n.x),h=Math.max(e.x,t.x,r.x,n.x),l=Math.min(e.y,t.y,r.y,n.y),c=Math.max(e.y,t.y,r.y,n.y)}e.emplaceBack(t.x,t.y,d,l,h,c,r,n,i)}this.boxEndIndex=e.length}}class gu{constructor(e=[],t=vu){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const i=e-1>>1,a=t[i];if(r(n,a)>=0)break;t[e]=a,e=i}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),a=t[n];const o=n+1;if(o<this.length&&r(t[o],a)<0&&(n=o,a=t[o]),r(a,i)>=0)break;t[e]=a,e=n}t[e]=i}}function vu(e,t){return e<t?-1:e>t?1:0}function _u(e,t=1,r=!1){let n=1/0,i=1/0,a=-1/0,o=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<n)&&(n=t.x),(!e||t.y<i)&&(i=t.y),(!e||t.x>a)&&(a=t.x),(!e||t.y>o)&&(o=t.y)}const l=Math.min(a-n,o-i);let u=l/2;const c=new gu([],bu);if(0===l)return new k(n,i);for(let t=n;t<a;t+=l)for(let r=i;r<o;r+=l)c.push(new xu(t+u,r+u,u,e));let d=function(e){let t=0,r=0,n=0;const i=e[0];for(let e=0,a=i.length,o=a-1;e<a;o=e++){const a=i[e],s=i[o],l=a.x*s.y-s.x*a.y;r+=(a.x+s.x)*l,n+=(a.y+s.y)*l,t+=3*l}return new xu(r/t,n/t,0,e)}(e),h=c.length;for(;c.length;){const n=c.pop();(n.d>d.d||!d.d)&&(d=n,r&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,h)),n.max-d.d<=t||(u=n.h/2,c.push(new xu(n.p.x-u,n.p.y-u,u,e)),c.push(new xu(n.p.x+u,n.p.y-u,u,e)),c.push(new xu(n.p.x-u,n.p.y+u,u,e)),c.push(new xu(n.p.x+u,n.p.y+u,u,e)),h+=4)}return r&&(console.log(`num probes: ${h}`),console.log(`best distance: ${d.d}`)),d.p}function bu(e,t){return t.max-e.max}function xu(e,t,r,n){this.p=new k(e,t),this.h=r,this.d=function(e,t){let r=!1,n=1/0;for(let i=0;i<t.length;i++){const a=t[i];for(let t=0,i=a.length,o=i-1;t<i;o=t++){const i=a[t],s=a[o];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(r=!r),n=Math.min(n,ro(e,i,s))}}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}const wu=Number.POSITIVE_INFINITY;function Tu(e,t){return t[1]!==wu?function(e,t,r){let n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){let r=0,n=0;t<0&&(t=0);const i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function Su(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function ku(t,r,n,i,a,o,s,l,u,c,d){let h=o.textMaxSize.evaluate(r,{});void 0===h&&(h=s);const p=t.layers[0].layout,f=p.get("icon-offset").evaluate(r,{},d),y=Nu(n.horizontal),g=s/24,v=t.tilePixelRatio*g,_=t.tilePixelRatio*h/24,b=t.tilePixelRatio*l,x=t.tilePixelRatio*p.get("symbol-spacing"),w=p.get("text-padding")*t.tilePixelRatio,T=function(e,t,r,n=1){const i=e.get("icon-padding").evaluate(t,{},r),a=i&&i.values;return[a[0]*n,a[1]*n,a[2]*n,a[3]*n]}(p,r,d,t.tilePixelRatio),S=p.get("text-max-angle")/180*Math.PI,k="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),C="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),L=p.get("symbol-placement"),N=x/2,A=p.get("icon-text-fit");let O;i&&"none"!==A&&(t.allowVerticalPlacement&&n.vertical&&(O=Kl(i,n.vertical,A,p.get("icon-text-fit-padding"),f,g)),y&&(i=Kl(i,y,A,p.get("icon-text-fit-padding"),f,g)));const E=(l,h)=>{h.x<0||h.x>=Va||h.y<0||h.y>=Va||function(t,r,n,i,a,o,s,l,u,c,d,h,p,f,y,g,v,_,b,x,w,T,S,k,C){const L=t.addToLineVertexArray(r,n);let N,A,O,E,P=0,M=0,I=0,D=0,z=-1,R=-1;const F={};let B=va.exports(""),j=0,U=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[j,U]=l.layout.get("text-offset").evaluate(w,{},k).map((e=>e*ll)):(j=l.layout.get("text-radial-offset").evaluate(w,{},k)*ll,U=wu),t.allowVerticalPlacement&&i.vertical){const e=l.layout.get("text-rotate").evaluate(w,{},k)+90;O=new yu(u,r,c,d,h,i.vertical,p,f,y,e),s&&(E=new yu(u,r,c,d,h,s,v,_,y,e))}if(a){const n=l.layout.get("icon-rotate").evaluate(w,{}),i="none"!==l.layout.get("icon-text-fit"),o=du(a,n,S,i),p=s?du(s,n,S,i):void 0;A=new yu(u,r,c,d,h,a,v,_,!1,n),P=4*o.length;const f=t.iconSizeData;let y=null;"source"===f.kind?(y=[eu*l.layout.get("icon-size").evaluate(w,{})],y[0]>Cu&&m(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===f.kind&&(y=[eu*T.compositeIconSizes[0].evaluate(w,{},k),eu*T.compositeIconSizes[1].evaluate(w,{},k)],(y[0]>Cu||y[1]>Cu)&&m(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),t.addSymbols(t.icon,o,y,x,b,w,e.WritingMode.none,r,L.lineStartIndex,L.lineLength,-1,k),z=t.icon.placedSymbolArray.length-1,p&&(M=4*p.length,t.addSymbols(t.icon,p,y,x,b,w,e.WritingMode.vertical,r,L.lineStartIndex,L.lineLength,-1,k),R=t.icon.placedSymbolArray.length-1)}const V=Object.keys(i.horizontal);for(const n of V){const a=i.horizontal[n];if(!N){B=va.exports(a.text);const e=l.layout.get("text-rotate").evaluate(w,{},k);N=new yu(u,r,c,d,h,a,p,f,y,e)}const s=1===a.positionedLines.length;if(I+=Lu(t,r,a,o,l,y,w,g,L,i.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,s?V:[n],F,z,T,k),s)break}i.vertical&&(D+=Lu(t,r,i.vertical,o,l,y,w,g,L,e.WritingMode.vertical,["vertical"],F,R,T,k));const W=N?N.boxStartIndex:t.collisionBoxArray.length,q=N?N.boxEndIndex:t.collisionBoxArray.length,G=O?O.boxStartIndex:t.collisionBoxArray.length,Z=O?O.boxEndIndex:t.collisionBoxArray.length,$=A?A.boxStartIndex:t.collisionBoxArray.length,Y=A?A.boxEndIndex:t.collisionBoxArray.length,H=E?E.boxStartIndex:t.collisionBoxArray.length,J=E?E.boxEndIndex:t.collisionBoxArray.length;let X=-1;const Q=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;X=Q(N,X),X=Q(O,X),X=Q(A,X),X=Q(E,X);const K=X>-1?1:0;K&&(X*=C/ll),t.glyphOffsetArray.length>=Ru.MAX_GLYPHS&&m("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==w.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,w.sortKey),t.symbolInstances.emplaceBack(r.x,r.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,z,R,B,W,q,G,Z,$,Y,H,J,c,I,D,P,M,K,0,p,j,U,X)}(t,h,l,n,i,a,O,t.layers[0],t.collisionBoxArray,r.index,r.sourceLayerIndex,t.index,v,[w,w,w,w],k,u,b,T,C,f,r,o,c,d,s)};if("line"===L)for(const e of cu(r.geometry,0,0,Va,Va)){const r=lu(e,x,S,n.vertical||y,i,24,_,t.overscaling,Va);for(const n of r)y&&Au(t,y.text,N,n)||E(e,n)}else if("line-center"===L){for(const e of r.geometry)if(e.length>1){const t=su(e,S,n.vertical||y,i,24,_);t&&E(e,t)}}else if("Polygon"===r.type)for(const e of hs(r.geometry,0)){const t=_u(e,16);E(e[0],new ru(t.x,t.y,0))}else if("LineString"===r.type)for(const e of r.geometry)E(e,new ru(e[0].x,e[0].y,0));else if("Point"===r.type)for(const e of r.geometry)for(const t of e)E([t],new ru(t.x,t.y,0))}const Cu=32640;function Lu(e,t,r,n,i,a,o,s,l,u,c,d,h,p,f){const y=function(e,t,r,n,i,a,o,s){const l=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=[];for(const e of t.positionedLines)for(const n of e.positionedGlyphs){if(!n.rect)continue;const a=n.rect||{};let c=4,d=!0,h=1,p=0;const m=(i||s)&&n.vertical,f=n.metrics.advance*n.scale/2;if(s&&t.verticalizable){const t=(n.scale-1)*ll,r=(ll-n.metrics.width*n.scale)/2;p=e.lineOffset/2-(n.imageName?-r:t)}if(n.imageName){const e=o[n.imageName];d=e.sdf,h=e.pixelRatio,c=1/h}const y=i?[n.x+f,n.y]:[0,0];let g=i?[0,0]:[n.x+f+r[0],n.y+r[1]-p],v=[0,0];m&&(v=g,g=[0,0]);const _=(n.metrics.left-c)*n.scale-f+g[0],b=(-n.metrics.top-c)*n.scale+g[1],x=_+a.w*n.scale/h,w=b+a.h*n.scale/h,T=new k(_,b),S=new k(x,b),C=new k(_,w),L=new k(x,w);if(m){const e=new k(-f,f-Fl),t=-Math.PI/2,r=12-f,i=new k(22-r,-(n.imageName?r:0)),a=new k(...v);T._rotateAround(t,e)._add(i)._add(a),S._rotateAround(t,e)._add(i)._add(a),C._rotateAround(t,e)._add(i)._add(a),L._rotateAround(t,e)._add(i)._add(a)}if(l){const e=Math.sin(l),t=Math.cos(l),r=[t,-e,e,t];T._matMult(r),S._matMult(r),C._matMult(r),L._matMult(r)}const N=new k(0,0),A=new k(0,0);u.push({tl:T,tr:S,bl:C,br:L,tex:a,writingMode:t.writingMode,glyphOffset:y,sectionIndex:n.sectionIndex,isSDF:d,pixelOffsetTL:N,pixelOffsetBR:A,minFontScaleX:0,minFontScaleY:0})}return u}(0,r,s,i,a,o,n,e.allowVerticalPlacement),g=e.textSizeData;let v=null;"source"===g.kind?(v=[eu*i.layout.get("text-size").evaluate(o,{})],v[0]>Cu&&m(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===g.kind&&(v=[eu*p.compositeTextSizes[0].evaluate(o,{},f),eu*p.compositeTextSizes[1].evaluate(o,{},f)],(v[0]>Cu||v[1]>Cu)&&m(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),e.addSymbols(e.text,y,v,s,a,o,u,t,l.lineStartIndex,l.lineLength,h,f);for(const t of c)d[t]=e.text.placedSymbolArray.length-1;return 4*y.length}function Nu(e){for(const t in e)return e[t];return null}function Au(e,t,r,n){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(n.dist(e[t])<r)return!0}else i[t]=[];return i[t].push(n),!1}const Ou=ws.VectorTileFeature.types,Eu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Pu(e,t,r,n,i,a,o,s,l,u,c,d,h){const p=s?Math.min(Cu,Math.round(s[0])):0,m=s?Math.min(Cu,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),a,o,(p<<1)+(l?1:0),m,16*u,16*c,256*d,256*h)}function Mu(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function Iu(e){for(const t of e.sections)if(jn(t.text))return!0;return!1}class Du{constructor(e){this.layoutVertexArray=new oa,this.indexArray=new da,this.programConfigurations=e,this.segments=new fa,this.dynamicLayoutVertexArray=new sa,this.opacityVertexArray=new la,this.placedSymbolArray=new Zi}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,tl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,rl.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Eu,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ln("SymbolBuffers",Du);class zu{constructor(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new fa,this.collisionVertexArray=new ca}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,nl.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ln("CollisionBuffers",zu);class Ru{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=fo([]),this.placementViewportMatrix=fo([]);const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=tu(this.zoom,r["text-size"]),this.iconSizeData=tu(this.zoom,r["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),a=n.get("symbol-z-order");this.canOverlap="never"!==Vu(n,"text-overlap","text-allow-overlap")||"never"!==Vu(n,"icon-overlap","icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==a&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((t=>e.WritingMode[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new Du(new Ba(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new Du(new Ba(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new Hi,this.lineVertexArray=new Ji,this.symbolInstances=new Yi}calculateGlyphDependencies(e,t,r,n,i){for(let a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(r||n)&&i){const r=sl[e.charAt(a)];r&&(t[r.charCodeAt(0)]=!0)}}populate(t,r,n){const i=this.layers[0],a=i.layout,o=a.get("text-font"),s=a.get("text-field"),l=a.get("icon-image"),u=("constant"!==s.value.kind||s.value.value instanceof Re&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,d=a.get("symbol-sort-key");if(this.features=[],!u&&!c)return;const h=r.iconDependencies,p=r.glyphDependencies,m=r.availableImages,f=new Kn(this.zoom);for(const{feature:r,id:s,index:l,sourceLayerIndex:y}of t){const t=i._featureFilter.needGeometry,g=Za(r,t);if(!i._featureFilter.filter(f,g,n))continue;let v,_;if(t||(g.geometry=Ga(r)),u){const e=i.getValueAndResolveTokens("text-field",g,n,m),t=Re.factory(e);Iu(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Jn()||this.hasRTLText&&Qn.isParsed())&&(v=ol(t,i,g))}if(c){const e=i.getValueAndResolveTokens("icon-image",g,n,m);_=e instanceof Be?e:Be.fromString(e)}if(!v&&!_)continue;const b=this.sortFeaturesByKey?d.evaluate(g,{},n):void 0;if(this.features.push({id:s,text:v,icon:_,index:l,sourceLayerIndex:y,geometry:g.geometry,properties:r.properties,type:Ou[r.type],sortKey:b}),_&&(h[_.name]=!0),v){const t=o.evaluate(g,{},n).join(","),r="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.WritingMode.vertical)>=0;for(const e of v.sections)if(e.image)h[e.image.name]=!0;else{const n=Mn(v.toString()),i=e.fontStack||t,a=p[i]=p[i]||{};this.calculateGlyphDependencies(e.text,a,r,this.allowVerticalPlacement,n)}}}"line"===a.get("symbol-placement")&&(this.features=function(e){const t={},r={},n=[];let i=0;function a(t){n.push(e[t]),i++}function o(e,t,i){const a=r[e];return delete r[e],r[t]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(i[0]),a}function s(e,r,i){const a=t[r];return delete t[r],t[e]=a,n[a].geometry[0].shift(),n[a].geometry[0]=i[0].concat(n[a].geometry[0]),a}function l(e,t,r){const n=r?t[0][t[0].length-1]:t[0][0];return`${e}:${n.x}:${n.y}`}for(let u=0;u<e.length;u++){const c=e[u],d=c.geometry,h=c.text?c.text.toString():null;if(!h){a(u);continue}const p=l(h,d),m=l(h,d,!0);if(p in r&&m in t&&r[p]!==t[m]){const e=s(p,m,d),i=o(p,m,n[e].geometry);delete t[p],delete r[m],r[l(h,n[i].geometry,!0)]=i,n[e].geometry=null}else p in r?o(p,m,d):m in t?s(p,m,d):(a(u),t[p]=i-1,r[m]=i-1)}return n.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const r=this.lineVertexArray.length;if(void 0!==e.segment){let r=e.dist(t[e.segment+1]),n=e.dist(t[e.segment]);const i={};for(let n=e.segment+1;n<t.length;n++)i[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:r},n<t.length-1&&(r+=t[n+1].dist(t[n]));for(let r=e.segment||0;r>=0;r--)i[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:n},r>0&&(n+=t[r-1].dist(t[r]));for(let e=0;e<t.length;e++){const t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(t,r,n,i,a,o,s,l,u,c,d,h){const p=t.indexArray,m=t.layoutVertexArray,f=t.segments.prepareSegment(4*r.length,m,p,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,g=f.vertexLength,v=this.allowVerticalPlacement&&s===e.WritingMode.vertical?Math.PI/2:0,_=o.text&&o.text.sections;for(let e=0;e<r.length;e++){const{tl:i,tr:a,bl:s,br:u,tex:c,pixelOffsetTL:d,pixelOffsetBR:y,minFontScaleX:g,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:T}=r[e],S=f.vertexLength,k=x[1];Pu(m,l.x,l.y,i.x,k+i.y,c.x,c.y,n,w,d.x,d.y,g,b),Pu(m,l.x,l.y,a.x,k+a.y,c.x+c.w,c.y,n,w,y.x,d.y,g,b),Pu(m,l.x,l.y,s.x,k+s.y,c.x,c.y+c.h,n,w,d.x,y.y,g,b),Pu(m,l.x,l.y,u.x,k+u.y,c.x+c.w,c.y+c.h,n,w,y.x,y.y,g,b),Mu(t.dynamicLayoutVertexArray,l,v),p.emplaceBack(S,S+1,S+2),p.emplaceBack(S+1,S+2,S+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==r.length-1&&T===r[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(m.length,o,o.index,{},h,_&&_[T])}t.placedSymbolArray.emplaceBack(l.x,l.y,y,this.glyphOffsetArray.length-y,g,u,c,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],s,0,!1,0,d)}_addCollisionDebugVertex(e,t,r,n,i,a){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(a.x),Math.round(a.y))}addCollisionDebugVertices(e,t,r,n,i,a,o){const s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=s.vertexLength,u=i.layoutVertexArray,c=i.collisionVertexArray,d=o.anchorX,h=o.anchorY;this._addCollisionDebugVertex(u,c,a,d,h,new k(e,t)),this._addCollisionDebugVertex(u,c,a,d,h,new k(r,t)),this._addCollisionDebugVertex(u,c,a,d,h,new k(r,n)),this._addCollisionDebugVertex(u,c,a,d,h,new k(e,n)),s.vertexLength+=4;const p=i.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),s.primitiveLength+=4}addDebugCollisionBoxes(e,t,r,n){for(let i=e;i<t;i++){const e=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,n?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,r)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new zu(ua,il.members,ha),this.iconCollisionBox=new zu(ua,il.members,ha);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,r,n,i,a,o,s,l){const u={};for(let n=t;n<r;n++){const t=e.get(n);u.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.textFeatureIndex=t.featureIndex;break}for(let t=n;t<i;t++){const r=e.get(t);u.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.verticalTextFeatureIndex=r.featureIndex;break}for(let t=a;t<o;t++){const r=e.get(t);u.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.iconFeatureIndex=r.featureIndex;break}for(let t=s;t<l;t++){const r=e.get(t);u.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,anchorPointX:r.anchorPointX,anchorPointY:r.anchorPointY},u.verticalIconFeatureIndex=r.featureIndex;break}return u}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs;for(let t=r.vertexStartIndex;t<n;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),r=Math.cos(e),n=[],i=[],a=[];for(let e=0;e<this.symbolInstances.length;++e){a.push(e);const o=this.symbolInstances.get(e);n.push(0|Math.round(t*o.anchorX+r*o.anchorY)),i.push(o.featureIndex)}return a.sort(((e,t)=>n[e]-n[t]||i[t]-i[e])),a}addToSortKeyRanges(e,t){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,r)=>{e>=0&&r.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ln("SymbolBucket",Ru,{omit:["layers","collisionBoxArray","features","compareText"]}),Ru.MAX_GLYPHS=65535,Ru.addDynamicAttributes=Mu;const Fu=new pi({"symbol-placement":new li(ne.layout_symbol["symbol-placement"]),"symbol-spacing":new li(ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new li(ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ui(ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new li(ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new li(ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new li(ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new li(ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new li(ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new li(ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new ui(ne.layout_symbol["icon-size"]),"icon-text-fit":new li(ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new li(ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new ui(ne.layout_symbol["icon-image"]),"icon-rotate":new ui(ne.layout_symbol["icon-rotate"]),"icon-padding":new ui(ne.layout_symbol["icon-padding"]),"icon-keep-upright":new li(ne.layout_symbol["icon-keep-upright"]),"icon-offset":new ui(ne.layout_symbol["icon-offset"]),"icon-anchor":new ui(ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new li(ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new li(ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new li(ne.layout_symbol["text-rotation-alignment"]),"text-field":new ui(ne.layout_symbol["text-field"]),"text-font":new ui(ne.layout_symbol["text-font"]),"text-size":new ui(ne.layout_symbol["text-size"]),"text-max-width":new ui(ne.layout_symbol["text-max-width"]),"text-line-height":new li(ne.layout_symbol["text-line-height"]),"text-letter-spacing":new ui(ne.layout_symbol["text-letter-spacing"]),"text-justify":new ui(ne.layout_symbol["text-justify"]),"text-radial-offset":new ui(ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new li(ne.layout_symbol["text-variable-anchor"]),"text-anchor":new ui(ne.layout_symbol["text-anchor"]),"text-max-angle":new li(ne.layout_symbol["text-max-angle"]),"text-writing-mode":new li(ne.layout_symbol["text-writing-mode"]),"text-rotate":new ui(ne.layout_symbol["text-rotate"]),"text-padding":new li(ne.layout_symbol["text-padding"]),"text-keep-upright":new li(ne.layout_symbol["text-keep-upright"]),"text-transform":new ui(ne.layout_symbol["text-transform"]),"text-offset":new ui(ne.layout_symbol["text-offset"]),"text-allow-overlap":new li(ne.layout_symbol["text-allow-overlap"]),"text-overlap":new li(ne.layout_symbol["text-overlap"]),"text-ignore-placement":new li(ne.layout_symbol["text-ignore-placement"]),"text-optional":new li(ne.layout_symbol["text-optional"])});var Bu={paint:new pi({"icon-opacity":new ui(ne.paint_symbol["icon-opacity"]),"icon-color":new ui(ne.paint_symbol["icon-color"]),"icon-halo-color":new ui(ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new ui(ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ui(ne.paint_symbol["icon-halo-blur"]),"icon-translate":new li(ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new li(ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new ui(ne.paint_symbol["text-opacity"]),"text-color":new ui(ne.paint_symbol["text-color"],{runtimeType:fe,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new ui(ne.paint_symbol["text-halo-color"]),"text-halo-width":new ui(ne.paint_symbol["text-halo-width"]),"text-halo-blur":new ui(ne.paint_symbol["text-halo-blur"]),"text-translate":new li(ne.paint_symbol["text-translate"]),"text-translate-anchor":new li(ne.paint_symbol["text-translate-anchor"])}),layout:Fu};class ju{constructor(e){if(void 0===e.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:de,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ln("FormatSectionOverride",ju,{omit:["defaultValue"]});class Uu extends fi{constructor(e){super(e,Bu)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const r of e)t.indexOf(r)<0&&t.push(r);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,r,n){const i=this.layout.get(e).evaluate(t,{},r,n),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||Mr(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,((t,r)=>r in e?String(e[r]):""))}(t.properties,i)}createBucket(e){return new Ru(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of Bu.paint.overridableProperties){if(!Uu.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),r=new ju(t),n=new Pr(r,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new Dr("source",n):new zr("composite",n,t.value.zoomStops),this.paint._values[e]=new oi(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&Uu.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const r=e.get("text-field"),n=Bu.paint.properties[t];let i=!1;const a=e=>{for(const t of e)if(n.overrides&&n.overrides.hasOverride(t))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof Re)a(r.value.value.sections);else if("source"===r.value.kind){const e=t=>{i||(t instanceof qe&&Ve(t.value)===_e?a(t.value.sections):t instanceof cr?a(t.sections):t.eachChild(e))},t=r.value;t._styleExpression&&e(t._styleExpression.expression)}return i}}function Vu(e,t,r){let n="never";const i=e.get(t);return i?n=i:e.get(r)&&(n="always"),n}var Wu={paint:new pi({"background-color":new li(ne.paint_background["background-color"]),"background-pattern":new di(ne.paint_background["background-pattern"]),"background-opacity":new li(ne.paint_background["background-opacity"])})},qu={paint:new pi({"raster-opacity":new li(ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new li(ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new li(ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new li(ne.paint_raster["raster-brightness-max"]),"raster-saturation":new li(ne.paint_raster["raster-saturation"]),"raster-contrast":new li(ne.paint_raster["raster-contrast"]),"raster-resampling":new li(ne.paint_raster["raster-resampling"]),"raster-fade-duration":new li(ne.paint_raster["raster-fade-duration"])})};class Gu extends fi{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const Zu={circle:class extends fi{constructor(e){super(e,co)}createBucket(e){return new Ya(e)}queryRadius(e){const t=e;return oo("circle-radius",this,t)+oo("circle-stroke-width",this,t)+so(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,r,n,i,a,o,s){const l=lo(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),u=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),c="map"===this.paint.get("circle-pitch-alignment"),d=c?l:function(e,t){return e.map((e=>To(e,t)))}(l,s),h=c?u*o:u;for(const e of n)for(const t of e){const e=c?t:To(t,s);let r=h;const n=xo([],[t.x,t.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?r*=n[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(r*=a.cameraToCenterDistance/n[3]),Ja(d,e,r))return!0}return!1}},heatmap:class extends fi{constructor(e){super(e,ko),this._updateColorRamp()}createBucket(e){return new So(e)}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Eo({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},hillshade:class extends fi{constructor(e){super(e,Po)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},fill:class extends fi{constructor(e){super(e,vs)}recalculate(e,t){super.recalculate(e,t);const r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new ys(e)}queryRadius(){return so(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,r,n,i,a,o){return Xa(lo(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),n)}isTileClipped(){return!0}},"fill-extrusion":class extends fi{constructor(e){super(e,js)}createBucket(e){return new Rs(e)}queryRadius(){return so(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,r,n,i,a,o,s){const l=lo(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,o),u=this.paint.get("fill-extrusion-height").evaluate(t,r),c=this.paint.get("fill-extrusion-base").evaluate(t,r),d=function(e,t,r,n){const i=[];for(const r of e){const e=[r.x,r.y,0,1];xo(e,e,t),i.push(new k(e[0]/e[3],e[1]/e[3]))}return i}(l,s),h=function(e,t,r,n){const i=[],a=[],o=n[8]*t,s=n[9]*t,l=n[10]*t,u=n[11]*t,c=n[8]*r,d=n[9]*r,h=n[10]*r,p=n[11]*r;for(const t of e){const e=[],r=[];for(const i of t){const t=i.x,a=i.y,m=n[0]*t+n[4]*a+n[12],f=n[1]*t+n[5]*a+n[13],y=n[2]*t+n[6]*a+n[14],g=n[3]*t+n[7]*a+n[15],v=y+l,_=g+u,b=m+c,x=f+d,w=y+h,T=g+p,S=new k((m+o)/_,(f+s)/_);S.z=v/_,e.push(S);const C=new k(b/T,x/T);C.z=w/T,r.push(C)}i.push(e),a.push(r)}return[i,a]}(n,c,u,s);return function(e,t,r){let n=1/0;Xa(r,t)&&(n=Vs(r,t[0]));for(let i=0;i<t.length;i++){const a=t[i],o=e[i];for(let e=0;e<a.length-1;e++){const t=a[e],i=[t,a[e+1],o[e+1],o[e],t];Ha(r,i)&&(n=Math.min(n,Vs(r,i)))}}return n!==1/0&&n}(h[0],h[1],d)}},line:class extends fi{constructor(e){super(e,Qs),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof St,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Ks.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Js(e)}queryRadius(e){const t=e,r=el(oo("line-width",this,t),oo("line-gap-width",this,t)),n=oo("line-offset",this,t);return r/2+Math.abs(n)+so(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,r,n,i,a,o){const s=lo(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,o),l=o/2*el(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),u=this.paint.get("line-offset").evaluate(t,r);return u&&(n=function(e,t){const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=[];for(let e=0;e<i.length;e++){const r=i[e-1],n=i[e],o=i[e+1],s=0===e?new k(0,0):n.sub(r)._unit()._perp(),l=e===i.length-1?new k(0,0):o.sub(n)._unit()._perp(),u=s._add(l)._unit(),c=u.x*l.x+u.y*l.y;0!==c&&u._mult(1/c),a.push(u._mult(t)._add(n))}r.push(a)}return r}(n,u*o)),function(e,t,r){for(let n=0;n<t.length;n++){const i=t[n];if(e.length>=3)for(let t=0;t<i.length;t++)if(io(e,i[t]))return!0;if(Qa(e,i,r))return!0}return!1}(s,n,l)}isTileClipped(){return!0}},symbol:Uu,background:class extends fi{constructor(e){super(e,Wu)}},raster:class extends fi{constructor(e){super(e,qu)}}};class $u{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const Yu=6371008.8;class Hu{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Hu(o(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,r=this.lat*t,n=e.lat*t,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return Yu*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new Ju(new Hu(this.lng-r,this.lat-t),new Hu(this.lng+r,this.lat+t))}static convert(e){if(e instanceof Hu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Hu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Hu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Ju{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Hu?new Hu(e.lng,e.lat):Hu.convert(e),this}setSouthWest(e){return this._sw=e instanceof Hu?new Hu(e.lng,e.lat):Hu.convert(e),this}extend(e){const t=this._sw,r=this._ne;let n,i;if(e instanceof Hu)n=e,i=e;else{if(!(e instanceof Ju))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Ju.convert(e)):this.extend(Hu.convert(e)):this;if(n=e._sw,i=e._ne,!n||!i)return this}return t||r?(t.lng=Math.min(n.lng,t.lng),t.lat=Math.min(n.lat,t.lat),r.lng=Math.max(i.lng,r.lng),r.lat=Math.max(i.lat,r.lat)):(this._sw=new Hu(n.lng,n.lat),this._ne=new Hu(i.lng,i.lat)),this}getCenter(){return new Hu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Hu(this.getWest(),this.getNorth())}getSouthEast(){return new Hu(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:r}=Hu.convert(e);let n=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n}static convert(e){return e instanceof Ju?e:e?new Ju(e):e}}const Xu=2*Math.PI*Yu;function Qu(e){return Xu*Math.cos(e*Math.PI/180)}function Ku(e){return(180+e)/360}function ec(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function tc(e,t){return e/Qu(t)}function rc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class nc{constructor(e,t,r=0){this.x=+e,this.y=+t,this.z=+r}static fromLngLat(e,t=0){const r=Hu.convert(e);return new nc(Ku(r.lng),ec(r.lat),tc(t,r.lat))}toLngLat(){return new Hu(360*this.x-180,rc(this.y))}toAltitude(){return this.z*Qu(rc(this.y))}meterInMercatorCoordinateUnits(){return 1/Xu*(e=rc(this.y),1/Math.cos(e*Math.PI/180));var e}}function ic(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}class ac{constructor(e,t,r){if(e<0||e>25||r<0||r>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))throw new Error(`x=${t}, y=${r}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=t,this.y=r,this.key=lc(0,e,e,t,r)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,r){const n=(a=this.y,o=this.z,s=ic(256*(i=this.x),256*(a=Math.pow(2,o)-a-1),o),l=ic(256*(i+1),256*(a+1),o),s[0]+","+s[1]+","+l[0]+","+l[1]);var i,a,o,s,l;const u=function(e,t,r){let n,i="";for(let a=e;a>0;a--)n=1<<a-1,i+=(t&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===r?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,u).replace(/{bbox-epsg-3857}/g,n)}isChildOf(e){const t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){const t=Math.pow(2,this.z);return new k((e.x*t-this.x)*Va,(e.y*t-this.y)*Va)}toString(){return`${this.z}/${this.x}/${this.y}`}}class oc{constructor(e,t){this.wrap=e,this.canonical=t,this.key=lc(e,t.z,t.z,t.x,t.y)}}class sc{constructor(e,t,r,n,i){if(e<r)throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${r}`);this.overscaledZ=e,this.wrap=t,this.canonical=new ac(r,+n,+i),this.key=lc(t,e,r,n,i)}clone(){return new sc(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const t=this.canonical.z-e;return e>this.canonical.z?new sc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new sc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const r=this.canonical.z-e;return e>this.canonical.z?lc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):lc(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new sc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new sc(t,this.wrap,t,r,n),new sc(t,this.wrap,t,r+1,n),new sc(t,this.wrap,t,r,n+1),new sc(t,this.wrap,t,r+1,n+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new sc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new sc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new oc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new nc(e.x-this.wrap,e.y))}}function lc(e,t,r,n,i){(e*=2)<0&&(e=-1*e-1);const a=1<<r;return(a*a*e+a*i+n).toString(36)+r.toString(36)+t.toString(36)}Ln("CanonicalTileID",ac),Ln("OverscaledTileID",sc,{omit:["posMatrix"]});class uc{constructor(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return void m(`"${r}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const n=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(let e=0;e<n;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(n,e)]=this.data[this._idx(n-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,n)]=this.data[this._idx(e,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let e=0;e<n;e++)for(let t=0;t<n;t++){const r=this.get(e,t);r>this.max&&(this.max=r),r<this.min&&(this.min=r)}}get(e,t){const r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,r){return(256*e*256+256*t+r)/10-1e4}_unpackTerrarium(e,t,r){return 256*e+t+r/256-32768}getPixels(){return new Oo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let n=t*this.dim,i=t*this.dim+this.dim,a=r*this.dim,o=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:a=o-1;break;case 1:o=a+1}const s=-t*this.dim,l=-r*this.dim;for(let t=a;t<o;t++)for(let r=n;r<i;r++)this.data[this._idx(r,t)]=e.data[this._idx(r+s,t+l)]}}Ln("DEMData",uc);class cc{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[e]}}class dc{constructor(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class hc{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new kn(Va,16,0),this.grid3D=new kn(Va,16,0),this.featureIndexArray=new Qi,this.promoteId=t}insert(e,t,r,n,i,a){const o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);const s=a?this.grid3D:this.grid;for(let e=0;e<t.length;e++){const r=t[e],n=[1/0,1/0,-1/0,-1/0];for(let e=0;e<r.length;e++){const t=r[e];n[0]=Math.min(n[0],t.x),n[1]=Math.min(n[1],t.y),n[2]=Math.max(n[2],t.x),n[3]=Math.max(n[3],t.y)}n[0]<Va&&n[1]<Va&&n[2]>=0&&n[3]>=0&&s.insert(o,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ws.VectorTile(new ul(this.rawTileData)).layers,this.sourceLayerCoder=new cc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,r,n){this.loadVTLayers();const i=e.params||{},a=Va/e.tileSize/e.scale,o=Yr(i.filter),s=e.queryGeometry,l=e.queryPadding*a,u=mc(s),c=this.grid.query(u.minX-l,u.minY-l,u.maxX+l,u.maxY+l),d=mc(e.cameraQueryGeometry),h=this.grid3D.query(d.minX-l,d.minY-l,d.maxX+l,d.maxY+l,((t,r,n,i)=>function(e,t,r,n,i){for(const a of e)if(t<=a.x&&r<=a.y&&n>=a.x&&i>=a.y)return!0;const a=[new k(t,r),new k(t,i),new k(n,i),new k(n,r)];if(e.length>2)for(const t of a)if(io(e,t))return!0;for(let t=0;t<e.length-1;t++)if(ao(e[t],e[t+1],a))return!0;return!1}(e.cameraQueryGeometry,t-l,r-l,n+l,i+l)));for(const e of h)c.push(e);c.sort(fc);const p={};let m;for(let l=0;l<c.length;l++){const u=c[l];if(u===m)continue;m=u;const d=this.featureIndexArray.get(u);let h=null;this.loadMatchingFeature(p,d.bucketIndex,d.sourceLayerIndex,d.featureIndex,o,i.layers,i.availableImages,t,r,n,((t,r,n)=>(h||(h=Ga(t)),r.queryIntersectsFeature(s,t,n,h,this.z,e.transform,a,e.pixelPosMatrix))))}return p}loadMatchingFeature(e,t,r,n,i,a,o,l,u,c,d){const h=this.bucketLayerIDs[t];if(a&&!function(e,t){for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(a,h))return;const p=this.sourceLayerCoder.decode(r),m=this.vtLayers[p].feature(n);if(i.needGeometry){const e=Za(m,!0);if(!i.filter(new Kn(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new Kn(this.tileID.overscaledZ),m))return;const f=this.getId(m,p);for(let t=0;t<h.length;t++){const r=h[t];if(a&&a.indexOf(r)<0)continue;const i=l[r];if(!i)continue;let p={};f&&c&&(p=c.getState(i.sourceLayer||"_geojsonTileLayer",f));const y=s({},u[r]);y.paint=pc(y.paint,i.paint,m,p,o),y.layout=pc(y.layout,i.layout,m,p,o);const g=!d||d(m,i,p);if(!g)continue;const v=new dc(m,this.z,this.x,this.y,f);v.layer=y;let _=e[r];void 0===_&&(_=e[r]=[]),_.push({featureIndex:n,feature:v,intersectionZ:g})}}lookupSymbolFeatures(e,t,r,n,i,a,o,s){const l={};this.loadVTLayers();const u=Yr(i);for(const i of e)this.loadMatchingFeature(l,r,n,i,u,a,o,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const r of t)if(e===r)return!0;return!1}getId(e,t){let r=e.id;return this.promoteId&&(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof r&&(r=Number(r))),r}}function pc(e,t,r,n,i){return c(e,((e,a)=>{const o=t instanceof si?t.get(a):null;return o&&o.evaluate?o.evaluate(r,n,i):o}))}function mc(e){let t=1/0,r=1/0,n=-1/0,i=-1/0;for(const a of e)t=Math.min(t,a.x),r=Math.min(r,a.y),n=Math.max(n,a.x),i=Math.max(i,a.y);return{minX:t,minY:r,maxX:n,maxY:i}}function fc(e,t){return t-e}var yc;Ln("FeatureIndex",hc,{omit:["rawTileData","sourceLayerCoder"]}),e.PerformanceMarkers=void 0,(yc=e.PerformanceMarkers||(e.PerformanceMarkers={})).create="create",yc.load="load",yc.fullLoad="fullLoad";let gc=null,vc=[];const _c=1e3/30,bc={mark(e){performance.mark(e)},frame(e){const t=e;null!=gc&&vc.push(t-gc),gc=t},clearMetrics(){gc=null,vc=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const t in e.PerformanceMarkers)performance.clearMarks(e.PerformanceMarkers[t])},getPerformanceMetrics(){performance.measure("loadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.load),performance.measure("fullLoadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.fullLoad);const t=performance.getEntriesByName("loadTime")[0].duration,r=performance.getEntriesByName("fullLoadTime")[0].duration,n=vc.length,i=1/(vc.reduce(((e,t)=>e+t),0)/n/1e3),a=vc.filter((e=>e>_c)).reduce(((e,t)=>e+(t-_c)/_c),0);return{loadTime:t,fullLoadTime:r,fps:i,percentDroppedFrames:a/(n+a)*100}}};e.AJAXError=V,e.ARRAY_TYPE=po,e.Actor=class{constructor(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},u(["receive","process"],this),this.invoker=new $u(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=g()?e:window}send(e,t,r,n,i=!1){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[a]=r);const o=w(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:An(t,o)},o),{cancel:()=>{r&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(e){const t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];const e=this.cancelCallbacks[r];delete this.cancelCallbacks[r],e&&e()}else g()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)}process(){if(!this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,t){if("<response>"===t.type){const r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(On(t.error)):r(null,On(t.data)))}else{let r=!1;const n=w(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{r=!0,delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?An(t):null,data:An(i,n)},n)}:e=>{r=!0};let a=null;const o=On(t.data);if(this.parent[t.type])a=this.parent[t.type](t.sourceMapId,o,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");a=this.parent.getWorkerSource(t.sourceMapId,e[0],o.source)[e[1]](o,i)}else i(new Error(`Could not find function ${t.type}`));!r&&a&&a.cancel&&(this.cancelCallbacks[e]=a.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.AlphaImage=Ao,e.CanonicalTileID=ac,e.CollisionBoxArray=qi,e.CollisionCircleLayoutArray=class extends Pi{},e.Color=Ie,e.DEMData=uc,e.DataConstantProperty=li,e.DictionaryCoder=cc,e.EXTENT=Va,e.ErrorEvent=te,e.EvaluationParameters=Kn,e.Event=ee,e.Evented=re,e.FeatureIndex=hc,e.FillBucket=ys,e.FillExtrusionBucket=Rs,e.GeoJSONFeature=dc,e.ImageAtlas=Rl,e.ImagePosition=zl,e.LineBucket=Js,e.LineStripIndexArray=class extends Ui{},e.LngLat=Hu,e.LngLatBounds=Ju,e.MercatorCoordinate=nc,e.ONE_EM=ll,e.OverscaledTileID=sc,e.PerformanceUtils=bc,e.PosArray=Ki,e.Properties=pi,e.QuadTriangleArray=class extends Ii{},e.RGBAImage=Oo,e.RasterBoundsArray=class extends wi{},e.RequestPerformance=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.ResourceType=U,e.SegmentVector=fa,e.SymbolBucket=Ru,e.Transitionable=ri,e.TriangleIndexArray=da,e.Uniform1f=Na,e.Uniform1i=class extends La{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends La{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends La{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=Aa,e.UniformColor=Oa,e.UniformMatrix4f=class extends La{constructor(e,t){super(e,t),this.current=Ea}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=oc,e.ValidationError=ie,e.ZoomHistory=En,e.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},e.addDynamicAttributes=Mu,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);let n=e.length;const i=new Array(e.length);let a=null;e.forEach(((e,o)=>{t(e,((e,t)=>{e&&(a=e),i[o]=t,0==--n&&r(a,i)}))}))},e.bezier=n,e.bindAll=u,e.cacheEntryPossiblyAdded=function(e){I++,I>P&&(e.getActor().send("enforceCacheSizeLimit",E),I=0)},e.clamp=a,e.clearTileCache=function(e){const t=caches.delete(N);e&&t.catch(e).then((()=>e()))},e.clipLine=cu,e.clone=function(e){var t=new po(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=h,e.clone$2=function(e){var t=new po(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=al,e.config=L,e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.create=function(){var e=new po(16);return po!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=mo,e.createExpression=Ir,e.createFilter=Yr,e.createLayout=_i,e.createStyleLayer=function(e){return"custom"===e.type?new Gu(e):new Zu[e.type](e)},e.cross=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2];return e[0]=i*l-a*s,e[1]=a*o-n*l,e[2]=n*s-i*o,e},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=i,e.emitValidationErrors=Sn,e.enforceCacheSizeLimit=function(e){M(),A&&A.then((t=>{t.keys().then((r=>{for(let n=0;n<r.length-e;n++)t.delete(r[n])}))}))},e.equals=function(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],p=e[11],m=e[12],f=e[13],y=e[14],g=e[15],v=t[0],_=t[1],b=t[2],x=t[3],w=t[4],T=t[5],S=t[6],k=t[7],C=t[8],L=t[9],N=t[10],A=t[11],O=t[12],E=t[13],P=t[14],M=t[15];return Math.abs(r-v)<=ho*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-_)<=ho*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-b)<=ho*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-x)<=ho*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-w)<=ho*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-T)<=ho*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(l-S)<=ho*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-k)<=ho*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-C)<=ho*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(d-L)<=ho*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(h-N)<=ho*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(p-A)<=ho*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(m-O)<=ho*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(f-E)<=ho*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(y-P)<=ho*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(g-M)<=ho*Math.max(1,Math.abs(g),Math.abs(M))},e.evaluateSizeForFeature=function(e,{uSize:t,uSizeT:r},{lowerSize:n,upperSize:i}){return"source"===e.kind?n/eu:"composite"===e.kind?kt(n/eu,i/eu,r):t},e.evaluateSizeForZoom=function(e,t){let r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:o,maxZoom:s}=e,l=i?a(qt.interpolationFactor(i,t,o,s),0,1):0;"camera"===e.kind?n=kt(e.minSize,e.maxSize,l):r=l}return{uSizeT:r,uSize:n}},e.evaluateVariableOffset=Tu,e.evented=Hn,e.exported=S,e.exported$1=D,e.extend=s,e.filterObject=d,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.getAnchorAlignment=Jl,e.getAnchorJustification=Su,e.getArrayBuffer=Z,e.getImage=X,e.getJSON=function(e,t){return G(s(e,{type:"json"}),t)},e.getOverlapMode=Vu,e.getRTLTextPluginStatus=Jn,e.getReferrer=W,e.getVideo=function(e,t){const r=window.document.createElement("video");r.muted=!0,r.onloadstart=function(){t(null,r)};for(let t=0;t<e.length;t++){const n=window.document.createElement("source");$(e[t])||(r.crossOrigin="Anonymous"),n.src=e[t],r.appendChild(n)}return{cancel:()=>{}}},e.identity=fo,e.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],p=t[11],m=t[12],f=t[13],y=t[14],g=t[15],v=r*s-n*o,_=r*l-i*o,b=r*u-a*o,x=n*l-i*s,w=n*u-a*s,T=i*u-a*l,S=c*f-d*m,k=c*y-h*m,C=c*g-p*m,L=d*y-h*f,N=d*g-p*f,A=h*g-p*y,O=v*A-_*N+b*L+x*C-w*k+T*S;return O?(e[0]=(s*A-l*N+u*L)*(O=1/O),e[1]=(i*N-n*A-a*L)*O,e[2]=(f*T-y*w+g*x)*O,e[3]=(h*w-d*T-p*x)*O,e[4]=(l*C-o*A-u*k)*O,e[5]=(r*A-i*C+a*k)*O,e[6]=(y*b-m*T-g*_)*O,e[7]=(c*T-h*b+p*_)*O,e[8]=(o*N-s*C+u*S)*O,e[9]=(n*C-r*N-a*S)*O,e[10]=(m*w-f*b+g*v)*O,e[11]=(d*b-c*w-p*v)*O,e[12]=(s*k-o*L-l*S)*O,e[13]=(r*L-n*k+i*S)*O,e[14]=(f*_-m*x-y*v)*O,e[15]=(c*x-d*_+h*v)*O,e):null},e.isImageBitmap=T,e.isSafari=w,e.isWorker=g,e.keysDifference=function(e,t){const r=[];for(const n in e)n in t||r.push(n);return r},e.lazyLoadRTLTextPlugin=function(){Qn.isLoading()||Qn.isLoaded()||"deferred"!==Jn()||Xn()},e.makeRequest=G,e.mapObject=c,e.mercatorXfromLng=Ku,e.mercatorYfromLat=ec,e.mercatorZfromAltitude=tc,e.mul=vo,e.mul$1=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e},e.multiply=yo,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e},e.number=kt,e.ortho=function(e,t,r,n,i,a,o){var s=1/(t-r),l=1/(n-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(o+a)*u,e[15]=1,e},e.parseCacheControl=v,e.parseGlyphPbf=function(e){return new ul(e).readFields(Pl,[])},e.pbf=ul,e.performSymbolLayout=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=Va/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;const r=t.bucket.layers[0].layout,n=t.bucket.layers[0]._unevaluatedLayout._values,i={layoutIconSize:n["icon-size"].possiblyEvaluate(new Kn(t.bucket.zoom+1),t.canonical),layoutTextSize:n["text-size"].possiblyEvaluate(new Kn(t.bucket.zoom+1),t.canonical),textMaxSize:n["text-size"].possiblyEvaluate(new Kn(18))};if("composite"===t.bucket.textSizeData.kind){const{minZoom:e,maxZoom:r}=t.bucket.textSizeData;i.compositeTextSizes=[n["text-size"].possiblyEvaluate(new Kn(e),t.canonical),n["text-size"].possiblyEvaluate(new Kn(r),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){const{minZoom:e,maxZoom:r}=t.bucket.iconSizeData;i.compositeIconSizes=[n["icon-size"].possiblyEvaluate(new Kn(e),t.canonical),n["icon-size"].possiblyEvaluate(new Kn(r),t.canonical)]}const a=r.get("text-line-height")*ll,o="viewport"!==r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),s=r.get("text-keep-upright"),l=r.get("text-size");for(const n of t.bucket.features){const u=r.get("text-font").evaluate(n,{},t.canonical).join(","),c=l.evaluate(n,{},t.canonical),d=i.layoutTextSize.evaluate(n,{},t.canonical),h=i.layoutIconSize.evaluate(n,{},t.canonical),p={horizontal:{},vertical:void 0},f=n.text;let y,g=[0,0];if(f){const i=f.toString(),l=r.get("text-letter-spacing").evaluate(n,{},t.canonical)*ll,h=In(i)?l:0,m=r.get("text-anchor").evaluate(n,{},t.canonical),y=r.get("text-variable-anchor");if(!y){const e=r.get("text-radial-offset").evaluate(n,{},t.canonical);g=e?Tu(m,[e*ll,wu]):r.get("text-offset").evaluate(n,{},t.canonical).map((e=>e*ll))}let v=o?"center":r.get("text-justify").evaluate(n,{},t.canonical);const _=r.get("symbol-placement"),b="point"===_?r.get("text-max-width").evaluate(n,{},t.canonical)*ll:0,x=()=>{t.bucket.allowVerticalPlacement&&Mn(i)&&(p.vertical=Ul(f,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,a,m,"left",h,g,e.WritingMode.vertical,!0,_,d,c))};if(!o&&y){const r="auto"===v?y.map((e=>Su(e))):[v];let n=!1;for(let i=0;i<r.length;i++){const o=r[i];if(!p.horizontal[o])if(n)p.horizontal[o]=p.horizontal[0];else{const r=Ul(f,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,a,"center",o,h,g,e.WritingMode.horizontal,!1,_,d,c);r&&(p.horizontal[o]=r,n=1===r.positionedLines.length)}}x()}else{"auto"===v&&(v=Su(m));const r=Ul(f,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,a,m,v,h,g,e.WritingMode.horizontal,!1,_,d,c);r&&(p.horizontal[v]=r),x(),Mn(i)&&o&&s&&(p.vertical=Ul(f,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,a,m,v,h,g,e.WritingMode.vertical,!1,_,d,c))}}let v=!1;if(n.icon&&n.icon.name){const e=t.imageMap[n.icon.name];e&&(y=Ql(t.imagePositions[n.icon.name],r.get("icon-offset").evaluate(n,{},t.canonical),r.get("icon-anchor").evaluate(n,{},t.canonical)),v=!!e.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=v:t.bucket.sdfIcons!==v&&m("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.bucket.pixelRatio||0!==r.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}const _=Nu(p.horizontal)||p.vertical;t.bucket.iconsInText=!!_&&_.iconsInText,(_||y)&&ku(t.bucket,n,p,y,t.imageMap,i,d,h,g,v,t.canonical)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(a=1/(n-i)),e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){const r={};for(let n=0;n<t.length;n++){const i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=Qn,e.pointGeometry=k,e.polygonIntersectsPolygon=Ha,e.potpack=Dl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Ln,e.registerForPluginStateChange=function(e){return e({pluginStatus:Gn,pluginURL:Zn}),Hn.on("pluginStateChange",e),e},e.renderColorRamp=Eo,e.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=o*i+c*n,e[6]=s*i+d*n,e[7]=l*i+h*n,e[8]=u*i-a*n,e[9]=c*i-o*n,e[10]=d*i-s*n,e[11]=h*i-l*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=o*i+c*n,e[2]=s*i+d*n,e[3]=l*i+h*n,e[4]=u*i-a*n,e[5]=c*i-o*n,e[6]=d*i-s*n,e[7]=h*i-l*n,e},e.scale=function(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},e.setCacheLimits=function(e,t){E=e,P=t},e.setRTLTextPlugin=function(e,t,r=!1){if(Gn===Un||Gn===Vn||Gn===Wn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Zn=S.resolveURL(e),Gn=Un,qn=t,Yn(),r||Xn()},e.spec=ne,e.sphericalToCartesian=function([e,t,r]){return t+=90,t*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(t)*Math.sin(r),y:e*Math.sin(t)*Math.sin(r),z:e*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],r=e[1];return t*t+r*r},e.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},e.toEvaluationFeature=Za,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e},e.transformMat4=xo,e.transformMat4$1=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},e.translate=function(e,t,r){var n,i,a,o,s,l,u,c,d,h,p,m,f=r[0],y=r[1],g=r[2];return t===e?(e[12]=t[0]*f+t[4]*y+t[8]*g+t[12],e[13]=t[1]*f+t[5]*y+t[9]*g+t[13],e[14]=t[2]*f+t[6]*y+t[10]*g+t[14],e[15]=t[3]*f+t[7]*y+t[11]*g+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],p=t[10],m=t[11],e[0]=n=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=h,e[10]=p,e[11]=m,e[12]=n*f+s*y+d*g+t[12],e[13]=i*f+l*y+h*g+t[13],e[14]=a*f+u*y+p*g+t[14],e[15]=o*f+c*y+m*g+t[15]),e},e.triggerPluginCompletionEvent=$n,e.unicodeBlockLookup=Pn,e.uniqueId=function(){return l++},e.validateCustomStyleLayer=function(e){const t=[],r=e.id;return void 0===r&&t.push({message:`layers.${r}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${r}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=xn,e.validateStyle=bn,e.vectorTile=ws,e.warnOnce=m,e.wrap=o})),n(["./shared"],(function(e){function t(e){const r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r="[";for(const n of e)r+=`${t(n)},`;return`${r}]`}const n=Object.keys(e).sort();let i="{";for(let r=0;r<n.length;r++)i+=`${JSON.stringify(n[r])}:${t(e[n[r]])},`;return`${i}}`}function r(r){let n="";for(const i of e.refProperties)n+=`/${t(r[i])}`;return n}class n{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const r of t){this._layerConfigs[r.id]=r;const t=this._layers[r.id]=e.createStyleLayer(r);t._featureFilter=e.createFilter(t.filter),this.keyCache[r.id]&&delete this.keyCache[r.id]}for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=function(e,t){const n={};for(let i=0;i<e.length;i++){const a=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=a);let o=n[a];o||(o=n[a]=[]),o.push(e[i])}const i=[];for(const e in n)i.push(n[e]);return i}(Object.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map((e=>this._layers[e.id])),r=t[0];if("none"===r.visibility)continue;const n=r.source||"";let i=this.familiesBySource[n];i||(i=this.familiesBySource[n]={});const a=r.sourceLayer||"_geojsonTileLayer";let o=i[a];o||(o=i[a]=[]),o.push(t)}}}class i{constructor(t){const r={},n=[];for(const e in t){const i=t[e],a=r[e]={};for(const e in i){const t=i[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const r={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};n.push(r),a[e]={rect:r,metrics:t.metrics}}}const{w:i,h:a}=e.potpack(n),o=new e.AlphaImage({width:i||1,height:a||1});for(const n in t){const i=t[n];for(const t in i){const a=i[+t];if(!a||0===a.bitmap.width||0===a.bitmap.height)continue;const s=r[n][t].rect;e.AlphaImage.copy(a.bitmap,o,{x:0,y:0},{x:s.x+1,y:s.y+1},a.bitmap)}}this.image=o,this.positions=r}}e.register("GlyphAtlas",i);class a{constructor(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId}parse(t,r,n,a,s){this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;const l=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];const c={},d={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},h=r.familiesBySource[this.source];for(const r in h){const i=t.layers[r];if(!i)continue;1===i.version&&e.warnOnce(`Vector tile source "${this.source}" layer "${r}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const a=l.encode(r),s=[];for(let e=0;e<i.length;e++){const t=i.feature(e),n=u.getId(t,r);s.push({feature:t,id:n,index:e,sourceLayerIndex:a})}for(const t of h[r]){const r=t[0];r.source!==this.source&&e.warnOnce(`layer.source = ${r.source} does not equal this.source = ${this.source}`),r.minzoom&&this.zoom<Math.floor(r.minzoom)||r.maxzoom&&this.zoom>=r.maxzoom||"none"!==r.visibility&&(o(t,this.zoom,n),(c[r.id]=r.createBucket({index:u.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:a,sourceID:this.source})).populate(s,d,this.tileID.canonical),u.bucketLayerIDs.push(t.map((e=>e.id))))}}let p,m,f,y;const g=e.mapObject(d.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(g).length?a.send("getGlyphs",{uid:this.uid,stacks:g},((e,t)=>{p||(p=e,m=t,b.call(this))})):m={};const v=Object.keys(d.iconDependencies);v.length?a.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{p||(p=e,f=t,b.call(this))})):f={};const _=Object.keys(d.patternDependencies);function b(){if(p)return s(p);if(m&&f&&y){const t=new i(m),r=new e.ImageAtlas(f,y);for(const i in c){const a=c[i];a instanceof e.SymbolBucket?(o(a.layers,this.zoom,n),e.performSymbolLayout({bucket:a,glyphMap:m,glyphPositions:t.positions,imageMap:f,imagePositions:r.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):a.hasPattern&&(a instanceof e.LineBucket||a instanceof e.FillBucket||a instanceof e.FillExtrusionBucket)&&(o(a.layers,this.zoom,n),a.addFeatures(d,this.tileID.canonical,r.patternPositions))}this.status="done",s(null,{buckets:Object.values(c).filter((e=>!e.isEmpty())),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?m:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null})}}_.length?a.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{p||(p=e,y=t,b.call(this))})):y={},b.call(this)}}function o(t,r,n){const i=new e.EvaluationParameters(r);for(const e of t)e.recalculate(i,n)}function s(t,r){const n=e.getArrayBuffer(t.request,((t,n,i,a)=>{t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:i,expires:a})}));return()=>{n.cancel(),r()}}class l{constructor(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||s,this.loading={},this.loaded={}}loadTile(t,r){const n=t.uid;this.loading||(this.loading={});const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),o=this.loading[n]=new a(t);o.abort=this.loadVectorData(t,((t,a)=>{if(delete this.loading[n],t||!a)return o.status="done",this.loaded[n]=o,r(t);const s=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl);const u={};if(i){const e=i.finish();e&&(u.resourceTiming=JSON.parse(JSON.stringify(e)))}o.vectorTile=a.vectorTile,o.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,n)=>{if(t||!n)return r(t);r(null,e.extend({rawTileData:s.slice(0)},n,l,u))})),this.loaded=this.loaded||{},this.loaded[n]=o}))}reloadTile(e,t){const r=this.loaded,n=e.uid,i=this;if(r&&r[n]){const a=r[n];a.showCollisionBoxes=e.showCollisionBoxes;const o=(e,r)=>{const n=a.reloadCallback;n&&(delete a.reloadCallback,a.parse(a.vectorTile,i.layerIndex,this.availableImages,i.actor,n)),t(e,r)};"parsing"===a.status?a.reloadCallback=o:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,o):o())}}abortTile(e,t){const r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()}removeTile(e,t){const r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()}}class u{constructor(){this.loaded={}}loadTile(t,r){const{uid:n,encoding:i,rawImageData:a}=t,o=e.isImageBitmap(a)?this.getImageData(a):a,s=new e.DEMData(n,o,i);this.loaded=this.loaded||{},this.loaded[n]=s,r(null,s)}getImageData(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);const r=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:r.width,height:r.height},r.data)}removeTile(e){const t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]}}var c=function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)d(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)d(t.coordinates[n],r);return t};function d(e,t){if(0!==e.length){h(e[0],t);for(var r=1;r<e.length;r++)h(e[r],!t)}}function h(e,t){for(var r=0,n=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),l=r+s;n+=Math.abs(r)>=Math.abs(s)?r-l+s:s-l+r,r=l}r+n>=0!=!!t&&e.reverse()}const p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class m{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.pointGeometry(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const n=[];for(const t of r)n.push(new e.pointGeometry(t[0],t[1]));t.push(n)}return t}}toGeoJSON(e,t,r){return p.call(this,e,t,r)}}class f{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new m(this._features[e])}}var y={exports:{}},g=e.pointGeometry,v=e.vectorTile.VectorTileFeature,_=b;function b(e,t){this.options=t||{},this.features=e,this.length=e.length}function x(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}b.prototype.feature=function(e){return new x(this.features[e],this.options.extent)},x.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],n=[],i=0;i<r.length;i++)n.push(new g(r[i][0],r[i][1]));this.geometry.push(n)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},x.prototype.toGeoJSON=v.prototype.toGeoJSON;var w=e.pbf,T=_;function S(e){var t=new w;return function(e,t){for(var r in e.layers)t.writeMessage(3,k,e.layers[r])}(e,t),t.finish()}function k(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,C,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var a=n.values;for(r=0;r<a.length;r++)t.writeMessage(4,E,a[r])}function C(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,L,e),t.writeVarintField(3,r.type),t.writeMessage(4,O,r)}function L(e,t){var r=e.feature,n=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in r.properties){var l=r.properties[s],u=a[s];if(null!==l){void 0===u&&(n.push(s),a[s]=u=n.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var d=c+":"+l,h=o[d];void 0===h&&(i.push(l),o[d]=h=i.length-1),t.writeVarint(h)}}}function N(e,t){return(t<<3)+(7&e)}function A(e){return e<<1^e>>31}function O(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,a=0,o=r.length,s=0;s<o;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(N(1,u));for(var c=3===n?l.length-1:l.length,d=0;d<c;d++){1===d&&1!==n&&t.writeVarint(N(2,c-1));var h=l[d].x-i,p=l[d].y-a;t.writeVarint(A(h)),t.writeVarint(A(p)),i+=h,a+=p}3===n&&t.writeVarint(N(7,1))}}function E(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function P(e,t,r,n,i,a){if(i-n<=r)return;const o=n+i>>1;M(e,t,o,n,i,a%2),P(e,t,r,n,o-1,a+1),P(e,t,r,o+1,i,a+1)}function M(e,t,r,n,i,a){for(;i>n;){if(i-n>600){const o=i-n+1,s=r-n+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);M(e,t,r,Math.max(n,Math.floor(r-s*u/o+c)),Math.min(i,Math.floor(r+(o-s)*u/o+c)),a)}const o=t[2*r+a];let s=n,l=i;for(I(e,t,n,r),t[2*i+a]>o&&I(e,t,n,i);s<l;){for(I(e,t,s,l),s++,l--;t[2*s+a]<o;)s++;for(;t[2*l+a]>o;)l--}t[2*n+a]===o?I(e,t,n,l):(l++,I(e,t,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1)}}function I(e,t,r,n){D(e,r,n),D(t,2*r,2*n),D(t,2*r+1,2*n+1)}function D(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function z(e,t,r,n){const i=e-r,a=t-n;return i*i+a*a}y.exports=S,y.exports.fromVectorTileJs=S,y.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new T(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return S({layers:r})},y.exports.GeoJSONWrapper=T;const R=e=>e[0],F=e=>e[1];class B{constructor(e,t=R,r=F,n=64,i=Float64Array){this.nodeSize=n,this.points=e;const a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),s=this.coords=new i(2*e.length);for(let n=0;n<e.length;n++)o[n]=n,s[2*n]=t(e[n]),s[2*n+1]=r(e[n]);P(o,s,n,0,o.length-1,0)}range(e,t,r,n){return function(e,t,r,n,i,a,o){const s=[0,e.length-1,0],l=[];let u,c;for(;s.length;){const d=s.pop(),h=s.pop(),p=s.pop();if(h-p<=o){for(let o=p;o<=h;o++)u=t[2*o],c=t[2*o+1],u>=r&&u<=i&&c>=n&&c<=a&&l.push(e[o]);continue}const m=Math.floor((p+h)/2);u=t[2*m],c=t[2*m+1],u>=r&&u<=i&&c>=n&&c<=a&&l.push(e[m]);const f=(d+1)%2;(0===d?r<=u:n<=c)&&(s.push(p),s.push(m-1),s.push(f)),(0===d?i>=u:a>=c)&&(s.push(m+1),s.push(h),s.push(f))}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)}within(e,t,r){return function(e,t,r,n,i,a){const o=[0,e.length-1,0],s=[],l=i*i;for(;o.length;){const u=o.pop(),c=o.pop(),d=o.pop();if(c-d<=a){for(let i=d;i<=c;i++)z(t[2*i],t[2*i+1],r,n)<=l&&s.push(e[i]);continue}const h=Math.floor((d+c)/2),p=t[2*h],m=t[2*h+1];z(p,m,r,n)<=l&&s.push(e[h]);const f=(u+1)%2;(0===u?r-i<=p:n-i<=m)&&(o.push(d),o.push(h-1),o.push(f)),(0===u?r+i>=p:n+i>=m)&&(o.push(h+1),o.push(c),o.push(f))}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}}const j={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},U=Math.fround||(V=new Float32Array(1),e=>(V[0]=+e,V[0]));var V;class W{constructor(e){this.options=X(Object.create(j),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:r,maxZoom:n,nodeSize:i}=this.options;t&&console.time("total time");const a=`prepare ${e.length} points`;t&&console.time(a),this.points=e;let o=[];for(let t=0;t<e.length;t++)e[t].geometry&&o.push(G(e[t],t));this.trees[n+1]=new B(o,Q,K,i,Float32Array),t&&console.timeEnd(a);for(let e=n;e>=r;e--){const r=+Date.now();o=this._cluster(o,e),this.trees[e]=new B(o,Q,K,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,o.length,+Date.now()-r)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const e=this.getClusters([r,n,180,a],t),o=this.getClusters([-180,n,i,a],t);return e.concat(o)}const o=this.trees[this._limitZoom(t)],s=o.range(Y(r),H(a),Y(i),H(n)),l=[];for(const e of s){const t=o.points[e];l.push(t.numPoints?Z(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);const a=i.points[t];if(!a)throw new Error(n);const o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i.within(a.x,a.y,o),l=[];for(const t of s){const r=i.points[t];r.parentId===e&&l.push(r.numPoints?Z(r):this.points[r.index])}if(0===l.length)throw new Error(n);return l}getLeaves(e,t,r){const n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n}getTile(e,t,r){const n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:o}=this.options,s=o/a,l=(r-s)/i,u=(r+1+s)/i,c={features:[]};return this._addTileFeatures(n.range((t-s)/i,l,(t+1+s)/i,u),n.points,t,r,i,c),0===t&&this._addTileFeatures(n.range(1-s/i,l,1,u),n.points,i,r,i,c),t===i-1&&this._addTileFeatures(n.range(0,l,s/i,u),n.points,-1,r,i,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,i){const a=this.getChildren(t);for(const t of a){const a=t.properties;if(a&&a.cluster?i+a.point_count<=n?i+=a.point_count:i=this._appendLeaves(e,a.cluster_id,r,n,i):i<n?i++:e.push(t),e.length===r)break}return i}_addTileFeatures(e,t,r,n,i,a){for(const o of e){const e=t[o],s=e.numPoints;let l,u,c;if(s)l=$(e),u=e.x,c=e.y;else{const t=this.points[e.index];l=t.properties,u=Y(t.geometry.coordinates[0]),c=H(t.geometry.coordinates[1])}const d={type:1,geometry:[[Math.round(this.options.extent*(u*i-r)),Math.round(this.options.extent*(c*i-n))]],tags:l};let h;s?h=e.id:this.options.generateId?h=e.index:this.points[e.index].id&&(h=this.points[e.index].id),void 0!==h&&(d.id=h),a.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:n,extent:i,reduce:a,minPoints:o}=this.options,s=n/(i*Math.pow(2,t));for(let n=0;n<e.length;n++){const i=e[n];if(i.zoom<=t)continue;i.zoom=t;const l=this.trees[t+1],u=l.within(i.x,i.y,s),c=i.numPoints||1;let d=c;for(const e of u){const r=l.points[e];r.zoom>t&&(d+=r.numPoints||1)}if(d>c&&d>=o){let e=i.x*c,o=i.y*c,s=a&&c>1?this._map(i,!0):null;const h=(n<<5)+(t+1)+this.points.length;for(const r of u){const n=l.points[r];if(n.zoom<=t)continue;n.zoom=t;const u=n.numPoints||1;e+=n.x*u,o+=n.y*u,n.parentId=h,a&&(s||(s=this._map(i,!0)),a(s,this._map(n)))}i.parentId=h,r.push(q(e/d,o/d,h,d,s))}else if(r.push(i),d>1)for(const e of u){const n=l.points[e];n.zoom<=t||(n.zoom=t,r.push(n))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?X({},e.properties):e.properties;const r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?X({},n):n}}function q(e,t,r,n,i){return{x:U(e),y:U(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function G(e,t){const[r,n]=e.geometry.coordinates;return{x:U(Y(r)),y:U(H(n)),zoom:1/0,index:t,parentId:-1}}function Z(e){return{type:"Feature",id:e.id,properties:$(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),J(e.y)]}};var t}function $(e){const t=e.numPoints,r=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return X(X({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function Y(e){return e/360+.5}function H(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function J(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function X(e,t){for(const r in t)e[r]=t[r];return e}function Q(e){return e.x}function K(e){return e.y}function ee(e,t,r,n){for(var i,a=n,o=r-t>>1,s=r-t,l=e[t],u=e[t+1],c=e[r],d=e[r+1],h=t+3;h<r;h+=3){var p=te(e[h],e[h+1],l,u,c,d);if(p>a)i=h,a=p;else if(p===a){var m=Math.abs(h-o);m<s&&(i=h,s=m)}}a>n&&(i-t>3&&ee(e,t,i,n),e[i+2]=a,r-i>3&&ee(e,i,r,n))}function te(e,t,r,n,i,a){var o=i-r,s=a-n;if(0!==o||0!==s){var l=((e-r)*o+(t-n)*s)/(o*o+s*s);l>1?(r=i,n=a):l>0&&(r+=o*l,n+=s*l)}return(o=e-r)*o+(s=t-n)*s}function re(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)ne(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)ne(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)ne(e,t[n][i])}(i),i}function ne(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function ie(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===a)ae(i,s);else if("MultiPoint"===a)for(var u=0;u<i.length;u++)ae(i[u],s);else if("LineString"===a)oe(i,s,o,!1);else if("MultiLineString"===a){if(r.lineMetrics){for(u=0;u<i.length;u++)oe(i[u],s=[],o,!1),e.push(re(l,"LineString",s,t.properties));return}se(i,s,o,!1)}else if("Polygon"===a)se(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(u=0;u<t.geometry.geometries.length;u++)ie(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];se(i[u],c,o,!0),s.push(c)}}e.push(re(l,a,s,t.properties))}}function ae(e,t){t.push(le(e[0])),t.push(ue(e[1])),t.push(0)}function oe(e,t,r,n){for(var i,a,o=0,s=0;s<e.length;s++){var l=le(e[s][0]),u=ue(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(o+=n?(i*u-l*a)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-a,2))),i=l,a=u}var c=t.length-3;t[2]=1,ee(t,0,c,r),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function se(e,t,r,n){for(var i=0;i<e.length;i++){var a=[];oe(e[i],a,r,n),t.push(a)}}function le(e){return e/360+.5}function ue(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function ce(e,t,r,n,i,a,o,s){if(n/=t,a>=(r/=t)&&o<n)return e;if(o<r||a>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],d=c.geometry,h=c.type,p=0===i?c.minX:c.minY,m=0===i?c.maxX:c.maxY;if(p>=r&&m<n)l.push(c);else if(!(m<r||p>=n)){var f=[];if("Point"===h||"MultiPoint"===h)de(d,f,r,n,i);else if("LineString"===h)he(d,f,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===h)me(d,f,r,n,i,!1);else if("Polygon"===h)me(d,f,r,n,i,!0);else if("MultiPolygon"===h)for(var y=0;y<d.length;y++){var g=[];me(d[y],g,r,n,i,!0),g.length&&f.push(g)}if(f.length){if(s.lineMetrics&&"LineString"===h){for(y=0;y<f.length;y++)l.push(re(c.id,h,f[y],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===f.length?(h="LineString",f=f[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===f.length?"Point":"MultiPoint"),l.push(re(c.id,h,f,c.tags))}}}return l.length?l:null}function de(e,t,r,n,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=r&&o<=n&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function he(e,t,r,n,i,a,o){for(var s,l,u=pe(e),c=0===i?ye:ge,d=e.start,h=0;h<e.length-3;h+=3){var p=e[h],m=e[h+1],f=e[h+2],y=e[h+3],g=e[h+4],v=0===i?p:m,_=0===i?y:g,b=!1;o&&(s=Math.sqrt(Math.pow(p-y,2)+Math.pow(m-g,2))),v<r?_>r&&(l=c(u,p,m,y,g,r),o&&(u.start=d+s*l)):v>n?_<n&&(l=c(u,p,m,y,g,n),o&&(u.start=d+s*l)):fe(u,p,m,f),_<r&&v>=r&&(l=c(u,p,m,y,g,r),b=!0),_>n&&v<=n&&(l=c(u,p,m,y,g,n),b=!0),!a&&b&&(o&&(u.end=d+s*l),t.push(u),u=pe(e)),o&&(d+=s)}var x=e.length-3;p=e[x],m=e[x+1],f=e[x+2],(v=0===i?p:m)>=r&&v<=n&&fe(u,p,m,f),x=u.length-3,a&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&fe(u,u[0],u[1],u[2]),u.length&&t.push(u)}function pe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function me(e,t,r,n,i,a){for(var o=0;o<e.length;o++)he(e[o],t,r,n,i,a,!1)}function fe(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ye(e,t,r,n,i,a){var o=(a-t)/(n-t);return e.push(a),e.push(r+(i-r)*o),e.push(1),o}function ge(e,t,r,n,i,a){var o=(a-r)/(i-r);return e.push(t+(n-t)*o),e.push(a),e.push(1),o}function ve(e,t){for(var r=[],n=0;n<e.length;n++){var i,a=e[n],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=_e(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(_e(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var l=[],u=0;u<a.geometry[s].length;u++)l.push(_e(a.geometry[s][u],t));i.push(l)}r.push(re(a.id,o,i,a.tags))}return r}function _e(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function be(e,t){if(e.transformed)return e;var r,n,i,a=1<<e.z,o=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(xe(u[n],u[n+1],t,a,o,s));else for(n=0;n<u.length;n++){var d=[];for(i=0;i<u[n].length;i+=2)d.push(xe(u[n][i],u[n][i+1],t,a,o,s));l.geometry.push(d)}}return e.transformed=!0,e}function xe(e,t,r,n,i,a){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-a))]}function we(e,t,r,n,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Te(o,e[s],a,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,d=e[s].maxY;l<o.minX&&(o.minX=l),u<o.minY&&(o.minY=u),c>o.maxX&&(o.maxX=c),d>o.maxY&&(o.maxY=d)}return o}function Te(e,t,r,n){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)Se(o,i,e,r,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)Se(o,i[s],e,r,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Se(o,u[s],e,r,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===a&&n.lineMetrics){for(var d in c={},t.tags)c[d]=t.tags[d];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h)}}function Se(e,t,r,n,i,a){var o=n*n;if(n>0&&t.size<(i?o:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>o)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,a=i-2;n<i;a=n,n+=2)r+=(e[n]-e[a])*(e[n+1]+e[a+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var o=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=o,e[i-1-n]=s}}(s,a),e.push(s)}}function ke(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)ie(r,e.features[n],t,n);else ie(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=function(e,t){var r=t.buffer/t.extent,n=e,i=ce(e,1,-1-r,r,0,-1,2,t),a=ce(e,1,1-r,2+r,0,-1,2,t);return(i||a)&&(n=ce(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=ve(i,1).concat(n)),a&&(n=n.concat(ve(a,-1)))),n}(n,t),n.length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ce(e,t,r){return 32*((1<<e)*r+t)+e}function Le(e,t){const r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);const i=new f(n.features);let a=y.exports(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}ke.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ke.prototype.splitTile=function(e,t,r,n,i,a,o){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,d=Ce(t,r,n),h=this.tiles[d];if(!h&&(u>1&&console.time("creation"),h=this.tiles[d]=we(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=e,i){if(t===l.maxZoom||t===i)continue;var m=1<<i-t;if(r!==Math.floor(a/m)||n!==Math.floor(o/m))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){u>1&&console.time("clipping");var f,y,g,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,T=.5+x,S=1+x;f=y=g=v=null,_=ce(e,c,r-x,r+T,0,h.minX,h.maxX,l),b=ce(e,c,r+w,r+S,0,h.minX,h.maxX,l),e=null,_&&(f=ce(_,c,n-x,n+T,1,h.minY,h.maxY,l),y=ce(_,c,n+w,n+S,1,h.minY,h.maxY,l),_=null),b&&(g=ce(b,c,n-x,n+T,1,h.minY,h.maxY,l),v=ce(b,c,n+w,n+S,1,h.minY,h.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(f||[],t+1,2*r,2*n),s.push(y||[],t+1,2*r,2*n+1),s.push(g||[],t+1,2*r+1,2*n),s.push(v||[],t+1,2*r+1,2*n+1)}}},ke.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,a=n.debug;if(e<0||e>24)return null;var o=1<<e,s=Ce(e,t=(t%o+o)%o,r);if(this.tiles[s])return be(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,c=t,d=r;!l&&u>0;)u--,c=Math.floor(c/2),d=Math.floor(d/2),l=this.tiles[Ce(u,c,d)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",u,c,d),a>1&&console.time("drilling down"),this.splitTile(l.source,u,c,d,e,t,r),a>1&&console.timeEnd("drilling down"),this.tiles[s]?be(this.tiles[s],i):null):null};class Ne extends l{constructor(e,t,r,n){super(e,t,r,Le),n&&(this.loadGeoJSON=n)}loadData(t,r){var n;null===(n=this._pendingRequest)||void 0===n||n.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request);this._pendingCallback=r,this._pendingRequest=this.loadGeoJSON(t,((n,a)=>{if(delete this._pendingCallback,delete this._pendingRequest,n||!a)return r(n);if("object"!=typeof a)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{c(a,!0);try{if(t.filter){const r=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(", "));const n=a.features.filter((e=>r.value.evaluate({zoom:0},e)));a={type:"FeatureCollection",features:n}}this._geoJSONIndex=t.cluster?new W(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const n={},i={},a={accumulated:null,zoom:0},o={properties:null},s=Object.keys(r);for(const t of s){const[a,o]=r[t],s=e.createExpression(o),l=e.createExpression("string"==typeof a?[a,["accumulated"],["get",t]]:a);n[t]=s.value,i[t]=l.value}return t.map=e=>{o.properties=e;const t={};for(const e of s)t[e]=n[e].evaluate(a,o);return t},t.reduce=(e,t)=>{o.properties=t;for(const t of s)a.accumulated=e[t],e[t]=i[t].evaluate(a,o)},t}(t)).load(a.features):function(e,t){return new ke(e,t)}(a,t.geojsonVtOptions)}catch(n){return r(n)}this.loaded={};const o={};if(i){const e=i.finish();e&&(o.resourceTiming={},o.resourceTiming[t.source]=JSON.parse(JSON.stringify(e)))}r(null,o)}}))}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)return e.getJSON(t.request,r);if("string"==typeof t.data)try{r(null,JSON.parse(t.data))}catch(e){r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}else r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class Ae{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:Ne},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}setReferrer(e,t){this.referrer=t}setImages(e,t,r){this.availableImages[e]=t;for(const r in this.workerSources[e]){const n=this.workerSources[e][r];for(const e in n)n[e].availableImages=t}r()}setLayers(e,t,r){this.getLayerIndex(e).replace(t),r()}updateLayers(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()}loadTile(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)}loadDEMTile(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)}reloadTile(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)}removeDEMTile(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}removeSource(e,t,r){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}}syncRTLPluginState(t,r,n){try{e.plugin.setState(r);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const r=e.plugin.isParsed();n(r?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),r)}}catch(e){n(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}getWorkerSource(e,t,r){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){const n={send:(t,r,n)=>{this.actor.send(t,r,n,e)}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](n,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][r]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new u),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,r){e.enforceCacheSizeLimit(r)}}return e.isWorker()&&(self.worker=new Ae(self)),Ae})),n(["./shared"],(function(e){var t=r;function r(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===n[t=e&&e.failIfMajorPerformanceCaveat]&&(n[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),n[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var n={};function i(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!i(e[r],t[r]))return!1;return!0}return e===t}r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class a{static testProp(e){if(!a.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in a.docStyle)return e[t];return e[0]}static create(e,t,r){const n=window.document.createElement(e);return void 0!==t&&(n.className=t),r&&r.appendChild(n),n}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){a.docStyle&&a.selectProp&&(a.userSelect=a.docStyle[a.selectProp],a.docStyle[a.selectProp]="none")}static enableDrag(){a.docStyle&&a.selectProp&&(a.docStyle[a.selectProp]=a.userSelect)}static setTransform(e,t){e.style[a.transformProp]=t}static addEventListener(e,t,r,n={}){e.addEventListener(t,r,"passive"in n?n:n.capture)}static removeEventListener(e,t,r,n={}){e.removeEventListener(t,r,"passive"in n?n:n.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",a.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",a.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",a.suppressClickInternal,!0)}),0)}static mousePos(t,r){const n=t.getBoundingClientRect();return new e.pointGeometry(r.clientX-n.left-t.clientLeft,r.clientY-n.top-t.clientTop)}static touchPos(t,r){const n=t.getBoundingClientRect(),i=[];for(let a=0;a<r.length;a++)i.push(new e.pointGeometry(r[a].clientX-n.left-t.clientLeft,r[a].clientY-n.top-t.clientTop));return i}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}a.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,a.selectProp=a.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),a.transformProp=a.testProp(["transform","WebkitTransform"]);class o{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeSpriteURL(e,t,r){const n=function(e){const t=e.match(s);if(!t)throw new Error(`Unable to parse URL "${e}"`);return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return n.path+=`${t}${r}`,function(e){const t=e.params.length?`?${e.params.join("&")}`:"";return`${e.protocol}://${e.authority}${e.path}${t}`}(n)}setTransformRequest(e){this._transformRequestFn=e}}const s=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class l{constructor(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)}update(t,r,n){const{width:i,height:a}=t,o=!(this.size&&this.size[0]===i&&this.size[1]===a||n),{context:s}=this,{gl:l}=s;if(this.useMipmap=Boolean(r&&r.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!r||!1!==r.premultiply)),o)this.size=[i,a],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,i,a,0,this.format,l.UNSIGNED_BYTE,t.data);else{const{x:r,y:o}=n||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texSubImage2D(l.TEXTURE_2D,0,r,o,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,r,o,i,a,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,r){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),r!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function u(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class c extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,t)&&(this.images[e]=t)}_validate(t,r){let n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let r=0;for(const n of e){if(n[0]<r||n[1]<n[0]||t<n[1])return!1;r=n[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){const r=this.images[e];if(r.data.width!==t.data.width||r.data.height!==t.data.height)throw new Error(`size mismatch between old image (${r.data.width}x${r.data.height}) and new image (${t.data.width}x${t.data.height}).`);t.version=r.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let r=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,r){const n={};for(const r of t){this.images[r]||this.fire(new e.Event("styleimagemissing",{id:r}));const t=this.images[r];t?n[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}r(null,n)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{const r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(r,n);this.patterns[t]={bin:r,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:r,h:n}=e.potpack(t),i=this.atlasImage;i.resize({width:r||1,height:n||1});for(const t in this.patterns){const{bin:r}=this.patterns[t],n=r.x+1,a=r.y+1,o=this.images[t].data,s=o.width,l=o.height;e.RGBAImage.copy(o,i,{x:0,y:0},{x:n,y:a},{width:s,height:l}),e.RGBAImage.copy(o,i,{x:0,y:l-1},{x:n,y:a-1},{width:s,height:1}),e.RGBAImage.copy(o,i,{x:0,y:0},{x:n,y:a+l},{width:s,height:1}),e.RGBAImage.copy(o,i,{x:s-1,y:0},{x:n-1,y:a},{width:1,height:l}),e.RGBAImage.copy(o,i,{x:0,y:0},{x:n+s,y:a},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const r of t){if(this.callbackDispatchedThisFrame[r])continue;this.callbackDispatchedThisFrame[r]=!0;const t=this.images[r];t||e.warnOnce(`Image with ID: "${r}" was not found`),u(t)&&this.updateImage(r,t)}}}const d=1e20;function h(e,t,r,n,i,a,o,s,l){for(let u=t;u<t+n;u++)p(e,r*a+u,a,i,o,s,l);for(let u=r;u<r+i;u++)p(e,u*a+t,1,n,o,s,l)}function p(e,t,r,n,i,a,o){a[0]=0,o[0]=-d,o[1]=d,i[0]=e[t];for(let s=1,l=0,u=0;s<n;s++){i[s]=e[t+s*r];const n=s*s;do{const e=a[l];u=(i[s]-i[e]+n-e*e)/(s-e)/2}while(u<=o[l]&&--l>-1);l++,a[l]=s,o[l]=u,o[l+1]=d}for(let s=0,l=0;s<n;s++){for(;o[l+1]<s;)l++;const n=a[l],u=s-n;e[t+s*r]=i[n]+u*u}}class m{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,r){const n=[];for(const e in t)for(const r of t[e])n.push({stack:e,id:r});e.asyncAll(n,(({stack:e,id:t},r)=>{let n=this.entries[e];n||(n=this.entries[e]={glyphs:{},requests:{},ranges:{}});let i=n.glyphs[t];if(void 0!==i)return void r(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(n,e,t),i)return n.glyphs[t]=i,void r(null,{stack:e,id:t,glyph:i});const a=Math.floor(t/256);if(256*a>65535)return void r(new Error("glyphs > 65535 not supported"));if(n.ranges[a])return void r(null,{stack:e,id:t,glyph:i});let o=n.requests[a];o||(o=n.requests[a]=[],m.loadGlyphRange(e,a,this.url,this.requestManager,((e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(n.glyphs[+e]=t[+e]);n.ranges[a]=!0}for(const r of o)r(e,t);delete n.requests[a]}))),o.push(((n,i)=>{n?r(n):i&&r(null,{stack:e,id:t,glyph:i[t]||null})}))}),((e,t)=>{if(e)r(e);else if(t){const e={};for(const{stack:r,id:n,glyph:i}of t)(e[r]||(e[r]={}))[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics};r(null,e)}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.unicodeBlockLookup["CJK Unified Ideographs"](t)||e.unicodeBlockLookup["Hangul Syllables"](t)||e.unicodeBlockLookup.Hiragana(t)||e.unicodeBlockLookup.Katakana(t))}_tinySDF(t,r,n){const i=this.localIdeographFontFamily;if(!i)return;if(!this._doesCharSupportLocalGlyph(n))return;let a=t.tinySDF;if(!a){let e="400";/bold/i.test(r)?e="900":/medium/i.test(r)?e="500":/light/i.test(r)&&(e="200"),a=t.tinySDF=new m.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:i,fontWeight:e})}const o=a.draw(String.fromCharCode(n));return{id:n,bitmap:new e.AlphaImage({width:o.width||30,height:o.height||30},o.data),metrics:{width:o.glyphWidth||24,height:o.glyphHeight||24,left:o.glyphLeft||0,top:o.glyphTop-27||-8,advance:o.glyphAdvance||24}}}}m.loadGlyphRange=function(t,r,n,i,a){const o=256*r,s=o+255,l=i.transformRequest(n.replace("{fontstack}",t).replace("{range}",`${o}-${s}`),e.ResourceType.Glyphs);e.getArrayBuffer(l,((t,r)=>{if(t)a(t);else if(r){const t={};for(const n of e.parseGlyphPbf(r))t[n.id]=n;a(null,t)}}))},m.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:r=8,cutoff:n=.25,fontFamily:i="sans-serif",fontWeight:a="normal",fontStyle:o="normal"}={}){this.buffer=t,this.cutoff=n,this.radius=r;const s=this.size=e+4*t,l=this._createCanvas(s),u=this.ctx=l.getContext("2d",{willReadFrequently:!0});u.font=`${o} ${a} ${e}px ${i}`,u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:a}=this.ctx.measureText(e),o=Math.ceil(r),s=Math.min(this.size-this.buffer,Math.ceil(a-i)),l=Math.min(this.size-this.buffer,o+Math.ceil(n)),u=s+2*this.buffer,c=l+2*this.buffer,p=Math.max(u*c,0),m=new Uint8ClampedArray(p),f={data:m,width:u,height:c,glyphWidth:s,glyphHeight:l,glyphTop:o,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return f;const{ctx:y,buffer:g,gridInner:v,gridOuter:_}=this;y.clearRect(g,g,s,l),y.fillText(e,g,g+o);const b=y.getImageData(g,g,s,l);_.fill(d,0,p),v.fill(0,0,p);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const r=b.data[4*(e*s+t)+3]/255;if(0===r)continue;const n=(e+g)*u+t+g;if(1===r)_[n]=0,v[n]=d;else{const e=.5-r;_[n]=e>0?e*e:0,v[n]=e<0?e*e:0}}h(_,0,0,u,c,u,this.f,this.v,this.z),h(v,g,g,s,l,u,this.f,this.v,this.z);for(let e=0;e<p;e++){const t=Math.sqrt(_[e])-Math.sqrt(v[e]);m[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return f}};const f=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))}interpolate(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),y="-transition";class g extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(f),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,r={}){if(!this._validate(e.validateLight,t,r))for(const e in t){const r=t[e];e.endsWith(y)?this._transitionable.setTransition(e.slice(0,-y.length),r):this._transitionable.setValue(e,r)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class v{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const r=e.join(",")+String(t);return this.dashEntry[r]||(this.dashEntry[r]=this.addDash(e,t)),this.dashEntry[r]}getDashRanges(e,t,r){const n=[];let i=e.length%2==1?-e[e.length-1]*r:0,a=e[0]*r,o=!0;n.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){o=!o;const l=e[t];i=s*r,s+=l,a=s*r,n.push({left:i,right:a,isDash:o,zeroLength:0===l})}return n}addRoundDash(e,t,r){const n=t/2;for(let t=-r;t<=r;t++){const i=this.width*(this.nextRow+r+t);let a=0,o=e[a];for(let s=0;s<this.width;s++){s/o.right>1&&(o=e[++a]);const l=Math.abs(s-o.left),u=Math.abs(s-o.right),c=Math.min(l,u);let d;const h=t/r*(n+1);if(o.isDash){const e=n-Math.abs(h);d=Math.sqrt(c*c+e*e)}else d=n-Math.sqrt(c*c+h*h);this.data[i+s]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){const r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}const t=e[0],r=e[e.length-1];t.isDash===r.isDash&&(t.left=r.left-this.width,r.right=t.right+this.width);const n=this.width*this.nextRow;let i=0,a=e[i];for(let t=0;t<this.width;t++){t/a.right>1&&(a=e[++i]);const r=Math.abs(t-a.left),o=Math.abs(t-a.right),s=Math.min(r,o);this.data[n+t]=Math.max(0,Math.min(255,(a.isDash?s:-s)+128))}}addDash(t,r){const n=r?7:0,i=2*n+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;let a=0;for(let e=0;e<t.length;e++)a+=t[e];if(0!==a){const e=this.width/a,i=this.getDashRanges(t,this.width,e);r?this.addRoundDash(i,e,n):this.addRegularDash(i)}const o={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=i,this.dirty=!0,o}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class _{constructor(t,r){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const n=this.workerPool.acquire(this.id);for(let e=0;e<n.length;e++){const t=new _.Actor(n[e],r,this.id);t.name=`Worker ${e}`,this.actors.push(t)}if(!this.actors.length)throw new Error("No actors found")}broadcast(t,r,n){e.asyncAll(this.actors,((e,n)=>{e.send(t,r,n)}),n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function b(t,r,n){const i=function(r,i){if(r)return n(r);if(i){const r=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(r.vectorLayers=i.vector_layers,r.vectorLayerIds=r.vectorLayers.map((e=>e.id))),n(null,r)}};return t.url?e.getJSON(r.transformRequest(t.url,e.ResourceType.Source),i):e.exported.frame((()=>i(null,t)))}_.Actor=e.Actor;class x{constructor(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<a&&t.y>=i&&t.y<o}}class w extends e.Evented{constructor(t,r,n,i){if(super(),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=b(this._options,this.map._requestManager,((t,r)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t?this.fire(new e.ErrorEvent(t)):r&&(e.extend(this,r),r.bounds&&(this.tileBounds=new x(r.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}loadTile(t,r){const n=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,a.bind(this)))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class T extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=b(this._options,this.map._requestManager,((t,r)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(e.extend(this,r),r.bounds&&(this.tileBounds=new x(r.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,r){const n=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),((n,i,a)=>{if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(a);const n=this.map.painter.context,o=n.gl;t.texture=this.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new l(n,i,o.RGBA,{useMipmap:!0}),t.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&o.texParameterf(o.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),r(null)}}))}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let S;class k extends T{constructor(t,r,n,i){super(t,r,n,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(t,r){const n=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,a){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;const r=e.isImageBitmap(a)&&(null==S&&(S="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),S)?a:e.exported.getImageData(a,1),n={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:r,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",n,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)}_getNeighboringTiles(t){const r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,a=0===r.x?t.wrap-1:t.wrap,o=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}class C extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=n.getActor(),this.setEventedParent(i),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData("content"),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this}_updateWorkerData(t){const r=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(r.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(n),this._pendingLoads++,this.fire(new e.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,r,((r,n)=>{if(this._pendingLoads--,this._removed||n&&n.abandoned)return void this.fire(new e.Event("dataabort",{dataType:"source",sourceDataType:t}));let i=null;if(n&&n.resourceTiming&&n.resourceTiming[this.id]&&(i=n.resourceTiming[this.id].slice(0)),r)return void this.fire(new e.ErrorEvent(r));const a={dataType:"source",sourceDataType:t};this._collectResourceTiming&&i&&i.length>0&&e.extend(a,{resourceTiming:i}),this.fire(new e.Event("data",a))}))}loaded(){return 0===this._pendingLoads}loadTile(e,t){const r=e.actor?"reloadTile":"loadTile";e.actor=this.actor;const n={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(r,n,((n,i)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):n?t(n):(e.loadVectorData(i,this.map.painter,"reloadTile"===r),t(null)))))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var L=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class N extends e.Evented{constructor(e,t,r,n){super(),this.id=e,this.dispatcher=r,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=t}load(t,r){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((n,i)=>{this._loaded=!0,n?this.fire(new e.ErrorEvent(n)):i&&(this.image=i,t&&(this.coordinates=t),r&&r(),this._finishLoading())}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(t){this.coordinates=t;const r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){let r=1/0,n=1/0,i=-1/0,a=-1/0;for(const e of t)r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),a=Math.max(a,e.y);const o=Math.max(i-r,a-n),s=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((r+i)/2*l),Math.floor((n+a)/2*l))}(r),this.minzoom=this.maxzoom=this.tileID.z;const n=r.map((e=>this.tileID.getTilePoint(e)._round()));return this._boundsArray=new e.RasterBoundsArray,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,r=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,L.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new l(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class A extends N{constructor(e,t,r,n){super(e,t,r,n),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const r of t.urls)this.urls.push(this.map._requestManager.transformRequest(r,e.ResourceType.Source).url);e.getVideo(this.urls,((t,r)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(this.video=r,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,r=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,L.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new l(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class O extends N{constructor(t,r,n,i){super(t,r,n,i),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const r=this.map.painter.context,n=r.gl;this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,L.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new l(r,this.canvas,n.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const E={vector:w,raster:T,"raster-dem":k,geojson:C,video:A,image:N,canvas:O};function P(t,r){const n=e.create();return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function M(e,t,r,n,i,a){const o=function(e,t,r){if(e)for(const n of e){const e=t[n];if(e&&e.source===r&&"fill-extrusion"===e.type)return!0}else for(const e in t){const n=t[e];if(n.source===r&&"fill-extrusion"===n.type)return!0}return!1}(i&&i.layers,t,e.id),s=a.maxPitchScaleFactor(),l=e.tilesIn(n,s,o);l.sort(I);const u=[];for(const n of l)u.push({wrappedTileID:n.tileID.wrapped().key,queryResults:n.tile.queryRenderedFeatures(t,r,e._state,n.queryGeometry,n.cameraQueryGeometry,n.scale,i,a,s,P(e.transform,n.tileID))});const c=function(e){const t={},r={};for(const n of e){const e=n.queryResults,i=n.wrappedTileID,a=r[i]=r[i]||{};for(const r in e){const n=e[r],i=a[r]=a[r]||{},o=t[r]=t[r]||[];for(const e of n)i[e.featureIndex]||(i[e.featureIndex]=!0,o.push(e))}}return t}(u);for(const t in c)c[t].forEach((t=>{const r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return c}function I(e,t){const r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}class D{constructor(t,r){this.tileID=t,this.uid=e.uniqueId(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const r=t+this.timeAdded;r<e.exported.now()||this.fadeEndTime&&r<this.fadeEndTime||(this.fadeEndTime=r)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.textures.forEach((t=>e.saveTileTexture(t))),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(t,r,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){const r={};if(!t)return r;for(const n of e){const e=n.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)r[t.id]=n}}return r}(t.buckets,r.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const r=this.buckets[t];if(r instanceof e.SymbolBucket){if(this.hasSymbolBuckets=!0,!n)break;r.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const r=this.buckets[t];if(r instanceof e.SymbolBucket&&r.hasRTLText){this.hasRTLText=!0,e.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,r.style.getLayer(e).queryRadius(t))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.CollisionBoxArray}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const r=this.buckets[t];r.uploadPending()&&r.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new l(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new l(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,r,n,i,a,o,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:o,queryPadding:this.queryPadding*l},e,t,r):{}}querySourceFeatures(t,r){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const i=n.loadVTLayers(),a=r?r.sourceLayer:"",o=i._geojsonTileLayer||i[a];if(!o)return;const s=e.createFilter(r&&r.filter),{z:l,x:u,y:c}=this.tileID.canonical,d={z:l,x:u,y:c};for(let r=0;r<o.length;r++){const i=o.feature(r);if(s.needGeometry){const t=e.toEvaluationFeature(i,!0);if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),i))continue;const h=n.getId(i,a),p=new e.GeoJSONFeature(i,l,u,c,h);p.tile=d,t.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const r=this.expirationTime;if(t.cacheControl){const r=e.parseCacheControl(t.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(r)if(this.expirationTime<r)t=!0;else{const n=this.expirationTime-r;n?this.expirationTime=e+Math.max(n,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const r=this.latestFeatureIndex.loadVTLayers();for(const n in this.buckets){if(!t.style.hasLayer(n))continue;const i=this.buckets[n],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=r[a],s=e[a];if(!o||!s||0===Object.keys(s).length)continue;i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=e.exported.now()+t}setDependencies(e,t){const r={};for(const e of t)r[e]=!0;this.dependencies[e]=r}hasDependency(e,t){for(const r of e){const e=this.dependencies[r];if(e)for(const r of t)if(e[r])return!0}return!1}}class z{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,r){const n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((()=>{this.remove(e,i)}),r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const r in this.data)for(const n of this.data[r])e(n.value)||t.push(n);for(const e of t)this.remove(e.value.tileID,e)}}class R{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,r,n){const i=String(r);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},e.extend(this.stateChanges[t][i],n),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==i&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][i]){this.deletedStates[t][i]={};for(const e in this.state[t][i])n[e]||(this.deletedStates[t][i][e]=null)}else for(const e in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][e]&&delete this.deletedStates[t][i][e]}removeFeatureState(e,t,r){if(null===this.deletedStates[e])return;const n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}getState(t,r){const n=String(r),i=e.extend({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const e=this.deletedStates[t][r];if(null===e)return{};for(const t in e)delete i[t]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(t,r){const n={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const r={};for(const n in this.stateChanges[t])this.state[t][n]||(this.state[t][n]={}),e.extend(this.state[t][n],this.stateChanges[t][n]),r[n]=this.state[t][n];n[t]=r}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const r={};if(null===this.deletedStates[t])for(const e in this.state[t])r[e]={},this.state[t][e]={};else for(const e in this.deletedStates[t]){if(null===this.deletedStates[t][e])this.state[t][e]={};else for(const r of Object.keys(this.deletedStates[t][e]))delete this.state[t][e][r];r[e]=this.state[t][e]}n[t]=n[t]||{},e.extend(n[t],r)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const e in t)t[e].setFeatureState(n,r)}}class F extends e.Evented{constructor(t,r,n){super(),this.id=t,this.dispatcher=n,this.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=function(t,r,n,i){const a=new E[r.type](t,r,n,i);if(a.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${a.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],a),a}(t,r,n,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new R}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,t){return this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(t){this._source.abortTile&&this._source.abortTile(t,(()=>{})),this._source.fire(new e.Event("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(B).map((e=>e.key))}getRenderableIds(t){const r=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&r.push(this._tiles[e]);return t?r.sort(((t,r)=>{const n=t.tileID,i=r.tileID,a=new e.pointGeometry(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new e.pointGeometry(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-i.overscaledZ||o.y-a.y||o.x-a.x})).map((e=>e.tileID.key)):r.map((e=>e.tileID)).sort(B).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,t){const r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))}_tileLoaded(t,r,n,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform,this.terrain));t.timeAdded=e.exported.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))}_backfillDEM(e){const t=this.getRenderableIds();for(let n=0;n<t.length;n++){const i=t[n];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);r(e,t),r(t,e)}}function r(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let r=t.tileID.canonical.x-e.tileID.canonical.x;const n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,r,n){for(const i in this._tiles){let a=this._tiles[i];if(n[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>r)continue;let o=a.tileID;for(;a&&a.tileID.overscaledZ>t+1;){const e=a.tileID.scaledTo(a.tileID.overscaledZ-1);a=this._tiles[e.key],a&&a.hasData()&&(o=e)}let s=o;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){n[o.key]=o;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(let r=e.overscaledZ-1;r>=t;r--){const t=e.scaledTo(r),n=this._getLoadedTile(t);if(n)return n}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const t=Math.ceil(e.width/this._source.tileSize)+1,r=Math.ceil(e.height/this._source.tileSize)+1,n=Math.floor(t*r*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const r in this._tiles){const n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),e[n.tileID.key]=n}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}update(t,r){if(this.transform=t,this.terrain=r,!this._sourceLoaded||this._paused)return;let n;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(n=t.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:r}),this._source.hasTile&&(n=n.filter((e=>this._source.hasTile(e))))):n=[];const i=t.coveringZoomLevel(this._source),a=Math.max(i-F.maxOverzooming,this._source.minzoom),o=Math.max(i+F.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const e={};for(const t of n)if(t.canonical.z>this._source.minzoom){const r=t.scaledTo(t.canonical.z-1);e[r.key]=r;const n=t.scaledTo(Math.max(this._source.minzoom,Math.min(t.canonical.z,5)));e[n.key]=n}n=n.concat(Object.values(e))}const s=this._updateRetainedTiles(n,i);if(j(this._source.type)){const t={},l={},u=Object.keys(s);for(const r of u){const n=s[r],i=this._tiles[r];if(!i||i.fadeEndTime&&i.fadeEndTime<=e.exported.now())continue;const o=this.findLoadedParent(n,a);o&&(this._addTile(o.tileID),t[o.tileID.key]=o.tileID),l[r]=n}this._retainLoadedChildren(l,i,o,s);for(const e in t)s[e]||(this._coveredTiles[e]=!0,s[e]=t[e]);if(r){const e={},t={};for(const r of n)this._tiles[r.key].hasData()?e[r.key]=r:t[r.key]=r;for(const r in t){const n=t[r].children(this._source.maxzoom);this._tiles[n[0].key]&&this._tiles[n[1].key]&&this._tiles[n[2].key]&&this._tiles[n[3].key]&&(e[n[0].key]=s[n[0].key]=n[0],e[n[1].key]=s[n[1].key]=n[1],e[n[2].key]=s[n[2].key]=n[2],e[n[3].key]=s[n[3].key]=n[3],delete t[r])}for(const r in t){const n=this.findLoadedParent(t[r],this._source.minzoom);if(n){e[n.tileID.key]=s[n.tileID.key]=n.tileID;for(const t in e)e[t].isChildOf(n.tileID)&&delete e[t]}}for(const t in this._tiles)e[t]||(this._coveredTiles[t]=!0)}}for(const e in s)this._tiles[e].clearFadeHold();const l=e.keysDifference(this._tiles,s);for(const e of l){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){const r={},n={},i=Math.max(t-F.maxOverzooming,this._source.minzoom),a=Math.max(t+F.maxUnderzooming,this._source.minzoom),o={};for(const n of e){const e=this._addTile(n);r[n.key]=n,e.hasData()||t<this._source.maxzoom&&(o[n.key]=n)}this._retainLoadedChildren(o,t,a,r);for(const a of e){let e=this._tiles[a.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=a.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){r[e.key]=e;continue}}else{const e=a.children(this._source.maxzoom);if(r[e[0].key]&&r[e[1].key]&&r[e[2].key]&&r[e[3].key])continue}let o=e.wasRequested();for(let t=a.overscaledZ-1;t>=i;--t){const i=a.scaledTo(t);if(n[i.key])break;if(n[i.key]=!0,e=this.getTile(i),!e&&o&&(e=this._addTile(i)),e&&(r[i.key]=i,o=e.wasRequested(),e.hasData()))break}}return r}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let r,n=this._tiles[e].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);const e=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(e),r)break;n=e}for(const e of t)this._loadedParentTiles[e]=r}}_addTile(t){let r=this._tiles[t.key];if(r)return r;r=this._cache.getAndRemove(t),r&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));const n=r;return r||(r=new D(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),r))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(t,r,n){const i=[],a=this.transform;if(!a)return i;const o=n?a.getCameraQueryGeometry(t):t,s=t.map((e=>a.pointCoordinate(e,this.terrain))),l=o.map((e=>a.pointCoordinate(e,this.terrain))),u=this.getIds();let c=1/0,d=1/0,h=-1/0,p=-1/0;for(const e of l)c=Math.min(c,e.x),d=Math.min(d,e.y),h=Math.max(h,e.x),p=Math.max(p,e.y);for(let t=0;t<u.length;t++){const n=this._tiles[u[t]];if(n.holdingForFade())continue;const o=n.tileID,m=Math.pow(2,a.zoom-n.tileID.overscaledZ),f=r*n.queryPadding*e.EXTENT/n.tileSize/m,y=[o.getTilePoint(new e.MercatorCoordinate(c,d)),o.getTilePoint(new e.MercatorCoordinate(h,p))];if(y[0].x-f<e.EXTENT&&y[0].y-f<e.EXTENT&&y[1].x+f>=0&&y[1].y+f>=0){const e=s.map((e=>o.getTilePoint(e))),t=l.map((e=>o.getTilePoint(e)));i.push({tile:n,tileID:o,queryGeometry:e,cameraQueryGeometry:t,scale:m})}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const e of t)e.posMatrix=this.transform.calculatePosMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(j(this._source.type))for(const t in this._tiles){const r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.exported.now())return!0}return!1}setFeatureState(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)}removeFeatureState(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,r){const n=this._tiles[e];n&&n.setDependencies(t,r)}reloadTilesForDependencies(e,t){for(const r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((r=>!r.hasDependency(e,t)))}}function B(e,t){const r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function j(e){return"raster"===e||"image"===e||"video"===e}F.maxOverzooming=10,F.maxUnderzooming=3;const U="mapboxgl_preloaded_worker_pool";class V{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<V.workerCount;)this.workers.push(new Worker(xi.workerUrl));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[U]}numActive(){return Object.keys(this.active).length}}const W=Math.floor(e.exported.hardwareConcurrency/2);let q;function G(){return q||(q=new V),q}function Z(t,r){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return e.refProperties.forEach((e=>{e in r&&(n[e]=r[e])})),n}function $(e){e=e.slice();const t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Z(e[r],t[e[r].ref]));return e}V.workerCount=Math.max(Math.min(W,6),1);const Y={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function H(e,t,r){r.push({command:Y.addSource,args:[e,t[e]]})}function J(e,t,r){t.push({command:Y.removeSource,args:[e]}),r[e]=!0}function X(e,t,r,n){J(e,r,n),H(e,t,r)}function Q(e,t,r){let n;for(n in e[r])if(Object.prototype.hasOwnProperty.call(e[r],n)&&"data"!==n&&!i(e[r][n],t[r][n]))return!1;for(n in t[r])if(Object.prototype.hasOwnProperty.call(t[r],n)&&"data"!==n&&!i(e[r][n],t[r][n]))return!1;return!0}function K(e,t,r,n,a,o){let s;for(s in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||r.push({command:o,args:[n,s,t[s],a]}));for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&!Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||r.push({command:o,args:[n,s,t[s],a]}))}function ee(e){return e.id}function te(e,t){return e[t.id]=t,e}class re{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let r=1,n=this._distances[r];const i=t*this.paddedLength+this.padding;for(;n<i&&r<this._distances.length;)n=this._distances[++r];const a=r-1,o=this._distances[a],s=n-o,l=s>0?(i-o)/s:0;return this.points[a].mult(1-l).add(this.points[r].mult(l))}}function ne(e,t){let r=!0;return"always"===e||"never"!==e&&"never"!==t||(r=!1),r}class ie{constructor(e,t,r){const n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(let e=0;e<this.xCellCount*this.yCellCount;e++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}insertCircle(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)}_insertBoxCell(e,t,r,n,i,a){this.boxCells[i].push(a)}_insertCircleCell(e,t,r,n,i,a){this.circleCells[i].push(a)}_query(e,t,r,n,i,a,o){if(r<0||e>this.width||n<0||t>this.height)return[];const s=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return[{key:null,x1:e,y1:t,x2:r,y2:n}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],r=this.circles[3*e+1],n=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-n,y1:r-n,x2:t+n,y2:r+n})}}else this._forEachCell(e,t,r,n,this._queryCell,s,{hitTest:i,overlapMode:a,seenUids:{box:{},circle:{}}},o);return s}query(e,t,r,n){return this._query(e,t,r,n,!1,null)}hitTest(e,t,r,n,i,a){return this._query(e,t,r,n,!0,i,a).length>0}hitTestCircle(e,t,r,n,i){const a=e-r,o=e+r,s=t-r,l=t+r;if(o<0||a>this.width||l<0||s>this.height)return!1;const u=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,u,{hitTest:!0,overlapMode:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),u.length>0}_queryCell(e,t,r,n,i,a,o,s){const{seenUids:l,hitTest:u,overlapMode:c}=o,d=this.boxCells[i];if(null!==d){const i=this.bboxes;for(const o of d)if(!l.box[o]){l.box[o]=!0;const d=4*o,h=this.boxKeys[o];if(e<=i[d+2]&&t<=i[d+3]&&r>=i[d+0]&&n>=i[d+1]&&(!s||s(h))&&(!u||!ne(c,h.overlapMode))&&(a.push({key:h,x1:i[d],y1:i[d+1],x2:i[d+2],y2:i[d+3]}),u))return!0}}const h=this.circleCells[i];if(null!==h){const i=this.circles;for(const o of h)if(!l.circle[o]){l.circle[o]=!0;const d=3*o,h=this.circleKeys[o];if(this._circleAndRectCollide(i[d],i[d+1],i[d+2],e,t,r,n)&&(!s||s(h))&&(!u||!ne(c,h.overlapMode))){const e=i[d],t=i[d+1],r=i[d+2];if(a.push({key:h,x1:e-r,y1:t-r,x2:e+r,y2:t+r}),u)return!0}}}return!1}_queryCellCircle(e,t,r,n,i,a,o,s){const{circle:l,seenUids:u,overlapMode:c}=o,d=this.boxCells[i];if(null!==d){const e=this.bboxes;for(const t of d)if(!u.box[t]){u.box[t]=!0;const r=4*t,n=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[r+0],e[r+1],e[r+2],e[r+3])&&(!s||s(n))&&!ne(c,n.overlapMode))return a.push(!0),!0}}const h=this.circleCells[i];if(null!==h){const e=this.circles;for(const t of h)if(!u.circle[t]){u.circle[t]=!0;const r=3*t,n=this.circleKeys[t];if(this._circlesCollide(e[r],e[r+1],e[r+2],l.x,l.y,l.radius)&&(!s||s(n))&&!ne(c,n.overlapMode))return a.push(!0),!0}}}_forEachCell(e,t,r,n,i,a,o,s){const l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),d=this._convertToYCellCoord(n);for(let h=l;h<=c;h++)for(let l=u;l<=d;l++)if(i.call(this,e,t,r,n,this.xCellCount*l+h,a,o,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,r,n,i,a){const o=n-e,s=i-t,l=r+a;return l*l>o*o+s*s}_circleAndRectCollide(e,t,r,n,i,a,o){const s=(a-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;const u=(o-i)/2,c=Math.abs(t-(i+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;const d=l-s,h=c-u;return d*d+h*h<=r*r}}function ae(t,r,n,i,a){const o=e.create();return r?(e.scale(o,o,[1/a,1/a,1]),n||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function oe(t,r,n,i,a){if(r){const r=e.clone(t);return e.scale(r,r,[a,a,1]),n||e.rotateZ(r,r,-i.angle),r}return i.glCoordMatrix}function se(t,r,n){let i;n?(i=[t.x,t.y,n(t.x,t.y),1],e.transformMat4(i,i,r)):(i=[t.x,t.y,0,1],ve(i,i,r));const a=i[3];return{point:new e.pointGeometry(i[0]/a,i[1]/a),signedDistanceFromCamera:a}}function le(e,t){return.5+e/t*.5}function ue(e,t){const r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function ce(t,r,n,i,a,o,s,l,u,c){const d=i?t.textSizeData:t.iconSizeData,h=e.evaluateSizeForZoom(d,n.transform.zoom),p=[256/n.width*2+1,256/n.height*2+1],m=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();const f=t.lineVertexArray,y=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=n.transform.width/n.transform.height;let v=!1;for(let i=0;i<y.length;i++){const _=y.get(i);if(_.hidden||_.writingMode===e.WritingMode.vertical&&!v){ge(_.numGlyphs,m);continue}let b;if(v=!1,c?(b=[_.anchorX,_.anchorY,c(_.anchorX,_.anchorY),1],e.transformMat4(b,b,r)):(b=[_.anchorX,_.anchorY,0,1],ve(b,b,r)),!ue(b,p)){ge(_.numGlyphs,m);continue}const x=le(n.transform.cameraToCenterDistance,b[3]),w=e.evaluateSizeForFeature(d,h,_),T=s?w/x:w*x,S=new e.pointGeometry(_.anchorX,_.anchorY),k=se(S,a,c).point,C={},L=pe(_,T,!1,l,r,a,o,t.glyphOffsetArray,f,m,k,S,C,g,u,c);v=L.useVertical,(L.notEnoughRoom||v||L.needsFlipping&&pe(_,T,!0,l,r,a,o,t.glyphOffsetArray,f,m,k,S,C,g,u,c).notEnoughRoom)&&ge(_.numGlyphs,m)}i?t.text.dynamicLayoutVertexBuffer.updateData(m):t.icon.dynamicLayoutVertexBuffer.updateData(m)}function de(e,t,r,n,i,a,o,s,l,u,c,d,h){const p=s.glyphStartIndex+s.numGlyphs,m=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,y=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(p-1),v=fe(e*y,r,n,i,a,o,s.segment,m,f,l,u,c,d,h);if(!v)return null;const _=fe(e*g,r,n,i,a,o,s.segment,m,f,l,u,c,d,h);return _?{first:v,last:_}:null}function he(t,r,n,i){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function pe(t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y){const g=r/24,v=t.lineOffsetX*g,_=t.lineOffsetY*g;let b;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,r=t.lineStartIndex,a=t.lineStartIndex+t.lineLength,c=de(g,l,v,_,n,d,h,t,u,o,p,f,y);if(!c)return{notEnoughRoom:!0};const x=se(c.first.point,s,y).point,w=se(c.last.point,s,y).point;if(i&&!n){const e=he(t.writingMode,x,w,m);if(e)return e}b=[c.first];for(let i=t.glyphStartIndex+1;i<e-1;i++)b.push(fe(g*l.getoffsetX(i),v,_,n,d,h,t.segment,r,a,u,o,p,f,y));b.push(c.last)}else{if(i&&!n){const r=se(h,a,y).point,n=t.lineStartIndex+t.segment+1,i=new e.pointGeometry(u.getx(n),u.gety(n)),o=se(i,a,y),s=o.signedDistanceFromCamera>0?o.point:me(h,i,r,1,a,y),l=he(t.writingMode,r,s,m);if(l)return l}const r=fe(g*l.getoffsetX(t.glyphStartIndex),v,_,n,d,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,o,p,f,y);if(!r)return{notEnoughRoom:!0};b=[r]}for(const t of b)e.addDynamicAttributes(c,t.point,t.angle);return{}}function me(e,t,r,n,i,a){const o=se(e.add(e.sub(t)._unit()),i,a).point,s=r.sub(o);return r.add(s._mult(n/s.mag()))}function fe(t,r,n,i,a,o,s,l,u,c,d,h,p,m){const f=i?t-r:t+r;let y=f>0?1:-1,g=0;i&&(y*=-1,g=Math.PI),y<0&&(g+=Math.PI);let v=y>0?l+s:l+s+1,_=a,b=a,x=0,w=0;const T=Math.abs(f),S=[];for(;x+w<=T;){if(v+=y,v<l||v>=u)return null;if(b=_,S.push(_),_=h[v],void 0===_){const t=new e.pointGeometry(c.getx(v),c.gety(v)),r=se(t,d,m);if(r.signedDistanceFromCamera>0)_=h[v]=r.point;else{const r=v-y;_=me(0===x?o:new e.pointGeometry(c.getx(r),c.gety(r)),t,b,T-x+1,d,m)}}x+=w,w=b.dist(_)}const k=(T-x)/w,C=_.sub(b),L=C.mult(k)._add(b);L._add(C._unit()._perp()._mult(n*y));const N=g+Math.atan2(_.y-b.y,_.x-b.x);return S.push(L),{point:L,angle:p?N:0,path:S}}const ye=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ge(e,t){for(let r=0;r<e;r++){const e=t.length;t.resize(e+4),t.float32.set(ye,3*e)}}function ve(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}const _e=100;class be{constructor(e,t=new ie(e.width+200,e.height+200,25),r=new ie(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+_e,this.screenBottomBoundary=e.height+_e,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,r,n,i,a){const o=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY,a),s=r*o.perspectiveRatio,l=e.x1*s+o.point.x,u=e.y1*s+o.point.y,c=e.x2*s+o.point.x,d=e.y2*s+o.point.y;return!this.isInsideGrid(l,u,c,d)||"always"!==t&&this.grid.hitTest(l,u,c,d,t,i)||o.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[l,u,c,d],offscreen:this.isOffscreen(l,u,c,d)}}placeCollisionCircles(t,r,n,i,a,o,s,l,u,c,d,h,p,m){const f=[],y=new e.pointGeometry(r.anchorX,r.anchorY),g=se(y,o,m),v=le(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),_=(c?a/v:a*v)/e.ONE_EM,b=se(y,s,m).point,x=de(_,i,r.lineOffsetX*_,r.lineOffsetY*_,!1,b,y,r,n,s,{},!1,m);let w=!1,T=!1,S=!0;if(x){const r=.5*h*v+p,n=new e.pointGeometry(-100,-100),i=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),a=new re,o=x.first,s=x.last;let c=[];for(let e=o.path.length-1;e>=1;e--)c.push(o.path[e]);for(let e=1;e<s.path.length;e++)c.push(s.path[e]);const y=2.5*r;if(l){const e=c.map((e=>se(e,l,m)));c=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point))}let g=[];if(c.length>0){const t=c[0].clone(),r=c[0].clone();for(let e=1;e<c.length;e++)t.x=Math.min(t.x,c[e].x),t.y=Math.min(t.y,c[e].y),r.x=Math.max(r.x,c[e].x),r.y=Math.max(r.y,c[e].y);g=t.x>=n.x&&r.x<=i.x&&t.y>=n.y&&r.y<=i.y?[c]:r.x<n.x||t.x>i.x||r.y<n.y||t.y>i.y?[]:e.clipLine([c],n.x,n.y,i.x,i.y)}for(const e of g){a.reset(e,.25*r);let n=0;n=a.length<=.5*r?1:Math.ceil(a.paddedLength/y)+1;for(let e=0;e<n;e++){const i=e/Math.max(n-1,1),o=a.lerp(i),s=o.x+_e,l=o.y+_e;f.push(s,l,r,0);const c=s-r,h=l-r,p=s+r,m=l+r;if(S=S&&this.isOffscreen(c,h,p,m),T=T||this.isInsideGrid(c,h,p,m),"always"!==t&&this.grid.hitTestCircle(s,l,r,t,d)&&(w=!0,!u))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!u&&w||!T||v<this.perspectiveRatioCutoff?[]:f,offscreen:S,collisionDetected:w}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const r=[];let n=1/0,i=1/0,a=-1/0,o=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+_e,s.y+_e);n=Math.min(n,t.x),i=Math.min(i,t.y),a=Math.max(a,t.x),o=Math.max(o,t.y),r.push(t)}const s=this.grid.query(n,i,a,o).concat(this.ignoredGrid.query(n,i,a,o)),l={},u={};for(const t of s){const n=t.key;if(void 0===l[n.bucketInstanceId]&&(l[n.bucketInstanceId]={}),l[n.bucketInstanceId][n.featureIndex])continue;const i=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(r,i)&&(l[n.bucketInstanceId][n.featureIndex]=!0,void 0===u[n.bucketInstanceId]&&(u[n.bucketInstanceId]=[]),u[n.bucketInstanceId].push(n.featureIndex))}return u}insertCollisionBox(e,t,r,n,i,a){(r?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:a,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,r,n,i,a){const o=r?this.ignoredGrid:this.grid,s={bucketInstanceId:n,featureIndex:i,collisionGroupID:a,overlapMode:t};for(let t=0;t<e.length;t+=4)o.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,r,n,i){let a;return i?(a=[r,n,i(r,n),1],e.transformMat4(a,a,t)):(a=[r,n,0,1],ve(a,a,t)),{point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+_e,(-a[1]/a[3]+1)/2*this.transform.height+_e),perspectiveRatio:.5+this.transform.cameraToCenterDistance/a[3]*.5}}isOffscreen(e,t,r,n){return r<_e||e>=this.screenRightBoundary||n<_e||t>this.screenBottomBoundary}isInsideGrid(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function xe(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}class we{constructor(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r}isHidden(){return 0===this.opacity&&!this.placed}}class Te{constructor(e,t,r,n,i){this.text=new we(e?e.text:null,t,r,i),this.icon=new we(e?e.icon:null,t,n,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Se{constructor(e,t,r){this.text=e,this.icon=t,this.skipFade=r}}class ke{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Ce{constructor(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i}}class Le{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Ne(t,r,n,i,a){const{horizontalAlign:o,verticalAlign:s}=e.getAnchorAlignment(t),l=-(o-.5)*r,u=-(s-.5)*n,c=e.evaluateVariableOffset(t,i);return new e.pointGeometry(l+c[0]*a,u+c[1]*a)}function Ae(t,r,n,i,a,o){const{x1:s,x2:l,y1:u,y2:c,anchorPointX:d,anchorPointY:h}=t,p=new e.pointGeometry(r,n);return i&&p._rotate(a?o:-o),{x1:s+p.x,y1:u+p.y,x2:l+p.x,y2:c+p.y,anchorPointX:d,anchorPointY:h}}class Oe{constructor(e,t,r,n,i){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new be(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new Le(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,r,n,i){const a=n.getBucket(r),o=n.latestFeatureIndex;if(!a||!o||r.id!==a.layerIds[0])return;const s=n.collisionBoxArray,l=a.layers[0].layout,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),h="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),m=xe(n,1,this.transform.zoom),f=ae(d,h,p,this.transform,m);let y=null;if(h){const t=oe(d,h,p,this.transform,m);y=e.multiply([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[a.bucketInstanceId]=new Ce(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,n.tileID);const g={bucket:a,layout:l,posMatrix:d,textLabelPlaneMatrix:f,labelToScreenMatrix:y,scale:u,textPixelRatio:c,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i)for(const e of a.sortKeyRanges){const{sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i}=e;t.push({sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:g})}attemptAnchorPlacement(e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f){const y=[d.textOffset0,d.textOffset1],g=Ne(e,r,n,y,i),v=this.collisionIndex.placeCollisionBox(Ae(t,g.x,g.y,a,o,this.transform.angle),c,s,l,u.predicate,f);if((!m||0!==this.collisionIndex.placeCollisionBox(Ae(m,g.x,g.y,a,o,this.transform.angle),c,s,l,u.predicate,f).box.length)&&v.box.length>0){let t;if(this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(t=this.prevPlacement.variableOffsets[d.crossTileID].anchor),0===d.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[d.crossTileID]={textOffset:y,width:r,height:n,anchor:e,textBoxScale:i,prevAnchor:t},this.markUsedJustification(h,e,d,p),h.allowVerticalPlacement&&(this.markUsedOrientation(h,p,d),this.placedOrientations[d.crossTileID]=p),{shift:g,placedGlyphBoxes:v}}}placeLayerBucketPart(t,r,n){const{bucket:i,layout:a,posMatrix:o,textLabelPlaneMatrix:s,labelToScreenMatrix:l,textPixelRatio:u,holdingForFade:c,collisionBoxArray:d,partiallyEvaluatedTextSize:h,collisionGroup:p}=t.parameters,m=a.get("text-optional"),f=a.get("icon-optional"),y=e.getOverlapMode(a,"text-overlap","text-allow-overlap"),g="always"===y,v=e.getOverlapMode(a,"icon-overlap","icon-allow-overlap"),_="always"===v,b="map"===a.get("text-rotation-alignment"),x="map"===a.get("text-pitch-alignment"),w="none"!==a.get("icon-text-fit"),T="viewport-y"===a.get("symbol-z-order"),S=g&&(_||!i.hasIconData()||f),k=_&&(g||!i.hasTextData()||m);!i.collisionArrays&&d&&i.deserializeCollisionBoxes(d);const C=(t,d)=>{if(r[t.crossTileID])return;if(c)return void(this.placements[t.crossTileID]=new Se(!1,!1,!1));let _=!1,T=!1,C=!0,L=null,N={box:null,offscreen:null},A={box:null,offscreen:null},O=null,E=null,P=null,M=0,I=0,D=0;d.textFeatureIndex?M=d.textFeatureIndex:t.useRuntimeCollisionCircles&&(M=t.featureIndex),d.verticalTextFeatureIndex&&(I=d.verticalTextFeatureIndex);const z=this.retainedQueryData[i.bucketInstanceId].tileID,R=this.terrain?(e,t)=>this.terrain.getElevation(z,e,t):null;for(const e of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const t=d[e];t&&(t.elevation=R?R(t.anchorPointX,t.anchorPointY):0)}const F=d.textBox;if(F){const r=r=>{let n=e.WritingMode.horizontal;if(i.allowVerticalPlacement&&!r&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,n=e,this.markUsedOrientation(i,n,t))}return n},n=(r,n)=>{if(i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const t of i.writingModes)if(t===e.WritingMode.vertical?(N=n(),A=N):N=r(),N&&N.box&&N.box.length)break}else N=r()};if(a.get("text-variable-anchor")){let s=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];s.indexOf(e.anchor)>0&&(s=s.filter((t=>t!==e.anchor)),s.unshift(e.anchor))}const l=(e,r,n)=>{const a=e.x2-e.x1,l=e.y2-e.y1,c=t.textBoxScale,d=w&&"never"===v?r:null;let h={box:[],offscreen:!1};const m="never"!==y?2*s.length:s.length;for(let r=0;r<m;++r){const m=this.attemptAnchorPlacement(s[r%s.length],e,a,l,c,b,x,u,o,p,r>=s.length?y:"never",t,i,n,d,R);if(m&&(h=m.placedGlyphBoxes,h&&h.box&&h.box.length)){_=!0,L=m.shift;break}}return h};n((()=>l(F,d.iconBox,e.WritingMode.horizontal)),(()=>{const r=d.verticalTextBox;return i.allowVerticalPlacement&&!(N&&N.box&&N.box.length)&&t.numVerticalGlyphVertices>0&&r?l(r,d.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),N&&(_=N.box,C=N.offscreen);const c=r(N&&N.box);if(!_&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(i,e.anchor,t,c))}}else{const a=(e,r)=>{const n=this.collisionIndex.placeCollisionBox(e,y,u,o,p.predicate,R);return n&&n.box&&n.box.length&&(this.markUsedOrientation(i,r,t),this.placedOrientations[t.crossTileID]=r),n};n((()=>a(F,e.WritingMode.horizontal)),(()=>{const r=d.verticalTextBox;return i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?a(r,e.WritingMode.vertical):{box:null,offscreen:null}})),r(N&&N.box&&N.box.length)}}if(O=N,_=O&&O.box&&O.box.length>0,C=O&&O.offscreen,t.useRuntimeCollisionCircles){const r=i.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),u=e.evaluateSizeForFeature(i.textSizeData,h,r),c=a.get("text-padding");E=this.collisionIndex.placeCollisionCircles(y,r,i.lineVertexArray,i.glyphOffsetArray,u,o,s,l,n,x,p.predicate,t.collisionCircleDiameter,c,R),E.circles.length&&E.collisionDetected&&!n&&e.warnOnce("Collisions detected, but collision boxes are not shown"),_=g||E.circles.length>0&&!E.collisionDetected,C=C&&E.offscreen}if(d.iconFeatureIndex&&(D=d.iconFeatureIndex),d.iconBox){const e=e=>{const t=w&&L?Ae(e,L.x,L.y,b,x,this.transform.angle):e;return this.collisionIndex.placeCollisionBox(t,v,u,o,p.predicate,R)};A&&A.box&&A.box.length&&d.verticalIconBox?(P=e(d.verticalIconBox),T=P.box.length>0):(P=e(d.iconBox),T=P.box.length>0),C=C&&P.offscreen}const B=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,j=f||0===t.numIconVertices;if(B||j?j?B||(T=T&&_):_=T&&_:T=_=T&&_,_&&O&&O.box&&this.collisionIndex.insertCollisionBox(O.box,y,a.get("text-ignore-placement"),i.bucketInstanceId,A&&A.box&&I?I:M,p.ID),T&&P&&this.collisionIndex.insertCollisionBox(P.box,v,a.get("icon-ignore-placement"),i.bucketInstanceId,D,p.ID),E&&(_&&this.collisionIndex.insertCollisionCircles(E.circles,y,a.get("text-ignore-placement"),i.bucketInstanceId,M,p.ID),n)){const e=i.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new ke);for(let e=0;e<E.circles.length;e+=4)t.circles.push(E.circles[e+0]),t.circles.push(E.circles[e+1]),t.circles.push(E.circles[e+2]),t.circles.push(E.collisionDetected?1:0)}if(0===t.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===i.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[t.crossTileID]=new Se(_||S,T||k,C||i.justReloaded),r[t.crossTileID]=!0};if(T){if(0!==t.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const e=i.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const r=e[t];C(i.symbolInstances.get(r),i.collisionArrays[r])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)C(i.symbolInstances.get(e),i.collisionArrays[e]);if(n&&i.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[i.bucketInstanceId];e.invert(t.invProjMatrix,o),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}i.justReloaded=!1}markUsedJustification(t,r,n,i){let a;a=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];const o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const e of o)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=a>=0&&e!==a?0:n.crossTileID)}markUsedOrientation(t,r,n){const i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,a=r===e.WritingMode.vertical?r:0,o=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const e of o)t.text.placedSymbolArray.get(e).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=a)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],a=i[e];a?(this.opacities[e]=new Te(a,n,t.text,t.icon),r=r||t.text!==a.text.placed||t.icon!==a.icon.placed):(this.opacities[e]=new Te(null,n,t.text,t.icon,t.skipFade),r=r||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new Te(t,n,!1,!1);i.isHidden()||(this.opacities[e]=i,r=r||t.text.placed||t.icon.placed)}}for(const e in a)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=a[e]);for(const e in o)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=o[e]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const r={};for(const n of t){const t=n.getBucket(e);t&&n.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,r,n.collisionBoxArray)}}updateBucketOpacities(t,r,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const i=t.layers[0].layout,a=new Te(null,0,!1,!1,!0),o=i.get("text-allow-overlap"),s=i.get("icon-allow-overlap"),l=i.get("text-variable-anchor"),u="map"===i.get("text-rotation-alignment"),c="map"===i.get("text-pitch-alignment"),d="none"!==i.get("icon-text-fit"),h=new Te(null,0,o&&(s||!t.hasIconData()||i.get("icon-optional")),s&&(o||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);const p=(e,t,r)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)};for(let n=0;n<t.symbolInstances.length;n++){const i=t.symbolInstances.get(n),{numHorizontalGlyphVertices:o,numVerticalGlyphVertices:s,crossTileID:m}=i;let f=this.opacities[m];r[m]?f=a:f||(f=h,this.opacities[m]=f),r[m]=!0;const y=i.numIconVertices>0,g=this.placedOrientations[i.crossTileID],v=g===e.WritingMode.vertical,_=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(o>0||s>0){const e=Be(f.text);p(t.text,o,v?je:e),p(t.text,s,_?je:e);const r=f.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=r||v?1:0)})),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=r||_?1:0);const n=this.variableOffsets[i.crossTileID];n&&this.markUsedJustification(t,n.anchor,i,g);const a=this.placedOrientations[i.crossTileID];a&&(this.markUsedJustification(t,"left",i,a),this.markUsedOrientation(t,a,i))}if(y){const e=Be(f.icon),r=!(d&&i.verticalPlacedIconSymbolIndex&&v);i.placedIconSymbolIndex>=0&&(p(t.icon,i.numIconVertices,r?e:je),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=f.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,i.numVerticalIconVertices,r?je:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=f.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const r=t.collisionArrays[n];if(r){let n=new e.pointGeometry(0,0);if(r.textBox||r.verticalTextBox){let e=!0;if(l){const t=this.variableOffsets[m];t?(n=Ne(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),u&&n._rotate(c?this.transform.angle:-this.transform.angle)):e=!1}r.textBox&&Ee(t.textCollisionBox.collisionVertexArray,f.text.placed,!e||v,n.x,n.y),r.verticalTextBox&&Ee(t.textCollisionBox.collisionVertexArray,f.text.placed,!e||_,n.x,n.y)}const i=Boolean(!_&&r.verticalIconBox);r.iconBox&&Ee(t.iconCollisionBox.collisionVertexArray,f.icon.placed,i,d?n.x:0,d?n.y:0),r.verticalIconBox&&Ee(t.iconCollisionBox.collisionVertexArray,f.icon.placed,!i,d?n.x:0,d?n.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${t.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${t.text.layoutVertexArray.length}) / 4`);if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${t.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${t.icon.layoutVertexArray.length}) / 4`);if(t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e}setStale(){this.stale=!0}}function Ee(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}const Pe=Math.pow(2,25),Me=Math.pow(2,24),Ie=Math.pow(2,17),De=Math.pow(2,16),ze=Math.pow(2,9),Re=Math.pow(2,8),Fe=Math.pow(2,1);function Be(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Pe+t*Me+r*Ie+t*De+r*ze+t*Re+r*Fe+t}const je=0;class Ue{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,r,n,i){const a=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(a,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,r),this._currentPartIndex++,i())return!0;return!1}}class Ve{constructor(e,t,r,n,i,a,o,s){this.placement=new Oe(e,t,a,o,s),this._currentPlacementIndex=r.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,r,n){const i=e.exported.now(),a=()=>{const t=e.exported.now()-i;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=r[t[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=i)&&(!e.maxzoom||e.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new Ue(e)),this._inProgressLayer.continuePlacement(n[e.source],this.placement,this._showCollisionBoxes,e,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const We=512/e.EXTENT/2;class qe{constructor(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(let r=0;r<t.length;r++){const n=t.get(r),i=n.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,e)})}}getScaledCoordinates(t,r){const n=We/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*n)}}findMatches(e,t,r){const n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const a=e.get(i);if(a.crossTileID)continue;const o=this.indexedSymbolInstances[a.key];if(!o)continue;const s=this.getScaledCoordinates(a,t);for(const e of o)if(Math.abs(e.coord.x-s.x)<=n&&Math.abs(e.coord.y-s.y)<=n&&!r[e.crossTileID]){r[e.crossTileID]=!0,a.crossTileID=e.crossTileID;break}}}}class Ge{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Ze{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const r=this.indexes[e],n={};for(const e in r){const i=r[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}this.indexes[e]=n}this.lng=e}addBucket(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const n=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const i=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in i){const a=i[r];a.tileID.isChildOf(e)&&a.findMatches(t.symbolInstances,e,n)}else{const a=i[e.scaledTo(Number(r)).key];a&&a.findMatches(t.symbolInstances,e,n)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=r.generate(),n[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new qe(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const r in t.indexedSymbolInstances)for(const n of t.indexedSymbolInstances[r])delete this.usedCrossTileIDs[e][n.crossTileID]}removeStaleBuckets(e){let t=!1;for(const r in this.indexes){const n=this.indexes[r];for(const i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t}}class $e{constructor(){this.layerIndexes={},this.crossTileIDs=new Ge,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,r){let n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Ze);let i=!1;const a={};n.handleWrapJump(r);for(const r of t){const t=r.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(r.tileID,t,this.crossTileIDs)&&(i=!0),a[t.bucketInstanceId]=!0)}return n.removeStaleBuckets(a)&&(i=!0),i}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}var Ye=e.createLayout([{name:"a_pos",type:"Int16",components:2}]);class He extends e.Evented{constructor(e){super(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=e._cache.max,e.usedForTerrain=!0,e.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const e in this._tiles){const t=this._tiles[e];t.textures.forEach((e=>e.destroy())),t.textures=[]}}update(t,r){this.sourceCache.update(t,r),this._renderableTilesKeys=[];for(const n of t.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:r}))this._renderableTilesKeys.push(n.key),this._tiles[n.key]||(n.posMatrix=new Float64Array(16),e.ortho(n.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),this._tiles[n.key]=new D(n,this.tileSize))}removeOutdated(e){const t={};this.renderHistory=this.renderHistory.filter(((e,t)=>this.renderHistory.indexOf(e)===t)).slice(0,this.renderHistorySize);for(const e of this._renderableTilesKeys)t[e]=!0;for(const e of this.renderHistory)t[e]=!0;for(const r in this._tiles)t[r]||(this._tiles[r].clearTextures(e),delete this._tiles[r])}getRenderableTiles(){return this._renderableTilesKeys.map((e=>this.getTileByID(e)))}getTileByID(e){return this._tiles[e]}getTerrainCoords(t){const r={};for(const n of this._renderableTilesKeys){const i=this._tiles[n].tileID;if(i.canonical.equals(t.canonical)){const i=t.clone();i.posMatrix=new Float64Array(16),e.ortho(i.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),r[n]=i}else if(i.canonical.isChildOf(t.canonical)){const a=t.clone();a.posMatrix=new Float64Array(16);const o=i.canonical.z-t.canonical.z,s=i.canonical.x-(i.canonical.x>>o<<o),l=i.canonical.y-(i.canonical.y>>o<<o),u=e.EXTENT>>o;e.ortho(a.posMatrix,0,u,0,u,0,1),e.translate(a.posMatrix,a.posMatrix,[-s*u,-l*u,0]),r[n]=a}else if(t.canonical.isChildOf(i.canonical)){const a=t.clone();a.posMatrix=new Float64Array(16);const o=t.canonical.z-i.canonical.z,s=t.canonical.x-(t.canonical.x>>o<<o),l=t.canonical.y-(t.canonical.y>>o<<o),u=e.EXTENT>>o;e.ortho(a.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),e.translate(a.posMatrix,a.posMatrix,[s*u,l*u,0]),e.scale(a.posMatrix,a.posMatrix,[1/2**o,1/2**o,0]),r[n]=a}}return r}getSourceTile(e,t){const r=this.sourceCache._source;let n=e.overscaledZ-this.deltaZoom;if(n>r.maxzoom&&(n=r.maxzoom),n<r.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(n).key);let i=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!i||!i.dem)&&t)for(;n>=r.minzoom&&(!i||!i.dem);)i=this.sourceCache.getTileByID(e.scaledTo(n--).key);return i}tilesAfterTime(e=Date.now()){return Object.values(this._tiles).filter((t=>t.timeLoaded>=e))}}class Je{constructor(e,t,r){this.style=e,this.sourceCache=new He(t),this.options=r,this.exaggeration="number"==typeof r.exaggeration?r.exaggeration:1,this.elevationOffset="number"==typeof r.elevationOffset?r.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(t,r,n,i=e.EXTENT){if(!(r>=0&&r<i&&n>=0&&n<i))return this.elevationOffset;let a=0;const o=this.getTerrainData(t);if(o.tile&&o.tile.dem){const t=e.transformMat4$1([],[r/i*e.EXTENT,n/i*e.EXTENT],o.u_terrain_matrix),s=[t[0]*o.tile.dem.dim,t[1]*o.tile.dem.dim],l=[Math.floor(s[0]),Math.floor(s[1])],u=o.tile.dem.get(l[0],l[1]),c=o.tile.dem.get(l[0],l[1]+1),d=o.tile.dem.get(l[0]+1,l[1]),h=o.tile.dem.get(l[0]+1,l[1]+1);a=e.number(e.number(u,c,s[0]-l[0]),e.number(d,h,s[0]-l[0]),s[1]-l[1])}return a}rememberForRerender(e,t){for(const r in this.sourceCache._tiles){const n=this.sourceCache._tiles[r];(n.tileID.equals(t)||n.tileID.isChildOf(t))&&(e===this.sourceCache.sourceCache.id&&(n.timeLoaded=Date.now()),this._rerender[e]=this._rerender[e]||{},this._rerender[e][n.tileID.key]=!0)}}needsRerender(e,t){return this._rerender[e]&&this._rerender[e][t.key]}clearRerenderCache(){this._rerender={}}getElevation(t,r,n,i=e.EXTENT){return(this.getDEMElevation(t,r,n,i)+this.elevationOffset)*this.exaggeration}getTerrainData(t){if(!this._emptyDemTexture){const t=this.style.map.painter.context,r=new e.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new l(t,r,t.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new l(t,new e.RGBAImage({width:1,height:1}),t.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=e.identity([])}const r=this.sourceCache.getSourceTile(t,!0);if(r&&r.dem&&(!r.demTexture||r.needsTerrainPrepare)){const e=this.style.map.painter.context;r.demTexture=this.style.map.painter.getTileTexture(r.dem.stride),r.demTexture?r.demTexture.update(r.dem.getPixels(),{premultiply:!1}):r.demTexture=new l(e,r.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),r.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),r.needsTerrainPrepare=!1}const n=r&&r+r.tileID.key+t.key;if(n&&!this._demMatrixCache[n]){const n=this.sourceCache.sourceCache._source.maxzoom;let i=t.canonical.z-r.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=n?i=t.canonical.z-n:e.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const a=t.canonical.x-(t.canonical.x>>i<<i),o=t.canonical.y-(t.canonical.y>>i<<i),s=e.fromScaling(new Float64Array(16),[1/(e.EXTENT<<i),1/(e.EXTENT<<i),0]);e.translate(s,s,[a*e.EXTENT,o*e.EXTENT,0]),this._demMatrixCache[t.key]={matrix:s,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:r&&r.dem&&r.dem.dim||1,u_terrain_matrix:n?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:r&&r.dem&&r.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(r&&r.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:r}}getRTTFramebuffer(){const e=this.style.map.painter;if(!this._rttFramebuffer){const t=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=e.context.createFramebuffer(t,t,!0),this._rttFramebuffer.depthAttachment.set(e.context.createRenderbuffer(e.context.gl.DEPTH_COMPONENT16,t,t))}return this._rttFramebuffer}getFramebuffer(e){const t=this.style.map.painter,r=t.width/devicePixelRatio,n=t.height/devicePixelRatio;return!this._fbo||this._fbo.width===r&&this._fbo.height===n||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new l(t.context,{width:r,height:n,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new l(t.context,{width:r,height:n,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=t.context.createFramebuffer(r,n,!0),this._fbo.depthAttachment.set(t.context.createRenderbuffer(t.context.gl.DEPTH_COMPONENT16,r,n))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const t=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const r=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,t=0;e<this._coordsTextureSize;e++)for(let n=0;n<this._coordsTextureSize;n++,t+=4)r[t+0]=255&n,r[t+1]=255&e,r[t+2]=n>>8<<4|e>>8,r[t+3]=0;const n=new e.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(r.buffer)),i=new l(t,n,t.gl.RGBA,{premultiply:!1});return i.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=i,i}pointCoordinate(t){const r=new Uint8Array(4),n=this.style.map.painter,i=n.context,a=i.gl;i.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),a.readPixels(t.x,n.height/devicePixelRatio-t.y-1,1,1,a.RGBA,a.UNSIGNED_BYTE,r),i.bindFramebuffer.set(null);const o=r[0]+(r[2]>>4<<8),s=r[1]+((15&r[2])<<8),l=this.coordsIndex[255-r[3]],u=l&&this.sourceCache.getTileByID(l);if(!u)return null;const c=this._coordsTextureSize,d=(1<<u.tileID.canonical.z)*c;return new e.MercatorCoordinate((u.tileID.canonical.x*c+o)/d,(u.tileID.canonical.y*c+s)/d,this.getElevation(u.tileID,o,s,c))}getTerrainMesh(){if(this._mesh)return this._mesh;const t=this.style.map.painter.context,r=new e.PosArray,n=new e.TriangleIndexArray,i=this.meshSize,a=e.EXTENT/i,o=i*i;for(let e=0;e<=i;e++)for(let t=0;t<=i;t++)r.emplaceBack(t*a,e*a);for(let e=0;e<o;e+=i+1)for(let t=0;t<i;t++)n.emplaceBack(t+e,i+t+e+1,i+t+e+2),n.emplaceBack(t+e,i+t+e+2,t+e+1);return this._mesh={indexBuffer:t.createIndexBuffer(n),vertexBuffer:t.createVertexBuffer(r,Ye.members),segments:e.SegmentVector.simpleSegment(0,0,r.length,n.length)},this._mesh}getMinMaxElevation(e){const t=this.getTerrainData(e).tile,r={minElevation:null,maxElevation:null};return t&&t.dem&&(r.minElevation=(t.dem.min+this.elevationOffset)*this.exaggeration,r.maxElevation=(t.dem.max+this.elevationOffset)*this.exaggeration),r}}const Xe=(t,r)=>e.emitValidationErrors(t,r&&r.filter((e=>"source.canvas"!==e.identifier))),Qe=e.pick(Y,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ke=e.pick(Y,["setCenter","setZoom","setBearing","setPitch"]),et=function(){const t={},r=e.spec.$version;for(const n in e.spec.$root){const i=e.spec.$root[n];if(i.required){let e=null;e="version"===n?r:"array"===i.type?[]:{},null!=e&&(t[n]=e)}}return t}();class tt extends e.Evented{constructor(t,r={}){super(),this.map=t,this.dispatcher=new _(G(),this),this.imageManager=new c,this.imageManager.setEventedParent(this),this.glyphManager=new m(t._requestManager,r.localIdeographFontFamily),this.lineAtlas=new v(256,512),this.crossTileSymbolIndex=new $e,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const n=this;this._rtlTextPluginCallback=tt.registerForPluginStateChange((t=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,r)=>{if(e.triggerPluginCompletionEvent(t),r&&r.every((e=>e)))for(const e in n.sourceCaches)n.sourceCaches[e].reload()}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const r=t.getSource();if(r&&r.vectorLayerIds)for(const e in this._layers){const t=this._layers[e];t.source===r.id&&this._validateLayer(t)}}))}loadURL(t,r={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const n="boolean"!=typeof r.validate||r.validate,i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,((t,r)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):r&&this._load(r,n)}))}loadJSON(t,r={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==r.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(et,!1)}_load(t,r){if(r&&Xe(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t;for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);const n=$(this.stylesheet.layers);this._order=n.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let t of n)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new g(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}_loadSprite(t){this._spriteRequest=function(t,r,n,i){let a,o,s;const l=n>1?"@2x":"";let u=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,l,".json"),e.ResourceType.SpriteJSON),((e,t)=>{u=null,s||(s=e,a=t,d())})),c=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,l,".png"),e.ResourceType.SpriteImage),((e,t)=>{c=null,s||(s=e,o=t,d())}));function d(){if(s)i(s);else if(a&&o){const t=e.exported.getImageData(o),r={};for(const n in a){const{width:i,height:o,x:s,y:l,sdf:u,pixelRatio:c,stretchX:d,stretchY:h,content:p}=a[n],m=new e.RGBAImage({width:i,height:o});e.RGBAImage.copy(t,m,{x:s,y:l},{x:0,y:0},{width:i,height:o}),r[n]={data:m,pixelRatio:c,sdf:u,stretchX:d,stretchY:h,content:p}}i(null,r)}}return{cancel(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,this.map.getPixelRatio(),((t,r)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(r)for(const e in r)this.imageManager.addImage(e,r[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const r=this.sourceCaches[t.source];if(!r)return;const n=t.sourceLayer;if(!n)return;const i=r.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${i.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const r of e){const e=this._layers[r];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const r=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(e.length||r.length)&&this._updateWorkerLayers(e,r);for(const e in this._updatedSources){const t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else{if("clear"!==t)throw new Error(`Invalid action ${t}`);this._clearSource(e)}}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}const n={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];n[e]=t.used,t.used=!1}for(const e of this._order){const r=this._layers[e];r.recalculate(t,this._availableImages),!r.isHidden(t.zoom)&&r.source&&(this.sourceCaches[r.source].used=!0)}for(const t in n){const r=this.sourceCaches[t];n[t]!==r.used&&r.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t}))}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(t){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),t){const e=this.sourceCaches[t.source];if(!e)throw new Error(`cannot load terrain, because there exists no source with ID: ${t.source}`);this.terrain=new Je(this,e,t),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=e=>{e.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=e=>{e.tile&&(e.sourceId===t.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(e.sourceId,e.tile.tileID)):"geojson"===e.source.type&&this.terrain.rememberForRerender(e.sourceId,e.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new e.Event("terrain",{terrain:t}))}setState(t){if(this._checkLoaded(),Xe(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=$(t.layers);const r=function(e,t){if(!e)return[{command:Y.setStyle,args:[t]}];let r=[];try{if(!i(e.version,t.version))return[{command:Y.setStyle,args:[t]}];i(e.center,t.center)||r.push({command:Y.setCenter,args:[t.center]}),i(e.zoom,t.zoom)||r.push({command:Y.setZoom,args:[t.zoom]}),i(e.bearing,t.bearing)||r.push({command:Y.setBearing,args:[t.bearing]}),i(e.pitch,t.pitch)||r.push({command:Y.setPitch,args:[t.pitch]}),i(e.sprite,t.sprite)||r.push({command:Y.setSprite,args:[t.sprite]}),i(e.glyphs,t.glyphs)||r.push({command:Y.setGlyphs,args:[t.glyphs]}),i(e.transition,t.transition)||r.push({command:Y.setTransition,args:[t.transition]}),i(e.light,t.light)||r.push({command:Y.setLight,args:[t.light]});const n={},a=[];!function(e,t,r,n){let a;for(a in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,a)&&(Object.prototype.hasOwnProperty.call(t,a)||J(a,r,n));for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(Object.prototype.hasOwnProperty.call(e,a)?i(e[a],t[a])||("geojson"===e[a].type&&"geojson"===t[a].type&&Q(e,t,a)?r.push({command:Y.setGeoJSONSourceData,args:[a,t[a].data]}):X(a,t,r,n)):H(a,t,r))}(e.sources,t.sources,a,n);const o=[];e.layers&&e.layers.forEach((e=>{n[e.source]?r.push({command:Y.removeLayer,args:[e.id]}):o.push(e)})),r=r.concat(a),function(e,t,r){t=t||[];const n=(e=e||[]).map(ee),a=t.map(ee),o=e.reduce(te,{}),s=t.reduce(te,{}),l=n.slice(),u=Object.create(null);let c,d,h,p,m,f,y;for(c=0,d=0;c<n.length;c++)h=n[c],Object.prototype.hasOwnProperty.call(s,h)?d++:(r.push({command:Y.removeLayer,args:[h]}),l.splice(l.indexOf(h,d),1));for(c=0,d=0;c<a.length;c++)h=a[a.length-1-c],l[l.length-1-c]!==h&&(Object.prototype.hasOwnProperty.call(o,h)?(r.push({command:Y.removeLayer,args:[h]}),l.splice(l.lastIndexOf(h,l.length-d),1)):d++,f=l[l.length-c],r.push({command:Y.addLayer,args:[s[h],f]}),l.splice(l.length-c,0,h),u[h]=!0);for(c=0;c<a.length;c++)if(h=a[c],p=o[h],m=s[h],!u[h]&&!i(p,m))if(i(p.source,m.source)&&i(p["source-layer"],m["source-layer"])&&i(p.type,m.type)){for(y in K(p.layout,m.layout,r,h,null,Y.setLayoutProperty),K(p.paint,m.paint,r,h,null,Y.setPaintProperty),i(p.filter,m.filter)||r.push({command:Y.setFilter,args:[h,m.filter]}),i(p.minzoom,m.minzoom)&&i(p.maxzoom,m.maxzoom)||r.push({command:Y.setLayerZoomRange,args:[h,m.minzoom,m.maxzoom]}),p)Object.prototype.hasOwnProperty.call(p,y)&&"layout"!==y&&"paint"!==y&&"filter"!==y&&"metadata"!==y&&"minzoom"!==y&&"maxzoom"!==y&&(0===y.indexOf("paint.")?K(p[y],m[y],r,h,y.slice(6),Y.setPaintProperty):i(p[y],m[y])||r.push({command:Y.setLayerProperty,args:[h,y,m[y]]}));for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&!Object.prototype.hasOwnProperty.call(p,y)&&"layout"!==y&&"paint"!==y&&"filter"!==y&&"metadata"!==y&&"minzoom"!==y&&"maxzoom"!==y&&(0===y.indexOf("paint.")?K(p[y],m[y],r,h,y.slice(6),Y.setPaintProperty):i(p[y],m[y])||r.push({command:Y.setLayerProperty,args:[h,y,m[y]]}))}else r.push({command:Y.removeLayer,args:[h]}),f=l[l.lastIndexOf(h)+1],r.push({command:Y.addLayer,args:[m,f]})}(o,t.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Y.setStyle,args:[t]}]}return r}(this.serialize(),t).filter((e=>!(e.command in Ke)));if(0===r.length)return!1;const n=r.filter((e=>!(e.command in Qe)));if(n.length>0)throw new Error(`Unimplemented: ${n.map((e=>e.command)).join(", ")}.`);return r.forEach((e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=t,!0}addImage(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,r),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,r,n={}){if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error(`Source "${t}" already exists.`);if(!r.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(r).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateStyle.source,`sources.${t}`,r,null,n))return;this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);const i=this.sourceCaches[t]=new F(t,r,this.dispatcher);i.style=this,i.setEventedParent(this,(()=>({isSourceLoaded:this.loaded(),source:i.serialize(),sourceId:t}))),i.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));const r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error(`There is no source with this ID=${e}`);const r=this.sourceCaches[e].getSource();if("geojson"!==r.type)throw new Error(`geojsonSource.type is ${r.type}, which is !== 'geojson`);r.setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(t,r,n={}){this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.ErrorEvent(new Error(`Layer "${i}" already exists on this map.`)));let a;if("custom"===t.type){if(Xe(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,`layers.${i}`,t,{arrayIndex:-1},n))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize()}const o=r?this._order.indexOf(r):this._order.length;if(r&&-1===o)this.fire(new e.ErrorEvent(new Error(`Cannot add layer "${i}" before non-existing layer "${r}".`)));else{if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&"custom"!==a.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}moveLayer(t,r){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===r)return;const n=this._order.indexOf(t);this._order.splice(n,1);const i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error(`Cannot move layer "${t}" before non-existing layer "${r}".`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const r=this._layers[t];if(!r)return void this.fire(new e.ErrorEvent(new Error(`Cannot remove non-existing layer "${t}".`)));r.setEventedParent(null);const n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,r,n){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,r,n={}){this._checkLoaded();const a=this.getLayer(t);if(a){if(!i(a.filter,r))return null==r?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateStyle.filter,`layers.${a.id}.filter`,r,null,n)||(a.filter=e.clone$1(r),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return e.clone$1(this.getLayer(t).filter)}setLayoutProperty(t,r,n,a={}){this._checkLoaded();const o=this.getLayer(t);o?i(o.getLayoutProperty(r),n)||(o.setLayoutProperty(r,n,a),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,r){const n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,r,n,a={}){this._checkLoaded();const o=this.getLayer(t);o?i(o.getPaintProperty(r),n)||(o.setPaintProperty(r,n,a)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,r){this._checkLoaded();const n=t.source,i=t.sourceLayer,a=this.sourceCaches[n];if(void 0===a)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const o=a.getSource().type;"geojson"===o&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(i,t.id,r)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,r){this._checkLoaded();const n=t.source,i=this.sourceCaches[n];if(void 0===i)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const a=i.getSource().type,o="vector"===a?t.sourceLayer:void 0;"vector"!==a||o?r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(o,t.id,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const r=t.source,n=t.sourceLayer,i=this.sourceCaches[r];if(void 0!==i)return"vector"!==i.getSource().type||n?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(n,t.id)):void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(e=>e.serialize())),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,r={},n=[];for(let i=this._order.length-1;i>=0;i--){const a=this._order[i];if(t(a)){r[a]=i;for(const t of e){const e=t[a];if(e)for(const t of e)n.push(t)}}}n.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const i=[];for(let a=this._order.length-1;a>=0;a--){const o=this._order[a];if(t(o))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(r[t.layer.id]<a)break;i.push(t),n.pop()}else for(const t of e){const e=t[o];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);const i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of r.layers){const r=this._layers[t];if(!r)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[r.source]=!0}}const a=[];r.availableImages=this._availableImages;for(const e in this.sourceCaches)r.layers&&!i[e]||a.push(M(this.sourceCaches[e],this._layers,this._serializedLayers,t,r,n));return this.placement&&a.push(function(e,t,r,n,i,a,o){const s={},l=a.queryRenderedSymbols(n),u=[];for(const e of Object.keys(l).map(Number))u.push(o[e]);u.sort(I);for(const r of u){const n=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],i=n[e];i.sort(((e,t)=>{const n=r.featureSortOrder;if(n){const r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const t in s)s[t].forEach((n=>{const i=n.feature,a=r[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}));return s}(this._layers,this._serializedLayers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(a)}querySourceFeatures(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);const n=this.sourceCaches[t];return n?function(e,t){const r=e.getRenderableIds().map((t=>e.getTileByID(t))),n=[],i={};for(let e=0;e<r.length;e++){const a=r[e],o=a.tileID.canonical.key;i[o]||(i[o]=!0,a.querySourceFeatures(n,t))}return n}(n,r):[]}addSourceType(e,t,r){return tt.getSourceType(e)?r(new Error(`A source type called "${e}" already exists.`)):(tt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))}getLight(){return this.light.getLight()}setLight(t,r={}){this._checkLoaded();const n=this.light.getLight();let a=!1;for(const e in t)if(!i(t[e],n[e])){a=!0;break}if(!a)return;const o={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(o)}_validate(t,r,n,i,a={}){return(!a||!1!==a.validate)&&Xe(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.spec},i)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e,this.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(t,r,n,i,a=!1){let o=!1,s=!1;const l={};for(const e of this._order){const r=this._layers[e];if("symbol"!==r.type)continue;if(!l[r.source]){const e=this.sourceCaches[r.source];l[r.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const n=this.crossTileSymbolIndex.addLayer(r,l[r.source],t.center.lng);o=o||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Ve(t,this.terrain,this._order,a,r,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();const n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)}getGlyphs(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)}getResource(t,r,n){return e.makeRequest(r,n)}}tt.getSourceType=function(e){return E[e]},tt.setSourceType=function(e,t){E[e]=t},tt.registerForPluginStateChange=e.registerForPluginStateChange;var rt="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const nt={prelude:it("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:it("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:it("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:it("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:it("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:it("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:it("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:it("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:it("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:it("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:it("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:it("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:it("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:it("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat baseDelta=10.0;float ele=get_elevation(a_centroid);\n#else\nfloat baseDelta=0.0;float ele=0.0;\n#endif\nbase=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:it("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat baseDelta=10.0;float ele=get_elevation(a_centroid);\n#else\nfloat baseDelta=0.0;float ele=0.0;\n#endif\nbase=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:it("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:it("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:it("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:it("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:it("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:it("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:it("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:it("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:it("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",rt),terrainDepth:it("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",rt),terrainCoords:it("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",rt)};function it(e,t){const r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(i):i,s={};return{fragmentSource:e=e.replace(r,((e,t,r,n,i)=>(s[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${r} ${n} ${i};\n#else\nuniform ${r} ${n} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${r} ${n} ${i} = u_${i};\n#endif\n`))),vertexSource:t=t.replace(r,((e,t,r,n,i)=>{const a="float"===n?"vec2":"vec4",o=i.match(/color/)?"color":a;return s[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${r} ${a} a_${i};\nvarying ${r} ${n} ${i};\n#else\nuniform ${r} ${n} u_${i};\n#endif\n`:"vec4"===o?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${o}(a_${i}, u_${i}_t);\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${r} ${a} a_${i};\n#else\nuniform ${r} ${n} u_${i};\n#endif\n`:"vec4"===o?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${r} ${n} ${i} = a_${i};\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${r} ${n} ${i} = unpack_mix_${o}(a_${i}, u_${i}_t);\n#else\n    ${r} ${n} ${i} = u_${i};\n#endif\n`})),staticAttributes:n,staticUniforms:o}}class at{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,r,n,i,a,o,s,l){this.context=e;let u=this.boundPaintVertexBuffers.length!==n.length;for(let e=0;!u&&e<n.length;e++)this.boundPaintVertexBuffers[e]!==n[e]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===r&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s&&this.boundDynamicVertexBuffer3===l?(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind(),l&&l.bind()):this.freshBind(t,r,n,i,a,o,s,l)}freshBind(e,t,r,n,i,a,o,s){let l;const u=e.numAttributes,c=this.context,d=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),l=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o,this.boundDynamicVertexBuffer3=s;else{l=c.currentNumAttributes||0;for(let e=u;e<l;e++)d.disableVertexAttribArray(e)}t.enableAttributes(d,e);for(const t of r)t.enableAttributes(d,e);a&&a.enableAttributes(d,e),o&&o.enableAttributes(d,e),s&&s.enableAttributes(d,e),t.bind(),t.setVertexAttribPointers(d,e,i);for(const t of r)t.bind(),t.setVertexAttribPointers(d,e,i);a&&(a.bind(),a.setVertexAttribPointers(d,e,i)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(d,e,i)),s&&(s.bind(),s.setVertexAttribPointers(d,e,i)),c.currentNumAttributes=u}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function ot(e){const t=[];for(let r=0;r<e.length;r++){if(null===e[r])continue;const n=e[r].split(" ");t.push(n.pop())}return t}class st{constructor(t,r,n,i,a,o,s){const l=t.gl;this.program=l.createProgram();const u=ot(n.staticAttributes),c=i?i.getBinderAttributes():[],d=u.concat(c),h=nt.prelude.staticUniforms?ot(nt.prelude.staticUniforms):[],p=n.staticUniforms?ot(n.staticUniforms):[],m=i?i.getBinderUniforms():[],f=h.concat(p).concat(m),y=[];for(const e of f)y.indexOf(e)<0&&y.push(e);const g=i?i.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;"),s&&g.push("#define TERRAIN3D;");const v=g.concat(nt.prelude.fragmentSource,n.fragmentSource).join("\n"),_=g.concat(nt.prelude.vertexSource,n.vertexSource).join("\n"),b=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())return void(this.failedToCreate=!0);l.shaderSource(b,v),l.compileShader(b),l.attachShader(this.program,b);const x=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())return void(this.failedToCreate=!0);l.shaderSource(x,_),l.compileShader(x),l.attachShader(this.program,x),this.attributes={};const w={};this.numAttributes=d.length;for(let e=0;e<this.numAttributes;e++)d[e]&&(l.bindAttribLocation(this.program,e,d[e]),this.attributes[d[e]]=e);l.linkProgram(this.program),l.deleteShader(x),l.deleteShader(b);for(let e=0;e<y.length;e++){const t=y[e];if(t&&!w[t]){const e=l.getUniformLocation(this.program,t);e&&(w[t]=e)}}this.fixedUniforms=a(t,w),this.terrainUniforms=((t,r)=>({u_depth:new e.Uniform1i(t,r.u_depth),u_terrain:new e.Uniform1i(t,r.u_terrain),u_terrain_dim:new e.Uniform1f(t,r.u_terrain_dim),u_terrain_matrix:new e.UniformMatrix4f(t,r.u_terrain_matrix),u_terrain_unpack:new e.Uniform4f(t,r.u_terrain_unpack),u_terrain_offset:new e.Uniform1f(t,r.u_terrain_offset),u_terrain_exaggeration:new e.Uniform1f(t,r.u_terrain_exaggeration)}))(t,w),this.binderUniforms=i?i.getUniforms(t,w):[]}draw(e,t,r,n,i,a,o,s,l,u,c,d,h,p,m,f,y,g){const v=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(a),s){e.activeTexture.set(v.TEXTURE2),v.bindTexture(v.TEXTURE_2D,s.depthTexture),e.activeTexture.set(v.TEXTURE3),v.bindTexture(v.TEXTURE_2D,s.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(s[e])}for(const e in this.fixedUniforms)this.fixedUniforms[e].set(o[e]);m&&m.setUniforms(e,this.binderUniforms,h,{zoom:p});let _=0;switch(t){case v.LINES:_=2;break;case v.TRIANGLES:_=3;break;case v.LINE_STRIP:_=1}for(const r of d.get()){const n=r.vaos||(r.vaos={});(n[l]||(n[l]=new at)).bind(e,this,u,m?m.getPaintVertexBuffers():[],c,r.vertexOffset,f,y,g),v.drawElements(t,r.primitiveLength*_,v.UNSIGNED_SHORT,r.primitiveOffset*_*2)}}}function lt(e,t,r){const n=1/xe(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,t.transform.tileZoom)/i,o=a*(r.tileID.canonical.x+r.tileID.wrap*i),s=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}const ut=(t,r,n,i)=>{const a=r.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],l=e.create$1();"viewport"===a.properties.get("anchor")&&e.fromRotation(l,-r.transform.angle),e.transformMat3(s,s,l);const u=a.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+n,u_opacity:i}},ct=(t,r,n,i,a,o,s)=>e.extend(ut(t,r,n,i),lt(o,r,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8}),dt=e=>({u_matrix:e}),ht=(t,r,n,i)=>e.extend(dt(t),lt(n,r,i)),pt=(e,t)=>({u_matrix:e,u_world:t}),mt=(t,r,n,i,a)=>e.extend(ht(t,r,n,i),{u_world:a}),ft=(e,t,r,n)=>{const i=e.transform;let a,o;if("map"===n.paint.get("circle-pitch-alignment")){const e=xe(r,1,i.zoom);a=!0,o=[e,e]}else a=!1,o=i.pixelsToGLUnits;return{u_camera_to_center_distance:i.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,r,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:o}},yt=(e,t,r)=>{const n=xe(r,1,t.zoom),i=Math.pow(2,t.zoom-r.tileID.overscaledZ),a=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*i),t.pixelsToGLUnits[1]/(n*i)],u_overscale_factor:a}},gt=(e,t,r=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}),vt=e=>({u_matrix:e}),_t=(e,t,r,n)=>({u_matrix:e,u_extrude_scale:xe(t,1,r),u_intensity:n});function bt(t,r){const n=Math.pow(2,r.canonical.z),i=r.canonical.y;return[new e.MercatorCoordinate(0,i/n).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/n).toLngLat().lat]}const xt=(e,t,r,n)=>{const i=e.transform;return{u_matrix:Ct(e,t,r,n),u_ratio:1/xe(t,1,i.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},wt=(t,r,n,i,a)=>e.extend(xt(t,r,n,a),{u_image:0,u_image_height:i}),Tt=(e,t,r,n,i)=>{const a=e.transform,o=kt(t,a);return{u_matrix:Ct(e,t,r,i),u_texsize:t.imageAtlasTexture.size,u_ratio:1/xe(t,1,a.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[o,n.fromScale,n.toScale],u_fade:n.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},St=(t,r,n,i,a,o)=>{const s=t.lineAtlas,l=kt(r,t.transform),u="round"===n.layout.get("line-cap"),c=s.getDash(i.from,u),d=s.getDash(i.to,u),h=c.width*a.fromScale,p=d.width*a.toScale;return e.extend(xt(t,r,n,o),{u_patternscale_a:[l/h,-c.height/2],u_patternscale_b:[l/p,-d.height/2],u_sdfgamma:s.width/(256*Math.min(h,p)*t.pixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:d.y,u_mix:a.t})};function kt(e,t){return 1/xe(e,1,t.tileZoom)}function Ct(e,t,r,n){return e.translatePosMatrix(n?n.posMatrix:t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}const Lt=(e,t,r,n,i)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(o=i.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Nt(i.paint.get("raster-hue-rotate"))};var a,o};function Nt(e){e*=Math.PI/180;const t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}const At=(e,t,r,n,i,a,o,s,l,u)=>{const c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:u,u_texture:0}},Ot=(t,r,n,i,a,o,s,l,u,c,d)=>{const h=a.transform;return e.extend(At(t,r,n,i,a,o,s,l,u,c),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:a.pixelRatio,u_is_halo:+d})},Et=(t,r,n,i,a,o,s,l,u,c)=>e.extend(Ot(t,r,n,i,a,o,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1}),Pt=(e,t,r)=>({u_matrix:e,u_opacity:t,u_color:r}),Mt=(t,r,n,i,a,o)=>e.extend(function(e,t,r,n){const i=r.imageManager.getPattern(e.from.toString()),a=r.imageManager.getPattern(e.to.toString()),{width:o,height:s}=r.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),u=n.tileSize*Math.pow(2,r.transform.tileZoom)/l,c=u*(n.tileID.canonical.x+n.tileID.wrap*l),d=u*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[o,s],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/xe(n,1,r.transform.tileZoom),u_pixel_coord_upper:[c>>16,d>>16],u_pixel_coord_lower:[65535&c,65535&d]}}(i,o,n,a),{u_matrix:t,u_opacity:r}),It={fillExtrusion:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}),fillExtrusionPattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}),fill:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),fillPattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}),fillOutline:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}),fillOutlinePattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}),circle:(t,r)=>({u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),collisionBox:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}),collisionCircle:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,r.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,r.u_viewport_size)}),debug:(t,r)=>({u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_overlay:new e.Uniform1i(t,r.u_overlay),u_overlay_scale:new e.Uniform1f(t,r.u_overlay_scale)}),clippingMask:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),heatmap:(t,r)=>({u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),heatmapTexture:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}),hillshade:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}),hillshadePrepare:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}),line:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}),lineGradient:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image),u_image_height:new e.Uniform1f(t,r.u_image_height)}),linePattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}),lineSDF:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}),raster:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}),symbolIcon:(t,r)=>({u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}),symbolSDF:(t,r)=>({u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}),symbolTextAndIcon:(t,r)=>({u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}),background:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}),backgroundPattern:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}),terrain:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texture:new e.Uniform1i(t,r.u_texture)}),terrainDepth:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}),terrainCoords:(t,r)=>({u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texture:new e.Uniform1i(t,r.u_texture),u_terrain_coords_id:new e.Uniform1f(t,r.u_terrain_coords_id)})};class Dt{constructor(e,t,r){this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const zt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Rt{constructor(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let r=0;r<this.attributes.length;r++){const n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}}setVertexAttribPointers(e,t,r){for(let n=0;n<this.attributes.length;n++){const i=this.attributes[n],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[zt[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ft{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Bt extends Ft{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class jt extends Ft{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Ut extends Ft{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Vt extends Ft{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Wt extends Ft{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class qt extends Ft{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Gt extends Ft{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Zt extends Ft{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class $t extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Yt extends Ft{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Ht extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class Jt extends Ft{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Xt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class Qt extends Ft{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class Kt extends Ft{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class er extends Ft{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class tr extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class rr extends Ft{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class nr extends Ft{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ir extends Ft{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ar extends Ft{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class or extends Ft{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class sr extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class lr extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class ur extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class cr extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class dr extends Ft{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class hr extends Ft{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class pr extends Ft{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class mr extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class fr extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class yr extends Ft{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class gr extends yr{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class vr extends yr{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class _r{constructor(e,t,r,n){this.context=e,this.width=t,this.height=r;const i=e.gl,a=this.framebuffer=i.createFramebuffer();if(this.colorAttachment=new gr(e,a),n&&(this.depthAttachment=new vr(e,a)),i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class br{constructor(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r}}br.Replace=[1,0],br.disabled=new br(br.Replace,e.Color.transparent,[!1,!1,!1,!1]),br.unblended=new br(br.Replace,e.Color.transparent,[!0,!0,!0,!0]),br.alphaBlended=new br([1,771],e.Color.transparent,[!0,!0,!0,!0]);class xr{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Bt(this),this.clearDepth=new jt(this),this.clearStencil=new Ut(this),this.colorMask=new Vt(this),this.depthMask=new Wt(this),this.stencilMask=new qt(this),this.stencilFunc=new Gt(this),this.stencilOp=new Zt(this),this.stencilTest=new $t(this),this.depthRange=new Yt(this),this.depthTest=new Ht(this),this.depthFunc=new Jt(this),this.blend=new Xt(this),this.blendFunc=new Qt(this),this.blendColor=new Kt(this),this.blendEquation=new er(this),this.cullFace=new tr(this),this.cullFaceSide=new rr(this),this.frontFace=new nr(this),this.program=new ir(this),this.activeTexture=new ar(this),this.viewport=new or(this),this.bindFramebuffer=new sr(this),this.bindRenderbuffer=new lr(this),this.bindTexture=new ur(this),this.bindVertexBuffer=new cr(this),this.bindElementBuffer=new dr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new hr(this),this.pixelStoreUnpack=new pr(this),this.pixelStoreUnpackPremultiplyAlpha=new mr(this),this.pixelStoreUnpackFlipY=new fr(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new Dt(this,e,t)}createVertexBuffer(e,t,r){return new Rt(this,e,t,r)}createRenderbuffer(e,t,r){const n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,r){return new _r(this,e,t,r)}clear({color:e,depth:t}){const r=this.gl;let n=0;e&&(n|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(n|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),r.clear(n)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){i(e.blendFunction,br.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class wr{constructor(e,t,r){this.func=e,this.mask=t,this.range=r}}wr.ReadOnly=!1,wr.ReadWrite=!0,wr.disabled=new wr(519,wr.ReadOnly,[0,1]);const Tr=7680;class Sr{constructor(e,t,r,n,i,a){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=a}}Sr.disabled=new Sr({func:519,mask:0},0,0,Tr,Tr,Tr);class kr{constructor(e,t,r){this.enable=e,this.mode=t,this.frontFace=r}}let Cr;function Lr(t,r,n,i,a,o,s){const l=t.context,u=l.gl,c=t.useProgram("collisionBox"),d=[];let h=0,p=0;for(let m=0;m<i.length;m++){const f=i[m],y=r.getTile(f),g=y.getBucket(n);if(!g)continue;let v=f.posMatrix;0===a[0]&&0===a[1]||(v=t.translatePosMatrix(f.posMatrix,y,a,o));const _=s?g.textCollisionBox:g.iconCollisionBox,b=g.collisionCircleArray;if(b.length>0){const r=e.create(),n=v;e.mul(r,g.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(r,r,g.placementViewportMatrix),d.push({circleArray:b,circleOffset:p,transform:n,invTransform:r,coord:f}),h+=b.length/4,p=h}_&&c.draw(l,u.LINES,wr.disabled,Sr.disabled,t.colorModeForRenderPass(),kr.disabled,yt(v,t.transform,y),t.style.terrain&&t.style.terrain.getTerrainData(f),n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,t.transform.zoom,null,null,_.collisionVertexBuffer)}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),f=new e.CollisionCircleLayoutArray;f.resize(4*h),f._trim();let y=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const r=4*t,n=e.circleArray[r+0],i=e.circleArray[r+1],a=e.circleArray[r+2],o=e.circleArray[r+3];f.emplace(y++,n,i,a,o,0),f.emplace(y++,n,i,a,o,1),f.emplace(y++,n,i,a,o,2),f.emplace(y++,n,i,a,o,3)}(!Cr||Cr.length<2*h)&&(Cr=function(t){const r=2*t,n=new e.QuadTriangleArray;n.resize(r),n._trim();for(let e=0;e<r;e++){const t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(h));const g=l.createIndexBuffer(Cr,!0),v=l.createVertexBuffer(f,e.collisionCircleLayout.members,!0);for(const r of d){const i={u_matrix:r.transform,u_inv_matrix:r.invTransform,u_camera_to_center_distance:(_=t.transform).cameraToCenterDistance,u_viewport_size:[_.width,_.height]};m.draw(l,u.TRIANGLES,wr.disabled,Sr.disabled,t.colorModeForRenderPass(),kr.disabled,i,t.style.terrain&&t.style.terrain.getTerrainData(r.coord),n.id,v,g,e.SegmentVector.simpleSegment(0,2*r.circleOffset,r.circleArray.length,r.circleArray.length/2),null,t.transform.zoom,null,null,null)}var _;v.destroy(),g.destroy()}kr.disabled=new kr(!1,1029,2305),kr.backCCW=new kr(!0,1029,2305);const Nr=e.identity(new Float32Array(16));function Ar(t,r,n,i,a,o){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),u=-(s-.5)*r,c=-(l-.5)*n,d=e.evaluateVariableOffset(t,i);return new e.pointGeometry((u/a+d[0])*o,(c/a+d[1])*o)}function Or(t,r,n,i,a,o,s,l,u,c,d){const h=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,f={};p.clear();for(let m=0;m<h.length;m++){const y=h.get(m),g=t.allowVerticalPlacement&&!y.placedOrientation,v=y.hidden||!y.crossTileID||g?null:i[y.crossTileID];if(v){const i=new e.pointGeometry(y.anchorX,y.anchorY),h=se(i,n?s:o,d),m=le(a.cameraToCenterDistance,h.signedDistanceFromCamera);let g=e.evaluateSizeForFeature(t.textSizeData,u,y)*m/e.ONE_EM;n&&(g*=t.tilePixelRatio/l);const{width:_,height:b,anchor:x,textOffset:w,textBoxScale:T}=v,S=Ar(x,_,b,w,T,g),k=n?se(i.add(S),o,d).point:h.point.add(r?S.rotate(-a.angle):S),C=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<y.numGlyphs;t++)e.addDynamicAttributes(p,k,C);c&&y.associatedIconIndex>=0&&(f[y.associatedIconIndex]={shiftedAnchor:k,angle:C})}else ge(y.numGlyphs,p)}if(c){m.clear();const r=t.icon.placedSymbolArray;for(let t=0;t<r.length;t++){const n=r.get(t);if(n.hidden)ge(n.numGlyphs,m);else{const r=f[t];if(r)for(let t=0;t<n.numGlyphs;t++)e.addDynamicAttributes(m,r.shiftedAnchor,r.angle);else ge(n.numGlyphs,m)}}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function Er(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Pr(t,r,n,i,a,o,s,l,u,c,d,h){const p=t.context,m=p.gl,f=t.transform,y="map"===l,g="map"===u,v="viewport"!==l&&"point"!==n.layout.get("symbol-placement"),_=y&&!g&&!v,b=!n.layout.get("symbol-sort-key").isConstant();let x=!1;const w=t.depthModeForSublayer(0,wr.ReadOnly),T=n.layout.get("text-variable-anchor"),S=[];for(const l of i){const i=r.getTile(l),u=i.getBucket(n);if(!u)continue;const d=a?u.text:u.icon;if(!d||!d.segments.get().length)continue;const h=d.programConfigurations.get(n.id),p=a||u.sdfIcons,w=a?u.textSizeData:u.iconSizeData,k=g||0!==f.pitch,C=t.useProgram(Er(p,a,u),h),L=e.evaluateSizeForZoom(w,f.zoom),N=t.style.terrain&&t.style.terrain.getTerrainData(l);let A,O,E,P,M=[0,0],I=null;if(a){if(O=i.glyphAtlasTexture,E=m.LINEAR,A=i.glyphAtlasTexture.size,u.iconsInText){M=i.imageAtlasTexture.size,I=i.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;P=k||t.options.rotating||t.options.zooming||e?m.LINEAR:m.NEAREST}}else{const e=1!==n.layout.get("icon-size").constantOr(0)||u.iconsNeedLinear;O=i.imageAtlasTexture,E=p||t.options.rotating||t.options.zooming||e||k?m.LINEAR:m.NEAREST,A=i.imageAtlasTexture.size}const D=xe(i,1,t.transform.zoom),z=ae(l.posMatrix,g,y,t.transform,D),R=oe(l.posMatrix,g,y,t.transform,D),F=T&&u.hasTextData(),B="none"!==n.layout.get("icon-text-fit")&&F&&u.hasIconData();if(v){const e=t.style.terrain?(e,r)=>t.style.terrain.getElevation(l,e,r):null,r="map"===n.layout.get("text-rotation-alignment");ce(u,l.posMatrix,t,a,z,R,g,c,r,e)}const j=t.translatePosMatrix(l.posMatrix,i,o,s),U=v||a&&T||B?Nr:z,V=t.translatePosMatrix(R,i,o,s,!0),W=p&&0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1);let q;q=p?u.iconsInText?Et(w.kind,L,_,g,t,j,U,V,A,M):Ot(w.kind,L,_,g,t,j,U,V,a,A,!0):At(w.kind,L,_,g,t,j,U,V,a,A);const G={program:C,buffers:d,uniformValues:q,atlasTexture:O,atlasTextureIcon:I,atlasInterpolation:E,atlasInterpolationIcon:P,isSDF:p,hasHalo:W};if(b&&u.canOverlap){x=!0;const t=d.segments.get();for(const r of t)S.push({segments:new e.SegmentVector([r]),sortKey:r.sortKey,state:G,terrainData:N})}else S.push({segments:d.segments,sortKey:0,state:G,terrainData:N})}x&&S.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of S){const r=e.state;if(p.activeTexture.set(m.TEXTURE0),r.atlasTexture.bind(r.atlasInterpolation,m.CLAMP_TO_EDGE),r.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),r.isSDF){const i=r.uniformValues;r.hasHalo&&(i.u_is_halo=1,Mr(r.buffers,e.segments,n,t,r.program,w,d,h,i,e.terrainData)),i.u_is_halo=0}Mr(r.buffers,e.segments,n,t,r.program,w,d,h,r.uniformValues,e.terrainData)}}function Mr(e,t,r,n,i,a,o,s,l,u){const c=n.context;i.draw(c,c.gl.TRIANGLES,a,o,s,kr.disabled,l,u,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Ir(e,t,r,n,i,a,o){const s=e.context.gl,l=r.paint.get("fill-pattern"),u=l&&l.constantOr(1),c=r.getCrossfadeParameters();let d,h,p,m,f;o?(h=u&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=s.LINES):(h=u?"fillPattern":"fill",d=s.TRIANGLES);for(const y of n){const n=t.getTile(y);if(u&&!n.patternsLoaded())continue;const g=n.getBucket(r);if(!g)continue;const v=g.programConfigurations.get(r.id),_=e.useProgram(h,v),b=e.style.terrain&&e.style.terrain.getTerrainData(y);u&&(e.context.activeTexture.set(s.TEXTURE0),n.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),v.updatePaintBuffers(c));const x=l.constantOr(null);if(x&&n.imageAtlas){const e=n.imageAtlas,t=e.patternPositions[x.to.toString()],r=e.patternPositions[x.from.toString()];t&&r&&v.setConstantPatternPositions(t,r)}const w=b?y:null,T=e.translatePosMatrix(w?w.posMatrix:y.posMatrix,n,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(o){m=g.indexBuffer2,f=g.segments2;const t=[s.drawingBufferWidth,s.drawingBufferHeight];p="fillOutlinePattern"===h&&u?mt(T,e,c,n,t):pt(T,t)}else m=g.indexBuffer,f=g.segments,p=u?ht(T,e,c,n):dt(T);_.draw(e.context,d,i,e.stencilModeForClipping(y),a,kr.disabled,p,b,r.id,g.layoutVertexBuffer,m,f,r.paint,e.transform.zoom,v)}}function Dr(e,t,r,n,i,a,o){const s=e.context,l=s.gl,u=r.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),d=r.getCrossfadeParameters(),h=r.paint.get("fill-extrusion-opacity");for(const p of n){const n=t.getTile(p),m=n.getBucket(r);if(!m)continue;const f=e.style.terrain&&e.style.terrain.getTerrainData(p),y=m.programConfigurations.get(r.id),g=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(e.context.activeTexture.set(l.TEXTURE0),n.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(d));const v=u.constantOr(null);if(v&&n.imageAtlas){const e=n.imageAtlas,t=e.patternPositions[v.to.toString()],r=e.patternPositions[v.from.toString()];t&&r&&y.setConstantPatternPositions(t,r)}const _=e.translatePosMatrix(p.posMatrix,n,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),b=r.paint.get("fill-extrusion-vertical-gradient"),x=c?ct(_,e,b,h,p,d,n):ut(_,e,b,h);g.draw(s,s.gl.TRIANGLES,i,a,o,kr.backCCW,x,f,r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,r.paint,e.transform.zoom,y,e.style.terrain&&m.centroidVertexBuffer)}}function zr(e,t,r,n,i,a,o){const s=e.context,l=s.gl,u=r.fbo;if(!u)return;const c=e.useProgram("hillshade"),d=e.style.terrain&&e.style.terrain.getTerrainData(t);s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get()),c.draw(s,l.TRIANGLES,i,a,o,kr.disabled,((e,t,r,n)=>{const i=r.paint.get("hillshade-shadow-color"),a=r.paint.get("hillshade-highlight-color"),o=r.paint.get("hillshade-accent-color");let s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:n?n.posMatrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:bt(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:a,u_accent:o}})(e,r,n,d?t:null),d,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function Rr(t,r,n,i,a,o){const s=t.context,u=s.gl,c=r.dem;if(c&&c.data){const d=c.dim,h=c.stride,p=c.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(h),r.demTexture){const e=r.demTexture;e.update(p,{premultiply:!1}),e.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else r.demTexture=new l(s,p,u.RGBA,{premultiply:!1}),r.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);let m=r.fbo;if(!m){const e=new l(s,{width:d,height:d,data:null},u.RGBA);e.bind(u.LINEAR,u.CLAMP_TO_EDGE),m=r.fbo=s.createFramebuffer(d,d,!0),m.colorAttachment.set(e.texture)}s.bindFramebuffer.set(m.framebuffer),s.viewport.set([0,0,d,d]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,a,o,kr.disabled,((t,r)=>{const n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.getUnpackVector()}})(r.tileID,c),null,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function Fr(t,r,n,i,a,o){const s=i.paint.get("raster-fade-duration");if(!o&&s>0){const i=e.exported.now(),o=(i-t.timeAdded)/s,l=r?(i-r.timeAdded)/s:-1,u=n.getSource(),c=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),d=!r||Math.abs(r.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),h=d&&t.refreshedUponExpiration?1:e.clamp(d?o:1-l,0,1);return t.refreshedUponExpiration&&o>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}const Br=new e.Color(1,0,0,1),jr=new e.Color(0,1,0,1),Ur=new e.Color(0,0,1,1),Vr=new e.Color(1,0,1,1),Wr=new e.Color(0,1,1,1);function qr(e,t,r,n){Zr(e,0,t+r/2,e.transform.width,r,n)}function Gr(e,t,r,n){Zr(e,t-r/2,0,r,e.transform.height,n)}function Zr(e,t,r,n,i,a){const o=e.context,s=o.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,r*e.pixelRatio,n*e.pixelRatio,i*e.pixelRatio),o.clear({color:a}),s.disable(s.SCISSOR_TEST)}function $r(t,r,n){const i=t.context,a=i.gl,o=n.posMatrix,s=t.useProgram("debug"),l=wr.disabled,u=Sr.disabled,c=t.colorModeForRenderPass(),d="$debug",h=t.style.terrain&&t.style.terrain.getTerrainData(n);i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const p=r.getTileByID(n.key).latestRawTileData,m=Math.floor((p&&p.byteLength||0)/1024),f=r.getTile(n).tileSize,y=512/Math.min(f,512)*(n.overscaledZ/t.transform.zoom)*.5;let g=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(g+=` => ${n.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();const r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,`${g} ${m}kB`),s.draw(i,a.TRIANGLES,l,u,br.alphaBlended,kr.disabled,gt(o,e.Color.transparent,y),null,d,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments),s.draw(i,a.LINE_STRIP,l,u,c,kr.disabled,gt(o,e.Color.red),h,d,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments)}function Yr(e,t,r){const n=e.context,i=n.gl,a=e.colorModeForRenderPass(),o=new wr(i.LEQUAL,wr.ReadWrite,e.depthRangeFor3D),s=e.useProgram("terrain"),l=t.getTerrainMesh(),u=t.getTerrainData(r.tileID);n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height]),n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.getRTTFramebuffer().colorAttachment.get());const c=e.transform.calculatePosMatrix(r.tileID.toUnwrapped());s.draw(n,i.TRIANGLES,o,Sr.disabled,a,kr.backCCW,{u_matrix:c,u_texture:0},u,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}function Hr(e,t,r,n){const i=e.context,a=r.tileSize*t.qualityFactor;r.textures[n]||(r.textures[n]=e.getTileTexture(a)||new l(i,{width:a,height:a,data:null},i.gl.RGBA),r.textures[n].bind(i.gl.LINEAR,i.gl.CLAMP_TO_EDGE),0===n&&t.sourceCache.renderHistory.unshift(r.tileID.key));const o=t.getRTTFramebuffer();o.colorAttachment.set(r.textures[n].texture),i.bindFramebuffer.set(o.framebuffer),i.viewport.set([0,0,a,a])}class Jr{constructor(e){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=e,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=e.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const e=this.painter.style,t=e.terrain;for(const r in e.sourceCaches){this._coordsDescendingInv[r]={};const n=e.sourceCaches[r].getVisibleCoordinates();for(const e of n){const n=t.sourceCache.getTerrainCoords(e);for(const e in n)this._coordsDescendingInv[r][e]||(this._coordsDescendingInv[r][e]=[]),this._coordsDescendingInv[r][e].push(n[e])}}for(const t of e._order){const r=e._layers[t],n=r.source;if(this._renderToTexture[r.type]&&!this._coordsDescendingInvStr[n]){this._coordsDescendingInvStr[n]={};for(const e in this._coordsDescendingInv[n])this._coordsDescendingInvStr[n][e]=this._coordsDescendingInv[n][e].map((e=>e.key)).sort().join()}}return this._renderableTiles.forEach((e=>{for(const r in this._coordsDescendingInvStr){const n=this._coordsDescendingInvStr[r][e.tileID.key];n&&n!==e.textureCoords[r]&&e.clearTextures(this.painter),t.needsRerender(r,e.tileID)&&e.clearTextures(this.painter)}this._rerender[e.tileID.key]=!e.textures.length})),t.clearRerenderCache(),t.sourceCache.removeOutdated(this.painter),this}renderLayer(t){const r=t.type,n=this.painter,i=n.style._order,a=n.currentLayer,o=a+1===i.length;if(this._renderToTexture[r]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=r,this._stacks[this._stacks.length-1].push(i[a]),!o))return!0;if(this._renderToTexture[this._prevType]||"hillshade"===r||this._renderToTexture[r]&&o){this._prevType=r;const o=this._stacks.length-1,s=this._stacks[o]||[];for(const t of this._renderableTiles){if(Hr(n,n.style.terrain,t,o),this._rerender[t.tileID.key]){n.context.clear({color:e.Color.transparent});for(let e=0;e<s.length;e++){const r=n.style._layers[s[e]],i=r.source?this._coordsDescendingInv[r.source][t.tileID.key]:[t.tileID];n._renderTileClippingMasks(r,i),n.renderLayer(n,n.style.sourceCaches[r.source],r,i),r.source&&(t.textureCoords[r.source]=this._coordsDescendingInvStr[r.source][t.tileID.key])}}Yr(n,n.style.terrain,t)}if("hillshade"===r){this._stacks.push([i[a]]);for(const r of this._renderableTiles){const i=this._coordsDescendingInv[t.source][r.tileID.key];Hr(n,n.style.terrain,r,this._stacks.length-1),n.context.clear({color:e.Color.transparent}),n._renderTileClippingMasks(t,i),n.renderLayer(n,n.style.sourceCaches[t.source],t,i),Yr(n,n.style.terrain,r)}return!0}return this._renderToTexture[r]}return!1}}const Xr={symbol:function(t,r,n,i,a){if("translucent"!==t.renderPass)return;const o=Sr.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,a,o,s){const l=r.transform,u="map"===a,c="map"===o;for(const a of t){const t=i.getTile(a),o=t.getBucket(n);if(!o||!o.text||!o.text.segments.get().length)continue;const d=e.evaluateSizeForZoom(o.textSizeData,l.zoom),h=xe(t,1,r.transform.zoom),p=ae(a.posMatrix,c,u,r.transform,h),m="none"!==n.layout.get("icon-text-fit")&&o.hasIconData();if(d){const e=Math.pow(2,l.zoom-t.tileID.overscaledZ);Or(o,u,c,s,l,p,a.posMatrix,e,d,m,r.style.terrain?(e,t)=>r.style.terrain.getElevation(a,e,t):null)}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),a),0!==n.paint.get("icon-opacity").constantOr(1)&&Pr(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,s),0!==n.paint.get("text-opacity").constantOr(1)&&Pr(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,s),r.map.showCollisionBoxes&&(Lr(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Lr(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(t,r,n,i){if("translucent"!==t.renderPass)return;const a=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=!n.layout.get("circle-sort-key").isConstant();if(0===a.constantOr(1)&&(0===o.constantOr(1)||0===s.constantOr(1)))return;const u=t.context,c=u.gl,d=t.depthModeForSublayer(0,wr.ReadOnly),h=Sr.disabled,p=t.colorModeForRenderPass(),m=[];for(let a=0;a<i.length;a++){const o=i[a],s=r.getTile(o),u=s.getBucket(n);if(!u)continue;const c=u.programConfigurations.get(n.id),d=t.useProgram("circle",c),h=u.layoutVertexBuffer,p=u.indexBuffer,f=t.style.terrain&&t.style.terrain.getTerrainData(o),y={programConfiguration:c,program:d,layoutVertexBuffer:h,indexBuffer:p,uniformValues:ft(t,o,s,n),terrainData:f};if(l){const t=u.segments.get();for(const r of t)m.push({segments:new e.SegmentVector([r]),sortKey:r.sortKey,state:y})}else m.push({segments:u.segments,sortKey:0,state:y})}l&&m.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of m){const{programConfiguration:r,program:i,layoutVertexBuffer:a,indexBuffer:o,uniformValues:s,terrainData:l}=e.state;i.draw(u,c.TRIANGLES,d,h,p,kr.disabled,s,l,n.id,a,o,e.segments,n.paint,t.transform.zoom,r)}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const a=t.context,o=a.gl,s=Sr.disabled,l=new br([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){const n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let i=r.heatmapFbo;if(i)n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{const a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),i=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,r,n){const i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,t,a,i)}}(a,t,n),a.clear({color:e.Color.transparent});for(let e=0;e<i.length;e++){const u=i[e];if(r.hasRenderableParent(u))continue;const c=r.getTile(u),d=c.getBucket(n);if(!d)continue;const h=d.programConfigurations.get(n.id),p=t.useProgram("heatmap",h),{zoom:m}=t.transform;p.draw(a,o.TRIANGLES,wr.disabled,s,l,kr.disabled,_t(u.posMatrix,c,m,n.paint.get("heatmap-intensity")),null,n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,t.transform.zoom,h)}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){const n=t.context,i=n.gl,a=r.heatmapFbo;if(!a)return;n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);let o=r.colorRampTexture;o||(o=r.colorRampTexture=new l(n,r.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,wr.disabled,Sr.disabled,t.colorModeForRenderPass(),kr.disabled,((t,r,n,i)=>{const a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);const o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:r.paint.get("heatmap-opacity")}})(t,r),null,r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}(t,n))},line:function(t,r,n,i){if("translucent"!==t.renderPass)return;const a=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0===a.constantOr(1)||0===o.constantOr(1))return;const s=t.depthModeForSublayer(0,wr.ReadOnly),u=t.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),d=n.paint.get("line-pattern"),h=d.constantOr(1),p=n.paint.get("line-gradient"),m=n.getCrossfadeParameters(),f=h?"linePattern":c?"lineSDF":p?"lineGradient":"line",y=t.context,g=y.gl;let v=!0;for(const a of i){const i=r.getTile(a);if(h&&!i.patternsLoaded())continue;const o=i.getBucket(n);if(!o)continue;const _=o.programConfigurations.get(n.id),b=t.context.program.get(),x=t.useProgram(f,_),w=v||x.program!==b,T=t.style.terrain&&t.style.terrain.getTerrainData(a),S=d.constantOr(null);if(S&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[S.to.toString()],r=e.patternPositions[S.from.toString()];t&&r&&_.setConstantPatternPositions(t,r)}const k=T?a:null,C=h?Tt(t,i,n,m,k):c?St(t,i,n,c,m,k):p?wt(t,i,n,o.lineClipsArray.length,k):xt(t,i,n,k);if(h)y.activeTexture.set(g.TEXTURE0),i.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),_.updatePaintBuffers(m);else if(c&&(w||t.lineAtlas.dirty))y.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(y);else if(p){const i=o.gradients[n.id];let s=i.texture;if(n.gradientVersion!==i.version){let u=256;if(n.stepInterpolant){const n=r.getSource().maxzoom,i=a.canonical.z===n?Math.ceil(1<<t.transform.maxZoom-a.canonical.z):1;u=e.clamp(e.nextPowerOfTwo(o.maxLineLength/e.EXTENT*1024*i),256,y.maxTextureSize)}i.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:u,image:i.gradient||void 0,clips:o.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new l(y,i.gradient,g.RGBA),i.version=n.gradientVersion,s=i.texture}y.activeTexture.set(g.TEXTURE0),s.bind(n.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}x.draw(y,g.TRIANGLES,s,t.stencilModeForClipping(a),u,kr.disabled,C,T,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,n.paint,t.transform.zoom,_,o.layoutVertexBuffer2),v=!1}},fill:function(t,r,n,i){const a=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0===o.constantOr(1))return;const s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){const e=t.depthModeForSublayer(1,"opaque"===t.renderPass?wr.ReadWrite:wr.ReadOnly);Ir(t,r,n,i,e,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){const e=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,wr.ReadOnly);Ir(t,r,n,i,e,s,!0)}},"fill-extrusion":function(e,t,r,n){const i=r.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){const a=new wr(e.context.gl.LEQUAL,wr.ReadWrite,e.depthRangeFor3D);if(1!==i||r.paint.get("fill-extrusion-pattern").constantOr(1))Dr(e,t,r,n,a,Sr.disabled,br.disabled),Dr(e,t,r,n,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const i=e.colorModeForRenderPass();Dr(e,t,r,n,a,Sr.disabled,i)}}},hillshade:function(e,t,r,n){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const i=e.context,a=e.depthModeForSublayer(0,wr.ReadOnly),o=e.colorModeForRenderPass(),[s,l]="translucent"===e.renderPass?e.stencilConfigForOverlap(n):[{},n];for(const n of l){const i=t.getTile(n);void 0!==i.needsHillshadePrepare&&i.needsHillshadePrepare&&"offscreen"===e.renderPass?Rr(e,i,r,a,Sr.disabled,o):"translucent"===e.renderPass&&zr(e,n,i,r,a,s[n.overscaledZ],o)}i.viewport.set([0,0,e.width,e.height])},raster:function(e,t,r,n){if("translucent"!==e.renderPass)return;if(0===r.paint.get("raster-opacity"))return;if(!n.length)return;const i=e.context,a=i.gl,o=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),[u,c]=o instanceof N?[{},n]:e.stencilConfigForOverlap(n),d=c[c.length-1].overscaledZ,h=!e.options.moving;for(const n of c){const c=e.depthModeForSublayer(n.overscaledZ-d,1===r.paint.get("raster-opacity")?wr.ReadWrite:wr.ReadOnly,a.LESS),p=t.getTile(n);p.registerFadeDuration(r.paint.get("raster-fade-duration"));const m=t.findLoadedParent(n,0),f=Fr(p,m,t,r,e.transform,e.style.terrain);let y,g;const v="nearest"===r.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;i.activeTexture.set(a.TEXTURE0),p.texture.bind(v,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(a.TEXTURE1),m?(m.texture.bind(v,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),y=Math.pow(2,m.tileID.overscaledZ-p.tileID.overscaledZ),g=[p.tileID.canonical.x*y%1,p.tileID.canonical.y*y%1]):p.texture.bind(v,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const _=e.style.terrain&&e.style.terrain.getTerrainData(n),b=_?n:null,x=b?b.posMatrix:e.transform.calculatePosMatrix(n.toUnwrapped(),h),w=Lt(x,g||[0,0],y||1,f,r);o instanceof N?s.draw(i,a.TRIANGLES,c,Sr.disabled,l,kr.disabled,w,_,r.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(i,a.TRIANGLES,c,u[n.overscaledZ],l,kr.disabled,w,_,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r,n){const i=r.paint.get("background-color"),a=r.paint.get("background-opacity");if(0===a)return;const o=e.context,s=o.gl,l=e.transform,u=l.tileSize,c=r.paint.get("background-pattern");if(e.isPatternMissing(c))return;const d=!c&&1===i.a&&1===a&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==d)return;const h=Sr.disabled,p=e.depthModeForSublayer(0,"opaque"===d?wr.ReadWrite:wr.ReadOnly),m=e.colorModeForRenderPass(),f=e.useProgram(c?"backgroundPattern":"background"),y=n||l.coveringTiles({tileSize:u,terrain:e.style.terrain});c&&(o.activeTexture.set(s.TEXTURE0),e.imageManager.bind(e.context));const g=r.getCrossfadeParameters();for(const t of y){const l=n?t.posMatrix:e.transform.calculatePosMatrix(t.toUnwrapped()),d=c?Mt(l,a,e,c,{tileID:t,tileSize:u},g):Pt(l,a,i),y=e.style.terrain&&e.style.terrain.getTerrainData(t);f.draw(o,s.TRIANGLES,p,h,m,kr.disabled,d,y,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},debug:function(e,t,r){for(let n=0;n<r.length;n++)$r(e,t,r[n])},custom:function(e,t,r){const n=e.context,i=r.implementation;if("offscreen"===e.renderPass){const t=i.prerender;t&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),t.call(i,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Sr.disabled);const t="3d"===i.renderingMode?new wr(e.context.gl.LEQUAL,wr.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,wr.ReadOnly);n.setDepthMode(t),i.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}};class Qr{constructor(t,r){this.context=new xr(t),this.transform=r,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:e.create(),renderTime:0},this.setup(),this.numSublayers=F.maxUnderzooming+F.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $e,this.gpuTimers={}}resize(e,t,r){if(this.width=e*r,this.height=t*r,this.pixelRatio=r,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize()}setup(){const t=this.context,r=new e.PosArray;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Ye.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.PosArray;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Ye.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const i=new e.RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,L.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.PosArray;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,Ye.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.LineStripIndexArray;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);const s=new e.TriangleIndexArray;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new l(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);const u=this.context.gl;this.stencilClearMode=new Sr({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)}clearStencil(){const t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,wr.disabled,this.stencilClearMode,br.disabled,kr.disabled,vt(n),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source;const r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(br.disabled),r.setDepthMode(wr.disabled);const i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of t){const t=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,a=this.style.terrain&&this.style.terrain.getTerrainData(e);i.draw(r,n.TRIANGLES,wr.disabled,new Sr({func:n.ALWAYS,mask:0},t,255,n.KEEP,n.KEEP,n.REPLACE),br.disabled,kr.disabled,vt(e.posMatrix),a,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Sr({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new Sr({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,r=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),n=r[r.length-1].overscaledZ,i=r[0].overscaledZ-n+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();const e={};for(let r=0;r<i;r++)e[r+n]=new Sr({func:t.GEQUAL,mask:255},r+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[e,r]}return[{[n]:Sr.disabled},r]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const r=1/8;return new br([t.CONSTANT_COLOR,t.ONE],new e.Color(r,r,r,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?br.unblended:br.alphaBlended}depthModeForSublayer(e,t,r){if(!this.opaquePassEnabledForLayer())return wr.disabled;const n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new wr(r||this.context.gl.LEQUAL,t,[n,n])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,r){this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const n=this.style._order,i=this.style.sourceCaches,a=this.style.terrain&&new Jr(this);for(const e in i){const t=i[e];t.used&&t.prepare(this.context)}const o={},s={},l={};for(const e in i){const t=i[e];o[e]=t.getVisibleCoordinates(),s[e]=o[e].slice().reverse(),l[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<n.length;e++)if(this.style._layers[n[e]].is3D()){this.opaquePassCutoff=e;break}if(a){this.opaquePassCutoff=0;const t=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!e.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||t.length)&&(e.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(t,r){const n=t.context,i=n.gl,a=br.unblended,o=new wr(i.LEQUAL,wr.ReadWrite,[0,1]),s=r.getTerrainMesh(),l=r.sourceCache.getRenderableTiles(),u=t.useProgram("terrainDepth");n.bindFramebuffer.set(r.getFramebuffer("depth").framebuffer),n.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),n.clear({color:e.Color.transparent,depth:1});for(const e of l){const l=r.getTerrainData(e.tileID),c=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());u.draw(n,i.TRIANGLES,o,Sr.disabled,a,kr.backCCW,{u_matrix:c},l,"terrain",s.vertexBuffer,s.indexBuffer,s.segments)}n.bindFramebuffer.set(null),n.viewport.set([0,0,t.width,t.height])}(this,this.style.terrain),function(t,r){const n=t.context,i=n.gl,a=br.unblended,o=new wr(i.LEQUAL,wr.ReadWrite,[0,1]),s=r.getTerrainMesh(),l=r.getCoordsTexture(),u=r.sourceCache.getRenderableTiles(),c=t.useProgram("terrainCoords");n.bindFramebuffer.set(r.getFramebuffer("coords").framebuffer),n.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),n.clear({color:e.Color.transparent,depth:1}),r.coordsIndex=[];for(const e of u){const u=r.getTerrainData(e.tileID);n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture);const d=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());c.draw(n,i.TRIANGLES,o,Sr.disabled,a,kr.backCCW,{u_matrix:d,u_terrain_coords_id:(255-r.coordsIndex.length)/255,u_texture:0},u,"terrain",s.vertexBuffer,s.indexBuffer,s.segments),r.coordsIndex.push(e.tileID.key)}n.bindFramebuffer.set(null),n.viewport.set([0,0,t.width,t.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const e of n){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const r=s[t.source];("custom"===t.type||r.length)&&this.renderLayer(this,i[t.source],t,r)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!a)for(this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[n[this.currentLayer]],t=i[e.source],r=o[e.source];this._renderTileClippingMasks(e,r),this.renderLayer(this,t,e,r)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const e=this.style._layers[n[this.currentLayer]],t=i[e.source];if(a&&a.renderLayer(e))continue;const r=("symbol"===e.type?l:s)[e.source];this._renderTileClippingMasks(e,o[e.source]),this.renderLayer(this,t,e,r)}if(this.options.showTileBoundaries){let e,t;Object.values(this.style._layers).forEach((r=>{r.source&&!r.isHidden(this.transform.zoom)&&(r.source!==(t&&t.id)&&(t=this.style.sourceCaches[r.source]),(!e||e.getSource().maxzoom<t.getSource().maxzoom)&&(e=t))})),e&&Xr.debug(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;qr(e,e.transform.height-(t.top||0),3,Br),qr(e,t.bottom||0,3,jr),Gr(e,t.left||0,3,Ur),Gr(e,e.transform.width-(t.right||0),3,Vr);const r=e.transform.centerPoint;!function(e,t,r,n){Zr(e,t-1,r-10,2,20,n),Zr(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,Wr)}(this),this.context.setDefault()}renderLayer(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||(n||[]).length)&&(this.id=r.id,this.gpuTimingStart(r),Xr[r.type](e,t,r,n,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const r in e){const n=e[r],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=a}return t}translatePosMatrix(t,r,n,i,a){if(!n[0]&&!n[1])return t;const o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){const e=Math.sin(o),t=Math.cos(o);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}const s=[a?n[0]:xe(r,n[0],this.transform.zoom),a?n[1]:xe(r,n[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r}useProgram(e,t){this.cache=this.cache||{};const r=e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[r]||(this.cache[r]=new st(this.context,e,nt[e],t,It[e],this._showOverdrawInspector,this.style.terrain)),this.cache[r]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new l(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Kr{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,r,n){const i=Math.pow(2,n),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{const a=1/(n=e.transformMat4([],n,t))[3]/r*i;return e.mul$1(n,n,[a,a,1/n[3],a])})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const r=e.sub([],a[t[0]],a[t[1]]),n=e.sub([],a[t[2]],a[t[1]]),i=e.normalize([],e.cross([],r,n)),o=-e.dot(i,a[t[1]]);return i.concat(o)}));return new Kr(a,o)}}class en{constructor(t,r){this.min=t,this.max=r,this.center=e.scale$1([],e.add([],this.min,this.max),.5)}quadrant(t){const r=[t%2==0,t<2],n=e.clone$2(this.min),i=e.clone$2(this.max);for(let e=0;e<r.length;e++)n[e]=r[e]?this.min[e]:this.center[e],i[e]=r[e]?this.center[e]:this.max[e];return i[2]=this.max[2],new en(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(t){const r=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let i=0;i<t.planes.length;i++){const a=t.planes[i];let o=0;for(let t=0;t<r.length;t++)e.dot$1(a,r[t])>=0&&o++;if(0===o)return 0;o!==r.length&&(n=!1)}if(n)return 2;for(let e=0;e<3;e++){let r=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const a=t.points[i][e]-this.min[e];r=Math.min(r,a),n=Math.max(n,a)}if(n<0||r>this.max[e]-this.min[e])return 0}return 1}}class tn{constructor(e=0,t=0,r=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n}interpolate(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this}getCenter(t,r){const n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.pointGeometry(n,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new tn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class rn{constructor(t,r,n,i,a){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=void 0===a||!!a,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new tn,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const e=new rn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e._elevation=this._elevation,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const r=-e.wrap(t,-180,180)*Math.PI/180;var n;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);e[0]=n*l+a*s,e[1]=i*l+o*s,e[2]=n*-s+a*l,e[3]=i*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){const n=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),a=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),o=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(n.x,i.x,a.x,o.x)),l=Math.floor(Math.max(n.x,i.x,a.x,o.x)),u=1;for(let n=s-u;n<=l+u;n++)0!==n&&r.push(new e.UnwrappedTileID(n,t))}return r}coveringTiles(t){var r,n;let i=this.coveringZoomLevel(t);const a=i;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const o=this.pointCoordinate(this.getCameraPoint()),s=e.MercatorCoordinate.fromLngLat(this.center),l=Math.pow(2,i),u=[l*o.x,l*o.y,0],c=[l*s.x,l*s.y,0],d=Kr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i);let h=t.minzoom||0;!t.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(h=i);const p=t.terrain?2/Math.min(this.tileSize,t.tileSize)*this.tileSize:3,m=e=>({aabb:new en([e*l,0,0],[(e+1)*l,l,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),f=[],y=[],g=i,v=t.reparseOverscaled?a:i;if(this._renderWorldCopies)for(let e=1;e<=3;e++)f.push(m(-e)),f.push(m(e));for(f.push(m(0));f.length>0;){const i=f.pop(),a=i.x,o=i.y;let s=i.fullyVisible;if(!s){const e=i.aabb.intersects(d);if(0===e)continue;s=2===e}const l=t.terrain?u:c,m=i.aabb.distanceX(l),_=i.aabb.distanceY(l),b=Math.max(Math.abs(m),Math.abs(_)),x=p+(1<<g-i.zoom)-2;if(i.zoom===g||b>x&&i.zoom>=h){const t=g-i.zoom,r=u[0]-.5-(a<<t),n=u[1]-.5-(o<<t);y.push({tileID:new e.OverscaledTileID(i.zoom===g?v:i.zoom,i.wrap,i.zoom,a,o),distanceSq:e.sqrLen([c[0]-.5-a,c[1]-.5-o]),tileDistanceToCamera:Math.sqrt(r*r+n*n)})}else for(let l=0;l<4;l++){const u=(a<<1)+l%2,c=(o<<1)+(l>>1),d=i.zoom+1;let h=i.aabb.quadrant(l);if(t.terrain){const a=new e.OverscaledTileID(d,i.wrap,d,u,c),o=t.terrain.getMinMaxElevation(a),s=null!==(r=o.minElevation)&&void 0!==r?r:this.elevation,l=null!==(n=o.maxElevation)&&void 0!==n?n:this.elevation;h=new en([h.min[0],h.min[1],s],[h.max[0],h.max[1],l])}f.push({aabb:h,zoom:d,x:u,y:c,wrap:i.wrap,fullyVisible:s})}}return y.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.pointGeometry(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(e){this.freezeElevation||(this.elevation=e?this.getElevation(this._center,e):0)}getElevation(t,r){const n=e.MercatorCoordinate.fromLngLat(t),i=(1<<this.tileZoom)*e.EXTENT,a=n.x*i,o=n.y*i,s=Math.floor(a/e.EXTENT),l=Math.floor(o/e.EXTENT),u=new e.OverscaledTileID(this.tileZoom,0,this.tileZoom,s,l);return r.getElevation(u,a%e.EXTENT,o%e.EXTENT,e.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(t){const r=this.pointLocation(this.centerPoint,t),n=this.getElevation(r,t);if(!(this.elevation-n))return;const i=this.getCameraPosition(),a=e.MercatorCoordinate.fromLngLat(i.lngLat,i.altitude),o=e.MercatorCoordinate.fromLngLat(r,n),s=a.x-o.x,l=a.y-o.y,u=a.z-o.z,c=Math.sqrt(s*s+l*l+u*u),d=this.scaleZoom(this.cameraToCenterDistance/c/this.tileSize);this._elevation=n,this._center=r,this.zoom=d}setLocationAtPoint(t,r){const n=this.pointCoordinate(r),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(n.x-i.x),a.y-(n.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e,t){return t?this.coordinatePoint(this.locationCoordinate(e),this.getElevation(e,t),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e,t){return this.coordinateLocation(this.pointCoordinate(e,t))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(t,r){if(r){const e=r.pointCoordinate(t);if(null!=e)return e}const n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(i,i,this.pixelMatrixInverse);const a=n[3],o=i[3],s=n[1]/a,l=i[1]/o,u=n[2]/a,c=i[2]/o,d=u===c?0:(0-u)/(c-u);return new e.MercatorCoordinate(e.number(n[0]/a,i[0]/o,d)/this.worldSize,e.number(s,l,d)/this.worldSize)}coordinatePoint(t,r=0,n=this.pixelMatrix){const i=[t.x*this.worldSize,t.y*this.worldSize,r,1];return e.transformMat4(i,i,n),new e.pointGeometry(i[0]/i[3],i[1]/i[3])}getBounds(){const t=Math.max(0,this.height/2-this.getHorizon());return(new e.LngLatBounds).extend(this.pointLocation(new e.pointGeometry(0,t))).extend(this.pointLocation(new e.pointGeometry(this.width,t))).extend(this.pointLocation(new e.pointGeometry(this.width,this.height))).extend(this.pointLocation(new e.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t,r=!1){const n=t.key,i=r?this._alignedPosMatrixCache:this._posMatrixCache;if(i[n])return i[n];const a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*o,a.y*o,0]),e.scale(l,l,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(l,r?this.alignedProjMatrix:this.projMatrix,l),i[n]=new Float32Array(l),i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,r,n,i,a=-90,o=90,s=-180,l=180;const u=this.size,c=this._unmodified;if(this.latRange){const r=this.latRange;a=e.mercatorYfromLat(r[1])*this.worldSize,o=e.mercatorYfromLat(r[0])*this.worldSize,t=o-a<u.y?u.y/(o-a):0}if(this.lngRange){const t=this.lngRange;s=e.wrap(e.mercatorXfromLng(t[0])*this.worldSize,0,this.worldSize),l=e.wrap(e.mercatorXfromLng(t[1])*this.worldSize,0,this.worldSize),l<s&&(l+=this.worldSize),r=l-s<u.x?u.x/(l-s):0}const d=this.point,h=Math.max(r||0,t||0);if(h)return this.center=this.unproject(new e.pointGeometry(r?(l+s)/2:d.x,t?(o+a)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){const e=d.y,t=u.y/2;e-t<a&&(i=a+t),e+t>o&&(i=o-t)}if(this.lngRange){const t=(s+l)/2,r=e.wrap(d.x,t-this.worldSize/2,t+this.worldSize/2),i=u.x/2;r-i<s&&(n=s+i),r+i>l&&(n=l-i)}void 0===n&&void 0===i||(this.center=this.unproject(new e.pointGeometry(void 0!==n?n:d.x,void 0!==i?i:d.y)).wrap()),this._unmodified=c,this._constraining=!1}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,r=this.point.x,n=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let i=e.identity(new Float64Array(16));e.scale(i,i,[this.width/2,-this.height/2,1]),e.translate(i,i,[1,-1,0]),this.labelPlaneMatrix=i,i=e.identity(new Float64Array(16)),e.scale(i,i,[1,-1,1]),e.translate(i,i,[-1,-1,0]),e.scale(i,i,[2/this.width,2/this.height,1]),this.glCoordMatrix=i,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const a=Math.PI/2+this._pitch,o=this._fov*(.5+t.y/this.height),s=Math.sin(o)*this.cameraToSeaLevelDistance/Math.sin(e.clamp(Math.PI-a-o,.01,Math.PI-.01)),l=this.getHorizon(),u=2*Math.atan(l/this.cameraToCenterDistance)*(.5+t.y/(2*l)),c=Math.sin(u)*this.cameraToSeaLevelDistance/Math.sin(e.clamp(Math.PI-a-u,.01,Math.PI-.01)),d=Math.cos(Math.PI/2-this._pitch)*s+this.cameraToSeaLevelDistance,h=Math.cos(Math.PI/2-this._pitch)*c+this.cameraToSeaLevelDistance,p=1.01*Math.min(d,h),m=this.height/50;i=new Float64Array(16),e.perspective(i,this._fov,this.width/this.height,m,p),i[8]=2*-t.x/this.width,i[9]=2*t.y/this.height,e.scale(i,i,[1,-1,1]),e.translate(i,i,[0,0,-this.cameraToCenterDistance]),e.rotateX(i,i,this._pitch),e.rotateZ(i,i,this.angle),e.translate(i,i,[-r,-n,0]),this.mercatorMatrix=e.scale([],i,[this.worldSize,this.worldSize,this.worldSize]),e.scale(i,i,[1,1,this._pixelPerMeter]),this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,i),e.translate(i,i,[0,0,-this.elevation]),this.projMatrix=i,this.invProjMatrix=e.invert([],i),this.pixelMatrix3D=e.multiply(new Float64Array(16),this.labelPlaneMatrix,i);const f=this.width%2/2,y=this.height%2/2,g=Math.cos(this.angle),v=Math.sin(this.angle),_=r-Math.round(r)+g*f+v*y,b=n-Math.round(n)+g*y+v*f,x=new Float64Array(i);if(e.translate(x,x,[_>.5?_-1:_,b>.5?b-1:b,0]),this.alignedProjMatrix=x,i=e.invert(new Float64Array(16),this.pixelMatrix),!i)throw new Error("failed to invert matrix");this.pixelMatrixInverse=i,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const t=this.pointCoordinate(new e.pointGeometry(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}getCameraQueryGeometry(t){const r=this.getCameraPoint();if(1===t.length)return[t[0],r];{let n=r.x,i=r.y,a=r.x,o=r.y;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),a=Math.max(a,e.x),o=Math.max(o,e.y);return[new e.pointGeometry(n,i),new e.pointGeometry(a,i),new e.pointGeometry(a,o),new e.pointGeometry(n,o),new e.pointGeometry(n,i)]}}}class nn{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(e,t){let r=!1,n=null;const i=()=>{n=null,r&&(e(),n=setTimeout(i,300),r=!1)};return()=>(r=!0,n||i(),n)}(this._updateHashUnthrottled.bind(this))}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,n),a=Math.round(t.lng*i)/i,o=Math.round(t.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch();let u="";if(u+=e?`/${a}/${o}/${r}`:`${r}/${o}/${a}`,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let t=!1;const r=window.location.hash.slice(1).split("&").map((r=>{const n=r.split("=")[0];return n===e?(t=!0,`${n}=${u}`):r})).filter((e=>e));return t||r.push(`${e}=${u}`),`#${r.join("&")}`}return`#${u}`}_getCurrentHash(){const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some((e=>isNaN(e)))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}}}const an={linearity:.3,easing:e.bezier(0,0,.3,1)},on=e.extend({deceleration:2500,maxSpeed:1400},an),sn=e.extend({deceleration:20,maxSpeed:1400},an),ln=e.extend({deceleration:1e3,maxSpeed:360},an),un=e.extend({deceleration:1e3,maxSpeed:90},an);class cn{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,r=e.exported.now();for(;t.length>0&&r-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)r.zoom+=e.zoomDelta||0,r.bearing+=e.bearingDelta||0,r.pitch+=e.pitchDelta||0,e.panDelta&&r.pan._add(e.panDelta),e.around&&(r.around=e.around),e.pinchAround&&(r.pinchAround=e.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(r.pan.mag()){const a=hn(r.pan.mag(),n,e.extend({},on,t||{}));i.offset=r.pan.mult(a.amount/r.pan.mag()),i.center=this._map.transform.center,dn(i,a)}if(r.zoom){const e=hn(r.zoom,n,sn);i.zoom=this._map.transform.zoom+e.amount,dn(i,e)}if(r.bearing){const t=hn(r.bearing,n,ln);i.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),dn(i,t)}if(r.pitch){const e=hn(r.pitch,n,un);i.pitch=this._map.transform.pitch+e.amount,dn(i,e)}if(i.zoom||i.bearing){const e=void 0===r.pinchAround?r.around:r.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.extend(i,{noMoveStart:!0})}}function dn(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function hn(t,r,n){const{maxSpeed:i,linearity:a,deceleration:o}=n,s=e.clamp(t*a/(r/1e3),-i,i),l=Math.abs(s)/(o*a);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}class pn extends e.Event{constructor(t,r,n,i={}){const o=a.mousePos(r.getCanvasContainer(),n),s=r.unproject(o);super(t,e.extend({point:o,lngLat:s,originalEvent:n},i)),this._defaultPrevented=!1,this.target=r}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class mn extends e.Event{constructor(t,r,n){const i="touchend"===t?n.changedTouches:n.touches,o=a.touchPos(r.getCanvasContainer(),i),s=o.map((e=>r.unproject(e))),l=o.reduce(((e,t,r,n)=>e.add(t.div(n.length))),new e.pointGeometry(0,0));super(t,{points:o,point:l,lngLats:s,lngLat:r.unproject(l),originalEvent:n}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class fn extends e.Event{constructor(e,t,r){super(e,{originalEvent:r}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class yn{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new fn(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new pn(e.type,this._map,e))}mouseup(e){this._map.fire(new pn(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new pn(e.type,this._map,e))}dblclick(e){return this._firePreventable(new pn(e.type,this._map,e))}mouseover(e){this._map.fire(new pn(e.type,this._map,e))}mouseout(e){this._map.fire(new pn(e.type,this._map,e))}touchstart(e){return this._firePreventable(new mn(e.type,this._map,e))}touchmove(e){this._map.fire(new mn(e.type,this._map,e))}touchend(e){this._map.fire(new mn(e.type,this._map,e))}touchcancel(e){this._map.fire(new mn(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gn{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new pn(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new pn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new pn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vn{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(a.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const r=t;if(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)return;const n=this._startPos;this._lastPos=r,this._box||(this._box=a.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const i=Math.min(n.x,r.x),o=Math.max(n.x,r.x),s=Math.min(n.y,r.y),l=Math.max(n.y,r.y);a.setTransform(this._box,`translate(${i}px,${s}px)`),this._box.style.width=o-i+"px",this._box.style.height=l-s+"px"}mouseupWindow(t,r){if(!this._active)return;if(0!==t.button)return;const n=this._startPos,i=r;if(this.reset(),a.suppressClick(),n.x!==i.x||n.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(n,i,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(a.remove(this._box),this._box=null),a.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))}}function _n(e,t){if(e.length!==t.length)throw new Error(`The number of touches and points are not equal - touches ${e.length}, points ${t.length}`);const r={};for(let n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}class bn{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){const r=new e.pointGeometry(0,0);for(const e of t)r._add(e);return r.div(t.length)}(r),this.touches=_n(n,r)))}touchmove(e,t,r){if(this.aborted||!this.centroid)return;const n=_n(r,t);for(const e in this.touches){const t=this.touches[e],r=n[e];(!r||r.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class xn{constructor(e){this.singleTap=new bn(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,r){this.singleTap.touchstart(e,t,r)}touchmove(e,t,r){this.singleTap.touchmove(e,t,r)}touchend(e,t,r){const n=this.singleTap.touchend(e,t,r);if(n){const t=e.timeStamp-this.lastTime<500,r=!this.lastTap||this.lastTap.dist(n)<30;if(t&&r||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class wn{constructor(){this._zoomIn=new xn({numTouches:1,numTaps:2}),this._zoomOut=new xn({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)}touchmove(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)}touchend(e,t,r){const n=this._zoomIn.touchend(e,t,r),i=this._zoomOut.touchend(e,t,r);return n?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(n)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Tn={0:1,2:2};class Sn{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const r=a.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}mousemoveWindow(e,t){const r=this._lastPoint;if(r)if(e.preventDefault(),function(e,t){const r=Tn[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)}mouseupWindow(e){this._lastPoint&&a.mouseButton(e)===this._eventButton&&(this._moved&&a.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kn extends Sn{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class Cn extends Sn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}}contextmenu(e){e.preventDefault()}}class Ln extends Sn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}}contextmenu(e){e.preventDefault()}}class Nn{constructor(e,t){this._minTouches=e.cooperativeGestures?2:1,this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0),setTimeout((()=>{this._cancelCooperativeMessage=!1}),200)}touchstart(e,t,r){return this._calculateTransform(e,t,r)}touchmove(e,t,r){if(this._map._cooperativeGestures&&(2===this._minTouches&&r.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(e,!1,r.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(r.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,r)}touchend(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,r,n){n.length>0&&(this._active=!0);const i=_n(n,r),a=new e.pointGeometry(0,0),o=new e.pointGeometry(0,0);let s=0;for(const e in i){const t=i[e],r=this._touches[e];r&&(a._add(t),o._add(t.sub(r)),s++,i[e]=t)}if(this._touches=i,s<this._minTouches||!o.mag())return;const l=o.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class An{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,r){return{}}touchstart(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,r){if(!this._firstTwoTouches)return;e.preventDefault();const[n,i]=this._firstTwoTouches,a=On(r,t,n),o=On(r,t,i);if(!a||!o)return;const s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,e)}touchend(e,t,r){if(!this._firstTwoTouches)return;const[n,i]=this._firstTwoTouches,o=On(r,t,n),s=On(r,t,i);o&&s||(this._active&&a.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function On(e,t,r){for(let n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function En(e,t){return Math.log(e/t)/Math.LN2}class Pn extends An{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(En(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:En(this._distance,r),pinchAround:t}}}function Mn(e,t){return 180*e.angleWith(t)/Math.PI}class In extends An{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Mn(this._vector,r),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,r=Mn(e,this._startVector);return Math.abs(r)<t}}function Dn(e){return Math.abs(e.y)>Math.abs(e.x)}class zn extends An{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,r){super.touchstart(e,t,r),this._currentTouchCount=r.length}_start(e){this._lastPoints=e,Dn(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,r){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(n,i,r.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+i.y)/2*-.5}):void 0}gestureBeginsVertically(e,t,r){if(void 0!==this._valid)return this._valid;const n=e.mag()>=2,i=t.mag()>=2;if(!n&&!i)return;if(!n||!i)return void 0===this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;const a=e.y>0==t.y>0;return Dn(e)&&Dn(t)&&a}}const Rn={panStep:100,bearingStep:15,pitchStep:10};class Fn{constructor(){const e=Rn;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,r=0,n=0,i=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,n=0),{cameraAnimation:o=>{const s=o.getZoom();o.easeTo({duration:300,easeId:"keyboardHandler",easing:Bn,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:o.getBearing()+r*this._bearingStep,pitch:o.getPitch()+n*this._pitchStep,offset:[-i*this._panStep,-a*this._panStep],center:o.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Bn(e){return e*(2-e)}const jn=4.000244140625;class Un{constructor(t,r){this._map=t,this._el=t.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;t.preventDefault()}let r=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const n=e.exported.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%jn==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const r=a.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>jn?this._wheelZoomRate:this._defaultZoomRate;let r=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==r&&(r=1/r);const n="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(n*r))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const r="number"==typeof this._targetZoom?this._targetZoom:t.zoom,n=this._startZoom,i=this._easing;let a,o=!1;if("wheel"===this._type&&n&&i){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),s=i(t);a=e.number(n,r,s),t<1?this._frameId||(this._frameId=!0):o=!0}else a=r,o=!0;return this._active=!0,o&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!o,zoomDelta:a-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let r=e.ease;if(this._prevEase){const t=this._prevEase,n=(e.exported.now()-t.start)/t.duration,i=t.easing(n+.01)-t.easing(n),a=.27/Math.sqrt(i*i+1e-4)*.01,o=Math.sqrt(.0729-a*a);r=e.bezier(a,o,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:r},r}reset(){this._active=!1}}class Vn{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Wn{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:r=>{r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qn{constructor(){this._tap=new xn({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))}touchmove(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;const n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)}touchend(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gn{constructor(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Zn{constructor(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class $n{constructor(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Yn=e=>e.zoom||e.drag||e.pitch||e.rotate;class Hn extends e.Event{}function Jn(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Xn{constructor(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new cn(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[window,"blur",void 0]];for(const[e,t,r]of this._listeners)a.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,r)}destroy(){for(const[e,t,r]of this._listeners)a.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,r)}_addDefaultHandlers(e){const t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new yn(t,e));const n=t.boxZoom=new vn(t,e);this._add("boxZoom",n);const i=new wn,a=new Wn;t.doubleClickZoom=new Vn(a,i),this._add("tapZoom",i),this._add("clickZoom",a);const o=new qn;this._add("tapDragZoom",o);const s=t.touchPitch=new zn(t);this._add("touchPitch",s);const l=new Cn(e),u=new Ln(e);t.dragRotate=new Zn(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);const c=new kn(e),d=new Nn(e,t);t.dragPan=new Gn(r,c,d),this._add("mousePan",c),this._add("touchPan",d,["touchZoom","touchRotate"]);const h=new In,p=new Pn;t.touchZoomRotate=new $n(r,p,h,o),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]);const m=t.scrollZoom=new Un(t,this);this._add("scrollZoom",m,["mousePan"]);const f=t.keyboard=new Fn;this._add("keyboard",f),this._add("blockableMapEvent",new gn(t));for(const r of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[r]&&t[r].enable(e[r])}_add(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Yn(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,r){for(const n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const r of e)this._el.contains(r.target)&&t.push(r);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const r="renderFrame"===e.type?void 0:e,n={needsRenderFrame:!1},i={},o={},s=e.touches,l=s?this._getMapTouches(s):void 0,u=l?a.touchPos(this._el,l):a.mousePos(this._el,e);for(const{handlerName:a,handler:s,allowed:c}of this._handlers){if(!s.isEnabled())continue;let d;this._blockedByActive(o,c,a)?s.reset():s[t||e.type]&&(d=s[t||e.type](e,u,l),this.mergeHandlerResult(n,i,d,a,r),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||s.isActive())&&(o[a]=s)}const c={};for(const e in this._previousActiveHandlers)o[e]||(c[e]=r);this._previousActiveHandlers=o,(Object.keys(c).length||Jn(n))&&(this._changes.push([n,i,c]),this._triggerRenderFrame()),(Object.keys(o).length||Jn(n))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:d}=n;d&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],d(this._map))}mergeHandlerResult(t,r,n,i,a){if(!n)return;e.extend(t,n);const o={handlerName:i,originalEvent:n.originalEvent||a};void 0!==n.zoomDelta&&(r.zoom=o),void 0!==n.panDelta&&(r.drag=o),void 0!==n.pitchDelta&&(r.pitch=o),void 0!==n.bearingDelta&&(r.rotate=o)}_applyChanges(){const t={},r={},n={};for(const[i,a,o]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.extend(r,a),e.extend(n,o);this._updateMapTransform(t,r,n),this._changes=[]}_updateMapTransform(t,r,n){const i=this._map,a=i.transform,o=i.style&&i.style.terrain;if(!(Jn(t)||o&&this._drag))return this._fireEvents(r,n,!0);let{panDelta:s,zoomDelta:l,bearingDelta:u,pitchDelta:c,around:d,pinchAround:h}=t;void 0!==h&&(d=h),i._stop(!0),d=d||i.transform.centerPoint;const p=a.pointLocation(s?d.sub(s):d);u&&(a.bearing+=u),c&&(a.pitch+=c),l&&(a.zoom+=l),o?r.drag&&!this._drag?(this._drag={center:a.centerPoint,lngLat:a.pointLocation(d),point:d,handlerName:r.drag.handlerName},i.fire(new e.Event("freezeElevation",{freeze:!0}))):this._drag&&n[this._drag.handlerName]?(i.fire(new e.Event("freezeElevation",{freeze:!1})),this._drag=null):r.drag&&this._drag&&(a.center=a.pointLocation(a.centerPoint.sub(s))):a.setLocationAtPoint(p,d),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(r,n,!0)}_fireEvents(t,r,n){const i=Yn(this._eventsInProgress),a=Yn(t),o={};for(const e in t){const{originalEvent:r}=t[e];this._eventsInProgress[e]||(o[`${e}start`]=r),this._eventsInProgress[e]=t[e]}!i&&a&&this._fireEvent("movestart",a.originalEvent);for(const e in o)this._fireEvent(e,o[e]);a&&this._fireEvent("move",a.originalEvent);for(const e in t){const{originalEvent:r}=t[e];this._fireEvent(e,r)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:n}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=r[t]||n,s[`${e}end`]=l)}for(const e in s)this._fireEvent(e,s[e]);const u=Yn(this._eventsInProgress);if(n&&(i||a)&&!u){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),r=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(r(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),r(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new Hn("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Qn={extend:(t,...r)=>e.extend(t,...r),run(e){e()},logToElement(e,t=!1,r="log"){const n=window.document.getElementById(r);n&&(t&&(n.innerHTML=""),n.innerHTML+=`<br>${e}`)}};class Kn extends e.Evented{constructor(t,r){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,r,n){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)}panTo(t,r,n){return this.easeTo(e.extend({center:t},r),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)}resetNorth(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this}resetNorthPitch(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,r){t=e.LngLatBounds.convert(t);const n=r&&r.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,r)}_cameraForBoxAndBearing(t,r,n,i){const a={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){const e=i.padding;i.padding={top:e,bottom:e,right:e,left:e}}i.padding=e.extend(a,i.padding);const o=this.transform,s=o.padding,l=o.project(e.LngLat.convert(t)),u=o.project(e.LngLat.convert(r)),c=l.rotate(-n*Math.PI/180),d=u.rotate(-n*Math.PI/180),h=new e.pointGeometry(Math.max(c.x,d.x),Math.max(c.y,d.y)),p=new e.pointGeometry(Math.min(c.x,d.x),Math.min(c.y,d.y)),m=h.sub(p),f=(o.width-(s.left+s.right+i.padding.left+i.padding.right))/m.x,y=(o.height-(s.top+s.bottom+i.padding.top+i.padding.bottom))/m.y;if(y<0||f<0)return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const g=Math.min(o.scaleZoom(o.scale*Math.min(f,y)),i.maxZoom),v=e.pointGeometry.convert(i.offset),_=new e.pointGeometry((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(n*Math.PI/180),b=v.add(_).mult(o.scale/o.zoomScale(g));return{center:o.unproject(l.add(u).div(2).sub(b)),zoom:g,bearing:n}}fitBounds(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)}fitScreenCoordinates(t,r,n,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(r)),n,i),i,a)}_fitInternal(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this}jumpTo(t,r){this.stop();const n=this.transform;let i=!1,a=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(a=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),a&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),o&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))}calculateCameraOptionsFromTo(t,r,n,i=0){const a=e.MercatorCoordinate.fromLngLat(t,r),o=e.MercatorCoordinate.fromLngLat(n,i),s=o.x-a.x,l=o.y-a.y,u=o.z-a.z,c=Math.hypot(s,l,u);if(0===c)throw new Error("Can't calculate camera options with same From and To");const d=Math.hypot(s,l),h=this.transform.scaleZoom(this.transform.cameraToCenterDistance/c/this.transform.tileSize),p=180*Math.atan2(s,-l)/Math.PI;let m=180*Math.acos(d/c)/Math.PI;return m=u<0?90-m:90+m,{center:o.toLngLat(),zoom:h,pitch:m,bearing:p}}easeTo(t,r){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const n=this.transform,i=this.getZoom(),a=this.getBearing(),o=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:i,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:o,d="padding"in t?t.padding:n.padding,h=e.pointGeometry.convert(t.offset);let p=n.centerPoint.add(h);const m=n.pointLocation(p),f=e.LngLat.convert(t.center||m);this._normalizeCenter(f);const y=n.project(m),g=n.project(f).sub(y),v=n.zoomScale(l-i);let _,b;t.around&&(_=e.LngLat.convert(t.around),b=n.locationPoint(_));const x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==i,this._rotating=this._rotating||a!==u,this._pitching=this._pitching||c!==o,this._padding=!n.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,x),this._ease((t=>{if(this._zooming&&(n.zoom=e.number(i,l,t)),this._rotating&&(n.bearing=e.number(a,u,t)),this._pitching&&(n.pitch=e.number(o,c,t)),this._padding&&(n.interpolatePadding(s,d,t),p=n.centerPoint.add(h)),_)n.setLocationAtPoint(_,b);else{const e=n.zoomScale(n.zoom-i),r=l>i?Math.min(2,v):Math.max(.5,v),a=Math.pow(r,1-t),o=n.unproject(y.add(g.mult(t*a)).mult(e));n.setLocationAtPoint(n.renderWorldCopies?o.wrap():o,p)}this._fireMoveEvents(r)}),(e=>{this._afterEase(r,e)}),t),this}_prepareEase(t,r,n={}){this._moving=!0,this.fire(new e.Event("freezeElevation",{freeze:!0})),r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,r){if(this._easeId&&r&&this._easeId===r)return;delete this._easeId,this.fire(new e.Event("freezeElevation",{freeze:!1}));const n=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,r){if(!t.essential&&e.exported.prefersReducedMotion){const n=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const n=this.transform,i=this.getZoom(),a=this.getBearing(),o=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,n.minZoom,n.maxZoom):i,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:o,d="padding"in t?t.padding:n.padding,h=n.zoomScale(l-i),p=e.pointGeometry.convert(t.offset);let m=n.centerPoint.add(p);const f=n.pointLocation(m),y=e.LngLat.convert(t.center||f);this._normalizeCenter(y);const g=n.project(f),v=n.project(y).sub(g);let _=t.curve;const b=Math.max(n.width,n.height),x=b/h,w=v.mag();if("minZoom"in t){const r=e.clamp(Math.min(t.minZoom,i,l),n.minZoom,n.maxZoom),a=b/n.zoomScale(r-i);_=Math.sqrt(a/w*2)}const T=_*_;function S(e){const t=(x*x-b*b+(e?-1:1)*T*T*w*w)/(2*(e?x:b)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function k(e){return(Math.exp(e)-Math.exp(-e))/2}function C(e){return(Math.exp(e)+Math.exp(-e))/2}const L=S(0);let N=function(e){return C(L)/C(L+_*e)},A=function(e){return b*((C(L)*(k(t=L+_*e)/C(t))-k(L))/T)/w;var t},O=(S(1)-L)/_;if(Math.abs(w)<1e-6||!isFinite(O)){if(Math.abs(b-x)<1e-6)return this.easeTo(t,r);const e=x<b?-1:1;O=Math.abs(Math.log(x/b))/_,A=function(){return 0},N=function(t){return Math.exp(e*_*t)}}return t.duration="duration"in t?+t.duration:1e3*O/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=a!==u,this._pitching=c!==o,this._padding=!n.isPaddingEqual(d),this._prepareEase(r,!1),this._ease((t=>{const h=t*O,f=1/N(h);n.zoom=1===t?l:i+n.scaleZoom(f),this._rotating&&(n.bearing=e.number(a,u,t)),this._pitching&&(n.pitch=e.number(o,c,t)),this._padding&&(n.interpolatePadding(s,d,t),m=n.centerPoint.add(p));const _=1===t?y:n.unproject(g.add(v.mult(A(h))).mult(f));n.setLocationAtPoint(n.renderWorldCopies?_.wrap():_,m),this._fireMoveEvents(r)}),(()=>this._afterEase(r)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.exported.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,r){t=e.wrap(t,-180,180);const n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}}class ei{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=a.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=a.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=a.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){a.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const r=this._map._getUIString(`AttributionControl.${t}`);e.title=r,e.setAttribute("aria-label",r)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.sourceCaches;for(const r in t){const n=t[r];if(n.used||n.usedForTerrain){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,r)=>{for(let n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}));const r=e.join(" | ");r!==this._attribHTML&&(this._attribHTML=r,e.length?(this._innerContainer.innerHTML=r,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class ti{constructor(t={}){this.options=t,e.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=a.create("div","maplibregl-ctrl mapboxgl-ctrl");const t=a.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){a.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact","mapboxgl-compact"):t.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class ri{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,r=t?this._queue.concat(t):this._queue;for(const t of r)if(t.id===e)return void(t.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t=this._currentlyRunning=this._queue;this._queue=[];for(const r of t)if(!r.cancelled&&(r.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ni={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},ii={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},ai={showCompass:!0,showZoom:!0,visualizePitch:!1};class oi{constructor(t,r,n=!1){this._clickTolerance=10,this.element=r,this.mouseRotate=new Cn({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,n&&(this.mousePitch=new Ln({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),a.addEventListener(r,"mousedown",this.mousedown),a.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),a.addEventListener(r,"touchmove",this.touchmove),a.addEventListener(r,"touchend",this.touchend),a.addEventListener(r,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),a.disableDrag()}move(e,t){const r=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&r.setBearing(r.getBearing()+n.bearingDelta),this.mousePitch){const n=this.mousePitch.mousemoveWindow(e,t);n&&n.pitchDelta&&r.setPitch(r.getPitch()+n.pitchDelta)}}off(){const e=this.element;a.removeEventListener(e,"mousedown",this.mousedown),a.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),a.removeEventListener(e,"touchmove",this.touchmove),a.removeEventListener(e,"touchend",this.touchend),a.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){a.enableDrag(),a.removeEventListener(window,"mousemove",this.mousemove),a.removeEventListener(window,"mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),a.mousePos(this.element,t)),a.addEventListener(window,"mousemove",this.mousemove),a.addEventListener(window,"mouseup",this.mouseup)}mousemove(e){this.move(e,a.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=a.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=a.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function si(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){const i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(r);n.locationPoint(i).distSqr(r)<o?t=i:n.locationPoint(a).distSqr(r)<o&&(t=a)}for(;Math.abs(t.lng-n.center.lng)>180;){const e=n.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=n.width&&e.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}const li={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ui(e,t,r){const n=e.classList;for(const e in li)n.remove(`maplibregl-${r}-anchor-${e}`,`mapboxgl-${r}-anchor-${e}`);n.add(`maplibregl-${r}-anchor-${t}`,`mapboxgl-${r}-anchor-${t}`)}class ci extends e.Evented{constructor(t,r){if(super(),(t instanceof HTMLElement||r)&&(t=e.extend({element:t},r)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=a.create("div"),this._element.setAttribute("aria-label","Map marker");const r=a.createNS("http://www.w3.org/2000/svg","svg"),n=41,i=27;r.setAttributeNS(null,"display","block"),r.setAttributeNS(null,"height",`${n}px`),r.setAttributeNS(null,"width",`${i}px`),r.setAttributeNS(null,"viewBox",`0 0 ${i} ${n}`);const o=a.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");const s=a.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=a.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of u){const t=a.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const c=a.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);const d=a.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(d);const h=a.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"opacity","0.25"),h.setAttributeNS(null,"fill","#000000");const p=a.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),h.appendChild(p);const m=a.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");const f=a.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(8.0, 8.0)");const y=a.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#000000"),y.setAttributeNS(null,"opacity","0.25"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962");const g=a.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#FFFFFF"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962"),f.appendChild(y),f.appendChild(g),s.appendChild(l),s.appendChild(c),s.appendChild(h),s.appendChild(m),s.appendChild(f),r.appendChild(s),r.setAttributeNS(null,"height",n*this._scale+"px"),r.setAttributeNS(null,"width",i*this._scale+"px"),this._element.appendChild(r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),ui(this._element,this._anchor,"marker"),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),a.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,r=13.5,n=Math.sqrt(Math.pow(r,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-r+n)],"bottom-right":[-n,-1*(t-r+n)],left:[r,-1*(t-r)],right:[-r,-1*(t-r)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=si(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),a.setTransform(this._element,`${li[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${r} ${t}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout((()=>{const e=this._map.unproject(this._pos),t=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=e.distanceTo(this._lngLat)>20*t?"0.2":"1.0",this._opacityTimeout=null}),100))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const di={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let hi,pi=0,mi=!1;const fi={maxWidth:100,unit:"metric"};function yi(e,t,r){const n=r&&r.maxWidth||100,i=e._container.clientHeight/2,a=e.unproject([0,i]),o=e.unproject([n,i]),s=a.distanceTo(o);if(r&&"imperial"===r.unit){const r=3.2808*s;r>5280?gi(t,n,r/5280,e._getUIString("ScaleControl.Miles")):gi(t,n,r,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?gi(t,n,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?gi(t,n,s/1e3,e._getUIString("ScaleControl.Kilometers")):gi(t,n,s,e._getUIString("ScaleControl.Meters"))}function gi(e,t,r,n){const i=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:r>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(r),t*r}(r);e.style.width=t*(i/r)+"px",e.innerHTML=`${i}&nbsp;${n}`}const vi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_i=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function bi(t){if(t){if("number"==typeof t){const r=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(r,r),"top-right":new e.pointGeometry(-r,r),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(r,-r),"bottom-right":new e.pointGeometry(-r,-r),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){const r=e.pointGeometry.convert(t);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}return bi(new e.pointGeometry(0,0))}const xi={supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Kn{constructor(t){var r;if(e.PerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ii,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new rn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}),this._interactive=t.interactive,this._cooperativeGestures=t.cooperativeGestures,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new ri,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ni,t.locale),this._clickTolerance=t.clickTolerance,this._pixelRatio=null!==(r=t.pixelRatio)&&void 0!==r?r:devicePixelRatio,this._requestManager=new o(t.transformRequest),"string"==typeof t.container){if(this._container=document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),"undefined"!=typeof window&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Xn(this,t),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=t.hash&&new nn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new ei({customAttribution:t.customAttribution})),t.maplibreLogo&&this.addControl(new ti,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))})),this.on("dataabort",(t=>{this.fire(new e.Event("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}calculateCameraOptionsFromTo(e,t,r,n){return null==n&&this.style.terrain&&(n=this.transform.getElevation(r,this.style.terrain)),super.calculateCameraOptionsFromTo(e,t,r,n)}resize(t){const r=this._containerDimensions(),n=r[0],i=r[1];this._resizeCanvas(n,i,this.getPixelRatio()),this.transform.resize(n,i),this.painter.resize(n,i,this.getPixelRatio());const a=!this._moving;return a&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){const[t,r]=this._containerDimensions();this._pixelRatio=e,this._resizeCanvas(t,r,e),this.painter.resize(t,r,e)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(t){return this.transform.locationPoint(e.LngLat.convert(t),this.style&&this.style.terrain)}unproject(t){return this.transform.pointLocation(e.pointGeometry.convert(t),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(e,t,r){if("mouseenter"===e||"mouseover"===e){let n=!1;const i=i=>{const a=this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[];a.length?n||(n=!0,r.call(this,new pn(e,this,i.originalEvent,{features:a}))):n=!1};return{layer:t,listener:r,delegates:{mousemove:i,mouseout:()=>{n=!1}}}}if("mouseleave"===e||"mouseout"===e){let n=!1;const i=i=>{(this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?n=!0:n&&(n=!1,r.call(this,new pn(e,this,i.originalEvent)))},a=t=>{n&&(n=!1,r.call(this,new pn(e,this,t.originalEvent)))};return{layer:t,listener:r,delegates:{mousemove:i,mouseout:a}}}{const n=e=>{const n=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(this,e),delete e.features)};return{layer:t,listener:r,delegates:{[e]:n}}}}on(e,t,r){if(void 0===r)return super.on(e,t);const n=this._createDelegatedListener(e,t,r);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n);for(const e in n.delegates)this.on(e,n.delegates[e]);return this}once(e,t,r){if(void 0===r)return super.once(e,t);const n=this._createDelegatedListener(e,t,r);for(const e in n.delegates)this.once(e,n.delegates[e]);return this}off(e,t,r){return void 0===r?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(n=>{const i=this._delegatedListeners[e];for(let e=0;e<i.length;e++){const n=i[e];if(n.layer===t&&n.listener===r){for(const e in n.delegates)this.off(e,n.delegates[e]);return i.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,r){if(!this.style)return[];let n;if(void 0!==r||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.pointGeometry||"number"==typeof t[0])n=[e.pointGeometry.convert(t)];else{const r=e.pointGeometry.convert(t[0]),i=e.pointGeometry.convert(t[1]);n=[r,new e.pointGeometry(i.x,r.y),i,new e.pointGeometry(r.x,i.y),r]}return this.style.queryRenderedFeatures(n,r,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new tt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new tt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,r){if("string"==typeof t){const n=this._requestManager.transformRequest(t,e.ResourceType.Style);e.getJSON(n,((t,n)=>{t?this.fire(new e.ErrorEvent(t)):n&&this._updateDiff(n,r)}))}else"object"==typeof t&&this._updateDiff(t,r)}_updateDiff(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(t,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}setTerrain(e){return this.style.setTerrain(e),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const r=e[t]._tiles;for(const e in r){const t=r[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,r){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,r,{pixelRatio:n=1,sdf:i=!1,stretchX:a,stretchY:o,content:s}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||e.isImageBitmap(r)){const{width:l,height:u,data:c}=e.exported.getImageData(r);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:u},c),pixelRatio:n,stretchX:a,stretchY:o,content:s,sdf:i,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:u,data:c}=r,d=r;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:u},new Uint8Array(c)),pixelRatio:n,stretchX:a,stretchY:o,content:s,sdf:i,version:0,userImage:d}),d.onAdd&&d.onAdd(this,t)}}}updateImage(t,r){const n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=r instanceof HTMLImageElement||e.isImageBitmap(r)?e.exported.getImageData(r):r,{width:a,height:o,data:s}=i;if(void 0===a||void 0===o)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==n.data.width||o!==n.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const l=!(r instanceof HTMLImageElement||e.isImageBitmap(r));n.data.replace(s,l),this.style.updateImage(t,n)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),r)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)}setFilter(e,t,r={}){return this.style.setFilter(e,t,r),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,r,n={}){return this.style.setPaintProperty(e,t,r,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,r,n={}){return this.style.setLayoutProperty(e,t,r,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map","mapboxgl-map");const t=this._canvasContainer=a.create("div","maplibregl-canvas-container mapboxgl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=a.create("canvas","maplibregl-canvas mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const r=this._containerDimensions();this._resizeCanvas(r[0],r[1],this.getPixelRatio());const n=this._controlContainer=a.create("div","maplibregl-control-container mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{i[e]=a.create("div",`maplibregl-ctrl-${e} mapboxgl-ctrl-${e}`,n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const e=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=a.create("div","maplibregl-cooperative-gesture-screen",e);let t="Control",r="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(r="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",t="Meta"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${r}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,document.addEventListener("keydown",(e=>{e.key===t&&(this._metaPress=!0)})),document.addEventListener("keyup",(e=>{e.key===t&&(this._metaPress=!1)})),this._canvasContainer.addEventListener("wheel",(e=>{this._onCooperativeGesture(e,this._metaPress,1)}),!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(e,t,r){this._canvas.width=r*e,this._canvas.height=r*t,this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`}_setupPainter(){const r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new Qr(n,this.transform),e.exported$1.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(e,t,r){return!t&&r<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout((()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")}),100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){let r,n=0;const i=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(r=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,r),n=e.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,r=e.exported.now();this.style.zoomHistory.update(t,r);const n=new e.EvaluationParameters(t,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=n.crossFadingFactor();1===i&&i===this._crossFadingFactor||(a=!0,this._crossFadingFactor=i),this.style.update(n)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.load),this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const t=e.exported.now()-n;i.endQueryEXT(i.TIME_ELAPSED_EXT,r),setTimeout((()=>{const n=i.getQueryObjectEXT(r,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:n}))}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const r=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:r}))}),50)}const o=this._sourcesDirty||this._styleDirty||this._placementDirty;return o||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||o||(this._fullyLoaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),a.remove(this._canvasContainer),a.remove(this._controlContainer),this._cooperativeGestures&&a.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),e.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=e.exported.frame((t=>{e.PerformanceUtils.frame(t),this._frame=null,this._render(t)})))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(t,r){e.setCacheLimits(t,r)}get version(){return"2.4.0"}},NavigationControl:class{constructor(t){this.options=e.extend({},ai,t),this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),r=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new oi(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){a.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const r=a.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r}_setButtonTitle(e,t){const r=this._map._getUIString(`NavigationControl.${t}`);e.title=r,e.setAttribute("aria-label",r)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({},di,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(e){var t;return this._map=e,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==hi?t(hi):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((e=>{hi="denied"!==e.state,t(hi)})):(hi=!!window.navigator.geolocation,t(hi)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),a.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,pi=0,mi=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),a,{geolocateSource:!0})}_updateMarker(t){if(t){const r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),r=this._map.unproject([1,e]),n=t.distanceTo(r),i=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&mi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=a.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ci(this._dotElement),this._circleElement=a.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ci({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":pi--,mi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),pi++,pi>1?(e={maximumAge:6e5,timeout:0},mi=!0):(e=this.options.positionOptions,mi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ei,LogoControl:ti,ScaleControl:class{constructor(t){this.options=e.extend({},fi,t),e.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){yi(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){a.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,yi(this._map,this._container,this.options)}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){a.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=a.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(t){this.options=t,e.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(e){return this._map=e,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=a.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){a.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(vi),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),r=document.createElement("body");let n;for(r.innerHTML=e;n=r.firstChild,n;)t.appendChild(n);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=a.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=a.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_update(e){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=a.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((e=>this._container.classList.add(e))),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=si(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!e)return;const t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let r=this.options.anchor;const n=bi(this.options.offset);if(!r){const e=this._container.offsetWidth,i=this._container.offsetHeight;let a;a=t.y+n.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<e/2?a.push("left"):t.x>this._map.transform.width-e/2&&a.push("right"),r=0===a.length?"bottom":a.join("-")}const i=t.add(n[r]).round();a.setTransform(this._container,`${li[r]} translate(${i.x}px,${i.y}px)`),ui(this._container,r,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(_i);e&&e.focus()}_onClose(){this.remove()}},Marker:ci,Style:tt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,AJAXError:e.AJAXError,config:e.config,CanvasSource:O,GeoJSONSource:C,ImageSource:N,RasterDEMTileSource:k,RasterTileSource:T,VectorTileSource:w,VideoSource:A,prewarm:function(){G().acquire(U)},clearPrewarmedResources:function(){const e=q;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(U),q=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return V.workerCount},set workerCount(e){V.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",addProtocol(t,r){e.config.REGISTERED_PROTOCOLS[t]=r},removeProtocol(t){delete e.config.REGISTERED_PROTOCOLS[t]}};return Qn.extend(xi,{isSafari:e.isSafari,getPerformanceMetrics:e.PerformanceUtils.getPerformanceMetrics}),xi})),r}()},56027:(e,t,r)=>{"use strict";r.d(t,{DL:()=>c,Ht:()=>p,Tu:()=>l,lF:()=>d,rQ:()=>n,uf:()=>u,vi:()=>h,xm:()=>o,yu:()=>s,zL:()=>a});var n=6371008.8,i={centimeters:100*n,centimetres:100*n,degrees:n/111325,feet:3.28084*n,inches:39.37*n,kilometers:n/1e3,kilometres:n/1e3,meters:n,metres:n,miles:n/1609.344,millimeters:1e3*n,millimetres:1e3*n,nauticalmiles:n/1852,radians:1,yards:1.0936*n};function a(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function o(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!m(e[0])||!m(e[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:e},t,r)}function s(e,t,r){void 0===r&&(r={});for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:e},t,r)}function l(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:e},t,r)}function u(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function c(e,t){void 0===t&&(t="kilometers");var r=i[t];if(!r)throw new Error(t+" units is invalid");return e*r}function d(e,t){void 0===t&&(t="kilometers");var r=i[t];if(!r)throw new Error(t+" units is invalid");return e/r}function h(e){return 180*(e%(2*Math.PI))/Math.PI}function p(e){return e%360*Math.PI/180}function m(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}},24138:(e,t,r)=>{"use strict";r.d(t,{c9:()=>n,oL:()=>i});r(56027);function n(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},70041:(e,t,r)=>{"use strict";r.d(t,{By:()=>a,hE:()=>u,mm:()=>s,on:()=>o,pZ:()=>i});var n=r(56027);function i(e,t,r){if(null!==e)for(var n,a,o,s,l,u,c,d,h=0,p=0,m=e.type,f="FeatureCollection"===m,y="Feature"===m,g=f?e.features.length:1,v=0;v<g;v++){l=(d=!!(c=f?e.features[v].geometry:y?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var _=0;_<l;_++){var b=0,x=0;if(null!==(s=d?c.geometries[_]:c)){u=s.coordinates;var w=s.type;switch(h=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(u,p,v,b,x))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],p,v,b,x))return!1;p++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(a=0;a<u[n].length-h;a++){if(!1===t(u[n][a],p,v,b,x))return!1;p++}"MultiLineString"===w&&b++,"Polygon"===w&&x++}"Polygon"===w&&b++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(x=0,a=0;a<u[n].length;a++){for(o=0;o<u[n][a].length-h;o++){if(!1===t(u[n][a][o],p,v,b,x))return!1;p++}x++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===i(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function o(e,t){var r,n,i,a,o,s,l,u,c,d,h=0,p="FeatureCollection"===e.type,m="Feature"===e.type,f=p?e.features.length:1;for(r=0;r<f;r++){for(s=p?e.features[r].geometry:m?e.geometry:e,u=p?e.features[r].properties:m?e.properties:{},c=p?e.features[r].bbox:m?e.bbox:void 0,d=p?e.features[r].id:m?e.id:void 0,o=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<o;i++)if(null!==(a=l?s.geometries[i]:s))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(a,h,u,c,d))return!1;break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===t(a.geometries[n],h,u,c,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,h,u,c,d))return!1;h++}}function s(e,t,r){var n=r;return o(e,(function(e,i,a,o,s){n=0===i&&void 0===r?e:t(n,e,i,a,o,s)})),n}function l(e,t){o(e,(function(e,r,i,a,o){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t((0,n.zL)(e,i,{bbox:a,id:o}),r,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:s,coordinates:e.coordinates[u]};if(!1===t((0,n.zL)(c,i),r,u))return!1}}))}function u(e,t,r){var a=r,o=!1;return function(e,t){l(e,(function(e,r,a){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,u=0,c=0,d=0;return!1!==i(e,(function(i,s,h,p,m){if(void 0===l||r>u||p>c||m>d)return l=i,u=r,c=p,d=m,void(o=0);var f=(0,n.Tu)([l,i],e.properties);if(!1===t(f,r,a,m,o))return!1;o++,l=i}))&&void 0}}}))}(e,(function(e,n,i,s,l){a=!1===o&&void 0===r?e:t(a,e,n,i,s,l),o=!0})),a}},82611:(e,t,r)=>{"use strict";function n(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}r.d(t,{Z:()=>n})},31102:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(82611);function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a(e){let t,r,a;function s(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=n.Z,r=(t,r)=>(0,n.Z)(e(t),r),a=(t,r)=>e(t)-r):(t=e===n.Z||e===i?e:o,r=e,a=e),{left:s,center:function(e,t,r=0,n=e.length){const i=s(e,t,r,n-1);return i>r&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function o(){return 0}},67717:(e,t,r)=>{"use strict";r.d(t,{G9:()=>l,ZP:()=>s,ly:()=>u});const n=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,r){const s=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(s)),u=s/Math.pow(10,l),c=u>=n?10:u>=i?5:u>=a?2:1;let d,h,p;return l<0?(p=Math.pow(10,-l)/c,d=Math.round(e*p),h=Math.round(t*p),d/p<e&&++d,h/p>t&&--h,p=-p):(p=Math.pow(10,l)*c,d=Math.round(e/p),h=Math.round(t/p),d*p<e&&++d,h*p>t&&--h),h<d&&.5<=r&&r<2?o(e,t,2*r):[d,h,p]}function s(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,s]=n?o(t,e,r):o(e,t,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(s<0)for(let e=0;e<l;++e)u[e]=(a-e)/-s;else for(let e=0;e<l;++e)u[e]=(a-e)*s;else if(s<0)for(let e=0;e<l;++e)u[e]=(i+e)/-s;else for(let e=0;e<l;++e)u[e]=(i+e)*s;return u}function l(e,t,r){return o(e=+e,t=+t,r=+r)[2]}function u(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?l(t,e,r):l(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}},50575:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{LL:()=>f});var i=1,a=2,o=3,s=4,l=1e-6;function u(e){return"translate("+e+",0)"}function c(e){return"translate(0,"+e+")"}function d(e){return t=>+e(t)}function h(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function p(){return!this.__axis}function m(e,t){var r=[],m=null,f=null,y=6,g=6,v=3,_="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,b=e===i||e===s?-1:1,x=e===s||e===a?"x":"y",w=e===i||e===o?u:c;function T(u){var c=null==m?t.ticks?t.ticks.apply(t,r):t.domain():m,T=null==f?t.tickFormat?t.tickFormat.apply(t,r):n:f,S=Math.max(y,0)+v,k=t.range(),C=+k[0]+_,L=+k[k.length-1]+_,N=(t.bandwidth?h:d)(t.copy(),_),A=u.selection?u.selection():u,O=A.selectAll(".domain").data([null]),E=A.selectAll(".tick").data(c,t).order(),P=E.exit(),M=E.enter().append("g").attr("class","tick"),I=E.select("line"),D=E.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),I=I.merge(M.append("line").attr("stroke","currentColor").attr(x+"2",b*y)),D=D.merge(M.append("text").attr("fill","currentColor").attr(x,b*S).attr("dy",e===i?"0em":e===o?"0.71em":"0.32em")),u!==A&&(O=O.transition(u),E=E.transition(u),I=I.transition(u),D=D.transition(u),P=P.transition(u).attr("opacity",l).attr("transform",(function(e){return isFinite(e=N(e))?w(e+_):this.getAttribute("transform")})),M.attr("opacity",l).attr("transform",(function(e){var t=this.parentNode.__axis;return w((t&&isFinite(t=t(e))?t:N(e))+_)}))),P.remove(),O.attr("d",e===s||e===a?g?"M"+b*g+","+C+"H"+_+"V"+L+"H"+b*g:"M"+_+","+C+"V"+L:g?"M"+C+","+b*g+"V"+_+"H"+L+"V"+b*g:"M"+C+","+_+"H"+L),E.attr("opacity",1).attr("transform",(function(e){return w(N(e)+_)})),I.attr(x+"2",b*y),D.attr(x,b*S).text(T),A.filter(p).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===a?"start":e===s?"end":"middle"),A.each((function(){this.__axis=N}))}return T.scale=function(e){return arguments.length?(t=e,T):t},T.ticks=function(){return r=Array.from(arguments),T},T.tickArguments=function(e){return arguments.length?(r=null==e?[]:Array.from(e),T):r.slice()},T.tickValues=function(e){return arguments.length?(m=null==e?null:Array.from(e),T):m&&m.slice()},T.tickFormat=function(e){return arguments.length?(f=e,T):f},T.tickSize=function(e){return arguments.length?(y=g=+e,T):y},T.tickSizeInner=function(e){return arguments.length?(y=+e,T):y},T.tickSizeOuter=function(e){return arguments.length?(g=+e,T):g},T.tickPadding=function(e){return arguments.length?(v=+e,T):v},T.offset=function(e){return arguments.length?(_=+e,T):_},T}function f(e){return m(o,e)}},90880:(e,t,r)=>{"use strict";r.d(t,{B8:()=>S,Il:()=>i,SU:()=>T,Ss:()=>k,ZP:()=>b});var n=r(82638);function i(){}var a=.7,o=1/a,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,d=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=new RegExp(`^rgb\\(${u},${u},${u}\\)$`),p=new RegExp(`^rgba\\(${s},${s},${s},${l}\\)$`),m=new RegExp(`^rgba\\(${u},${u},${u},${l}\\)$`),f=new RegExp(`^hsl\\(${l},${u},${u}\\)$`),y=new RegExp(`^hsla\\(${l},${u},${u},${l}\\)$`),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function b(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?x(t):3===r?new k(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new k(t[1],t[2],t[3],1):(t=h.exec(e))?new k(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?w(t[1],t[2],t[3],t[4]):(t=m.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?E(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?E(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?x(g[e]):"transparent"===e?new k(NaN,NaN,NaN,0):null}function x(e){return new k(e>>16&255,e>>8&255,255&e,1)}function w(e,t,r,n){return n<=0&&(e=t=r=NaN),new k(e,t,r,n)}function T(e){return e instanceof i||(e=b(e)),e?new k((e=e.rgb()).r,e.g,e.b,e.opacity):new k}function S(e,t,r,n){return 1===arguments.length?T(e):new k(e,t,r,null==n?1:n)}function k(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function C(){return`#${O(this.r)}${O(this.g)}${O(this.b)}`}function L(){const e=N(this.opacity);return`${1===e?"rgb(":"rgba("}${A(this.r)}, ${A(this.g)}, ${A(this.b)}${1===e?")":`, ${e})`}`}function N(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function A(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function O(e){return((e=A(e))<16?"0":"")+e.toString(16)}function E(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,r,n)}function P(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=b(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,l=o-a,u=(o+a)/2;return l?(s=t===o?(r-n)/l+6*(r<n):r===o?(n-t)/l+2:(t-r)/l+4,l/=u<.5?o+a:2-o-a,s*=60):l=u>0&&u<1?0:s,new M(s,l,u,e.opacity)}function M(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function I(e){return(e=(e||0)%360)<0?e+360:e}function D(e){return Math.max(0,Math.min(1,e||0))}function z(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}(0,n.Z)(i,b,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return P(this).formatHsl()},formatRgb:_,toString:_}),(0,n.Z)(k,S,(0,n.l)(i,{brighter(e){return e=null==e?o:Math.pow(o,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new k(A(this.r),A(this.g),A(this.b),N(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatHex8:function(){return`#${O(this.r)}${O(this.g)}${O(this.b)}${O(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:L,toString:L})),(0,n.Z)(M,(function(e,t,r,n){return 1===arguments.length?P(e):new M(e,t,r,null==n?1:n)}),(0,n.l)(i,{brighter(e){return e=null==e?o:Math.pow(o,e),new M(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?a:Math.pow(a,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new k(z(e>=240?e-240:e+120,i,n),z(e,i,n),z(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new M(I(this.h),D(this.s),D(this.l),N(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=N(this.opacity);return`${1===e?"hsl(":"hsla("}${I(this.h)}, ${100*D(this.s)}%, ${100*D(this.l)}%${1===e?")":`, ${e})`}`}}))},82638:(e,t,r)=>{"use strict";function n(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}r.d(t,{Z:()=>n,l:()=>i})},9184:(e,t,r)=>{"use strict";r.d(t,{Uc:()=>x});var n=r(82638),i=r(90880);const a=Math.PI/180,o=180/Math.PI,s=.96422,l=1,u=.82521,c=4/29,d=6/29,h=3*d*d,p=d*d*d;function m(e){if(e instanceof f)return new f(e.l,e.a,e.b,e.opacity);if(e instanceof w)return T(e);e instanceof i.Ss||(e=(0,i.SU)(e));var t,r,n=_(e.r),a=_(e.g),o=_(e.b),c=y((.2225045*n+.7168786*a+.0606169*o)/l);return n===a&&a===o?t=r=c:(t=y((.4360747*n+.3850649*a+.1430804*o)/s),r=y((.0139322*n+.0971045*a+.7141733*o)/u)),new f(116*c-16,500*(t-c),200*(c-r),e.opacity)}function f(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function y(e){return e>p?Math.pow(e,1/3):e/h+c}function g(e){return e>d?e*e*e:h*(e-c)}function v(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function b(e){if(e instanceof w)return new w(e.h,e.c,e.l,e.opacity);if(e instanceof f||(e=m(e)),0===e.a&&0===e.b)return new w(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*o;return new w(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function x(e,t,r,n){return 1===arguments.length?b(e):new w(e,t,r,null==n?1:n)}function w(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function T(e){if(isNaN(e.h))return new f(e.l,0,0,e.opacity);var t=e.h*a;return new f(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,n.Z)(f,(function(e,t,r,n){return 1===arguments.length?m(e):new f(e,t,r,null==n?1:n)}),(0,n.l)(i.Il,{brighter(e){return new f(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new f(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=s*g(t),e=l*g(e),r=u*g(r),new i.Ss(v(3.1338561*t-1.6168667*e-.4906146*r),v(-.9787684*t+1.9161415*e+.033454*r),v(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),(0,n.Z)(w,x,(0,n.l)(i.Il,{brighter(e){return new w(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new w(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return T(this).rgb()}}))},35303:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(66776);function i(e){return(e=(0,n.V)(Math.abs(e)))?e[1]:NaN}},66776:(e,t,r)=>{"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}r.d(t,{V:()=>i,Z:()=>n})},10002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(35303);function i(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,n.Z)(t)-(0,n.Z)(e))+1}},10004:(e,t,r)=>{"use strict";r.d(t,{JG:()=>P,ZP:()=>I,yR:()=>N,l4:()=>M});var n=r(82611),i=r(31102);const a=(0,i.Z)(n.Z),o=a.right,s=(a.left,(0,i.Z)((function(e){return null===e?NaN:+e})).center,o);var l=r(90880);function u(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}const c=e=>()=>e;function d(e,t){return function(r){return e+r*t}}function h(e){return 1==(e=+e)?p:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):c(isNaN(t)?r:t)}}function p(e,t){var r=t-e;return r?d(e,r):c(isNaN(e)?t:e)}const m=function e(t){var r=h(t);function n(e,t){var n=r((e=(0,l.B8)(e)).r,(t=(0,l.B8)(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=p(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function f(e){return function(t){var r,n,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=(0,l.B8)(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}f((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return u((r-n/t)*t,o,i,a,s)}})),f((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return u((r-n/t)*t,i,a,o,s)}}));function y(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=S(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}function g(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function v(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _(e,t){var r,n={},i={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=S(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}var b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(b.source,"g");function w(e,t){var r,n,i,a=b.lastIndex=x.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=b.exec(e))&&(n=x.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:v(r,n)})),a=x.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function T(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function S(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?c(t):("number"===i?v:"string"===i?(r=(0,l.ZP)(t))?(t=r,m):w:t instanceof l.ZP?m:t instanceof Date?g:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?y:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?_:v:T))(e,t)}function k(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function C(e){return+e}var L=[0,1];function N(e){return e}function A(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function O(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=A(i,n),a=r(o,a)):(n=A(n,i),a=r(a,o)),function(e){return a(n(e))}}function E(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=A(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=s(e,t,1,n)-1;return a[r](i[r](t))}}function P(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function M(){var e,t,r,n,i,a,o=L,s=L,l=S,u=N;function c(){var e,t,r,l=Math.min(o.length,s.length);return u!==N&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),u=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?E:O,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?r:(i||(i=n(o.map(e),s,l)))(e(u(t)))}return d.invert=function(r){return u(t((a||(a=n(s,o.map(e),v)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,C),c()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=k,c()},d.clamp=function(e){return arguments.length?(u=!!e||N,c()):u!==N},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,c()}}function I(){return M()(N,N)}},42775:(e,t,r)=>{"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}r.d(t,{o:()=>n})},77527:(e,t,r)=>{"use strict";r.d(t,{_b:()=>A});var n=r(67717),i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}a.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s=r(35303);var l,u=r(66776);function c(e,t){var r=(0,u.V)(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const d={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:u.Z,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c(100*e,t),r:c,s:function(e,t){var r=(0,u.V)(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(l=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+(0,u.V)(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function h(e){return e}var p,m,f,y=Array.prototype.map,g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function v(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?h:(t=y.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",u=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?h:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(y.call(e.numerals,String)),p=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"−":e.minus+"",f=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=a(e)).fill,r=e.align,s=e.sign,h=e.symbol,y=e.zero,v=e.width,_=e.comma,b=e.precision,x=e.trim,w=e.type;"n"===w?(_=!0,w="g"):d[w]||(void 0===b&&(b=12),x=!0,w="g"),(y||"0"===t&&"="===r)&&(y=!0,t="0",r="=");var T="$"===h?i:"#"===h&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S="$"===h?o:/[%p]/.test(w)?p:"",k=d[w],C=/[defgprs%]/.test(w);function L(e){var i,a,o,d=T,h=S;if("c"===w)h=k(e)+h,e="";else{var p=(e=+e)<0||1/e<0;if(e=isNaN(e)?f:k(Math.abs(e),b),x&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),p&&0==+e&&"+"!==s&&(p=!1),d=(p?"("===s?s:m:"-"===s||"("===s?"":s)+d,h=("s"===w?g[8+l/3]:"")+h+(p&&"("===s?")":""),C)for(i=-1,a=e.length;++i<a;)if(48>(o=e.charCodeAt(i))||o>57){h=(46===o?u+e.slice(i+1):e.slice(i))+h,e=e.slice(0,i);break}}_&&!y&&(e=n(e,1/0));var L=d.length+e.length+h.length,N=L<v?new Array(v-L+1).join(t):"";switch(_&&y&&(e=n(N+e,N.length?v-h.length:1/0),N=""),r){case"<":e=d+e+h+N;break;case"=":e=d+N+e+h;break;case"^":e=N.slice(0,L=N.length>>1)+d+e+h+N.slice(L);break;default:e=N+d+e+h}return c(e)}return b=void 0===b?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),L.toString=function(){return e+""},L}return{format:v,formatPrefix:function(e,t){var r=v(((e=a(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor((0,s.Z)(t)/3))),i=Math.pow(10,-n),o=g[8+n/3];return function(e){return r(i*e)+o}}}}p=v({thousands:",",grouping:[3],currency:["$",""]}),m=p.format,f=p.formatPrefix;var _=r(10002);function b(e,t,r,i){var o,l=(0,n.ly)(e,t,r);switch((i=a(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,s.Z)(t)/3)))-(0,s.Z)(Math.abs(e)))}(l,u))||(i.precision=o),f(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=(0,_.Z)(l,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(e){return Math.max(0,-(0,s.Z)(Math.abs(e)))}(l))||(i.precision=o-2*("%"===i.type))}return m(i)}function x(e){var t=e.domain;return e.ticks=function(e){var r=t();return(0,n.ZP)(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return b(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var i,a,o=t(),s=0,l=o.length-1,u=o[s],c=o[l],d=10;for(c<u&&(a=u,u=c,c=a,a=s,s=l,l=a);d-- >0;){if((a=(0,n.G9)(u,c,r))===i)return o[s]=u,o[l]=c,t(o);if(a>0)u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a}i=a}return e},e}var w=r(10004),T=r(42775);function S(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function k(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function C(e){return e<0?-e*e:e*e}function L(e){var t=e(w.yR,w.yR),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(w.yR,w.yR):.5===r?e(k,C):e(S(r),S(1/r)):r},x(t)}function N(){var e=L((0,w.l4)());return e.copy=function(){return(0,w.JG)(e,N()).exponent(e.exponent())},T.o.apply(e,arguments),e}function A(){return N.apply(null,arguments).exponent(.5)}},51175:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Ze});var n=r(31102),i=r(67717),a=r(33448),o=r(94492),s=r(7780),l=r(87302),u=r(14056),c=r(17406),d=r(74345),h=r(43922),p=r(1416);function m(e,t,r,l,u,c){const d=[[s.E,1,a.Ym],[s.E,5,5*a.Ym],[s.E,15,15*a.Ym],[s.E,30,30*a.Ym],[c,1,a.yB],[c,5,5*a.yB],[c,15,15*a.yB],[c,30,30*a.yB],[u,1,a.Y2],[u,3,3*a.Y2],[u,6,6*a.Y2],[u,12,12*a.Y2],[l,1,a.UD],[l,2,2*a.UD],[r,1,a.iM],[t,1,a.jz],[t,3,3*a.jz],[e,1,a.qz]];function h(t,r,s){const l=Math.abs(r-t)/s,u=(0,n.Z)((([,,e])=>e)).right(d,l);if(u===d.length)return e.every((0,i.ly)(t/a.qz,r/a.qz,s));if(0===u)return o.A.every(Math.max((0,i.ly)(t,r,s),1));const[c,h]=d[l/d[u-1][2]<d[u][2]/l?u-1:u];return c.every(h)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const i=r&&"function"==typeof r.range?r:h(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},h]}const[f,y]=m(p.ol,h.me,d.pI,c.KB,u.lM,l.rz),[g,v]=m(p.jB,h.F0,d.Zy,c.rr,u.WQ,l.Z_);function _(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function x(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var w,T,S={"-":"",_:" ",0:"0"},k=/^\s*\d+/,C=/^%/,L=/[\\^$*+?|[\]().{}]/g;function N(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function A(e){return e.replace(L,"\\$&")}function O(e){return new RegExp("^(?:"+e.map(A).join("|")+")","i")}function E(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function P(e,t,r){var n=k.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function M(e,t,r){var n=k.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function I(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function D(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function z(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function R(e,t,r){var n=k.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function F(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function B(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function j(e,t,r){var n=k.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function U(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function V(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function W(e,t,r){var n=k.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function q(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function G(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Z(e,t,r){var n=k.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $(e,t,r){var n=k.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Y(e,t,r){var n=k.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function H(e,t,r){var n=C.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function J(e,t,r){var n=k.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function X(e,t,r){var n=k.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Q(e,t){return N(e.getDate(),t,2)}function K(e,t){return N(e.getHours(),t,2)}function ee(e,t){return N(e.getHours()%12||12,t,2)}function te(e,t){return N(1+c.rr.count((0,p.jB)(e),e),t,3)}function re(e,t){return N(e.getMilliseconds(),t,3)}function ne(e,t){return re(e,t)+"000"}function ie(e,t){return N(e.getMonth()+1,t,2)}function ae(e,t){return N(e.getMinutes(),t,2)}function oe(e,t){return N(e.getSeconds(),t,2)}function se(e){var t=e.getDay();return 0===t?7:t}function le(e,t){return N(d.Zy.count((0,p.jB)(e)-1,e),t,2)}function ue(e){var t=e.getDay();return t>=4||0===t?(0,d.Ig)(e):d.Ig.ceil(e)}function ce(e,t){return e=ue(e),N(d.Ig.count((0,p.jB)(e),e)+(4===(0,p.jB)(e).getDay()),t,2)}function de(e){return e.getDay()}function he(e,t){return N(d.Ox.count((0,p.jB)(e)-1,e),t,2)}function pe(e,t){return N(e.getFullYear()%100,t,2)}function me(e,t){return N((e=ue(e)).getFullYear()%100,t,2)}function fe(e,t){return N(e.getFullYear()%1e4,t,4)}function ye(e,t){var r=e.getDay();return N((e=r>=4||0===r?(0,d.Ig)(e):d.Ig.ceil(e)).getFullYear()%1e4,t,4)}function ge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+N(t/60|0,"0",2)+N(t%60,"0",2)}function ve(e,t){return N(e.getUTCDate(),t,2)}function _e(e,t){return N(e.getUTCHours(),t,2)}function be(e,t){return N(e.getUTCHours()%12||12,t,2)}function xe(e,t){return N(1+c.AN.count((0,p.ol)(e),e),t,3)}function we(e,t){return N(e.getUTCMilliseconds(),t,3)}function Te(e,t){return we(e,t)+"000"}function Se(e,t){return N(e.getUTCMonth()+1,t,2)}function ke(e,t){return N(e.getUTCMinutes(),t,2)}function Ce(e,t){return N(e.getUTCSeconds(),t,2)}function Le(e){var t=e.getUTCDay();return 0===t?7:t}function Ne(e,t){return N(d.pI.count((0,p.ol)(e)-1,e),t,2)}function Ae(e){var t=e.getUTCDay();return t>=4||0===t?(0,d.hB)(e):d.hB.ceil(e)}function Oe(e,t){return e=Ae(e),N(d.hB.count((0,p.ol)(e),e)+(4===(0,p.ol)(e).getUTCDay()),t,2)}function Ee(e){return e.getUTCDay()}function Pe(e,t){return N(d.l6.count((0,p.ol)(e)-1,e),t,2)}function Me(e,t){return N(e.getUTCFullYear()%100,t,2)}function Ie(e,t){return N((e=Ae(e)).getUTCFullYear()%100,t,2)}function De(e,t){return N(e.getUTCFullYear()%1e4,t,4)}function ze(e,t){var r=e.getUTCDay();return N((e=r>=4||0===r?(0,d.hB)(e):d.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function Re(){return"+0000"}function Fe(){return"%"}function Be(e){return+e}function je(e){return Math.floor(+e/1e3)}w=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=O(i),h=E(i),p=O(a),m=E(a),f=O(o),y=E(o),g=O(s),v=E(s),w=O(l),T=E(l),k={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Q,e:Q,f:ne,g:me,G:ye,H:K,I:ee,j:te,L:re,m:ie,M:ae,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Be,s:je,S:oe,u:se,U:le,V:ce,w:de,W:he,x:null,X:null,y:pe,Y:fe,Z:ge,"%":Fe},C={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:ve,e:ve,f:Te,g:Ie,G:ze,H:_e,I:be,j:xe,L:we,m:Se,M:ke,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Be,s:je,S:Ce,u:Le,U:Ne,V:Oe,w:Ee,W:Pe,x:null,X:null,y:Me,Y:De,Z:Re,"%":Fe},L={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=y.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=m.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=w.exec(t.slice(r));return n?(e.m=T.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return ue(e,t,r,n)},d:V,e:V,f:Y,g:F,G:R,H:q,I:q,j:W,L:$,m:U,M:G,p:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=h.get(n[0].toLowerCase()),r+n[0].length):-1},q:j,Q:J,s:X,S:Z,u:M,U:I,V:D,w:P,W:z,x:function(e,t,n){return ue(e,r,t,n)},X:function(e,t,r){return ue(e,n,t,r)},y:F,Y:R,Z:B,"%":H};function N(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=S[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function A(e,t){return function(r){var n,i,a=x(1900,void 0,1);if(ue(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=b(x(a.y,0,1))).getUTCDay(),n=i>4||0===i?d.l6.ceil(n):(0,d.l6)(n),n=c.AN.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=_(x(a.y,0,1))).getDay(),n=i>4||0===i?d.Ox.ceil(n):(0,d.Ox)(n),n=c.rr.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?b(x(a.y,0,1)).getUTCDay():_(x(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,b(a)):_(a)}}function ue(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=L[i in S?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return k.x=N(r,k),k.X=N(n,k),k.c=N(t,k),C.x=N(r,C),C.X=N(n,C),C.c=N(t,C),{format:function(e){var t=N(e+="",k);return t.toString=function(){return e},t},parse:function(e){var t=A(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=N(e+="",C);return t.toString=function(){return e},t},utcParse:function(e){var t=A(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),T=w.format,w.parse,w.utcFormat,w.utcParse;var Ue=r(10004),Ve=r(42775);function We(e){return new Date(e)}function qe(e){return e instanceof Date?+e:+new Date(+e)}function Ge(e,t,r,n,i,a,o,s,l,u){var c=(0,Ue.ZP)(),d=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),f=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),v=u("%b %d"),_=u("%B"),b=u("%Y");function x(e){return(l(e)<e?p:s(e)<e?m:o(e)<e?f:a(e)<e?y:n(e)<e?i(e)<e?g:v:r(e)<e?_:b)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?h(Array.from(e,qe)):h().map(We)},c.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var r=h();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(function(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}(r,e)):c},c.copy=function(){return(0,Ue.JG)(c,Ge(e,t,r,n,i,a,o,s,l,u))},c}function Ze(){return Ve.o.apply(Ge(g,v,p.jB,h.F0,d.Zy,c.rr,u.WQ,l.Z_,s.E,T).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},54500:(e,t,r)=>{"use strict";function n(){}function i(e){return null==e?n:function(){return this.querySelector(e)}}function a(){return[]}function o(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function s(e){return function(t){return t.matches(e)}}r.d(t,{Z:()=>he});var l=Array.prototype.find;function u(){return this.firstElementChild}var c=Array.prototype.filter;function d(){return Array.from(this.children)}function h(e){return new Array(e.length)}function p(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function m(e,t,r,n,i,a){for(var o,s=0,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],n[s]=o):r[s]=new p(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function f(e,t,r,n,i,a,o){var s,l,u,c=new Map,d=t.length,h=a.length,m=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(m[s]=u=o.call(l,l.__data__,s,t)+"",c.has(u)?i[s]=l:c.set(u,l));for(s=0;s<h;++s)u=o.call(e,a[s],s,a)+"",(l=c.get(u))?(n[s]=l,l.__data__=a[s],c.delete(u)):r[s]=new p(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(m[s])===l&&(i[s]=l)}function y(e){return e.__data__}function g(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function v(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}p.prototype={constructor:p,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var _="http://www.w3.org/1999/xhtml";const b={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),b.hasOwnProperty(t)?{space:b[t],local:e}:e}function w(e){return function(){this.removeAttribute(e)}}function T(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S(e,t){return function(){this.setAttribute(e,t)}}function k(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function C(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function L(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function N(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function A(e){return function(){this.style.removeProperty(e)}}function O(e,t,r){return function(){this.style.setProperty(e,t,r)}}function E(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function P(e){return function(){delete this[e]}}function M(e,t){return function(){this[e]=t}}function I(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function D(e){return e.trim().split(/^|\s+/)}function z(e){return e.classList||new R(e)}function R(e){this._node=e,this._names=D(e.getAttribute("class")||"")}function F(e,t){for(var r=z(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function B(e,t){for(var r=z(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function j(e){return function(){F(this,e)}}function U(e){return function(){B(this,e)}}function V(e,t){return function(){(t.apply(this,arguments)?F:B)(this,e)}}function W(){this.textContent=""}function q(e){return function(){this.textContent=e}}function G(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Z(){this.innerHTML=""}function $(e){return function(){this.innerHTML=e}}function Y(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function H(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===_&&t.documentElement.namespaceURI===_?t.createElement(e):t.createElementNS(r,e)}}function Q(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function K(e){var t=x(e);return(t.local?Q:X)(t)}function ee(){return null}function te(){var e=this.parentNode;e&&e.removeChild(this)}function re(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ne(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ie(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,a=t.length;n<a;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function ae(e,t,r){return function(){var n,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((n=i[o]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),void(n.value=t);this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function oe(e,t,r){var n=N(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function se(e,t){return function(){return oe(this,e,t)}}function le(e,t){return function(){return oe(this,e,t.apply(this,arguments))}}R.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ue=[null];function ce(e,t){this._groups=e,this._parents=t}function de(){return new ce([[document.documentElement]],ue)}ce.prototype=de.prototype={constructor:ce,select:function(e){"function"!=typeof e&&(e=i(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o,s,l=t[a],u=l.length,c=n[a]=new Array(u),d=0;d<u;++d)(o=l[d])&&(s=e.call(o,o.__data__,d,l))&&("__data__"in o&&(s.__data__=o.__data__),c[d]=s);return new ce(n,this._parents)},selectAll:function(e){e="function"==typeof e?o(e):function(e){return null==e?a:function(){return this.querySelectorAll(e)}}(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var l,u=t[s],c=u.length,d=0;d<c;++d)(l=u[d])&&(n.push(e.call(l,l.__data__,d,u)),i.push(l));return new ce(n,i)},selectChild:function(e){return this.select(null==e?u:function(e){return function(){return l.call(this.children,e)}}("function"==typeof e?e:s(e)))},selectChildren:function(e){return this.selectAll(null==e?d:function(e){return function(){return c.call(this.children,e)}}("function"==typeof e?e:s(e)))},filter:function(e){"function"!=typeof e&&(e=function(e){return function(){return this.matches(e)}}(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new ce(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,y);var r,n=t?f:m,i=this._parents,a=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var d=i[c],h=a[c],p=h.length,v=g(e.call(d,d&&d.__data__,c,i)),_=v.length,b=l[c]=new Array(_),x=s[c]=new Array(_);n(d,h,b,x,u[c]=new Array(p),v,t);for(var w,T,S=0,k=0;S<_;++S)if(w=b[S]){for(S>=k&&(k=S+1);!(T=x[k])&&++k<_;);w._next=T||null}}return(s=new ce(s,i))._enter=l,s._exit=u,s},enter:function(){return new ce(this._enter||this._groups.map(h),this._parents)},exit:function(){return new ce(this._exit||this._groups.map(h),this._parents)},join:function(e,t,r){var n=this.enter(),i=this,a=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==r?a.remove():r(a),n&&i?n.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u,c=r[l],d=n[l],h=c.length,p=s[l]=new Array(h),m=0;m<h;++m)(u=c[m]||d[m])&&(p[m]=u);for(;l<i;++l)s[l]=r[l];return new ce(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],a=i.length-1,o=i[a];--a>=0;)(n=i[a])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=v);for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o,s=r[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(t)}return new ce(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,a=t[r],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var r=x(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?T:w:"function"==typeof t?r.local?L:C:r.local?k:S)(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?A:"function"==typeof t?E:O)(e,t,null==r?"":r)):function(e,t){return e.style.getPropertyValue(t)||N(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?P:"function"==typeof t?I:M)(e,t)):this.node()[e]},classed:function(e,t){var r=D(e+"");if(arguments.length<2){for(var n=z(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?V:t?j:U)(r,t))},text:function(e){return arguments.length?this.each(null==e?W:("function"==typeof e?G:q)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Z:("function"==typeof e?Y:$)(e)):this.node().innerHTML},raise:function(){return this.each(H)},lower:function(){return this.each(J)},append:function(e){var t="function"==typeof e?e:K(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var r="function"==typeof e?e:K(e),n=null==t?ee:"function"==typeof t?t:i(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(te)},clone:function(e){return this.select(e?ne:re)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?ae:ie,n=0;n<o;++n)this.each(s(a[n],t,r));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(n=0,l=s[u];n<o;++n)if((i=a[n]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?le:se)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n,i=e[t],a=0,o=i.length;a<o;++a)(n=i[a])&&(yield n)}};function he(e){return"string"==typeof e?new ce([[document.querySelector(e)]],[document.documentElement]):new ce([[e]],ue)}},17406:(e,t,r)=>{"use strict";r.d(t,{AN:()=>o,KB:()=>s,rr:()=>a});var n=r(70987),i=r(33448);const a=(0,n.J)((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.UD),(e=>e.getDate()-1)),o=(a.range,(0,n.J)((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/i.UD),(e=>e.getUTCDate()-1))),s=(o.range,(0,n.J)((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/i.UD),(e=>Math.floor(e/i.UD))));s.range},33448:(e,t,r)=>{"use strict";r.d(t,{UD:()=>o,Y2:()=>a,Ym:()=>n,iM:()=>s,jz:()=>l,qz:()=>u,yB:()=>i});const n=1e3,i=60*n,a=60*i,o=24*a,s=7*o,l=30*o,u=365*o},14056:(e,t,r)=>{"use strict";r.d(t,{WQ:()=>a,lM:()=>o});var n=r(70987),i=r(33448);const a=(0,n.J)((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym-e.getMinutes()*i.yB)}),((e,t)=>{e.setTime(+e+t*i.Y2)}),((e,t)=>(t-e)/i.Y2),(e=>e.getHours())),o=(a.range,(0,n.J)((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*i.Y2)}),((e,t)=>(t-e)/i.Y2),(e=>e.getUTCHours())));o.range},70987:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});const n=new Date,i=new Date;function a(e,t,r,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=t=>(e(t=new Date(+t)),t),s.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),s.round=e=>{const t=s(e),r=s.ceil(e);return e-t<r-e?t:r},s.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),s.range=(r,n,i)=>{const a=[];if(r=s.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return a;let o;do{a.push(o=new Date(+r)),t(r,i),e(r)}while(o<r&&r<n);return a},s.filter=r=>a((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(s.count=(t,a)=>(n.setTime(+t),i.setTime(+a),e(n),e(i),Math.floor(r(n,i))),s.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?t=>o(t)%e==0:t=>s.count(0,t)%e==0):s:null)),s}},94492:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(70987);const i=(0,n.J)((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,n.J)((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):i:null);i.range},87302:(e,t,r)=>{"use strict";r.d(t,{Z_:()=>a,rz:()=>o});var n=r(70987),i=r(33448);const a=(0,n.J)((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym)}),((e,t)=>{e.setTime(+e+t*i.yB)}),((e,t)=>(t-e)/i.yB),(e=>e.getMinutes())),o=(a.range,(0,n.J)((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*i.yB)}),((e,t)=>(t-e)/i.yB),(e=>e.getUTCMinutes())));o.range},43922:(e,t,r)=>{"use strict";r.d(t,{F0:()=>i,me:()=>a});var n=r(70987);const i=(0,n.J)((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),a=(i.range,(0,n.J)((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth())));a.range},7780:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(70987),i=r(33448);const a=(0,n.J)((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*i.Ym)}),((e,t)=>(t-e)/i.Ym),(e=>e.getUTCSeconds()));a.range},74345:(e,t,r)=>{"use strict";r.d(t,{Ig:()=>c,Ox:()=>s,Zy:()=>o,hB:()=>v,l6:()=>f,pI:()=>m});var n=r(70987),i=r(33448);function a(e){return(0,n.J)((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.iM))}const o=a(0),s=a(1),l=a(2),u=a(3),c=a(4),d=a(5),h=a(6);o.range,s.range,l.range,u.range,c.range,d.range,h.range;function p(e){return(0,n.J)((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/i.iM))}const m=p(0),f=p(1),y=p(2),g=p(3),v=p(4),_=p(5),b=p(6);m.range,f.range,y.range,g.range,v.range,_.range,b.range},1416:(e,t,r)=>{"use strict";r.d(t,{jB:()=>i,ol:()=>a});var n=r(70987);const i=(0,n.J)((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));i.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,n.J)((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;i.range;const a=(0,n.J)((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));a.every=e=>isFinite(e=Math.floor(e))&&e>0?(0,n.J)((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;a.range}}]);