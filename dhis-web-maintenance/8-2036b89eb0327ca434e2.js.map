{"version":3,"sources":["webpack:///8-2036b89eb0327ca434e2.js","webpack:///./src/EditModel/EditDataSetSections.component.js","webpack:///./src/List/HelpLink.component.js?e268****","webpack:///./src/config/inlinehelp-mapping.json?abd3****","webpack:///./~/d2-ui/lib/i18n/TranslationDialog.component.js?7850***","webpack:///./~/d2-ui/lib/i18n/LocaleSelector.component.js?7c14***","webpack:///./~/d2-ui/lib/i18n/TranslationForm.component.js?f3ce***","webpack:///./~/d2-ui/lib/i18n/translationForm.actions.js?cdfe***","webpack:///./src/EditModel/FormHeading.js?6597**","webpack:///./src/EditModel/BackButton.component.js?d1ea**","webpack:///./~/d2-ui/lib/loading-mask/LoadingMask.component.js?df9e","webpack:///./src/EditModel/FormSubHeading.js?4a65","webpack:///./src/EditModel/GreyFieldDialog.component.js","webpack:///./src/EditModel/SectionDialog.component.js"],"names":["webpackJsonp","3296","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__","__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default","__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__","__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__","__WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_12__FormHeading__","__WEBPACK_IMPORTED_MODULE_13__FormSubHeading__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","styles","heading","paddingBottom","fab","textAlign","marginTop","bottom","right","position","zIndex","EditDataSetSections","_Component","context","this","_this","getPrototypeOf","handleTranslationSaved","show","message","translate","handleTranslationErrored","errorMessage","a","error","action","state","categoryCombos","editSectionModel","greyFieldSectionModel","Promise","all","d2","Api","getApi","get","params","modelId","join","fields","paging","then","_ref","_ref2","catComboList","sections","sectionArray","toArray","setState","sort","b","sortOrder","map","cc","id","text","displayName","getTranslation","handleAddSectionClick","bind","handleEditSectionClick","handleSectionSaved","handleDeleteSectionClick","handleTranslateSectionClick","handleSectionGreyFieldsClick","swapSections","moveSectionUp","moveSectionDown","i18n","newSection","models","assign","dataSet","reduce","p","s","Math","max","savedSection","_this2","replaced","forceUpdate","section","_this3","onActionTouchTap","delete","newSections","filter","catch","warn","translationModel","sectionA","sectionB","_this4","swapOrder","save","currentIndex","indexOf","swapSection","_this5","contextActions","edit","manage_grey_fields","move_up","move_down","contextMenuIcons","contextActionChecker","model","createElement","schema","groupName","columns","rows","contextMenuActions","primaryAction","isContextActionAllowed","open","sectionModel","onRequestClose","onSaveSection","onRequestSave","objectToTranslate","objectTypeToTranslate","modelDefinition","onTranslationSaved","onTranslationError","fieldsToTranslate","style","onClick","className","propTypes","any","isRequired","contextTypes","3336","mappingPathExists","mappingKey","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default","getDocsVersion","major","minor","snapshot","replacePlaceholder","variablesToReplace","placeholderRegex","replace","match","variable","has","replaceMappingPathPlaceholder","path","keys","find","pathToMatch","RegExp","test","getPartialHelpContentPath","replacedMappingPath","variablesToReplaceCamel","findHelpLinkForPath","Map","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__","HelpLink","_ref3","window","location","hash","docsVersion","system","version","docsLink","helpLink","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default","href","rel","tooltip","tooltipPosition","iconClassName","iconStyle","top","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__","string","object","3347","exports","/list/categorySection","/list/dataElementSection","/list/dataSetSection","/edit/dataSetSection/dataSet/${objectId}/sections","/edit/dataSetSection/dataSetNotificationTemplate","/edit/dataSetSection/dataSet","/list/indicatorSection/programIndicatorGroup","/list/indicatorSection/programIndicator","/list/indicatorSection","/edit/indicatorSection/programIndicator","/edit/indicatorSection/programIndicatorGroup","/list/organisationUnitSection/organisationUnitLevel","/list/organisationUnitSection","organisationUnitSection/hierarchy","/list/programSection/trackedEntity","/list/programSection/programRuleVariable","/list/programSection/program/","/list/programSection/${objectType}","/list/programSection","/edit/programSection/program/","/edit/programSection/trackedEntityType","/edit/programSection/${objectType}","/list/validationSection","/edit/validationSection/validationNotificationTemplate","/edit/otherSection/attribute","/list/otherSection/optionGroup","/list/otherSection/optionGroupSet","/list/otherSection/legendSet","/edit/otherSection/legendSet","/list/otherSection/predictorGroup","/list/otherSection/pushAnalysis","/edit/otherSection/pushAnalysis","/list/otherSection/externalMapLayer","/list/otherSection/locale","/edit/otherSection/locale","/list/otherSection/sqlView","/edit/otherSection/sqlView","/edit/","/list/","3348","__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__","_extends","arguments","source","hasOwnProperty","TranslationDialog","TranslationForm","translationSaved","translationError","closeTranslationDialog","title","autoDetectWindowHeight","autoScrollBodyContent","onCancel","newProps","args","shape","func","bool","array","3363","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default","LocaleSelector","onLocaleChange","event","index","locale","onChange","localeMenuItems","payload","concat","locales","primaryText","name","fullWidth","hintText","arrayOf","3364","getTranslationFormData","translationStore","__WEBPACK_IMPORTED_MODULE_9__store_Store__","__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__","subscribe","translations","__WEBPACK_IMPORTED_MODULE_5_rxjs__","combineLatest","_len","data","_key","apply","setTranslations","getTranslationFormFor","__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__","__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__","loading","translationValues","currentSelectedLocale","setCurrentLocale","setValue","property","newTranslations","translation","t","toLowerCase","toUpperCase","saveTranslations","mode","fieldName","floatingLabelText","getTranslationValueFor","renderFieldsToTranslate","label","primary","marginLeft","minHeight","renderForm","renderHelpText","getLoadingdataElement","defaultProps","3365","getLocales","localePromise","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_1_rxjs__","fromPromise","getModelHref","apiEndpoint","getTranslationsForModel","of","flatMap","reject","Error","d","__WEBPACK_IMPORTED_MODULE_2__action_Action__","_ref$data","complete","translationHref","update","dataType","3382","_objectWithoutProperties","obj","FormHeading","level","children","isDirtyHandler","skipTranslation","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_5__BackButton_component__","__WEBPACK_IMPORTED_MODULE_6__router_utils__","goToAndScrollUp","__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__","oneOfType","number","3386","BackButton","_props$isDirtyHandler","__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__","getState","otherProps","onClickWithConfirm","dirty","confirm","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__","PropTypes","3486","LoadingMask","_ref$style","_ref$large","large","_ref$small","small","__WEBPACK_IMPORTED_MODULE_1_react___default","loadingStatusMask","__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__","__WEBPACK_IMPORTED_MODULE_0_prop_types__","__WEBPACK_IMPORTED_MODULE_0_prop_types___default","__WEBPACK_IMPORTED_MODULE_1_react__","left","3675","FormSubHeading","defaultStyle","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__","fontSize","paddingTop","fontWeight","3855","_toConsumableArray","arr2","from","__WEBPACK_IMPORTED_MODULE_1_loglevel__","__WEBPACK_IMPORTED_MODULE_1_loglevel___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default","__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__","__WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_8__modelToEditStore__","dialogContent","maxWidth","dialogDiv","overflowX","overflowY","table","borderSpacing","borderCollapse","margin","th","whiteSpace","border","padding","thDataElements","background","td","minWidth","tdDataElement","GreyFieldDialog","_React$Component","categories","closeDialog","handleSaveClick","dataElements","info","cocMap","categoryArrayToMap","appendage","reduceAppendage","prev","categoryOption","out","pop","categoryOptions","assignCocs","options","coc","keyPos","splice","list","forEach","categoryCombo","JSON","parse","stringify","categoryOptionCombos","optionPath","o","greyedFields","gf","dataElement","categoryOptionCombo","currentCategoryCombo","optionCount","oc","c","size","res","prevRowColCount","cat","catNum","colSpan","slice","product","isLastHeader","row","e","rep","opt","optNum","fieldArray","fieldNum","resolveCoc","shift","isGreyed","toggleBoggle","dataElementId","categoryOptionComboId","disable","greyedCocs","includes","deId","checked","labelPosition","labelStyle","onCheck","_this6","getCocFields","pout","currentSectionDataElementIds","de","dataSetElements","dse","deNum","cocFields","renderCheckbox","_this7","_props","extraProps","uniqueCatComboIds","sectionDataElementIds","categoryCombosForSection","catCombos","catCombo","localeCompare","contentStyle","actions","onTouchTap","marginRight","labelText","width","renderTableHeader","renderDataElements","Component","3856","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default","__WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__","dataElementStore","assignedDataElementStore","indicatorStore","assignedIndicatorStore","SectionDialog","setAssignedDataElements","setAssignedIndicators","indicators","removeIndicators","resolve","assignIndicators","handleRowTotalsChange","showRowTotals","handleColumnTotalsChange","showColumnTotals","handleDisableDataElementAutoGroupChange","disableDataElementAutoGroup","handleFilterChange","filterText","handleNameChange","nameDupe","nameError","handleCodeChange","codeDupe","code","codeError","handleDescriptionChange","description","assignDataElements","removeDataElements","handleCategoryComboChange","categoryComboId","filterDataElementIds","saveSection","trim","response","uid","renderFilters","disabled","defaultValue","renderAvailableOptions","display","lineHeight","color","editorStyle","marginBottom","itemStore","assignedItemStore","onAssignItems","onRemoveItems","onOrderChanged","height","subscriptions","currentSectionId","otherSections","elements","disposable","unsubscribe","sectionIdDiv","float","fontFamily","validateName","errorText","onBlur","multiLine"],"mappings":"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","file":"8-2036b89eb0327ca434e2.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 3296:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__ = __webpack_require__(3348);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__ = __webpack_require__(3486);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__ = __webpack_require__(1307);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__ = __webpack_require__(1309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__ = __webpack_require__(721);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__ = __webpack_require__(3856);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__ = __webpack_require__(3855);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(244);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__FormHeading__ = __webpack_require__(3382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__ = __webpack_require__(3675);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    heading: {\n        paddingBottom: 18\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10\n    }\n};\n\nvar EditDataSetSections = function (_Component) {\n    _inherits(EditDataSetSections, _Component);\n\n    function EditDataSetSections(props, context) {\n        _classCallCheck(this, EditDataSetSections);\n\n        var _this = _possibleConstructorReturn(this, (EditDataSetSections.__proto__ || Object.getPrototypeOf(EditDataSetSections)).call(this, props, context));\n\n        _this.handleTranslationSaved = function () {\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_saved', translate: true });\n        };\n\n        _this.handleTranslationErrored = function (errorMessage) {\n            __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(errorMessage);\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_save_error', action: 'ok', translate: true });\n        };\n\n        _this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false\n        };\n\n        Promise.all([context.d2.Api.getApi().get(['dataSets', props.params.modelId, 'categoryCombos'].join('/'), { fields: 'id,displayName', paging: false })]).then(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 1),\n                catComboList = _ref2[0];\n\n            var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n            var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            _this.setState({\n                sections: sectionArray.sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                }),\n                categoryCombos: catComboList.categoryCombos.map(function (cc) {\n                    return {\n                        value: cc.id,\n                        text: cc.displayName === 'default' ? _this.getTranslation('none') : cc.displayName\n                    };\n                })\n            });\n        });\n\n        _this.handleAddSectionClick = _this.handleAddSectionClick.bind(_this);\n        _this.handleEditSectionClick = _this.handleEditSectionClick.bind(_this);\n        _this.handleSectionSaved = _this.handleSectionSaved.bind(_this);\n\n        _this.handleDeleteSectionClick = _this.handleDeleteSectionClick.bind(_this);\n        _this.handleTranslateSectionClick = _this.handleTranslateSectionClick.bind(_this);\n        _this.handleTranslationSaved = _this.handleTranslationSaved.bind(_this);\n        _this.handleTranslationErrored = _this.handleTranslationErrored.bind(_this);\n\n        _this.handleSectionGreyFieldsClick = _this.handleSectionGreyFieldsClick.bind(_this);\n\n        _this.swapSections = _this.swapSections.bind(_this);\n        _this.moveSectionUp = _this.moveSectionUp.bind(_this);\n        _this.moveSectionDown = _this.moveSectionDown.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(EditDataSetSections, [{\n        key: 'handleAddSectionClick',\n        value: function handleAddSectionClick() {\n            var newSection = this.context.d2.models.sections.create();\n            this.setState(function (state) {\n                return {\n                    editSectionModel: Object.assign(newSection, {\n                        dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                        sortOrder: state.sections.reduce(function (p, s) {\n                            return Math.max(s.sortOrder, p);\n                        }, 0) + 1\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'handleEditSectionClick',\n        value: function handleEditSectionClick(editSectionModel) {\n            this.setState({ editSectionModel: editSectionModel });\n        }\n    }, {\n        key: 'handleSectionSaved',\n        value: function handleSectionSaved(savedSection) {\n            var _this2 = this;\n\n            this.setState(function (state) {\n                var replaced = false;\n                var sections = state.sections.map(function (s) {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                }).sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                });\n                if (!replaced) {\n                    sections.push(savedSection);\n                }\n\n                __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, { sections: sections }));\n                return {\n                    editSectionModel: false,\n                    greyFieldSectionModel: false,\n                    sections: sections\n                };\n            }, function () {\n                _this2.forceUpdate();\n            });\n        }\n    }, {\n        key: 'handleDeleteSectionClick',\n        value: function handleDeleteSectionClick(section) {\n            var _this3 = this;\n\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                message: this.getTranslation('confirm_delete_section') + ' ' + section.displayName,\n                action: 'confirm',\n                onActionTouchTap: function onActionTouchTap() {\n                    section.delete().then(function () {\n                        var newSections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                        __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, {\n                            sections: (Array.isArray(newSections) ? newSections : newSections.toArray()).filter(function (s) {\n                                return s.id !== section.id;\n                            })\n                        }));\n\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_deleted') });\n                        _this3.setState(function (state) {\n                            return {\n                                sections: state.sections.filter(function (s) {\n                                    return s.id !== section.id;\n                                })\n                            };\n                        });\n                    }).catch(function (err) {\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to delete section', err);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'handleTranslateSectionClick',\n        value: function handleTranslateSectionClick(section) {\n            this.setState({\n                translationModel: section\n            });\n        }\n    }, {\n        key: 'handleSectionGreyFieldsClick',\n        value: function handleSectionGreyFieldsClick(section) {\n            this.setState({ greyFieldSectionModel: section });\n        }\n    }, {\n        key: 'swapSections',\n        value: function swapSections(sectionA, sectionB) {\n            var _this4 = this;\n\n            this.setState(function (state) {\n                var swapOrder = sectionA.sortOrder;\n                sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n                sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n                Promise.all([sectionA.save(), sectionB.save()]).then(function () {\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('section_moved') });\n                }).catch(function (err) {\n                    __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to swap sections:', err);\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n                return {\n                    sections: state.sections.sort(function (a, b) {\n                        return a.sortOrder - b.sortOrder;\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'moveSectionUp',\n        value: function moveSectionUp(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex > 0) {\n                var swapSection = this.state.sections[currentIndex - 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'moveSectionDown',\n        value: function moveSectionDown(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex < this.state.sections.length - 1) {\n                var swapSection = this.state.sections[currentIndex + 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var contextActions = {\n                edit: this.handleEditSectionClick,\n                delete: this.handleDeleteSectionClick,\n                translate: this.handleTranslateSectionClick,\n                manage_grey_fields: this.handleSectionGreyFieldsClick,\n                move_up: this.moveSectionUp,\n                move_down: this.moveSectionDown\n            };\n\n            var contextMenuIcons = {\n                edit: 'edit',\n                move_up: 'arrow_upward',\n                move_down: 'arrow_downward',\n                manage_grey_fields: 'do_not_disturb'\n            };\n\n            var contextActionChecker = function contextActionChecker(model, action) {\n                if (action === 'move_up') {\n                    return _this5.state.sections.indexOf(model) > 0;\n                } else if (action === 'move_down') {\n                    return _this5.state.sections.indexOf(model) < _this5.state.sections.length - 1;\n                }\n\n                return true;\n            };\n\n            return this.state.sections === undefined ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__[\"a\" /* default */], null) : __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_12__FormHeading__[\"a\" /* default */],\n                    { schema: 'dataSet', groupName: 'dataSetSection' },\n                    'section_management'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__[\"a\" /* default */],\n                    null,\n                    __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.displayName\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__[\"a\" /* default */], {\n                    columns: ['name'],\n                    rows: this.state.sections,\n                    contextMenuActions: contextActions,\n                    contextMenuIcons: contextMenuIcons,\n                    primaryAction: contextActions.edit,\n                    isContextActionAllowed: contextActionChecker\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.editSectionModel,\n                    sectionModel: this.state.editSectionModel,\n                    categoryCombos: this.state.categoryCombos,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ editSectionModel: false });\n                    },\n                    onSaveSection: this.handleSectionSaved\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.greyFieldSectionModel,\n                    sectionModel: this.state.greyFieldSectionModel,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ greyFieldSectionModel: false });\n                    },\n                    onRequestSave: this.handleSectionSaved\n                }),\n                this.state.translationModel ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__[\"a\" /* default */], {\n                    objectToTranslate: this.state.translationModel,\n                    objectTypeToTranslate: this.state.translationModel && this.state.translationModel.modelDefinition,\n                    open: !!this.state.translationModel,\n                    onTranslationSaved: this.handleTranslationSaved,\n                    onTranslationError: this.handleTranslationErrored,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ translationModel: null });\n                    },\n                    fieldsToTranslate: ['name']\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.fab },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default.a,\n                        { onClick: this.handleAddSectionClick },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default.a,\n                            { className: 'material-icons' },\n                            'add'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return EditDataSetSections;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nEditDataSetSections.propTypes = {\n    params: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\nEditDataSetSections.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditDataSetSections);\n\n/***/ }),\n\n/***/ 3336:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HelpLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__ = __webpack_require__(132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr__ = __webpack_require__(722);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__ = __webpack_require__(3347);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__);\n\n\n\n\n\n\n\n\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion(_ref) {\n    var major = _ref.major,\n        minor = _ref.minor,\n        snapshot = _ref.snapshot;\n\n    if (snapshot) {\n        return 'master';\n    }\n    return '' + major + minor;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    var placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, function (match, variable) {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a).find(function (mappingKey) {\n        var pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n        return new RegExp(pathToMatch).test(path);\n    });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    var variablesToReplace = new Map([['objectType', schema]]);\n    var variablesToReplaceCamel = new Map([['objectType', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__[\"camelCaseToUnderscores\"])(schema)]]);\n\n    var replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nfunction HelpLink(_ref2, _ref3) {\n    var schema = _ref2.schema;\n    var d2 = _ref3.d2;\n\n    var path = window.location.hash.replace(/^#/, '') // Remove leading hash\n    .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    var docsVersion = getDocsVersion(d2.system.version);\n    var docsLink = 'https://docs.dhis2.org/en/use/user-guides/dhis-core-version-' + docsVersion + '/configuring-the-system';\n    var helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default.a,\n            {\n                href: '' + docsLink + helpLink,\n                target: '_blank',\n                rel: 'noopener noreferrer',\n                tooltip: d2.i18n.getTranslation('open_user_guide'),\n                tooltipPosition: 'bottom-center',\n                iconClassName: 'material-icons',\n                iconStyle: { top: -2 }\n            },\n            'help_outline'\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n};\n\nHelpLink.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/***/ }),\n\n/***/ 3347:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"/list/categorySection\":\"/metadata.html#manage_category\",\"/list/dataElementSection\":\"/metadata.html#manage_data_element\",\"/list/dataSetSection\":\"/metadata.html#manage_data_set\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/metadata.html#manage_section_form\",\"/edit/dataSetSection/dataSetNotificationTemplate\":\"/metadata.html#create_data_set_notification\",\"/edit/dataSetSection/dataSet\":\"/metadata.html#create_data_set\",\"/list/indicatorSection/programIndicatorGroup\":\"/programs.html#manage_${objectType}\",\"/list/indicatorSection/programIndicator\":\"/programs.html#configure_program_indicator\",\"/list/indicatorSection\":\"/metadata.html#manage_indicator\",\"/edit/indicatorSection/programIndicator\":\"/programs.html#create_${objectType}\",\"/edit/indicatorSection/programIndicatorGroup\":\"/programs.html#create_${objectType}\",\"/list/organisationUnitSection/organisationUnitLevel\":\"/metadata.html#name_organisation_unit_level\",\"/list/organisationUnitSection\":\"/metadata.html#manage_organisation_unit\",\"organisationUnitSection/hierarchy\":\"/metadata.html#move_organisation_unit\",\"/list/programSection/trackedEntity\":\"/programs.html#configure_tracked_entity\",\"/list/programSection/programRuleVariable\":\"/programs.html#configure_program_rule\",\"/list/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/list/programSection/${objectType}\":\"/programs.html#configure_${objectType}\",\"/list/programSection\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/trackedEntityType\":\"/programs.html#create_tracked_entity\",\"/edit/programSection/${objectType}\":\"/programs.html#create_${objectType}\",\"/list/validationSection\":\"/metadata.html#manage_validation_rule\",\"/edit/validationSection/validationNotificationTemplate\":\"/metadata.html#create_validation_notification\",\"/edit/otherSection/attribute\":\"/metadata.html#create-or-edit-an-attribute\",\"/list/otherSection/optionGroup\":\"/metadata.html#create_option_group\",\"/list/otherSection/optionGroupSet\":\"/metadata.html#create_option_group_set\",\"/list/otherSection/legendSet\":\"/metadata.html#manage_legend\",\"/edit/otherSection/legendSet\":\"/metadata.html#create_legend\",\"/list/otherSection/predictorGroup\":\"/metadata.html#create_predictor_group\",\"/list/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/edit/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/list/otherSection/externalMapLayer\":\"/metadata.html#manage_external_maplayer\",\"/list/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/edit/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/list/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/\":\"/metadata.html#create_${objectType}\",\"/list/\":\"/metadata.html#manage_${objectType}\"}\n\n/***/ }),\n\n/***/ 3348:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__ = __webpack_require__(436);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__ = __webpack_require__(3364);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }).isRequired,\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    open: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TranslationDialog);\n\n/***/ }),\n\n/***/ 3363:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__ = __webpack_require__(316);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nLocaleSelector.propTypes = {\n    value: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    locales: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        name: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n        locale: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    })).isRequired,\n    onChange: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (LocaleSelector);\n\n/***/ }),\n\n/***/ 3364:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationFormFor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(94);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__ = __webpack_require__(3363);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__translationForm_actions__ = __webpack_require__(3365);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__ = __webpack_require__(1303);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__store_Store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__ = __webpack_require__(167);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getTranslationFormData(model) {\n    var translationStore = __WEBPACK_IMPORTED_MODULE_9__store_Store__[\"a\" /* default */].create();\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"a\" /* getTranslationsForModel */])(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_5_rxjs__[\"Observable\"].combineLatest(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"b\" /* getLocales */])(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nfunction getTranslationFormFor(model) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__[\"a\" /* default */])(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"c\" /* saveTranslations */])(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__[\"a\" /* default */], { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: fieldName },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default.a, {\n                        floatingLabelText: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__[\"a\" /* default */], { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }),\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (TranslationForm);\n\n/***/ }),\n\n/***/ 3365:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getLocales;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationsForModel;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveTranslations; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__action_Action__ = __webpack_require__(112);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\nfunction getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nfunction getTranslationsForModel(model) {\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nvar saveTranslations = __WEBPACK_IMPORTED_MODULE_2__action_Action__[\"a\" /* default */].create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n/***/ }),\n\n/***/ 3382:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(93);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__ = __webpack_require__(313);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__ = __webpack_require__(3336);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__BackButton_component__ = __webpack_require__(3386);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router_utils__ = __webpack_require__(202);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\nfunction FormHeading(_ref, context) {\n    var level = _ref.level,\n        schema = _ref.schema,\n        children = _ref.children,\n        groupName = _ref.groupName,\n        isDirtyHandler = _ref.isDirtyHandler,\n        skipTranslation = _ref.skipTranslation,\n        props = _objectWithoutProperties(_ref, ['level', 'schema', 'children', 'groupName', 'isDirtyHandler', 'skipTranslation']);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { level: level }),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__BackButton_component__[\"a\" /* default */], {\n            onClick: function onClick() {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__router_utils__[\"b\" /* goToAndScrollUp */])('/list/' + groupName + '/' + schema);\n            },\n            iconStyle: { top: 3 },\n            isDirtyHandler: isDirtyHandler\n        }),\n        skipTranslation ? children : context.d2.i18n.getTranslation(children),\n        schema && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__[\"a\" /* default */], { schema: schema })\n    );\n}\n\nFormHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array]),\n    level: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,\n    isDirtyHandler: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    groupName: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    skipTranslation: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: function isDirtyHandler() {},\n    level: 2,\n    children: '',\n    skipTranslation: false\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(FormHeading));\n\n/***/ }),\n\n/***/ 3386:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(93);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__ = __webpack_require__(244);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\nfunction BackButton(props, context) {\n    var tooltip = props.tooltip,\n        onClick = props.onClick,\n        _props$isDirtyHandler = props.isDirtyHandler,\n        isDirtyHandler = _props$isDirtyHandler === undefined ? __WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */].getState.bind(__WEBPACK_IMPORTED_MODULE_3__EditModel_modelToEditStore__[\"a\" /* default */]) : _props$isDirtyHandler,\n        otherProps = _objectWithoutProperties(props, ['tooltip', 'onClick', 'isDirtyHandler']);\n\n    var onClickWithConfirm = function onClickWithConfirm() {\n        var isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick.apply(undefined, arguments);\n        } else if (\n        // eslint-disable-next-line no-restricted-globals\n        confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick.apply(undefined, arguments);\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default.a,\n        _extends({\n            tooltip: tooltip || context.d2.i18n.getTranslation('back'),\n            tooltipPosition: 'bottom-right',\n            onClick: onClickWithConfirm\n        }, otherProps, {\n            iconClassName: 'material-icons'\n        }),\n        '\\uE5C4'\n    );\n}\nBackButton.propTypes = {\n    tooltip: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(BackButton));\n\n/***/ }),\n\n/***/ 3486:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LoadingMask;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__ = __webpack_require__(167);\n\n\n\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nfunction LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__[\"a\" /* default */], { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,\n    large: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,\n    small: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool\n};\n\n/***/ }),\n\n/***/ 3675:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__ = __webpack_require__(313);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nvar defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100\n};\n\nfunction FormSubHeading(_ref) {\n    var level = _ref.level,\n        children = _ref.children,\n        props = _objectWithoutProperties(_ref, ['level', 'children']);\n\n    var style = Object.assign({}, defaultStyle, props.style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { style: style, level: level || 3 }),\n        children\n    );\n}\nFormSubHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n    level: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.number\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FormSubHeading);\n\n/***/ }),\n\n/***/ 3855:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(436);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__ = __webpack_require__(734);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__ = __webpack_require__(244);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    dialogContent: {\n        maxWidth: 'none'\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden'\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto'\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0'\n    }\n};\n\nvar GreyFieldDialog = function (_React$Component) {\n    _inherits(GreyFieldDialog, _React$Component);\n\n    function GreyFieldDialog(props, context) {\n        _classCallCheck(this, GreyFieldDialog);\n\n        var _this = _possibleConstructorReturn(this, (GreyFieldDialog.__proto__ || Object.getPrototypeOf(GreyFieldDialog)).call(this, props, context));\n\n        _this.state = {\n            categories: []\n        };\n\n        _this.closeDialog = _this.closeDialog.bind(_this);\n        _this.handleSaveClick = _this.handleSaveClick.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(GreyFieldDialog, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            var d2 = this.context.d2;\n\n            if (props.sectionModel) {\n                var dataElements = props.sectionModel.dataElements.toArray();\n                if (dataElements.length < 1) {\n                    __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section ' + props.sectionModel.displayName + ' contains no data elements');\n                    __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                    this.props.onRequestClose();\n                    return;\n                }\n\n                var cocMap = {};\n\n                var categoryArrayToMap = function categoryArrayToMap(categories) {\n                    var appendage = null;\n\n                    var reduceAppendage = function reduceAppendage(prev, categoryOption) {\n                        var out = prev;\n                        out[categoryOption.id] = appendage;\n                        return out;\n                    };\n\n                    while (categories.length > 0) {\n                        appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                    }\n                    return appendage;\n                };\n\n                var assignCocs = function assignCocs(cocMap, options, coc) {\n                    if (options.length > 0) {\n                        return Object.keys(cocMap).reduce(function (prev, key) {\n                            var out = prev;\n                            var keyPos = options.indexOf(key);\n                            if (keyPos !== -1) {\n                                options.splice(keyPos, 1);\n                                out[key] = assignCocs(cocMap[key], options, coc);\n                                return out;\n                            }\n                            out[key] = cocMap[key];\n                            return out;\n                        }, {});\n                    }\n                    return coc;\n                };\n\n                // Use the categoryCombos associated with the section to get categories and their category options\n                d2.models.categoryCombos.list({\n                    filter: 'id:in:[' + props.sectionModel.categoryCombos.toArray().map(function (coc) {\n                        return coc.id;\n                    }) + ']',\n                    paging: false,\n                    fields: ['id,displayName', 'categories[id,displayName,categoryOptions[id,displayName]]', 'categoryOptionCombos[id,displayName', 'categoryOptions[id,displayName]]'].join(',')\n                }).then(function (categoryCombos) {\n                    categoryCombos.forEach(function (categoryCombo) {\n                        // Build a nested map of categories:\n                        // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                        //\n                        // Then convert to JSON and back as a fast way to remove any references within the structure\n                        Object.assign(cocMap, JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray()))));\n\n                        // Fill in the leaf nodes in the cocMap with the actual coc's\n                        categoryCombo.categoryOptionCombos.toArray().forEach(function (coc) {\n                            var optionPath = coc.categoryOptions.toArray().map(function (o) {\n                                return o.id;\n                            });\n                            cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                        });\n                    });\n\n                    var greyedFields = props.sectionModel.greyedFields.reduce(function (prev, gf) {\n                        if (prev.hasOwnProperty(gf.dataElement.id)) {\n                            prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                            return prev;\n                        }\n\n                        var out = prev;\n                        out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                        return out;\n                    }, {});\n\n                    _this2.setState({\n                        currentCategoryCombo: categoryCombos.toArray()[0].id,\n                        categoryCombos: categoryCombos,\n                        optionCount: categoryCombos.toArray().reduce(function (oc, cc) {\n                            oc[cc.id] = cc.categories.toArray().map(function (c) {\n                                return c.categoryOptions.size;\n                            });\n                            return oc;\n                        }, {}),\n                        cocMap: cocMap,\n                        greyedFields: greyedFields\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'closeDialog',\n        value: function closeDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'handleSaveClick',\n        value: function handleSaveClick() {\n            var _this3 = this;\n\n            var greyedFields = [];\n            Object.keys(this.state.greyedFields).forEach(function (dataElement) {\n                _this3.state.greyedFields[dataElement].forEach(function (coc) {\n                    greyedFields.push({\n                        dataElement: { id: dataElement },\n                        categoryOptionCombo: { id: coc }\n                    });\n                });\n            });\n\n            var section = Object.assign(this.props.sectionModel, { greyedFields: greyedFields });\n\n            section.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section updated', res);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_saved') });\n                _this3.props.onRequestSave(section);\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n        }\n    }, {\n        key: 'renderTableHeader',\n        value: function renderTableHeader() {\n            var _this4 = this;\n\n            var prevRowColCount = 1;\n\n            return this.state.currentCategoryCombo && this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map(function (cat, catNum) {\n                var colSpan = _this4.state.optionCount[_this4.state.currentCategoryCombo].slice(catNum + 1).reduce(function (product, optionCount) {\n                    return optionCount * product;\n                }, 1);\n\n                var isLastHeader = catNum === _this4.state.categoryCombos.get(_this4.state.currentCategoryCombo).categories.size - 1;\n                var row = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: catNum },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'th',\n                        { style: styles.thDataElements },\n                        isLastHeader && _this4.getTranslation('data_element')\n                    ),\n\n                    // For each column in the previous row...\n                    Array.apply(undefined, _toConsumableArray(Array(prevRowColCount))).map(function (e, rep) {\n                        return (\n                            // ... render the columns for this row\n                            cat.categoryOptions.toArray().map(function (opt, optNum) {\n                                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                    'th',\n                                    {\n                                        key: optNum + '.' + rep,\n                                        colSpan: colSpan,\n                                        style: styles.th\n                                    },\n                                    opt.displayName === 'default' ? '' : opt.displayName\n                                );\n                            })\n                        );\n                    })\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            });\n        }\n    }, {\n        key: 'renderCheckbox',\n        value: function renderCheckbox(dataElement, fieldArray, fieldNum) {\n            var _this5 = this;\n\n            var resolveCoc = function resolveCoc(cocMap, fields) {\n                if (fields.length === 0) {\n                    return cocMap;\n                }\n\n                var field = fields.shift();\n                return resolveCoc(cocMap[field], fields);\n            };\n\n            var coc = resolveCoc(this.state.cocMap, fieldArray);\n\n            var isGreyed = this.state.greyedFields.hasOwnProperty(dataElement.id) && this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n            var toggleBoggle = function (dataElementId, categoryOptionComboId, event, disable) {\n                _this5.setState(function (state) {\n                    var greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                    if (disable) {\n                        if (greyedCocs.includes(categoryOptionComboId)) {\n                            greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                        }\n                    } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.push(categoryOptionComboId);\n                    }\n\n                    var greyedFields = Object.keys(state.greyedFields).reduce(function (prev, deId) {\n                        var out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                    if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                        greyedFields[dataElementId] = greyedCocs;\n                    }\n\n                    return { greyedFields: greyedFields };\n                });\n            }.bind(this, dataElement.id, coc.id);\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                { key: fieldNum, style: styles.td },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default.a, {\n                    checked: !isGreyed,\n                    label: isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled'),\n                    labelPosition: 'right',\n                    labelStyle: { whiteSpace: 'nowrap' },\n                    onCheck: toggleBoggle\n                })\n            );\n        }\n    }, {\n        key: 'renderDataElements',\n        value: function renderDataElements() {\n            var _this6 = this;\n\n            var getCocFields = function getCocFields() {\n                return _this6.state.categoryCombos.get(_this6.state.currentCategoryCombo).categories.toArray().reduce(function (prev, cat) {\n                    if (prev.length > 0) {\n                        var out = [];\n                        prev.forEach(function (p) {\n                            cat.categoryOptions.toArray().forEach(function (opt) {\n                                var pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach(function (opt) {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n            };\n\n            var currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                return de.id;\n            });\n            return this.state.currentCategoryCombo ? __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                return currentSectionDataElementIds.includes(dse.dataElement.id);\n            }).filter(function (dse) {\n                return (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === _this6.state.currentCategoryCombo;\n            }).sort(function (a, b) {\n                return currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id);\n            }).map(function (dse, deNum) {\n                var cocFields = getCocFields();\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: deNum, style: { background: deNum % 2 === 0 ? 'none' : '#f0f0f0' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'td',\n                        { style: styles.tdDataElement },\n                        dse.dataElement.displayName\n                    ),\n                    cocFields.map(function (fields, fieldNum) {\n                        return _this6.renderCheckbox(dse.dataElement, fields, fieldNum);\n                    })\n                );\n            }) : null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var title = this.props.sectionModel.displayName;\n\n            var _props = this.props,\n                open = _props.open,\n                extraProps = _objectWithoutProperties(_props, ['open']);\n\n            var uniqueCatComboIds = [],\n                sectionDataElementIds = [],\n                categoryCombosForSection = [];\n\n            if (this.props.sectionModel) {\n                // Get data element ids for the current section\n                sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                });\n\n                // Get unique cat combos for data elements in current section\n                categoryCombosForSection = __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    return sectionDataElementIds.includes(dse.dataElement.id);\n                }).map(function (dse) {\n                    return dse.categoryCombo || dse.dataElement.categoryCombo;\n                }).reduce(function (catCombos, catCombo) {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, []).sort(function (a, b) {\n                    return a.displayName.localeCompare(b.displayName);\n                });\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    autoDetectWindowHeight: true,\n                    title: this.getTranslation('manage_grey_fields') + ': ' + title,\n                    style: { maxWidth: 'none' },\n                    contentStyle: styles.dialogContent,\n                    open: open && this.props.sectionModel.dataElements.size > 0\n                }, extraProps, {\n                    actions: [__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.closeDialog,\n                        style: { marginRight: 16 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.handleSaveClick\n                    })],\n                    onRequestClose: this.closeDialog\n                }),\n                this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: categoryCombosForSection.map(function (cc) {\n                        return {\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? _this7.getTranslation('none') : cc.displayName\n                        };\n                    }),\n                    labelText: this.getTranslation('category_combo'),\n                    value: this.state.currentCategoryCombo,\n                    onChange: function onChange(e) {\n                        return _this7.setState({\n                            currentCategoryCombo: e.target.value\n                        });\n                    },\n                    style: { width: '33%' },\n                    isRequired: true\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.dialogDiv },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'table',\n                        { style: styles.table },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'tbody',\n                            null,\n                            this.renderTableHeader(),\n                            this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return GreyFieldDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nGreyFieldDialog.contextTypes = { d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onRequestSave: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GreyFieldDialog);\n\n/***/ }),\n\n/***/ 3856:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(436);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__ = __webpack_require__(452);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__ = __webpack_require__(255);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(244);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dataElementStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedDataElementStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar indicatorStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedIndicatorStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\nvar SectionDialog = function (_React$Component) {\n    _inherits(SectionDialog, _React$Component);\n\n    function SectionDialog(props, context) {\n        _classCallCheck(this, SectionDialog);\n\n        var _this = _possibleConstructorReturn(this, (SectionDialog.__proto__ || Object.getPrototypeOf(SectionDialog)).call(this, props, context));\n\n        _this.setAssignedDataElements = function (dataElements) {\n            assignedDataElementStore.setState(dataElements);\n        };\n\n        _this.setAssignedIndicators = function (indicators) {\n            assignedIndicatorStore.setState(indicators);\n        };\n\n        _this.removeIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(function (i) {\n                return indicators.indexOf(i) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.assignIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n            return Promise.resolve();\n        };\n\n        _this.handleRowTotalsChange = function (e, value) {\n            _this.setState({ showRowTotals: value });\n        };\n\n        _this.handleColumnTotalsChange = function (e, value) {\n            _this.setState({ showColumnTotals: value });\n        };\n\n        _this.handleDisableDataElementAutoGroupChange = function (e, value) {\n            _this.setState({ disableDataElementAutoGroup: value });\n        };\n\n        _this.handleFilterChange = function (e) {\n            _this.setState({ filterText: e.target.value });\n        };\n\n        _this.handleNameChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var nameDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.name === e.target.value;\n            }, false);\n\n            _this.setState({ name: e.target.value, nameError: nameDupe ? _this.getTranslation('value_not_unique') : '' });\n        };\n\n        _this.handleCodeChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var codeDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.code && s.code === e.target.value;\n            }, false);\n\n            _this.setState({ code: e.target.value, codeError: codeDupe ? _this.getTranslation('value_not_unique') : '' });\n        };\n\n        _this.handleDescriptionChange = function (e) {\n            _this.setState({ description: e.target.value });\n        };\n\n        _this.assignDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n            return Promise.resolve();\n        };\n\n        _this.removeDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.filter(function (de) {\n                return dataElements.indexOf(de) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.handleCategoryComboChange = function (event) {\n            var categoryComboId = event.target.value;\n\n            if (__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.dataSetElements) {\n                dataElementStore.setState(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    if (categoryComboId) {\n                        return dse.categoryCombo ? dse.categoryCombo.id === categoryComboId : dse.dataElement.categoryCombo.id === categoryComboId;\n                    }\n                    return true;\n                }).filter(function (dse) {\n                    return _this.state.filterDataElementIds ? !_this.state.filterDataElementIds.includes(dse.dataElement.id) : true;\n                }).map(function (dse) {\n                    return { value: dse.dataElement.id, text: dse.dataElement.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n            }\n\n            _this.setState({\n                categoryCombo: categoryComboId\n            });\n        };\n\n        _this.saveSection = function () {\n            if (!_this.state.name || _this.state.name.trim().length === 0) {\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('name_is_required'),\n                    action: _this.getTranslation('ok')\n                });\n                return;\n            }\n\n            var sectionModel = _this.props.sectionModel.id ? _this.props.sectionModel : _this.props.sectionModel.modelDefinition.create();\n            Object.assign(sectionModel, {\n                dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                name: _this.state.name,\n                code: _this.state.code,\n                description: _this.state.description,\n                showRowTotals: _this.state.showRowTotals,\n                showColumnTotals: _this.state.showColumnTotals,\n                disableDataElementAutoGroup: _this.state.disableDataElementAutoGroup,\n                dataElements: assignedDataElementStore.state.map(function (de) {\n                    return { id: de };\n                }),\n                indicators: assignedIndicatorStore.state.map(function (i) {\n                    return { id: i };\n                }),\n                sortOrder: _this.props.sectionModel.sortOrder || __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections.toArray().reduce(function (prev, s) {\n                    return Math.max(prev, s.sortOrder + 1);\n                }, 0)\n            });\n            sectionModel.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this.getTranslation('section_saved') });\n                _this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [':all,dataElements[id,categoryCombo[id,displayName]]', 'greyedFields[categoryOptionCombo,dataElement]'].join(',')\n                }).then(function (section) {\n                    _this.props.onSaveSection(section);\n                });\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.warn('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('failed_to_save_section'),\n                    action: _this.getTranslation('ok')\n                });\n            });\n        };\n\n        _this.renderFilters = function () {\n            var catCombos = [{ value: false, text: _this.getTranslation('no_filter') }].concat(_this.props.categoryCombos.sort(function (a, b) {\n                return a.text.localeCompare(b.text);\n            }));\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minWidth: 605 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: catCombos,\n                    labelText: _this.getTranslation('category_combo_filter'),\n                    onChange: _this.handleCategoryComboChange,\n                    value: _this.state.categoryCombo,\n                    isRequired: true,\n                    disabled: _this.props.categoryCombos.length === 1,\n                    style: { width: 284 }\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    fullWidth: true,\n                    hintText: _this.getTranslation('search_available_selected_items'),\n                    defaultValue: _this.state.filterText,\n                    onChange: _this.handleFilterChange\n                })\n            );\n        };\n\n        _this.renderAvailableOptions = function () {\n            var labelStyle = {\n                position: 'relative',\n                display: 'block',\n                width: '100%',\n                lineHeight: '24px',\n                color: 'rgba(0,0,0,0.3)',\n                marginTop: '1.25rem',\n                fontSize: 16\n            };\n\n            var editorStyle = {\n                marginBottom: 80\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('data_elements')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: dataElementStore,\n                        assignedItemStore: assignedDataElementStore,\n                        onAssignItems: _this.assignDataElements,\n                        onRemoveItems: _this.removeDataElements,\n                        onOrderChanged: _this.setAssignedDataElements,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ),\n                indicatorStore.state.length ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('indicators')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: indicatorStore,\n                        assignedItemStore: assignedIndicatorStore,\n                        onAssignItems: _this.assignIndicators,\n                        onRemoveItems: _this.removeIndicators,\n                        onOrderChanged: _this.setAssignedIndicators,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ) : null\n            );\n        };\n\n        _this.state = {\n            categoryCombo: false,\n            disableDataElementAutoGroup: false\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(SectionDialog, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.subscriptions = [];\n            this.subscriptions.push(assignedDataElementStore.subscribe(function () {\n                _this2.forceUpdate();\n            }));\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this3 = this;\n\n            if (props.sectionModel) {\n                var currentSectionId = props.sectionModel.id;\n                var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n                var otherSections = sectionArray.filter(function (s) {\n                    return s.id !== currentSectionId;\n                });\n                var filterDataElementIds = otherSections.reduce(function (elements, section) {\n                    return elements.concat((Array.isArray(section.dataElements) ? section.dataElements : section.dataElements.toArray()).map(function (de) {\n                        return de.id;\n                    }));\n                }, []);\n\n                // Default category combo filter = no filter\n                var categoryComboId = false;\n\n                assignedDataElementStore.setState(props.sectionModel.dataElements ? props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                }) : []);\n\n                indicatorStore.setState(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.indicators.toArray().map(function (i) {\n                    return { value: i.id, text: i.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n                assignedIndicatorStore.setState(props.sectionModel.indicators ? props.sectionModel.indicators.toArray().map(function (i) {\n                    return i.id;\n                }) : []);\n\n                this.setState({\n                    name: props.sectionModel.name,\n                    code: props.sectionModel.code,\n                    nameError: '',\n                    codeError: '',\n                    description: props.sectionModel.description,\n                    showRowTotals: props.sectionModel.showRowTotals,\n                    showColumnTotals: props.sectionModel.showColumnTotals,\n                    disableDataElementAutoGroup: props.sectionModel.disableDataElementAutoGroup,\n                    filterText: '',\n                    filterDataElementIds: filterDataElementIds\n                }, function () {\n                    _this3.handleCategoryComboChange({ target: { value: categoryComboId } });\n                    _this3.forceUpdate();\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.subscriptions.forEach(function (disposable) {\n                return disposable.unsubscribe();\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var title = this.getTranslation('add_section');\n            var sectionIdDiv = null;\n\n            if (this.props.sectionModel.id) {\n                title = this.getTranslation('edit_section');\n                sectionIdDiv = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: { float: 'left', padding: 8, color: 'rgba(0,0,0,0.5)' } },\n                    this.getTranslation('section_id'),\n                    ':',\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'span',\n                        { style: { fontFamily: 'monospace' } },\n                        this.props.sectionModel.id\n                    )\n                );\n            }\n\n            var validateName = function validateName(e) {\n                _this4.setState({ nameError: e.target.value.trim().length > 0 ? '' : _this4.getTranslation('value_required') });\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    title: title,\n                    actions: [sectionIdDiv, __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.props.onRequestClose,\n                        style: { marginRight: 24 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.saveSection\n                    })]\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('name') + ' *',\n                    value: this.state.name || '',\n                    style: { width: '100%' },\n                    onChange: this.handleNameChange,\n                    errorText: this.state.nameError,\n                    onBlur: validateName\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('code'),\n                    value: this.state.code || '',\n                    style: { width: '100%' },\n                    onChange: this.handleCodeChange,\n                    errorText: this.state.codeError\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('description'),\n                    value: this.state.description || '',\n                    style: { width: '100%' },\n                    multiLine: true,\n                    onChange: this.handleDescriptionChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_row_totals'),\n                    checked: this.state.showRowTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleRowTotalsChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_column_totals'),\n                    checked: this.state.showColumnTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleColumnTotalsChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('disable_data_element_auto_group'),\n                    checked: this.state.disableDataElementAutoGroup,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleDisableDataElementAutoGroupChange\n                }),\n                this.renderFilters(),\n                this.renderAvailableOptions()\n            );\n        }\n    }]);\n\n    return SectionDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nSectionDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    categoryCombos: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onSaveSection: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\nSectionDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SectionDialog);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8-2036b89eb0327ca434e2.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport log from 'loglevel';\n\nimport TranslationDialog from 'd2-ui/lib/i18n/TranslationDialog.component';\nimport LoadingMask from 'd2-ui/lib/loading-mask/LoadingMask.component';\n\nimport DataTable from 'd2-ui/lib/data-table/DataTable.component';\nimport FloatingActionButton from 'material-ui/FloatingActionButton/FloatingActionButton';\nimport FontIcon from 'material-ui/FontIcon/FontIcon';\n\nimport SectionDialog from './SectionDialog.component';\nimport GreyFieldDialog from './GreyFieldDialog.component';\n\nimport snackActions from '../Snackbar/snack.actions';\nimport modelToEditStore from './modelToEditStore';\nimport FormHeading from './FormHeading';\nimport FormSubHeading from './FormSubHeading';\n\nconst styles = {\n    heading: {\n        paddingBottom: 18,\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10,\n    },\n};\n\nclass EditDataSetSections extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false,\n        };\n\n        Promise.all([\n            context.d2.Api.getApi().get(\n                ['dataSets', props.params.modelId, 'categoryCombos'].join('/'),\n                { fields: 'id,displayName', paging: false },\n            ),\n        ]).then(([catComboList]) => {\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            this.setState({\n                sections: sectionArray.sort((a, b) => a.sortOrder - b.sortOrder),\n                categoryCombos: catComboList.categoryCombos.map(cc => ({\n                    value: cc.id,\n                    text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                })),\n            });\n        });\n\n        this.handleAddSectionClick = this.handleAddSectionClick.bind(this);\n        this.handleEditSectionClick = this.handleEditSectionClick.bind(this);\n        this.handleSectionSaved = this.handleSectionSaved.bind(this);\n\n        this.handleDeleteSectionClick = this.handleDeleteSectionClick.bind(this);\n        this.handleTranslateSectionClick = this.handleTranslateSectionClick.bind(this);\n        this.handleTranslationSaved = this.handleTranslationSaved.bind(this);\n        this.handleTranslationErrored = this.handleTranslationErrored.bind(this);\n\n        this.handleSectionGreyFieldsClick = this.handleSectionGreyFieldsClick.bind(this);\n\n        this.swapSections = this.swapSections.bind(this);\n        this.moveSectionUp = this.moveSectionUp.bind(this);\n        this.moveSectionDown = this.moveSectionDown.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    handleAddSectionClick() {\n        const newSection = this.context.d2.models.sections.create();\n        this.setState(state => ({\n            editSectionModel: Object.assign(newSection, {\n                dataSet: { id: modelToEditStore.state.id },\n                sortOrder: state.sections.reduce((p, s) => Math.max(s.sortOrder, p), 0) + 1,\n            }),\n        }));\n    }\n\n    handleEditSectionClick(editSectionModel) {\n        this.setState({ editSectionModel });\n    }\n\n    handleSectionSaved(savedSection) {\n        this.setState((state) => {\n            let replaced = false;\n            const sections = state.sections\n                .map((s) => {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                })\n                .sort((a, b) => a.sortOrder - b.sortOrder);\n            if (!replaced) {\n                sections.push(savedSection);\n            }\n\n            modelToEditStore.setState(Object.assign(modelToEditStore.state, { sections }));\n            return {\n                editSectionModel: false,\n                greyFieldSectionModel: false,\n                sections,\n            };\n        }, () => {\n            this.forceUpdate();\n        });\n    }\n\n    handleDeleteSectionClick(section) {\n        snackActions.show({\n            message: `${this.getTranslation('confirm_delete_section')} ${section.displayName}`,\n            action: 'confirm',\n            onActionTouchTap: () => {\n                section.delete()\n                    .then(() => {\n                        const newSections = modelToEditStore.state.sections;\n                        modelToEditStore.setState(Object.assign(modelToEditStore.state, {\n                            sections: (Array.isArray(newSections)\n                                ? newSections\n                                : newSections.toArray()).filter(s => s.id !== section.id),\n                        }));\n\n                        snackActions.show({ message: this.getTranslation('section_deleted') });\n                        this.setState(state => ({\n                            sections: state.sections.filter(s => s.id !== section.id),\n                        }));\n                    })\n                    .catch((err) => {\n                        snackActions.show({ message: this.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        log.warn('Failed to delete section', err);\n                    });\n            },\n        });\n    }\n\n    handleTranslateSectionClick(section) {\n        this.setState({\n            translationModel: section,\n        });\n    }\n\n    handleTranslationSaved = () => {\n        snackActions.show({ message: 'translation_saved', translate: true });\n    }\n\n    handleTranslationErrored = (errorMessage) => {\n        log.error(errorMessage);\n        snackActions.show({ message: 'translation_save_error', action: 'ok', translate: true });\n    }\n\n    handleSectionGreyFieldsClick(section) {\n        this.setState({ greyFieldSectionModel: section });\n    }\n\n    swapSections(sectionA, sectionB) {\n        this.setState((state) => {\n            const swapOrder = sectionA.sortOrder;\n            sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n            sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n            Promise.all([\n                sectionA.save(),\n                sectionB.save(),\n            ])\n                .then(() => {\n                    snackActions.show({ message: this.getTranslation('section_moved') });\n                })\n                .catch((err) => {\n                    log.warn('Failed to swap sections:', err);\n                    snackActions.show({ message: this.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n            return {\n                sections: state.sections.sort((a, b) => a.sortOrder - b.sortOrder),\n            };\n        });\n    }\n\n    moveSectionUp(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex > 0) {\n            const swapSection = this.state.sections[currentIndex - 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    moveSectionDown(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex < this.state.sections.length - 1) {\n            const swapSection = this.state.sections[currentIndex + 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    render() {\n        const contextActions = {\n            edit: this.handleEditSectionClick,\n            delete: this.handleDeleteSectionClick,\n            translate: this.handleTranslateSectionClick,\n            manage_grey_fields: this.handleSectionGreyFieldsClick,\n            move_up: this.moveSectionUp,\n            move_down: this.moveSectionDown,\n        };\n\n        const contextMenuIcons = {\n            edit: 'edit',\n            move_up: 'arrow_upward',\n            move_down: 'arrow_downward',\n            manage_grey_fields: 'do_not_disturb',\n        };\n\n        const contextActionChecker = (model, action) => {\n            if (action === 'move_up') {\n                return this.state.sections.indexOf(model) > 0;\n            } else if (action === 'move_down') {\n                return this.state.sections.indexOf(model) < this.state.sections.length - 1;\n            }\n\n            return true;\n        };\n\n        return this.state.sections === undefined ? <LoadingMask /> : (\n            <div>\n                <FormHeading schema=\"dataSet\" groupName=\"dataSetSection\">\n                    {'section_management'}\n                </FormHeading>\n                <FormSubHeading>\n                    {modelToEditStore.state.displayName}\n                </FormSubHeading>\n                <DataTable\n                    columns={['name']}\n                    rows={this.state.sections}\n                    contextMenuActions={contextActions}\n                    contextMenuIcons={contextMenuIcons}\n                    primaryAction={contextActions.edit}\n                    isContextActionAllowed={contextActionChecker}\n                />\n                <SectionDialog\n                    open={!!this.state.editSectionModel}\n                    sectionModel={this.state.editSectionModel}\n                    categoryCombos={this.state.categoryCombos}\n                    onRequestClose={() => { this.setState({ editSectionModel: false }); }}\n                    onSaveSection={this.handleSectionSaved}\n                />\n                <GreyFieldDialog\n                    open={!!this.state.greyFieldSectionModel}\n                    sectionModel={this.state.greyFieldSectionModel}\n                    onRequestClose={() => { this.setState({ greyFieldSectionModel: false }); }}\n                    onRequestSave={this.handleSectionSaved}\n                />\n                {this.state.translationModel ? <TranslationDialog\n                    objectToTranslate={this.state.translationModel}\n                    objectTypeToTranslate={this.state.translationModel && this.state.translationModel.modelDefinition}\n                    open={!!this.state.translationModel}\n                    onTranslationSaved={this.handleTranslationSaved}\n                    onTranslationError={this.handleTranslationErrored}\n                    onRequestClose={() => { this.setState({ translationModel: null }); }}\n                    fieldsToTranslate={['name']}\n                /> : null }\n                <div style={styles.fab}>\n                    <FloatingActionButton onClick={this.handleAddSectionClick}>\n                        <FontIcon className=\"material-icons\">add</FontIcon>\n                    </FloatingActionButton>\n                </div>\n            </div>\n        );\n    }\n}\n\nEditDataSetSections.propTypes = {\n    params: PropTypes.any.isRequired,\n};\nEditDataSetSections.contextTypes = {\n    d2: PropTypes.any.isRequired,\n};\n\nexport default EditDataSetSections;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditDataSetSections.component.js","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from 'material-ui/IconButton';\nimport { camelCaseToUnderscores } from 'd2-utilizr';\n\nimport inlineHelpMapping from '../config/inlinehelp-mapping.json';\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && inlineHelpMapping[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion({ major, minor, snapshot }) {\n    if (snapshot) {\n        return 'master';\n    }\n    return `${major}${minor}`;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    const placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, (match, variable) => {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(inlineHelpMapping)\n        .find((mappingKey) => {\n            const pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n            return (new RegExp(pathToMatch)).test(path);\n        });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(inlineHelpMapping[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    const variablesToReplace = new Map([['objectType', schema]]);\n    const variablesToReplaceCamel = new Map([['objectType', camelCaseToUnderscores(schema)]]);\n\n    const replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nexport default function HelpLink({ schema }, { d2 }) {\n    const path = window.location.hash\n        .replace(/^#/, '') // Remove leading hash\n        .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    const docsVersion = getDocsVersion(d2.system.version)\n    const docsLink = `https://docs.dhis2.org/en/use/user-guides/dhis-core-version-${docsVersion}/configuring-the-system`\n    const helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return (\n            <IconButton\n                href={`${docsLink}${helpLink}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                tooltip={d2.i18n.getTranslation('open_user_guide')}\n                tooltipPosition=\"bottom-center\"\n                iconClassName=\"material-icons\"\n                iconStyle={{ top: -2 }}\n            >\n                help_outline\n            </IconButton>\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: PropTypes.string.isRequired,\n};\n\nHelpLink.contextTypes = {\n    d2: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/List/HelpLink.component.js","module.exports = {\"/list/categorySection\":\"/metadata.html#manage_category\",\"/list/dataElementSection\":\"/metadata.html#manage_data_element\",\"/list/dataSetSection\":\"/metadata.html#manage_data_set\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/metadata.html#manage_section_form\",\"/edit/dataSetSection/dataSetNotificationTemplate\":\"/metadata.html#create_data_set_notification\",\"/edit/dataSetSection/dataSet\":\"/metadata.html#create_data_set\",\"/list/indicatorSection/programIndicatorGroup\":\"/programs.html#manage_${objectType}\",\"/list/indicatorSection/programIndicator\":\"/programs.html#configure_program_indicator\",\"/list/indicatorSection\":\"/metadata.html#manage_indicator\",\"/edit/indicatorSection/programIndicator\":\"/programs.html#create_${objectType}\",\"/edit/indicatorSection/programIndicatorGroup\":\"/programs.html#create_${objectType}\",\"/list/organisationUnitSection/organisationUnitLevel\":\"/metadata.html#name_organisation_unit_level\",\"/list/organisationUnitSection\":\"/metadata.html#manage_organisation_unit\",\"organisationUnitSection/hierarchy\":\"/metadata.html#move_organisation_unit\",\"/list/programSection/trackedEntity\":\"/programs.html#configure_tracked_entity\",\"/list/programSection/programRuleVariable\":\"/programs.html#configure_program_rule\",\"/list/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/list/programSection/${objectType}\":\"/programs.html#configure_${objectType}\",\"/list/programSection\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/program/\":\"/programs.html#configure_programs_in_maintenance_app\",\"/edit/programSection/trackedEntityType\":\"/programs.html#create_tracked_entity\",\"/edit/programSection/${objectType}\":\"/programs.html#create_${objectType}\",\"/list/validationSection\":\"/metadata.html#manage_validation_rule\",\"/edit/validationSection/validationNotificationTemplate\":\"/metadata.html#create_validation_notification\",\"/edit/otherSection/attribute\":\"/metadata.html#create-or-edit-an-attribute\",\"/list/otherSection/optionGroup\":\"/metadata.html#create_option_group\",\"/list/otherSection/optionGroupSet\":\"/metadata.html#create_option_group_set\",\"/list/otherSection/legendSet\":\"/metadata.html#manage_legend\",\"/edit/otherSection/legendSet\":\"/metadata.html#create_legend\",\"/list/otherSection/predictorGroup\":\"/metadata.html#create_predictor_group\",\"/list/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/edit/otherSection/pushAnalysis\":\"/metadata.html#manage_push_report\",\"/list/otherSection/externalMapLayer\":\"/metadata.html#manage_external_maplayer\",\"/list/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/edit/otherSection/locale\":\"/metadata.html#maintenance_locale_management\",\"/list/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/otherSection/sqlView\":\"/metadata.html#maintenance_sql_view\",\"/edit/\":\"/metadata.html#create_${objectType}\",\"/list/\":\"/metadata.html#manage_${objectType}\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/inlinehelp-mapping.json\n// module id = 3347\n// module chunks = 0 1 5 6 7 8 10","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { config } from 'd2/lib/d2';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport { getTranslationFormFor } from './TranslationForm.component';\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: getTranslationFormFor(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                Dialog,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                React.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: getTranslationFormFor(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(Component);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    open: PropTypes.bool,\n    onRequestClose: PropTypes.func.isRequired,\n    fieldsToTranslate: PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationDialog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationDialog.component.js\n// module id = 3348\n// module chunks = 1 5 6 7 8 9","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return React.createElement(MenuItem, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return React.createElement(\n                SelectField,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(Component);\n\nLocaleSelector.propTypes = {\n    value: PropTypes.string,\n    locales: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        locale: PropTypes.string.isRequired\n    })).isRequired,\n    onChange: PropTypes.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default LocaleSelector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/LocaleSelector.component.js\n// module id = 3363\n// module chunks = 1 5 6 7 8 9","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from 'material-ui/TextField/TextField';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport { Observable } from 'rxjs';\nimport LocaleSelector from '../i18n/LocaleSelector.component';\nimport { getLocales, getTranslationsForModel, saveTranslations } from './translationForm.actions';\nimport withStateFrom from '../component-helpers/withStateFrom';\nimport Store from '../store/Store';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nfunction getTranslationFormData(model) {\n    var translationStore = Store.create();\n\n    getTranslationsForModel(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return Observable.combineLatest(getLocales(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nexport function getTranslationFormFor(model) {\n    return withStateFrom(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: camelCaseToUnderscores(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            saveTranslations(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return React.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                React.createElement(CircularProgress, { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return React.createElement(\n                    'div',\n                    { key: fieldName },\n                    React.createElement(TextField, {\n                        floatingLabelText: _this2.getTranslation(camelCaseToUnderscores(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    React.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return React.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                React.createElement(RaisedButton, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                React.createElement(RaisedButton, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return React.createElement(\n                'div',\n                null,\n                React.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return React.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                React.createElement(LocaleSelector, { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(Component);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }),\n    fieldsToTranslate: PropTypes.arrayOf(PropTypes.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationForm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationForm.component.js\n// module id = 3364\n// module chunks = 1 5 6 7 8 9","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport { Observable } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport Action from '../action/Action';\n\nexport function getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = getD2().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return Observable.fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nexport function getTranslationsForModel(model) {\n    return Observable.of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return getInstance().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nexport var saveTranslations = Action.create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    getInstance().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/translationForm.actions.js\n// module id = 3365\n// module chunks = 1 5 6 7 8 9","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport HelpLink from '../List/HelpLink.component';\nimport BackButton from './BackButton.component';\nimport { goToAndScrollUp } from '../router-utils';\n\nfunction FormHeading({ level, schema, children, groupName, isDirtyHandler, skipTranslation, ...props }, context) {\n    return (\n        <Heading {...props} level={level}>\n            <BackButton\n                onClick={() => goToAndScrollUp(`/list/${groupName}/${schema}`)}\n                iconStyle={{ top: 3 }}\n                isDirtyHandler={isDirtyHandler}\n            />\n            {skipTranslation ? children : context.d2.i18n.getTranslation(children)}\n            {schema && (<HelpLink schema={schema} />)}\n        </Heading>\n    );\n}\n\nFormHeading.propTypes = {\n    children: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.array,\n    ]),\n    level: PropTypes.number,\n    isDirtyHandler: PropTypes.func,\n    schema: PropTypes.string.isRequired,\n    groupName: PropTypes.string.isRequired,\n    skipTranslation: PropTypes.bool,\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: () => {},\n    level: 2,\n    children: '',\n    skipTranslation: false,\n};\n\nexport default addD2Context(FormHeading);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormHeading.js","import React from 'react';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport modelToEditStore from '../EditModel/modelToEditStore';\n\nfunction BackButton(props, context) {\n    const { tooltip, onClick, isDirtyHandler = modelToEditStore.getState.bind(modelToEditStore), ...otherProps } = props;\n    const onClickWithConfirm = (...params) => {\n        const isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick(...params);\n        } else if (\n            // eslint-disable-next-line no-restricted-globals\n            confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))\n        ) {\n            onClick(...params);\n        }\n    };\n\n    return (\n        <IconButton\n            tooltip={tooltip || context.d2.i18n.getTranslation('back')}\n            tooltipPosition=\"bottom-right\"\n            onClick={onClickWithConfirm}\n            {...otherProps}\n            iconClassName=\"material-icons\"\n        >\n            &#xE5C4;\n        </IconButton>\n    );\n}\nBackButton.propTypes = {\n    tooltip: React.PropTypes.string,\n};\n\nexport default addD2Context(BackButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/BackButton.component.js","import PropTypes from 'prop-types';\nimport React from 'react';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nexport default function LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return React.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        React.createElement(CircularProgress, { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: PropTypes.object,\n    large: PropTypes.bool,\n    small: PropTypes.bool\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/loading-mask/LoadingMask.component.js\n// module id = 3486\n// module chunks = 5 8 12","import React from 'react';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\n\nconst defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100,\n};\n\nfunction FormSubHeading({ level, children, ...props }) {\n    const style = Object.assign({}, defaultStyle, props.style);\n\n    return (\n        <Heading {...props} style={style} level={level || 3}>\n            {children}\n        </Heading>\n    );\n}\nFormSubHeading.propTypes = {\n    children: React.PropTypes.string,\n    level: React.PropTypes.number,\n};\n\nexport default FormSubHeading;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormSubHeading.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport Checkbox from 'material-ui/Checkbox/Checkbox';\nimport DropDown from '../forms/form-fields/drop-down';\n\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\n\nconst styles = {\n    dialogContent: {\n        maxWidth: 'none',\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden',\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto',\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6,\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6,\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105,\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0',\n    },\n};\n\nclass GreyFieldDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categories: [],\n        };\n\n        this.closeDialog = this.closeDialog.bind(this);\n        this.handleSaveClick = this.handleSaveClick.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentWillReceiveProps(props) {\n        const d2 = this.context.d2;\n\n        if (props.sectionModel) {\n            const dataElements = props.sectionModel.dataElements.toArray();\n            if (dataElements.length < 1) {\n                log.info(`Section ${props.sectionModel.displayName} contains no data elements`);\n                snackActions.show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                this.props.onRequestClose();\n                return;\n            }\n\n            let cocMap = {};\n\n            const categoryArrayToMap = (categories) => {\n                let appendage = null;\n\n                const reduceAppendage = (prev, categoryOption) => {\n                    const out = prev;\n                    out[categoryOption.id] = appendage;\n                    return out;\n                };\n\n                while (categories.length > 0) {\n                    appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                }\n                return appendage;\n            };\n\n            const assignCocs = (cocMap, options, coc) => {\n                if (options.length > 0) {\n                    return Object.keys(cocMap).reduce((prev, key) => {\n                        const out = prev;\n                        const keyPos = options.indexOf(key);\n                        if (keyPos !== -1) {\n                            options.splice(keyPos, 1);\n                            out[key] = assignCocs(cocMap[key], options, coc);\n                            return out;\n                        }\n                        out[key] = cocMap[key];\n                        return out;\n                    }, {});\n                }\n                return coc;\n            };\n\n            // Use the categoryCombos associated with the section to get categories and their category options\n            d2.models.categoryCombos.list({\n                filter: `id:in:[${props.sectionModel.categoryCombos.toArray().map(coc => coc.id)}]`,\n                paging: false,\n                fields: [\n                    'id,displayName',\n                    'categories[id,displayName,categoryOptions[id,displayName]]',\n                    'categoryOptionCombos[id,displayName',\n                    'categoryOptions[id,displayName]]',\n                ].join(','),\n            })\n            .then((categoryCombos) => {\n                categoryCombos.forEach((categoryCombo) => {\n                    // Build a nested map of categories:\n                    // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                    //\n                    // Then convert to JSON and back as a fast way to remove any references within the structure\n                    Object.assign(\n                        cocMap,\n                        JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray())))\n                    );\n\n                    // Fill in the leaf nodes in the cocMap with the actual coc's\n                    categoryCombo.categoryOptionCombos.toArray().forEach((coc) => {\n                        const optionPath = coc.categoryOptions.toArray().map(o => o.id);\n                        cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                    });\n                });\n\n                const greyedFields = props.sectionModel.greyedFields.reduce((prev, gf) => {\n                    if (prev.hasOwnProperty(gf.dataElement.id)) {\n                        prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                        return prev;\n                    }\n\n                    const out = prev;\n                    out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                    return out;\n                }, {});\n\n                this.setState({\n                    currentCategoryCombo: categoryCombos.toArray()[0].id,\n                    categoryCombos,\n                    optionCount: categoryCombos.toArray()\n                        .reduce((oc, cc) => {\n                            oc[cc.id] = cc.categories.toArray().map(c => c.categoryOptions.size);\n                            return oc;\n                        }, {}),\n                    cocMap,\n                    greyedFields,\n                });\n            });\n        }\n    }\n\n    closeDialog() {\n        this.props.onRequestClose();\n    }\n\n    handleSaveClick() {\n        const greyedFields = [];\n        Object.keys(this.state.greyedFields).forEach((dataElement) => {\n            this.state.greyedFields[dataElement].forEach((coc) => {\n                greyedFields.push({\n                    dataElement: { id: dataElement },\n                    categoryOptionCombo: { id: coc },\n                });\n            });\n        });\n\n        const section = Object.assign(this.props.sectionModel, { greyedFields });\n\n        section\n            .save()\n            .then((res) => {\n                log.info('Section updated', res);\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.props.onRequestSave(section);\n            })\n            .catch((err) => {\n                log.error('Failed to save section:', err);\n                snackActions.show({ message: this.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n    }\n\n    renderTableHeader() {\n        let prevRowColCount = 1;\n\n        return this.state.currentCategoryCombo && (\n            this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map((cat, catNum) => {\n                const colSpan = this.state.optionCount[this.state.currentCategoryCombo]\n                    .slice(catNum + 1)\n                    .reduce((product, optionCount) => optionCount * product, 1);\n\n                const isLastHeader = catNum === this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.size - 1;\n                const row = (\n                    <tr key={catNum}>\n                        <th style={styles.thDataElements}>{isLastHeader && this.getTranslation('data_element')}</th>\n                        {\n                            // For each column in the previous row...\n                            Array(...Array(prevRowColCount)).map((e, rep) =>\n                                // ... render the columns for this row\n                                 cat.categoryOptions.toArray().map((opt, optNum) => (\n                                     <th\n                                         key={`${optNum}.${rep}`}\n                                         colSpan={colSpan}\n                                         style={styles.th}\n                                     >{opt.displayName === 'default' ? '' : opt.displayName}</th>\n                                    )))\n                        }\n                    </tr>\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            })\n        );\n    }\n\n    renderCheckbox(dataElement, fieldArray, fieldNum) {\n        const resolveCoc = (cocMap, fields) => {\n            if (fields.length === 0) {\n                return cocMap;\n            }\n\n            const field = fields.shift();\n            return resolveCoc(cocMap[field], fields);\n        };\n\n        const coc = resolveCoc(this.state.cocMap, fieldArray);\n\n        const isGreyed =\n            this.state.greyedFields.hasOwnProperty(dataElement.id) &&\n            this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n        const toggleBoggle = ((dataElementId, categoryOptionComboId, event, disable) => {\n            this.setState((state) => {\n                const greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                if (disable) {\n                    if (greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                    }\n                } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                    greyedCocs.push(categoryOptionComboId);\n                }\n\n                const greyedFields = Object.keys(state.greyedFields)\n                    .reduce((prev, deId) => {\n                        const out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                    greyedFields[dataElementId] = greyedCocs;\n                }\n\n                return { greyedFields };\n            });\n        }).bind(this, dataElement.id, coc.id);\n\n        return (\n            <td key={fieldNum} style={styles.td}>\n                <Checkbox\n                    checked={!isGreyed}\n                    label={isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled')}\n                    labelPosition=\"right\"\n                    labelStyle={{ whiteSpace: 'nowrap' }}\n                    onCheck={toggleBoggle}\n                />\n            </td>\n        );\n    }\n\n    renderDataElements() {\n        const getCocFields = () => this.state.categoryCombos.get(this.state.currentCategoryCombo).categories\n                .toArray()\n                .reduce((prev, cat) => {\n                    if (prev.length > 0) {\n                        const out = [];\n                        prev.forEach((p) => {\n                            cat.categoryOptions.toArray().forEach((opt) => {\n                                const pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach((opt) => {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n\n        const currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n        return this.state.currentCategoryCombo ?\n            modelToEditStore.state.dataSetElements\n                .filter(dse => currentSectionDataElementIds.includes(dse.dataElement.id))\n                .filter(dse => (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === this.state.currentCategoryCombo)\n                .sort((a, b) => currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id))\n                .map((dse, deNum) => {\n                    const cocFields = getCocFields();\n                    return (\n                        <tr key={deNum} style={{ background: deNum % 2 === 0 ? 'none' : '#f0f0f0' }}>\n                            <td style={styles.tdDataElement}>{dse.dataElement.displayName}</td>\n                            {cocFields.map((fields, fieldNum) => this.renderCheckbox(dse.dataElement, fields, fieldNum))}\n                        </tr>\n                    );\n                }) : null;\n    }\n\n    render() {\n        const title = this.props.sectionModel.displayName;\n        const {\n            open,\n            ...extraProps\n        } = this.props;\n\n        let uniqueCatComboIds = [],\n            sectionDataElementIds = [],\n            categoryCombosForSection = [];\n\n        if (this.props.sectionModel) {\n            // Get data element ids for the current section\n            sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n\n            // Get unique cat combos for data elements in current section\n            categoryCombosForSection = modelToEditStore.state.dataSetElements\n                .filter(dse => sectionDataElementIds.includes(dse.dataElement.id))\n                .map(dse => dse.categoryCombo || dse.dataElement.categoryCombo)\n                .reduce((catCombos, catCombo) => {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, [])\n                .sort((a, b) => a.displayName.localeCompare(b.displayName));\n        }\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                autoDetectWindowHeight\n                title={`${this.getTranslation('manage_grey_fields')}: ${title}`}\n                style={{ maxWidth: 'none' }}\n                contentStyle={styles.dialogContent}\n                open={open && this.props.sectionModel.dataElements.size > 0}\n                {...extraProps}\n                actions={[\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.closeDialog}\n                        style={{ marginRight: 16 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.handleSaveClick}\n                    />,\n                ]}\n                onRequestClose={this.closeDialog}\n            >\n                {this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? (\n                    <DropDown\n                        options={categoryCombosForSection.map(cc => ({\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                        }))}\n                        labelText={this.getTranslation('category_combo')}\n                        value={this.state.currentCategoryCombo}\n                        onChange={e => this.setState({\n                            currentCategoryCombo: e.target.value,\n                        })}\n                        style={{ width: '33%' }}\n                        isRequired\n                    />\n                ) : null}\n                <div style={styles.dialogDiv}>\n                    <table style={styles.table}>\n                        <tbody>\n                            {this.renderTableHeader()}\n                            {this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()}\n                        </tbody>\n                    </table>\n                </div>\n            </Dialog>\n        );\n    }\n}\n\nGreyFieldDialog.contextTypes = { d2: React.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onRequestSave: React.PropTypes.func.isRequired,\n};\n\nexport default GreyFieldDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/GreyFieldDialog.component.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport TextField from 'material-ui/TextField/TextField';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditorWithOrdering.component';\n\nimport Store from 'd2-ui/lib/store/Store';\nimport Checkbox from 'material-ui/Checkbox';\n\nimport DropDown from '../forms/form-fields/drop-down';\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\nconst dataElementStore = Store.create();\nconst assignedDataElementStore = Store.create();\nconst indicatorStore = Store.create();\nconst assignedIndicatorStore = Store.create();\n\nclass SectionDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombo: false,\n            disableDataElementAutoGroup: false\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentDidMount() {\n        this.subscriptions = [];\n        this.subscriptions.push(assignedDataElementStore.subscribe(() => {\n            this.forceUpdate();\n        }));\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.sectionModel) {\n            const currentSectionId = props.sectionModel.id;\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            const otherSections = sectionArray.filter(s => s.id !== currentSectionId);\n            const filterDataElementIds = otherSections\n                .reduce((elements, section) => elements.concat((Array.isArray(section.dataElements)\n                    ? section.dataElements\n                    : section.dataElements.toArray()\n                ).map(de => de.id)), []);\n\n            // Default category combo filter = no filter\n            const categoryComboId = false;\n\n\n            assignedDataElementStore.setState(\n                props.sectionModel.dataElements\n                    ? props.sectionModel.dataElements.toArray().map(de => de.id)\n                    : [],\n            );\n\n            indicatorStore.setState(\n                modelToEditStore.state.indicators\n                    .toArray()\n                    .map(i => ({ value: i.id, text: i.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text)),\n            );\n            assignedIndicatorStore.setState(\n                props.sectionModel.indicators\n                    ? props.sectionModel.indicators.toArray().map(i => i.id)\n                    : [],\n            );\n\n            this.setState({\n                name: props.sectionModel.name,\n                code: props.sectionModel.code,\n                nameError: '',\n                codeError: '',\n                description: props.sectionModel.description,\n                showRowTotals: props.sectionModel.showRowTotals,\n                showColumnTotals: props.sectionModel.showColumnTotals,\n                disableDataElementAutoGroup: props.sectionModel.disableDataElementAutoGroup,\n                filterText: '',\n                filterDataElementIds,\n            }, () => {\n                this.handleCategoryComboChange({ target: { value: categoryComboId } });\n                this.forceUpdate();\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        this.subscriptions.forEach(disposable => disposable.unsubscribe());\n    }\n\n    setAssignedDataElements = (dataElements) => {\n        assignedDataElementStore.setState(dataElements);\n    }\n\n    setAssignedIndicators = (indicators) => {\n        assignedIndicatorStore.setState(indicators);\n    }\n\n    removeIndicators = (indicators) => {\n        assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(i => indicators.indexOf(i) === -1));\n        return Promise.resolve();\n    }\n\n    assignIndicators = (indicators) => {\n        assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n        return Promise.resolve();\n    }\n\n    handleRowTotalsChange = (e, value) => {\n        this.setState({ showRowTotals: value });\n    }\n\n    handleColumnTotalsChange = (e, value) => {\n        this.setState({ showColumnTotals: value });\n    }\n\n    handleDisableDataElementAutoGroupChange = (e, value) => {\n        this.setState({ disableDataElementAutoGroup: value })\n    }\n\n    handleFilterChange = (e) => {\n        this.setState({ filterText: e.target.value });\n    }\n\n    handleNameChange = (e) => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const nameDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || s.name === e.target.value, false);\n\n        this.setState({ name: e.target.value, nameError: nameDupe ? this.getTranslation('value_not_unique') : '' });\n    }\n\n    handleCodeChange = (e) => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const codeDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || (s.code && s.code === e.target.value), false);\n\n        this.setState({ code: e.target.value, codeError: codeDupe ? this.getTranslation('value_not_unique') : '' });\n    }\n\n    handleDescriptionChange = (e) => {\n        this.setState({ description: e.target.value });\n    }\n\n    assignDataElements = (dataElements) => {\n        assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n        return Promise.resolve();\n    }\n\n    removeDataElements = (dataElements) => {\n        assignedDataElementStore.setState(assignedDataElementStore.state.filter(de => dataElements.indexOf(de) === -1));\n        return Promise.resolve();\n    }\n\n    handleCategoryComboChange = (event) => {\n        const categoryComboId = event.target.value;\n\n        if (modelToEditStore.state.dataSetElements) {\n            dataElementStore.setState(\n                modelToEditStore.state.dataSetElements\n                    .filter((dse) => {\n                        if (categoryComboId) {\n                            return dse.categoryCombo\n                                ? dse.categoryCombo.id === categoryComboId\n                                : dse.dataElement.categoryCombo.id === categoryComboId;\n                        }\n                        return true;\n                    })\n                    .filter(dse => (this.state.filterDataElementIds\n                        ? !this.state.filterDataElementIds.includes(dse.dataElement.id)\n                        : true),\n                    )\n                    .map(dse => ({ value: dse.dataElement.id, text: dse.dataElement.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text)),\n            );\n        }\n\n        this.setState({\n            categoryCombo: categoryComboId,\n        });\n    }\n\n    saveSection = () => {\n        if (!this.state.name || this.state.name.trim().length === 0) {\n            snackActions.show({\n                message: this.getTranslation('name_is_required'),\n                action: this.getTranslation('ok'),\n            });\n            return;\n        }\n\n        const sectionModel = this.props.sectionModel.id\n            ? this.props.sectionModel\n            : this.props.sectionModel.modelDefinition.create();\n        Object.assign(sectionModel, {\n            dataSet: { id: modelToEditStore.state.id },\n            name: this.state.name,\n            code: this.state.code,\n            description: this.state.description,\n            showRowTotals: this.state.showRowTotals,\n            showColumnTotals: this.state.showColumnTotals,\n            disableDataElementAutoGroup: this.state.disableDataElementAutoGroup,\n            dataElements: assignedDataElementStore.state.map(de => ({ id: de })),\n            indicators: assignedIndicatorStore.state.map(i => ({ id: i })),\n            sortOrder: this.props.sectionModel.sortOrder || modelToEditStore\n                .state\n                .sections\n                .toArray()\n                .reduce((prev, s) => Math.max(prev, s.sortOrder + 1), 0),\n        });\n        sectionModel.save()\n            .then((res) => {\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [\n                        ':all,dataElements[id,categoryCombo[id,displayName]]',\n                        'greyedFields[categoryOptionCombo,dataElement]',\n                    ].join(','),\n                })\n                    .then((section) => {\n                        this.props.onSaveSection(section);\n                    });\n            })\n            .catch((err) => {\n                log.warn('Failed to save section:', err);\n                snackActions.show({\n                    message: this.getTranslation('failed_to_save_section'),\n                    action: this.getTranslation('ok'),\n                });\n            });\n    }\n\n    renderFilters = () => {\n        const catCombos = [{ value: false, text: this.getTranslation('no_filter') }]\n            .concat(this.props.categoryCombos.sort((a, b) => a.text.localeCompare(b.text)));\n\n        return (\n            <div style={{ minWidth: 605 }}>\n                <DropDown\n                    options={catCombos}\n                    labelText={this.getTranslation('category_combo_filter')}\n                    onChange={this.handleCategoryComboChange}\n                    value={this.state.categoryCombo}\n                    isRequired\n                    disabled={this.props.categoryCombos.length === 1}\n                    style={{ width: 284 }}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this.handleFilterChange}\n                />\n            </div>\n        );\n    }\n\n    renderAvailableOptions = () => {\n        const labelStyle = {\n            position: 'relative',\n            display: 'block',\n            width: '100%',\n            lineHeight: '24px',\n            color: 'rgba(0,0,0,0.3)',\n            marginTop: '1.25rem',\n            fontSize: 16,\n        };\n\n        const editorStyle = {\n            marginBottom: 80,\n        };\n\n        return (\n            <div>\n                <div style={editorStyle}>\n                    <label style={labelStyle}>{this.getTranslation('data_elements')}</label>\n                    <GroupEditor\n                        itemStore={dataElementStore}\n                        assignedItemStore={assignedDataElementStore}\n                        onAssignItems={this.assignDataElements}\n                        onRemoveItems={this.removeDataElements}\n                        onOrderChanged={this.setAssignedDataElements}\n                        height={250}\n                        filterText={this.state.filterText}\n                    />\n                </div>\n                {indicatorStore.state.length ? (\n                    <div style={editorStyle}>\n                        <label style={labelStyle}>{this.getTranslation('indicators')}</label>\n                        <GroupEditor\n                            itemStore={indicatorStore}\n                            assignedItemStore={assignedIndicatorStore}\n                            onAssignItems={this.assignIndicators}\n                            onRemoveItems={this.removeIndicators}\n                            onOrderChanged={this.setAssignedIndicators}\n                            height={250}\n                            filterText={this.state.filterText}\n                        />\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n\n    render() {\n        let title = this.getTranslation('add_section');\n        let sectionIdDiv = null;\n\n        if (this.props.sectionModel.id) {\n            title = this.getTranslation('edit_section');\n            sectionIdDiv = (\n                <div style={{ float: 'left', padding: 8, color: 'rgba(0,0,0,0.5)' }}>\n                    {this.getTranslation('section_id')}:\n                    <span style={{ fontFamily: 'monospace' }}>{this.props.sectionModel.id}</span>\n                </div>\n            );\n        }\n\n        const validateName = (e) => {\n            this.setState({ nameError: e.target.value.trim().length > 0 ? '' : this.getTranslation('value_required') });\n        };\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                title={title}\n                actions={[\n                    sectionIdDiv,\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.props.onRequestClose}\n                        style={{ marginRight: 24 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.saveSection}\n                    />,\n                ]}\n                {...this.props}\n            >\n                <TextField\n                    floatingLabelText={`${this.getTranslation('name')} *`}\n                    value={this.state.name || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleNameChange}\n                    errorText={this.state.nameError}\n                    onBlur={validateName}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('code')}\n                    value={this.state.code || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleCodeChange}\n                    errorText={this.state.codeError}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('description')}\n                    value={this.state.description || ''}\n                    style={{ width: '100%' }}\n                    multiLine\n                    onChange={this.handleDescriptionChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_row_totals')}\n                    checked={this.state.showRowTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleRowTotalsChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_column_totals')}\n                    checked={this.state.showColumnTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleColumnTotalsChange}\n                />\n                 <Checkbox\n                    label={this.getTranslation('disable_data_element_auto_group')}\n                    checked={this.state.disableDataElementAutoGroup}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleDisableDataElementAutoGroupChange}\n                />\n                {this.renderFilters()}\n                {this.renderAvailableOptions()}\n            </Dialog>\n        );\n    }\n}\n\nSectionDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    categoryCombos: React.PropTypes.array.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onSaveSection: React.PropTypes.func.isRequired,\n};\nSectionDialog.contextTypes = {\n    d2: React.PropTypes.any.isRequired,\n};\n\nexport default SectionDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SectionDialog.component.js"],"sourceRoot":""}