{"version":3,"sources":["D2App/locales/index.js","D2App/config/sections.config.js","D2App/utils/feedbackTypes.js","D2App/redux/actions/feedback.js","D2App/components/feedback/Snackbar.js","D2App/components/PageHelper.js","D2App/utils/backwardCompatability.js","D2App/utils/api/helpers.js","D2App/utils/api/constants.js","D2App/utils/dataSetReport/isCustomFormType.js","D2App/utils/api.js","D2App/utils/getDocsUrl.js","D2App/components/SectionHeadline.js","D2App/utils/react/propTypes.js","D2App/utils/styles/shared.js","D2App/utils/humanReadableErrorMessage.js","D2App/redux/actions/dataSet.js","D2App/redux/actions/dataSetDimensions.js","D2App/redux/actions/reportData.js","D2App/redux/actions/dataSetReport.js","D2App/redux/selectors/dataSetReport/getIsActionEnabled.js","D2App/utils/dataSetReport/isHtmlReport.js","D2App/utils/dataTransformCache.js","D2App/redux/selectors/dataSetReport/getTransformedTableData.js","D2App/pages/data-set-report/connectDataSetReport.js","D2App/components/ReportLoader.js","D2App/components/TabularReport/DownloadOptions.js","D2App/components/TabularReport/ReportComment.js","D2App/components/TabularReport/ReportTable.js","D2App/pages/standard-report/HtmlReportAssets.js","D2App/pages/standard-report/HtmlReport.js","D2App/pages/data-set-report/DataSetReportOutput.js","D2App/components/DataSetDimensions.js","D2App/components/DatasetsDropdown.js","D2App/redux/actions/orgUnitGroupSets.js","D2App/redux/actions/organisationUnits.js","D2App/components/AvailableOrganisationUnitsTree.js","D2App/components/OrganisationUnitGroupSets.js","D2App/components/OrgUnitsTreeWithExtraOptions.js","D2App/redux/actions/reportPeriod.js","D2App/utils/periods/fixedPeriods.js","D2App/utils/periods/relativePeriods.js","D2App/pages/standard-report/standard.report.conf.js","D2App/utils/boolean/isFalsy.js","D2App/utils/periods/periodTypes.js","D2App/utils/standardReport/index.js","D2App/redux/selectors/reportPeriod/periodTypes.js","D2App/components/PeriodPickerWithPeriodType.js","D2App/pages/data-set-report/Form.js","D2App/pages/DataSetReport.js","D2App/components/MenuElement.js","D2App/pages/home/Home.js","D2App/components/BarChart.js","D2App/components/TabularReport.js","D2App/redux/actions/orgUnitDistReport.js","D2App/redux/selectors/orgUnitDistReport/getIsActionEnabled.js","D2App/config/style.config.js","D2App/utils/dataTransformHelpers.js","D2App/redux/selectors/orgUnitDistReport/getTransformedChartData.js","D2App/redux/selectors/orgUnitDistReport/getTransformedTableData.js","D2App/pages/organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js","D2App/components/GroupSetsDropdown.js","D2App/pages/organisation-unit-distribution-report/Form.js","D2App/pages/OrganisationUnitDistributionReport.js","D2App/redux/selectors/reportingRateSummary/getIsActionEnabled.js","D2App/redux/selectors/reportingRateSummary/getTransformedTableData.js","D2App/pages/reporting-rate-summary/connectReportingRateSummary.js","D2App/redux/actions/reportingRateSummary.js","D2App/pages/reporting-rate-summary/Form.js","D2App/pages/ReportingRateSummary.js","D2App/redux/selectors/pagination/getPagerCurrentlyShown.js","D2App/components/SearchablePagedList.js","D2App/utils/resource/constants.js","D2App/config/search.config.js","D2App/redux/actions/pagination.js","D2App/redux/actions/resource.js","D2App/pages/resource/connectResource.js","D2App/utils/form/validators.js","D2App/pages/resource/helper.js","D2App/pages/resource/ResourceActions.js","D2App/pages/Resource.js","D2App/components/form/Button.js","D2App/components/form/FormSection.js","D2App/components/form/FormRow.js","D2App/components/form/RadioButton.js","D2App/components/form/RadioButtons.js","D2App/pages/resource/add-edit-resource/ResourceForm/Attachment.js","D2App/components/form/buildingBlocks/ErrorText.js","D2App/components/form/File.js","D2App/pages/resource/add-edit-resource/ResourceForm/File.js","D2App/components/form/buildingBlocks/HelpText.js","D2App/components/form/styles.js","D2App/components/form/Input.js","D2App/pages/resource/add-edit-resource/ResourceForm/Name.js","D2App/components/form/FormSectionTitle.js","D2App/pages/resource/add-edit-resource/ResourceForm/Title.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleDetails.js","D2App/pages/resource/add-edit-resource/ResourceForm/TitleResource.js","D2App/components/form/Select.js","D2App/pages/resource/add-edit-resource/ResourceForm/Type.js","D2App/pages/resource/add-edit-resource/ResourceForm/Url.js","D2App/pages/resource/add-edit-resource/ResourceForm.js","D2App/pages/resource/AddEditResource.js","D2App/utils/fileToText.js","D2App/redux/actions/standardReport.js","D2App/utils/boolean/identity.js","D2App/redux/selectors/standardReport/getEditFormInitialValues.js","D2App/components/form/CheckBox.js","D2App/components/form/CheckBoxes.js","D2App/components/form/CheckBoxGroups.js","D2App/redux/actions/standardReportTables.js","D2App/components/form/ReportTableSearchInput.js","D2App/config/standardReport.js","D2App/pages/standard-report/add-edit-report/DesignFileDownloadButton.js","D2App/pages/standard-report/add-edit-report/validate.js","D2App/pages/standard-report/add-edit-report/ReportForm.js","D2App/pages/standard-report/AddEditStdReport.js","D2App/pages/standard-report/StyledHtmlReport.js","D2App/pages/standard-report/connectStandardReport.js","D2App/pages/standard-report/helper.js","D2App/pages/standard-report/ReportParams.js","D2App/redux/selectors/organisationUnit/getSelectedOrgUnit.js","D2App/redux/selectors/reportPeriod/getSelectedReportPeriod.js","D2App/pages/standard-report/StandardReportActions.js","D2App/pages/StandardReport.js","D2App/components/NoMatch.js","D2App/components/AppRouter.js","D2App/redux/selectors/getIsUiBlocked.js","D2App/redux/selectors/feedback/getShowLoading.js","D2App/components/feedback/Loader.js","D2App/redux/selectors/sidebar/index.js","D2App/App.js","D2App/utils/history.js","D2App/redux/reducers/dataSet.js","D2App/redux/reducers/dataSetDimensions.js","D2App/redux/reducers/dataSetReport.js","D2App/redux/reducers/feedback.js","D2App/redux/reducers/organisationUnits.js","D2App/redux/reducers/orgUnitDistReport.js","D2App/redux/reducers/orgUnitGroupSets.js","D2App/redux/reducers/pagination.js","D2App/redux/reducers/reportData.js","D2App/redux/reducers/reportPeriod.js","D2App/redux/reducers/resource.js","D2App/redux/reducers/standardReport.js","D2App/redux/reducers/standardReportTables.js","D2App/redux/rootReducer.js","D2App/redux/store.js","D2App/utils/injectTranslationsToD2.js","D2App/AppWrapper.js"],"names":["namespace","i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","STANDARD_REPORT_SECTION_KEY","DATA_SET_REPORT_SECTION_KEY","REPORTING_RATE_SUMMARY_SECTION_KEY","RESOURCE_SECTION_KEY","ORG_UNIT_DIST_REPORT_SECTION_KEY","sectionOrder","sections","key","path","concat","info","label","t","icon","description","actionText","docs","ACTION_MESSAGE","actionTypes","clearFeedback","type","showSnackbar","message","arguments","length","undefined","FEEDBACK_TYPES","payload","showSuccessSnackBar","showErrorSnackBar","showConfirmationSnackBar","Snackbar","_ref","action","onActionClick","onClose","conf","React","createElement","id","FeedbackSnackbar","show","defaultProps","mapDispatchToProps","connectedSnackbar","connect","_ref2","feedback","PageHelper","props","href","url","target","rel","className","_JSXStyle","isBelowVersion34","getSystemMinorVersion","isAtLeastVersion34","getReportTableNameBySystemVersion","getReportParamsFieldName","getStandardReportsFieldsBySystemVersion","reportTableFieldName","reportParamsFieldName","getReportParamsPropertiesBySystemVersion","reportParams","reportingPeriod","paramReportingPeriod","grandParentOrganisationUnit","paramGrandParentOrganisationUnit","organisationUnit","paramOrganisationUnit","parentOrganisationUnit","paramParentOrganisationUnit","formatStandardReportResponseBySystemVersion","reportModel","reportJson","toJSON","reportTable","reportTableReportParams","formatStandardReportsResponse","reportsCollection","reports","toArray","map","pager","pageSize","query","page","pageCount","total","mapCollectionToDimensionQueryString","_len","collections","Array","_key","reduce","dimensionQueryString","collection","Object","keys","uploadFile","api","file","formData","FormData","append","post","addFileResourceUrlToResource","resource","getFileUrls","endPoint","queryString","extensions","extension","getApi","baseUrl","buildQueryString","o","acc","value","isArray","join","push","isCustomFormType","formType","RESOURCE_ENDPOINT","DATA_DIMENSION_SUFFIXES","STANDARD_REPORTS_ENDPOINT","d2","getD2","getContextPath","system","systemInfo","contextPath","version","minor","getDataSetReport","options","dataSet","data","ds","pe","period","ou","orgUnit","selectedUnitOnly","filter","dataSetDimensions","orgUnitGroupsOptions","requestOptions","headers","Accept","fileUrls","resourceUrl","mergedFilters","baseQueryStr","filterQueryStr","fullQueryStr","getDataSetReportFileUrls","get","then","response","getReportingRateSummaryReport","async","dataSetId","orgUnitOptions","orgUnitIds","getOrgUnitAndChildrenIds","dataDimensions","suffix","req","analytics","request","addDataDimension","addOrgUnitDimension","addPeriodFilter","withColumns","withRows","withTableLayout","withHideEmptyRows","withDisplayProperty","withIncludeNumDen","addFilter","buildQuery","jsonUrl","buildUrl","replace","getAnalyticsFileUrls","children","size","Promise","resolve","models","organisationUnits","fields","model","getStandardReportTables","searchTerm","resourceName","getReportTablesFilterBySystemVersion","paging","getDataSetOptions","list","postDocument","putDocument","resourceId","update","DOCS_LINK","getDocsVersion","major","snapshot","getDocsUrl","sectionKey","lng","SectionHeadline","showBackButton","role","tabIndex","onClick","onBackClick","PropTypes","oneOfType","arrayOf","node","string","array","object","shape","name","isRequired","onBlur","func","onChange","onFocus","touched","bool","error","formOption","formLabel","styles","container","card","formCard","formLoader","actionsContainer","fallBackDefault","humanReadableErrorMessage","errorInstance","fallbackMsg","messages","httpStatusCode","useMessage","selectDataSet","loadingDataSetOptionsStart","loadingDataSetOptionsSuccess","loadingDataSetOptionsErrorWithFeedback","dispatch","defaultMessage","displayMessage","loadingDimensionsErrorWithFeedback","loadDimensions","getState","selected","order","dimensions","loadingDimensionsSuccess","catch","loadingReportDataStart","loadingReportDataSuccess","reportData","loadingReportDataError","loadingReportDataSuccessWithFeedback","shouldShowChart","successMsg","outputType","loadingReportDataErrorWithFeedback","sharingReportCommentStartWithFeedback","sharingReportCommentSuccessWithFeedback","sharingReportCommentErrorWithFeedback","defaultMessge","shareDataSetReportComment","comment","reportPeriod","orgUnitId","selectedPeriod","endpointUrl","postDataSetReportCommentUrl","postDataSetReportComment","getIsActionEnabled","state","loading","isHtmlReport","content","createDataTransformCache","inputData","transformedData","hasValidCacheFor","getCachedResult","setCachedResult","input","transformed","cache","getTransformedTableData","isEmpty","tables","transformTableData","title","h","column","rows","cells","x","connectDataSetReport","reportContent","isReportLoading","reportComment","dataSetReport","isActionEnabled","loadReportData","selectedOptions","e","selectDataSetOriginal","toggleSelectedUnitOnly","setDataSetReportComment","setReportComment","ReportLoader","isLoading","childrenToWrap","CircularProgress","Paper","prefix","DownloadOption","download","DownloadOptions","index","actionButtonPlaceholder","inputFieldPlaceholder","ReportComment","InputField","placeholder","multiline","fullWidth","Button","raised","color","disabled","trim","Row","cell","ReportTable","Fragment","header","CSS_FILES","media","styleSheet","SCRIPT_FILES","_defineProperty","obj","defineProperty","enumerable","configurable","writable","createScriptTag","script","src","createLinkTag","Loader","HtmlReport","Component","constructor","super","this","heigth","event","iframeHtml","contentWindow","document","documentElement","iframeBody","body","heightObserver","window","ResizeObserver","onContentResize","observe","adjustHeight","getBoundingClientRect","entries","entry","contentRect","iframeHtmlRect","iframeBodyRect","height","Math","max","setState","ceil","componentWillUnmount","disconnect","render","html","srcDoc","width","seamless","sandbox","onLoad","onIframeLoad","DataSetReportOutput","table","createDimensionChangeHandler","dimensionId","element","DimensionDropdown","dimension","displayName","DropDown","values","menuItems","items","includeEmpty","emptyLabel","hintText","thickness","DataSetDimensions","hide","ConnectedDataSetDimensions","evt","hintTextLoading","hintTextDefault","DatasetsDropdown","loadingGroupSetsErrorDefaultMessage","loadGroupSetOptions","organisationUnitGroupSet","groupSets","loadingGroupSetsError","ORGANISATION_UNITS_LOADING_START","ORGANISATION_UNITS_RECEIVED","ORGANISATION_UNITS_ERRORED","ORGANISATION_UNIT_SELECTED","ORGANISATION_UNIT_CLEARED","ORGANISATION_UNITS_OPTION_SELECTED","TOGGLE_SHOW_OPTIONS","loadOrganisationUnitsErrorDefaultMessage","loadOrganisationUnitsErrorWithFeedback","clearSelectedOrgUnit","selectOrganisationUnit","_event","OrgUnitTreeMultipleRoots","hideMemberCount","roots","initiallyExpanded","unit","onSelectClick","labelText","OrganisationUnitGroupSetDropdown","groupSet","organisationUnitGroups","__OrganisationUnitGroupSets","selectGroupSet","groupSetId","OrganisationUnitGroupSets","orgUnitGroupSets","getExtraOptionsClassName","showOptions","OrgUnitsTreeWithExtraOptions","isLoadingOptions","toggleShowOptions","OrganisationUnitsTree","REPORT_PERIOD_TYPES_LOADING_START","REPORT_PERIOD_TYPES_RECEIVED","REPORT_PERIOD_TYPES_ERRORED","REPORT_PERIOD_TYPE_SELECTED","REPORT_PERIOD_SELECTED","REPORT_PERIOD_CLEAR_ALL","fallbackErrorMessage","loadPeriodTypesErrorWithFeedback","clearSelectedReportPeriod","fixedPeriodTranslations","Daily","Weekly","WeeklyWednesday","WeeklyThursday","WeeklySaturday","WeeklySunday","BiWeekly","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","SixMonthlyNov","Yearly","FinancialApril","FinancialJuly","FinancialOct","relativePeriodsThatAreActuallyFixed","thisDay","thisWeek","thisBiWeek","thisMonth","thisBimonth","thisQuarter","thisSixMonth","thisYear","thisFinancialYear","isFixedPeriodType","periodType","THIS_DAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","WEEKS_THIS_YEAR","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BI_MONTHS","BI_MONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIX_MONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","RELATIVE_PERIODS","flattenedRelativePeriods","group","forEach","getCurrentDate","Date","now","getPreviousMonday","date","day","getDay","mondayTimeStamp","getDate","setDate","daysAgo","offset","weeksAgo","previousMonday","startOfYear","year","getFullYear","getTime","monthUnitsAgo","unitSize","monthIndex","getMonth","firstMonthStr","floor","toString","padStart","firstMonthStartDate","setMonth","yearsAgo","isFinancial","startYear","startDateCalculators","jan4","weeksThisYear","getRelativePeriodStartDate","periodCode","startDateCalutator","timestamp","yyyy","mm","dd","formatYyyyMmDd","CONTEXT_MENU_ACTION","CONTEXT_MENU_ICONS","TYPES","reportTypes","reportTypeOptions","cacheStrategies","isFalsy","getPeriodStartDate","parseFixedPeriod","startDate","getFixedPeriodStartDate","isJasperReportTableReport","report","appendOrgUnitsAndReportPeriodToQueryString","baseStr","standardReport","processCheckboxValues","formSelectedKeys","stateValues","selectedKeys","Set","has","getFilteredPeriodTypes","fixedPeriodTypes","showReportParams","selectedReport","periods","relativePeriods","periodKey","isRelative","periodTypeLabelText","selectPeriodType","selectPeriod","selectedPeriodType","PeriodPicker","onPickPeriod","Form","DataSets","onDataSetChange","PeriodPickerComponent","CheckBox","onSelectedUnitOnlyChange","onGetReportClick","isGetReportDisabled","ConnectedDataSetReport","MenuElement","Home","menuCards","Link","to","BarChart","Bar","TabularReport","loadReport","orgUnitDistReport","ougs","columns","relativeUrl","getOrgUnitDistReport","FONT_FAMILY","BASE_COLOR","getTitle","getTransformedChartData","chartData","labels","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","display","text","fontSize","fontFamily","legend","position","animation","duration","getChartData","parseInt","orgUnitColumnDisplayName","totalColumnDisplayName","tableData","getRows","selectedOrgUnitName","toNumericWithTotal","sort","rowA","rowB","a","b","nameA","toUpperCase","nameB","upperOrgUnitName","localeCompare","ascByNameWithParentBelow","cellsWithTotals","cellStr","cellVal","loadChart","loadTable","connectOrganisationUnitDistributionReport","groupSetsReady","GroupSetsDropdown","GroupSets","onGetChartClick","OrganisationUnitDistributionReport","componentDidMount","ConnectedOrganisationUnitDistributionReport","nameColumnDisplayName","rowIndexesToRead","parseTitle","parseHeaders","rowsWithAllFields","row","rowIndex","parseFloat","metaData","dx","dimensionCode","connectReportingRateSummary","showForm","ConnectedReportingRateSummary","getPagerCurrentlyShown","pagination","projectedEnd","end","searchText","__hash","pagerTotal","pagerHasNextPage","pagerHasPreviousPage","pagerCurrentlyShown","Pagination","hasNextPage","hasPreviousPage","currentlyShown","onNextPageClick","goToNextPage","onPreviousPageClick","goToPrevPage","TextField","searchInputValue","searchInputChangeHandler","Table","contextMenuActions","primaryAction","contextMenuIcons","isContextActionAllowed","fab","addButtonClickHandler","SvgIcon","resourceTypes","resourceTypeOptions","resourceActions","GO_TO_NEXT_PAGE","GO_TO_PREV_PAGE","SET_PAGINATION","RESET_PAGINATION","setPagination","loadingResourcesErrorWithFeedback","loadResources","search","requestData","getResources","resources","documents","debouncedLoadResources","debounce","setSearchAndLoadResources","setSearch","toResourceForm","setResource","confirmationMessage","successMessage","deleteResourceSuccessWithFeedback","defaultDeleteResourceErrorMessage","deleteResourceErrorWithFeedback","clearSelectedResource","loadingAddResourceError","goToNextPageOrig","goToPrevPageOrig","requestDeleteResource","deleteResource","selectedResource","delete","addResource","viewResource","open","editResource","showSharingSettings","closeContextMenu","refreshList","connectResource","selectedAction","loadingResources","isRequiredWhen","when","ResourceActions","SharingDialog","onRequestClose","handleClose","Resource","contextMenuOptions","createContextMenuOptions","SearchablePagedList","access","read","manage","externalize","external","ConnectedResource","D2UIButton","isPrimary","FormSection","FormRow","_extends","assign","i","source","prototype","hasOwnProperty","call","apply","RadioButton","htmlFor","RadioButtons","withStyles","margin","FormControl","classes","FormHelperText","showError","Field","meta","option","component","propTypes","Attachment","errorTextColor","red","ErrorText","showErrorText","dynamic","createChangeHandler","persist","files","formatBlobToString","File","format","fieldProps","variant","FileInput","validate","HelpText","style","blue","inputWrapper","Input","InputLabel","MUIInput","helpText","Name","FormSectionTitle","Title","TitleDetails","TitleResource","SelectField","MUISelect","showEmptyOption","MenuItem","Select","Type","Url","ResourceForm","onSubmit","initialValues","handleSubmit","valid","isEditingFileResource","isFileRequired","onSubmitLabel","onCancel","AddEditResource","omit","attachment","extractFileAndFormattedResource","isEdit","updateResource","addNewResource","backToList","isResourceLoaded","loadResource","getResourceIdFromUrl","getInitialValues","match","params","mode","getFormTexts","editTitle","editSubmitLabel","addText","submitLabel","Card","ConnectedAddEditResource","getResourceById","_ref4","fileResource","putResource","defaultAddResourceErrorMessage","loadingEditResourceErrorWithFeedback","_ref3","postResource","loadingAddResourceErrorWithFeedback","loadingStandardReportsErrorWithFeedback","debouncedLoadStandardReports","loadStandardReports","deleteStandardReportSuccessWithFeedback","deleteStandardReportErrorWithFeedback","nameFilter","addFilterForName","on","ilike","getFilteredStandardReports","deleteStandardReport","loadingStandardReportsDetailsError","sendStandardReport","formattedReport","dhis2CoreVersionFormattedReport","visualization","rp","formatStandardReportPayloadBySystemVersion","doRequest","updateStandardReport","postStandardReport","errorMessage","blob","designContent","reject","fileReader","FileReader","readAsText","onload","readyState","result","navigateToList","setSelectedReport","getReportParams","requiredParams","omitBy","extractRequiredReportParams","defineRequiredReportParams","navigateToHtmlReportView","generatePdfReport","reportId","reportQueryString","reportPath","identity","getIsEdit","matchPath","router","location","pathname","getEditFormInitialValues","createSelector","cur","cacheStrategy","checkboxStyle","Checkbox","CheckBoxes","CheckBoxGroups","displayError","groups","loadingStandardReportTablesErrorWithFeedback","loadStandardReportTables","standardReportTables","reportTables","formattedReportTables","debouncedLoadStandardReportTables","centeredStyle","alignItems","justifyContent","paddingTop","paddingBottom","errorStyle","infoStyle","fontStyle","ReportTableSearchInput","noMatches","persistedReportTableName","loadFilteredStandardReportTables","clearSearch","_inputRef$current","inputRef","useRef","isSearchMode","setSearchMode","useState","reportTableName","setReportTableName","showResults","showHint","usedValue","inputProps","count","autoComplete","Popper","anchorEl","current","offsetWidth","maxHeight","overflow","item","onMouseDown","getListContent","reportParameterOptions","DesignFileDownloadButton","isEditing","reportType","validateNewReport","errors","validateName","validateReportTable","validateDesignContent","validateCacheStrategy","validateReportUpdate","ReportForm","edit","subscription","AddEditStandardReport","PureComponent","loadStandardReportDetails","headlineText","ConnectedComponent","getStandardReportDetails","reportCard","LinkToListWithRef","forwardRef","ref","innerRef","StyledHtmlReport","generateHtmlReport","searchParams","URLSearchParams","reportRequestBody","requestBody","getStandardReportHtmlReport","generatingHtmlReportErrorDefaultMessage","generatingHtmlReportErrorWithFeedback","connectStandardReport","addReportFormShow","addStandardReport","createReport","editReport","editReportFormShow","hideReportData","requestDeleteStandardReport","sharingSettings","sharingSettingsShow","showReportData","showContextAction","labelCancel","labelSubmit","colorError","buttonStyles","primaryButtonStyle","theme","palette","primary2Color","primary1Color","ConnectedReportParams","reportParamsErrors","cancelGeneratingPdfReport","submitRequiredReportParams","getSelectedOrgUnit","getSelectedReportPeriod","validateRequiredParams","requiredReportParamsError","Dialog","maxWidth","DialogTitle","DialogContent","OrganisationUnitTree","StandardReportActions","StandardReport","handleDisplayReportData","ConnectedStandardReport","NoMatch","standardReportPath","resourcePath","AppRouter","Switch","Route","exact","ConnectedAddEditStdReport","DataSetReport","ReportingRateSummary","atOrgUnitDistReportSection","getShowLoading","showLoader","loadingSendReport","addEditLoading","getIsUiBlocked","connectedLoader","getCurrentSection","substring","getShowSidebar","nonOnChangeSection","sidebarSections","section","containerElement","App","getChildContext","loadOrganisationUnits","loadPeriodTypes","loadDataSetOptions","showSidebar","Sidebar","onChangeSection","currentSection","childContextTypes","orgUnitFields","currentUser","getOrganisationUnits","level","loadOrganisationUnitsSuccess","console","resp","periodTypes","loadPeriodTypesSuccess","history","createHashHistory","defaultSelected","defaultState","ACTIONS","LOCATION_CHANGE","allActionTypes","nextPage","prevPage","defaultSelectedResource","loadingError","requestDelete","loadingDetails","combineReducers","connectRouter","types","reportDataActionTypes","curSelected","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","routerMiddleware","reduxThunk","d2UiTranslations","settings","app_search_placeholder","profile","account","help","log_out","about_dhis2","manage_my_apps","no_results_found","interpretations","display_name","report_table","actions","add_users_and_user_groups","enter_names","share","metadata","created_by","who_has_access","external_access","can_edit_and_view","can_view","can_view_only","no_access","public_access","public_can_edit","public_can_view","anyone_can_find_view_and_edit","anyone_can_find_and_view","close","week","month","biMonth","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","quarter","Q1","Q2","Q3","Q4","sixMonth","biWeek","bi_week","injectTranslationsToD2","translations","MUI3Theme","createMui3Theme","mui3theme","AppWrapper","useConfig","useD2","d2Config","schemas","onInitialized","Api","D2UIApp","Mui3ThemeProvider","Provider","ConnectedRouter"],"mappings":"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","file":"static/js/app.9c209e1d.chunk.js","sourcesContent":["//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import i18n from '../locales/index.js';\nexport const STANDARD_REPORT_SECTION_KEY = 'standard-report';\nexport const DATA_SET_REPORT_SECTION_KEY = 'data-set-report';\nexport const REPORTING_RATE_SUMMARY_SECTION_KEY = 'reporting-rate-summary';\nexport const RESOURCE_SECTION_KEY = 'resource';\nexport const ORG_UNIT_DIST_REPORT_SECTION_KEY = 'organisation-unit-distribution-report';\nexport const DATA_APPROVAL_SECTION_KEY = 'data-approval';\nexport const sectionOrder = [STANDARD_REPORT_SECTION_KEY, DATA_SET_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY];\nexport const sections = {\n  [STANDARD_REPORT_SECTION_KEY]: {\n    key: STANDARD_REPORT_SECTION_KEY,\n    path: \"/\".concat(STANDARD_REPORT_SECTION_KEY),\n    info: {\n      label: i18n.t('Standard Report'),\n      icon: 'bar_chart',\n      description: i18n.t('View and add reports based on the JasperReports library. These can be based on report tables and can be designed in iReport.'),\n      actionText: i18n.t('View Reports'),\n      docs: 'using_reporting_standard_reports'\n    }\n  },\n  [DATA_SET_REPORT_SECTION_KEY]: {\n    key: DATA_SET_REPORT_SECTION_KEY,\n    path: \"/\".concat(DATA_SET_REPORT_SECTION_KEY),\n    info: {\n      label: i18n.t('Data Set Report'),\n      icon: 'assignment',\n      description: i18n.t('View data set reports. These reports are based on data entry screens and will produce a report with aggregated data.'),\n      actionText: i18n.t('Get Report'),\n      docs: 'using_reporting_dataset_reports'\n    }\n  },\n  [REPORTING_RATE_SUMMARY_SECTION_KEY]: {\n    key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n    path: \"/\".concat(REPORTING_RATE_SUMMARY_SECTION_KEY),\n    info: {\n      label: i18n.t('Reporting Rate Summary'),\n      description: i18n.t('Browse the reporting rates of data sets by organisation unit and period based on various criteria for submission.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'format_list_bulleted',\n      docs: 'using_reporting_reporting_rate_summary'\n    }\n  },\n  [RESOURCE_SECTION_KEY]: {\n    key: RESOURCE_SECTION_KEY,\n    path: \"/\".concat(RESOURCE_SECTION_KEY),\n    info: {\n      label: i18n.t('Resource'),\n      description: i18n.t('View and add resources. These resources can be uploaded documents or URLs on the web.'),\n      actionText: i18n.t('View Resources'),\n      icon: 'cloud_upload',\n      docs: 'using_reporting_resources'\n    }\n  },\n  [ORG_UNIT_DIST_REPORT_SECTION_KEY]: {\n    key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n    path: \"/\".concat(ORG_UNIT_DIST_REPORT_SECTION_KEY),\n    info: {\n      label: i18n.t('Org unit distribution report'),\n      description: i18n.t('Browse the organisation unit distribution report based on the organisation unit group sets and its groups.'),\n      actionText: i18n.t('Get Report'),\n      icon: 'device_hub',\n      docs: 'using_reporting_orgunit_distribution_reports'\n    }\n  }\n};","export const ACTION_MESSAGE = 'ACTION_MESSAGE'; // TODO: remove loading\n\nexport const LOADING = 'LOADING';\nexport const ERROR = 'ERROR';\nexport const SUCCESS = 'SUCCESS';\nexport const WARNING = 'WARNING';","import * as FEEDBACK_TYPES from '../../utils/feedbackTypes.js';\nexport const actionTypes = {\n  FEEDBACK_CLEAR: 'FEEDBACK_CLEAR',\n  FEEDBACK_SHOW_LOADER: 'FEEDBACK_SHOW_LOADER',\n  FEEDBACK_SHOW_SNACKBAR: 'FEEDBACK_SHOW_SNACKBAR'\n};\nexport const clearFeedback = () => ({\n  type: actionTypes.FEEDBACK_CLEAR\n});\nexport const showLoader = () => ({\n  type: actionTypes.FEEDBACK_SHOW_LOADER\n});\nexport const showSnackbar = function (message) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FEEDBACK_TYPES.ACTION_MESSAGE;\n  return {\n    type: actionTypes.FEEDBACK_SHOW_SNACKBAR,\n    payload: {\n      message,\n      type\n    }\n  };\n};\nexport const showSuccessSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.SUCCESS);\nexport const showErrorSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ERROR);\nexport const showWarningSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.WARNING);\nexport const showConfirmationSnackBar = message => showSnackbar(message, FEEDBACK_TYPES.ACTION_MESSAGE); // TODO: remove this\n\nexport const updateFeedbackState = () => ({});","import { FeedbackSnackbar } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { clearFeedback } from '../../redux/actions/feedback.js';\n\nconst Snackbar = _ref => {\n  let {\n    showSnackbar,\n    message,\n    type,\n    action,\n    onActionClick,\n    onClose\n  } = _ref;\n  const conf = {\n    message,\n    type,\n    action,\n    onActionClick\n  };\n  return /*#__PURE__*/React.createElement(\"span\", {\n    id: \"feedbackSnackbarId\"\n  }, /*#__PURE__*/React.createElement(FeedbackSnackbar, {\n    onClose: onClose,\n    show: showSnackbar,\n    conf: conf\n  }));\n};\n\nSnackbar.propTypes = {\n  message: PropTypes.string.isRequired,\n  showSnackbar: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  action: PropTypes.string,\n  onActionClick: PropTypes.func\n};\nSnackbar.defaultProps = {\n  action: '',\n  onActionClick: () => null\n};\n\nconst mapStateToProps = _ref2 => {\n  let {\n    feedback\n  } = _ref2;\n  return {\n    showSnackbar: feedback.showSnackbar,\n    message: feedback.message,\n    type: feedback.type\n  };\n};\n\nconst mapDispatchToProps = {\n  onClose: clearFeedback\n};\nconst connectedSnackbar = connect(mapStateToProps, mapDispatchToProps)(Snackbar);\nexport { connectedSnackbar as Snackbar, Snackbar as SnackbarOriginal };","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst PageHelper = props => /*#__PURE__*/React.createElement(\"a\", {\n  href: props.url,\n  target: \"_blank\",\n  rel: \"noopener noreferrer\",\n  className: \"jsx-1199280612\" + \" \" + \"helper-icon material-icons\"\n}, \"help\", /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1199280612\"\n}, [\"a.jsx-1199280612{padding-left:12px;color:#276696;-webkit-text-decoration:none;text-decoration:none;}\"]));\n\nPageHelper.propTypes = {\n  url: PropTypes.string.isRequired\n};\nexport default PageHelper;","import { getSystemMinorVersion } from './api.js';\n/*\nThe following API changes were introduced in v2.34:\n\n1. The `api/reportTables` endpoint was replaced by `api/visualizations`\n\n2. The response payload from this endpoint now looks slightly different:\n\n    < 2.34\n    \"reportParams\": {\n        \"paramGrandParentOrganisationUnit\": false,\n        \"paramReportingPeriod\": false,\n        \"paramOrganisationUnit\": false,\n        \"paramParentOrganisationUnit\": false\n    }\n\n    >= 2.34\n    \"reportingParams\": {\n        \"grandParentOrganisationUnit\": false,\n        \"reportingPeriod\": false,\n        \"organisationUnit\": false,\n        \"parentOrganisationUnit\": false\n    }\n\n3. From >= 2.34 onward we have to deal with some inconsistencies in the property names:\n    - `report.reportParams`\n    - `report.visualization.reportingParams`\n\nThe functions in this module are there to deal with these discrepancies. To avoid too many changes to the app state model, the following names have been settled on:\n1. `reportTables` in favour of `visualizations`\n2. `reportParams` in favour of `reportingParams`\n3. don't prefix reportParams properties with `param`,\n   i.e. `reportingPeriod` in favour of `paramReportingPeriod`\n\n\nWhen we drop support for version v2.33 these helpers can be removed and replaced\nwith much more simple and sane logic\n*/\n\nconst isBelowVersion34 = () => getSystemMinorVersion() < 34;\n\nconst isAtLeastVersion34 = () => !isBelowVersion34();\n\nconst getReportTableNameBySystemVersion = () => isBelowVersion34() ? 'reportTable' : 'visualization';\n\nconst getReportParamsFieldName = () => isBelowVersion34() ? 'reportParams' : 'reportingParams';\n\nexport const getReportTablesResourceNameBySystemVersion = () => \"\".concat(getReportTableNameBySystemVersion(), \"s\");\nexport const getReportTablesFilterBySystemVersion = searchTerm => isAtLeastVersion34() ? [\"identifiable:token:\".concat(searchTerm), 'type:eq:PIVOT_TABLE'] : [\"name:ilike:\".concat(searchTerm)];\n/**\n * Required fields for displaying the standard reports\n */\n\nexport const getStandardReportsFieldsBySystemVersion = () => {\n  const reportTableFieldName = getReportTableNameBySystemVersion();\n  const reportParamsFieldName = getReportParamsFieldName();\n  return ['displayName', 'type', 'id', \"\".concat(reportTableFieldName, \"[id,displayName,\").concat(reportParamsFieldName, \",relativePeriods]\"), 'reportParams', 'relativePeriods', 'access'];\n};\n\nconst getReportParamsPropertiesBySystemVersion = reportParams => {\n  if (isAtLeastVersion34() || !reportParams) {\n    return reportParams;\n  }\n\n  return {\n    reportingPeriod: reportParams.paramReportingPeriod,\n    grandParentOrganisationUnit: reportParams.paramGrandParentOrganisationUnit,\n    organisationUnit: reportParams.paramOrganisationUnit,\n    parentOrganisationUnit: reportParams.paramParentOrganisationUnit\n  };\n};\n\nexport const getStandardReportFieldsBySystemVersion = () => {\n  const reportTableField = isAtLeastVersion34() ? 'visualization[id,displayName]' : 'reportTable[id,displayName]';\n  return [':owner', reportTableField];\n};\nexport const formatStandardReportResponseBySystemVersion = reportModel => {\n  // handle both d2 model instances and plain objects\n  const reportJson = reportModel.toJSON ? reportModel.toJSON() : reportModel; // <2.34 reportModel.reportTable, >=2.34 reportmodel.visualization\n\n  const reportTable = reportModel[getReportTableNameBySystemVersion()]; // <2.34 reportModel.reportTable.reportParams, >=2.34 reportmodel.visualization.reportingParams\n\n  const reportTableReportParams = reportTable && reportTable[getReportParamsFieldName()];\n  return { ...reportJson,\n    reportParams: getReportParamsPropertiesBySystemVersion(reportJson.reportParams),\n    reportTable: { // The JSON representation of a d2 reportModel is missing\n      // some of the reportTable properties such as reportParams\n      ...reportTable,\n      reportParams: getReportParamsPropertiesBySystemVersion(reportTableReportParams)\n    }\n  };\n};\nexport const formatStandardReportPayloadBySystemVersion = report => {\n  if (isAtLeastVersion34()) {\n    const visualization = report.reportTable;\n    delete report.reportTable;\n    return { ...report,\n      visualization\n    };\n  }\n\n  const rp = report.reportParams;\n  return { ...report,\n    reportParams: {\n      paramGrandParentOrganisationUnit: rp.grandParentOrganisationUnit,\n      paramOrganisationUnit: rp.organisationUnit,\n      paramParentOrganisationUnit: rp.parentOrganisationUnit,\n      paramReportingPeriod: rp.reportingPeriod\n    }\n  };\n};","import { getApi } from '../api.js';\nimport { formatStandardReportResponseBySystemVersion } from '../backwardCompatability.js';\nimport { FILE_RESOURCES_ENDPOINT } from './constants.js';\n/**\n * @param {Object} d2 ModelCollection instance\n * @return {Array<string>}\n */\n\nexport const mapResponseToArrayOfIds = model => model.toArray().map(_ref => {\n  let {\n    id\n  } = _ref;\n  return id;\n});\n/**\n * @param {string} name\n * @param {Object} model\n * @return {Object} The model with the filter if it wasn't an empty string otherwise the model without the filter\n */\n\nexport const addFilterForName = (name, model) => !name ? model : model.filter().on('displayName').ilike(name);\n/**\n * @param {Promise} request\n * @returns {Object}\n */\n\nexport const formatStandardReportsResponse = reportsCollection => {\n  const reports = reportsCollection.toArray().map(formatStandardReportResponseBySystemVersion);\n  const pager = {\n    pageSize: reportsCollection.pager.query.pageSize,\n    page: reportsCollection.pager.page,\n    pageCount: reportsCollection.pager.pageCount,\n    total: reportsCollection.pager.total\n  };\n  return {\n    reports,\n    pager\n  };\n};\n/**\n * @param {...Object} collections\n * @returns {string[]}\n */\n\nexport const mapCollectionToDimensionQueryString = function () {\n  for (var _len = arguments.length, collections = new Array(_len), _key = 0; _key < _len; _key++) {\n    collections[_key] = arguments[_key];\n  }\n\n  return collections.reduce((dimensionQueryString, collection) => [...dimensionQueryString, ...Object.keys(collection).map(key => \"\".concat(key, \":\").concat(collection[key]))], []);\n};\n/**\n * @param {Object} req - D2 AnalyticsRequest instance\n * @param {Array<String>} extensions - File extensions needed\n * @returns {Object} - An object containing the download links for the requested file extensions\n */\n\nexport const getAnalyticsFileUrls = (req, extensions) => {\n  const query = req.buildQuery();\n  const suffix = Object.keys(query).reduce((suffix, key) => suffix += \"&\".concat(key, \"=\").concat(query[key]), '');\n  const jsonUrl = \"\".concat(getApi().baseUrl, \"/\").concat(req.buildUrl()).concat(suffix);\n  return extensions.reduce((fileUrls, extension) => {\n    fileUrls.push({\n      extension,\n      url: jsonUrl.replace('analytics.json?', \"analytics.\".concat(extension, \"?\"))\n    });\n    return fileUrls;\n  }, []);\n};\nexport const getDataSetReportFileUrls = (resourceUrl, options) => {\n  const mergedFilters = { ...options.dataSetDimensions,\n    ...options.orgUnitGroupsOptions\n  };\n  const baseQueryStr = buildQueryString({\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly\n  });\n  const filterQueryStr = Object.keys(mergedFilters).map(key => \"filter=\".concat(key, \":\").concat(mergedFilters[key])).join('&');\n  const fullQueryStr = filterQueryStr ? \"\".concat(baseQueryStr, \"&\").concat(filterQueryStr) : baseQueryStr;\n  return getFileUrls(resourceUrl, fullQueryStr, ['xls', 'pdf']);\n};\n/**\n * @param {Object} api\n * @param {File} file\n * @returns {Promise}\n */\n\nexport const uploadFile = (api, file) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  formData.append('domain', 'DOCUMENT');\n  return api.post(FILE_RESOURCES_ENDPOINT, formData);\n};\n/**\n * @param {Object} resource\n * @param {File} file\n * @returns {Object}\n */\n\nexport const addFileResourceUrlToResource = (resource, file) => ({ ...resource,\n  url: file.id || resource.url\n});\n/**\n * @param {String} endpoint\n * @param {string} queryString\n * @param {Array<String>} extensions - file extensions to produce\n * @returns {Array} - Array of objects with extension and url properties\n */\n\nexport const getFileUrls = (endPoint, queryString, extensions) => extensions.map(extension => ({\n  extension,\n  url: \"\".concat(getApi().baseUrl, \"/\").concat(endPoint, \".\").concat(extension, \"?\").concat(queryString)\n}));\n/**\n * Takes an object and returns a query string\n * For arrays it will create a semi-colon-delimited string\n * @param {Object} o - object to base the queryString upon\n * @example\n * buildQueryString({a: 'yeah', b: ['u', 1]})\n * // returns 'a=yeah&b=u;1'\n * @returns {String} - query string\n */\n\nexport const buildQueryString = o => {\n  return Object.keys(o).reduce((acc, key) => {\n    const value = Array.isArray(o[key]) ? o[key].join(';') : o[key];\n    acc.push(\"\".concat(key, \"=\").concat(value));\n    return acc;\n  }, []).join('&');\n}; // Url creaters\n\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => \"interpretations/dataSetReport/\".concat(dataSetId, \"?pe=\").concat(period, \"&ou=\").concat(orgUnitId);","export const DATA_SET_DIMENSIONS_ENDPOINT = 'dimensions/dataSet';\nexport const DATA_SET_REPORT_INTERPOLATION_ENDPOINT = 'interpretations/dataSetReport';\nexport const DATA_SET_REPORTS_ENDPOINT = 'dataSetReport';\nexport const FILE_RESOURCES_ENDPOINT = 'fileResources';\nexport const ORG_UNIT_DISTRIBUTION_REPORT_ENDPOINT = 'orgUnitAnalytics';\nexport const REPORTING_RATE_SUMMARY_ENDPOINT = 'organisationUnits/%orgUnitId%/rateSummary';\nexport const RESOURCE_ENDPOINT = 'documents';\nexport const STANDARD_REPORTS_ENDPOINT = 'reports'; // Url creaters\n\nexport const postDataSetReportCommentUrl = (dataSetId, orgUnitId, period) => \"\".concat(DATA_SET_REPORT_INTERPOLATION_ENDPOINT, \"/\").concat(dataSetId, \"?pe=\").concat(period, \"&ou=\").concat(orgUnitId);\nexport const DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];","export const isCustomFormType = formType => formType === 'CUSTOM';","import { addFileResourceUrlToResource, uploadFile, addFilterForName, formatStandardReportsResponse, mapCollectionToDimensionQueryString, mapResponseToArrayOfIds, getAnalyticsFileUrls, buildQueryString, getFileUrls, postDataSetReportCommentUrl, getDataSetReportFileUrls } from './api/helpers.js';\nimport { getReportTablesResourceNameBySystemVersion, getReportTablesFilterBySystemVersion, getStandardReportsFieldsBySystemVersion, formatStandardReportResponseBySystemVersion, getStandardReportFieldsBySystemVersion } from './backwardCompatability.js';\nimport { isCustomFormType } from './dataSetReport/isCustomFormType.js';\nimport { isDevelopment } from './env/isDevelopment.js';\nexport const RESOURCE_ENDPOINT = 'documents';\nconst DATA_DIMENSION_SUFFIXES = ['ACTUAL_REPORTS', 'EXPECTED_REPORTS', 'REPORTING_RATE', 'ACTUAL_REPORTS_ON_TIME', 'REPORTING_RATE_ON_TIME'];\nconst STANDARD_REPORTS_ENDPOINT = 'reports';\nlet d2;\nlet api;\n/**\n * Sets d2 and the api\n */\n\nexport const initApi = d2Instance => {\n  d2 = d2Instance;\n  api = d2.Api.getApi();\n\n  if (isDevelopment()) {\n    window.d2 = d2;\n    window.d2Api = api;\n  }\n};\n/**\n * @return {Object} d2 instance\n */\n\nexport const getD2 = () => d2;\n/**\n * @return {Object} d2 api instance\n */\n\nexport const getApi = () => api;\n/**\n * @returns {string} context path\n */\n\nexport const getContextPath = () => d2.system.systemInfo.contextPath;\n/**\n * @typedef {Object} Version\n * @property {number} major The major version\n * @property {number} minor The minor version\n * @property {boolean} snapshot Flag to indicate if build is a snapshot\n */\n\n/**\n * @returns {Version} The dhis2-core instance version\n */\n\nexport const getSystemVersion = () => d2.system.version;\n/**\n * @returns {Number} The dhis2-core instance minor version\n */\n\nexport const getSystemMinorVersion = () => d2.system.version.minor;\n/**\n * @return {Promise} Period types\n */\n\nexport const getPeriodTypes = () => api.get('periodTypes').then(resp => resp.periodTypes);\n/**\n * @return {Promise} Organisation units\n */\n\nexport const getOrganisationUnits = async () => {\n  const orgUnitFields = ['id', 'displayName', 'path', 'children::isNotEmpty', 'memberCount'].join(',');\n  const organisationUnits = await d2.currentUser.getOrganisationUnits({\n    fields: orgUnitFields\n  });\n\n  if (organisationUnits.size > 0) {\n    return organisationUnits.toArray();\n  } else {\n    const orgUnitModel = await d2.models.organisationUnits.list({\n      paging: false,\n      level: 1,\n      fields: orgUnitFields\n    });\n    return orgUnitModel.toArray();\n  }\n};\n/**\n * @param {Array} dataSetOptions\n * @param {Array} orgUnitGroupsOptions\n * @param {string} dataSetId\n * @param {string} orgUnit\n * @param {string} period\n * @param {bool} selectedUnitOnly\n * @returns {Promise}\n */\n\nexport const getDataSetReport = options => {\n  const endPoint = 'dataSetReport';\n  const url = isCustomFormType(options.dataSet.formType) ? \"\".concat(endPoint, \"/custom\") : endPoint;\n  const data = {\n    ds: options.dataSet.id,\n    pe: options.period,\n    ou: options.orgUnit,\n    selectedUnitOnly: options.selectedUnitOnly,\n    filter: mapCollectionToDimensionQueryString(options.dataSetDimensions, options.orgUnitGroupsOptions)\n  };\n  const requestOptions = isCustomFormType(options.dataSet.formType) ? {\n    headers: {\n      Accept: 'text/html'\n    }\n  } : {};\n  const fileUrls = getDataSetReportFileUrls(endPoint, options);\n  return api.get(url, data, requestOptions).then(response => ({\n    data: response,\n    fileUrls\n  }));\n};\n/**\n * @param {string} dataSetId\n * @returns {Promise<array>} The dimensions for a given dataset\n */\n\nexport const getDimensions = dataSetId => api.get(\"dimensions/dataSet/\".concat(dataSetId), {\n  fields: ['id', 'displayName', 'items[id,displayName]'].join(','),\n  order: 'name:asc',\n  paging: false\n}).then(_ref => {\n  let {\n    dimensions\n  } = _ref;\n  return dimensions;\n});\n/**\n * @param {string} dataSetId\n * @param {string} orgUnitId\n * @param {string} period\n * @param {string} comment\n * @returns {Promise}\n */\n\nexport const postDataSetReportComment = (dataSetId, orgUnitId, period, comment) => {\n  const endpointUrl = postDataSetReportCommentUrl(dataSetId, orgUnitId, period);\n  const requestHeaders = {\n    headers: {\n      'Content-Type': 'text/plain'\n    }\n  };\n  return api.post(endpointUrl, comment, requestHeaders);\n};\n/**\n * @param {Object} orgUnit\n * @param {string} dataSetId\n * @param {string} period\n * @param {Object} orgUnitOptions\n * @returns {Promise}\n */\n\nexport const getReportingRateSummaryReport = async (orgUnit, dataSetId, period, orgUnitOptions) => {\n  const orgUnitIds = await getOrgUnitAndChildrenIds(orgUnit);\n  const dataDimensions = DATA_DIMENSION_SUFFIXES.map(suffix => \"\".concat(dataSetId, \".\").concat(suffix));\n  const req = new d2.analytics.request().addDataDimension(dataDimensions).addOrgUnitDimension(orgUnitIds).addPeriodFilter(period).withColumns('dx').withRows('ou').withTableLayout().withHideEmptyRows().withDisplayProperty('SHORTNAME').withIncludeNumDen(false);\n\n  for (const key in orgUnitOptions) {\n    if (orgUnitOptions[key]) {\n      req.addFilter(key, orgUnitOptions[key]);\n    }\n  } // Instead of calling `d2.analytics.aggregate.get(req)`, which spawns two parallel requests,\n  // we're just building the .json url from the request instance and call the regular `api.get(url)`,\n  // which only spawns a single request\n\n\n  const extensions = ['json', 'xls', 'csv'];\n  const [{\n    url\n  }, ...fileUrls] = getAnalyticsFileUrls(req, extensions);\n  return api.get(url).then(data => ({ ...data,\n    fileUrls\n  }));\n};\n/**\n * @param {Object} orgUnit\n * @returns {Promise} - Array of IDs of the orgUnit and its direct descendants\n */\n\nexport const getOrgUnitAndChildrenIds = orgUnit => {\n  const children = orgUnit.children.size ? Promise.resolve(orgUnit.children) : d2.models.organisationUnits.get(orgUnit.id, {\n    fields: ['children[id]']\n  }).then(_ref2 => {\n    let {\n      children\n    } = _ref2;\n    return children;\n  });\n  return children.then(children => [orgUnit.id, ...mapResponseToArrayOfIds(children)]);\n};\n/**\n * @returns {Promise}\n */\n\nexport const getOrgUnitGroupSets = () => d2.models.organisationUnitGroupSet.list({\n  paging: false,\n  fields: 'id,displayName,organisationUnitGroups[id,displayName]'\n});\n/**\n * @param {Object} orgUnit\n * @param {string} groupSetId\n * @returns {Promise}\n */\n\nexport const getOrgUnitDistReport = async (orgUnit, groupSetId, shouldShowChart) => {\n  const orgUnitIds = shouldShowChart ? orgUnit.id : await getOrgUnitAndChildrenIds(orgUnit);\n  const endPoint = 'orgUnitAnalytics';\n  const queryString = buildQueryString({\n    ou: orgUnitIds,\n    ougs: groupSetId,\n    columns: groupSetId\n  });\n  const relativeUrl = \"\".concat(endPoint, \"?\").concat(queryString);\n  const fileUrls = getFileUrls(endPoint, queryString, ['xls', 'pdf']);\n  return api.get(relativeUrl).then(response => ({ ...response,\n    fileUrls\n  }));\n};\n/**\n * @returns {Promise}\n */\n\nexport const getResources = (page, pageSize, search) => {\n  const requestData = {\n    page,\n    pageSize,\n    fields: 'displayName,id,url,external,access'\n  };\n\n  if (search) {\n    requestData.filter = \"displayName:ilike:\".concat(search);\n  }\n\n  return api.get(RESOURCE_ENDPOINT, requestData);\n};\n/**\n * @returns {Promise}\n */\n\nexport const getResourceById = id => {\n  return api.get(\"\".concat(RESOURCE_ENDPOINT, \"/\").concat(id));\n};\n/**\n * @returns {Promise}\n */\n\nexport const deleteResource = resourceId => api.delete(\"\".concat(RESOURCE_ENDPOINT, \"/\").concat(resourceId));\n/**\n * @returns {Promise}\n */\n\nexport const getStandardReportTables = searchTerm => {\n  const resourceName = getReportTablesResourceNameBySystemVersion();\n  const filter = getReportTablesFilterBySystemVersion(searchTerm);\n  return api.get(resourceName, {\n    paging: true,\n    pageSize: 30,\n    fields: 'id,displayName',\n    filter\n  }).then(response => response[resourceName]);\n};\n/**\n * @param {Object} report\n * @returns {Promise}\n */\n\nexport const postStandardReport = report => api.post(STANDARD_REPORTS_ENDPOINT, report);\n/**\n * @param {Object} report\n * @returns {Promise}\n */\n\nexport const updateStandardReport = report => api.update(\"\".concat(STANDARD_REPORTS_ENDPOINT, \"/\").concat(report.id), report);\n/**\n * @returns {Promise}\n */\n\nexport const getDataSetOptions = () => d2.models.dataSet.list({\n  paging: false,\n  fields: 'id,displayName,formType'\n}).then(response => response.toArray());\n/**\n * @param {Object} api\n * @param {Object} resource\n * @returns {Promise}\n */\n\nexport const postDocument = (api, resource) => api.post(RESOURCE_ENDPOINT, resource);\n/**\n * @param {Object} api\n * @param {string} resourceId\n * @param {Object} resource\n * @returns {Promise}\n */\n\nexport const putDocument = (api, resourceId, resource) => api.update(\"\".concat(RESOURCE_ENDPOINT, \"/\").concat(resourceId), resource);\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\n\nexport const postResource = function (resource) {\n  let file = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return file ? uploadFile(api, file).then(_ref3 => {\n    let {\n      response\n    } = _ref3;\n    return Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource));\n  }).then(resource => postDocument(api, resource)) : postDocument(api, resource);\n};\n/**\n * @param {Object} resource\n * @param {File} [file] - an optional file\n * @returns {Promise}\n */\n\nexport const putResource = function (resourceId, resource) {\n  let file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  return file ? uploadFile(api, file).then(_ref4 => {\n    let {\n      response\n    } = _ref4;\n    return Promise.resolve(addFileResourceUrlToResource(resource, response.fileResource));\n  }).then(resource => putDocument(api, resourceId, resource)) : putDocument(api, resourceId, resource);\n};\n/**\n * =================================\n * Standard report\n * =================================\n */\n\n/**\n * @param {number} page\n * @param {number} pageSize\n * @param {string} nameFilter\n * @return {Promise}\n */\n\nexport const getFilteredStandardReports = (page, pageSize, nameFilter) => addFilterForName(nameFilter, d2.models.report).list({\n  page,\n  pageSize,\n  fields: getStandardReportsFieldsBySystemVersion()\n}).then(formatStandardReportsResponse);\n/**\n * @param {string} id\n * @returns {Promise}\n */\n\nexport const getStandardReportDetails = id => api.get(\"\".concat(STANDARD_REPORTS_ENDPOINT, \"/\").concat(id), {\n  fields: getStandardReportFieldsBySystemVersion()\n}).then(formatStandardReportResponseBySystemVersion);\n/**\n * @param {string} id\n * @return {Promise}\n */\n\nexport const deleteStandardReport = id => api.delete(\"\".concat(STANDARD_REPORTS_ENDPOINT, \"/\").concat(id));\n/**\n * @param {string} id\n * @returns {Promise}\n */\n\nexport const getStandardReportHtmlReport = (id, requestBody) => api.get(\"reports/\".concat(id, \"/data.html\"), {\n  t: new Date().getTime(),\n  ...requestBody\n});","import { sections } from '../config/sections.config.js';\nimport { getSystemVersion } from './api.js';\nexport const DOCS_LINK = 'https://docs.dhis2.org';\nexport const DEFAULT_DOC_LANGUAGE = 'en';\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\n\nconst getDocsVersion = () => {\n  const {\n    major,\n    minor,\n    snapshot\n  } = getSystemVersion();\n\n  if (snapshot) {\n    return 'master';\n  }\n\n  return \"\".concat(major, \".\").concat(minor);\n};\n\nexport const getDocsUrl = function (sectionKey) {\n  let lng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_DOC_LANGUAGE;\n  const baseUrl = \"\".concat(DOCS_LINK, \"/\").concat(getDocsVersion(), \"/\").concat(lng, \"/user/html/\");\n  return \"\".concat(baseUrl).concat(sections[sectionKey].info.docs, \".html\");\n};\nexport default getDocsUrl;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport PageHelper from '../components/PageHelper.js';\nimport { getDocsUrl } from '../utils/getDocsUrl.js';\nexport const SectionHeadline = props => /*#__PURE__*/React.createElement(\"h1\", {\n  className: \"jsx-1405635200\"\n}, props.showBackButton && /*#__PURE__*/React.createElement(\"span\", {\n  id: \"back-button\",\n  role: \"button\",\n  tabIndex: \"0\",\n  onClick: props.onBackClick,\n  className: \"jsx-1405635200\" + \" \" + \"material-icons back-button\"\n}, \"arrow_back\"), props.label, /*#__PURE__*/React.createElement(PageHelper, {\n  url: getDocsUrl(props.sectionKey)\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1405635200\"\n}, [\"h1.jsx-1405635200{margin-bottom:0;}\", \".back-button.jsx-1405635200{cursor:pointer;outline:none;padding:12px;}\"]));\nSectionHeadline.propTypes = {\n  label: PropTypes.string.isRequired,\n  sectionKey: PropTypes.string.isRequired,\n  showBackButton: PropTypes.bool,\n  onBackClick: PropTypes.func\n};\nSectionHeadline.defaultProps = {\n  showBackButton: false,\n  onBackClick: () => undefined\n};","import PropTypes from 'prop-types';\nexport const children = PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]);\nexport const reportContent = PropTypes.oneOfType([PropTypes.string, PropTypes.array, PropTypes.object]);\n/**\n *\n * Form prop types\n *\n */\n\nexport const formInput = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onBlur: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func.isRequired\n});\nexport const formInputMeta = PropTypes.shape({\n  touched: PropTypes.bool.isRequired,\n  error: PropTypes.string // is undefined when no error..\n\n});\nexport const formOption = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired\n});\nexport const formOptions = PropTypes.arrayOf(formOption);","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const formLabel = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4279021995\"\n  }, [\".jsx-4279021995{text-align:left;color:#757575;margin-bottom:5px;font-size:14px;}\"]),\n  className: \"jsx-4279021995\"\n};\nexport const container = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"115527779\"\n  }, [\".jsx-115527779{padding:16px;margin-top:16px;}\"]),\n  className: \"jsx-115527779\"\n};\nexport const card = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2551733070\"\n  }, [\".jsx-2551733070{box-sizing:border-box;display:inline-block;position:relative;min-width:200px;min-height:218px;height:100%;padding-left:30px;padding-right:30px;padding-bottom:20px;background-color:#ffffff;box-shadow:rgba(0,0,0,0.12) 0px 1px 6px, rgba(0,0,0,0.12) 0px 1px 4px;border-radius:5px;width:100%;}\"]),\n  className: \"jsx-2551733070\"\n};\nexport const formCard = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2165642276\"\n  }, [\".jsx-2165642276{padding:2rem 5rem 4rem;}\"]),\n  className: \"jsx-2165642276\"\n};\nexport const formLoader = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3618883681\"\n  }, [\".jsx-3618883681{padding-top:2rem;text-align:center;}\"]),\n  className: \"jsx-3618883681\"\n};\nexport const actionsContainer = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3492242264\"\n  }, [\".jsx-3492242264{display:block;margin-top:48px;margin-bottom:16px;}\"]),\n  className: \"jsx-3492242264\"\n};","import i18n from '@dhis2/d2-i18n';\n/**\n * It is preffered to show the error message from the server it is a 401-499 code\n * The final error message is determined with the following priority\n * messageFromError > fallbackMessageArgument > defaultFallBackMessage\n * @param {Object} error - The error object\n * @param {Number} error.httpStatusCode - The error status code\n * @param {Number} error.message - The error message\n * @param {String} fallbackMsg - The message to show in case the actual message is not human readable\n */\n\nexport const fallBackDefault = i18n.t('Something went wrong when processing your request.');\nexport default function humanReadableErrorMessage() {\n  let errorInstance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let fallbackMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : fallBackDefault;\n  const {\n    messages,\n    httpStatusCode\n  } = errorInstance;\n  let {\n    message\n  } = errorInstance;\n  const useMessage = httpStatusCode && httpStatusCode >= 400 && httpStatusCode < 500 || !httpStatusCode && messages && messages.length > 0;\n\n  if (!message && messages && messages.length > 0) {\n    message = messages.map(_ref => {\n      let {\n        message\n      } = _ref;\n      return message;\n    }).join(', ');\n  }\n\n  return useMessage ? message : fallbackMsg;\n}","import i18n from '@dhis2/d2-i18n';\nimport { getDataSetOptions } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  SELECT_DATA_SET: 'SELECT_DATA_SET',\n  LOADING_DATA_SET_OPTIONS_START: 'LOADING_DATA_SET_OPTIONS_START',\n  LOADING_DATA_SET_OPTIONS_SUCCESS: 'LOADING_DATA_SET_OPTIONS_SUCCESS',\n  LOADING_DATA_SET_OPTIONS_ERROR: 'LOADING_DATA_SET_OPTIONS_ERROR'\n};\nexport const selectDataSet = dataSetId => ({\n  type: actionTypes.SELECT_DATA_SET,\n  payload: dataSetId\n});\nexport const loadingDataSetOptionsStart = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_START\n});\nexport const loadingDataSetOptionsSuccess = options => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS,\n  payload: options\n});\nexport const loadingDataSetOptionsError = () => ({\n  type: actionTypes.LOADING_DATA_SET_OPTIONS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingDataSetOptionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred whole loading the data set options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingDataSetOptionsError());\n};\nexport const loadDataSetOptions = function () {\n  let filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return dispatch => {\n    dispatch(loadingDataSetOptionsStart());\n    return getDataSetOptions().then(options => filter ? options.filter(filter) : options).then(options => dispatch(loadingDataSetOptionsSuccess(options))).catch(error => dispatch(loadingDataSetOptionsErrorWithFeedback(error)));\n  };\n};","import i18n from '@dhis2/d2-i18n';\nimport { getDimensions } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showWarningSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_DIMENSIONS_START: 'LOADING_DIMENSIONS_START',\n  LOADING_DIMENSIONS_SUCCESS: 'LOADING_DIMENSIONS_SUCCESS',\n  LOADING_DIMENSIONS_ERROR: 'LOADING_DIMENSIONS_ERROR',\n  SELECT_DIMENSION_OPTION: 'SELECT_DIMENSION_OPTION'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingDimensionsStart = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_START\n});\n/**\n * @param {Array} dimensions\n * @returns {Object}\n */\n\nexport const loadingDimensionsSuccess = dimensions => ({\n  type: actionTypes.LOADING_DIMENSIONS_SUCCESS,\n  payload: dimensions\n});\nexport const loadingDimensionsError = () => ({\n  type: actionTypes.LOADING_DIMENSIONS_ERROR\n});\n/**\n * @param (Error) error\n * @returns {Function}\n */\n\nexport const loadingDimensionsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the data set dimensions');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showWarningSnackBar(displayMessage));\n  dispatch(loadingDimensionsError());\n};\n/**\n * @param {string} dimension\n * @param {string} value\n * @returns {Object}\n */\n\nexport const selectDimensionOption = (dimension, value) => ({\n  type: actionTypes.SELECT_DIMENSION_OPTION,\n  payload: {\n    dimension,\n    value\n  }\n});\n/**\n * @returns {Function}\n */\n\nexport const loadDimensions = () => (dispatch, getState) => {\n  dispatch(loadingDimensionsStart());\n  const {\n    dataSet\n  } = getState();\n  return getDimensions(dataSet.selected.id).then(dimensions => dispatch(loadingDimensionsSuccess(dimensions))).catch(error => dispatch(loadingDimensionsErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport XLSX from 'xlsx';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showLoader, showSuccessSnackBar, showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_REPORT_DATA_START: 'LOADING_REPORT_DATA_START',\n  LOADING_REPORT_DATA_SUCCESS: 'LOADING_REPORT_DATA_SUCCESS',\n  LOADING_REPORT_DATA_ERROR: 'LOADING_REPORT_DATA_ERROR',\n  SET_DATA_SET_REPORT_COMMENT: 'SET_DATA_SET_REPORT_COMMENT',\n  DOWNLOAD_DATA_SET_REPORT_XLS: 'DOWNLOAD_DATA_SET_REPORT_XLS',\n  SHARING_DATA_SET_REPORT_COMMENT_SUCCESS: 'SHARING_DATA_SET_REPORT_COMMENT_SUCCESS',\n  SHARING_DATA_SET_REPORT_COMMENT_START: 'SHARING_DATA_SET_REPORT_COMMENT_START',\n  SHARING_DATA_SET_REPORT_COMMENT_ERROR: 'SHARING_DATA_SET_REPORT_COMMENT_ERROR',\n  UNSET_REPORT_DATA: 'UNSET_REPORT_DATA'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingReportDataStart = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_START\n});\n/**\n * @param {string} reportData\n * @returns {Object}\n */\n\nexport const loadingReportDataSuccess = reportData => ({\n  type: actionTypes.LOADING_REPORT_DATA_SUCCESS,\n  payload: reportData\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingReportDataError = () => ({\n  type: actionTypes.LOADING_REPORT_DATA_ERROR\n});\n/**\n * @param {string} reportData\n * @return {Object}\n */\n\nexport const loadingReportDataSuccessWithFeedback = (reportData, shouldShowChart) => dispatch => {\n  const successMsg = i18n.t('Successfully loaded the {{ outputType }}', {\n    outputType: shouldShowChart ? i18n.t('chart') : i18n.t('table')\n  });\n  dispatch(showSuccessSnackBar(i18n.t(successMsg)));\n  dispatch(loadingReportDataSuccess(reportData));\n};\n/**\n * @param {Error} error\n */\n\nexport const loadingReportDataErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n}; // @TODO: not sure this is needed.\n// Not required for reporting-rate-summary\n\nexport const unsetReportData = () => ({\n  type: actionTypes.UNSET_REPORT_DATA\n});\n/**\n * @param {DOMElement[]} tableNodes\n * @return {Object}\n */\n// @TODO: not sure this is needed. I think this can be removed\n\nexport const exportReportToXls = tableNodes => {\n  const workbook = XLSX.utils.book_new();\n  tableNodes.forEach((tableNode, index) => {\n    const worksheet = XLSX.utils.table_to_sheet(tableNode);\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Worksheet \".concat(index));\n  });\n  XLSX.writeFile(workbook, 'report.xlsx');\n  return {\n    type: actionTypes.DOWNLOAD_DATA_SET_REPORT_XLS\n  };\n};\n/**\n * @param {string} comment\n * @returns {Object}\n */\n\nexport const setReportComment = comment => ({\n  type: actionTypes.SET_DATA_SET_REPORT_COMMENT,\n  payload: comment\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentStart = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_START\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentSuccess = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const sharingReportCommentError = () => ({\n  type: actionTypes.SHARING_DATA_SET_REPORT_COMMENT_ERROR\n});\n/**\n * @returns {Function}\n */\n\nexport const sharingReportCommentStartWithFeedback = () => dispatch => {\n  dispatch(showLoader());\n  dispatch(sharingReportCommentStart());\n};\n/**\n * @returns {Function}\n */\n\nexport const sharingReportCommentSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(i18n.t('Successfully added comment')));\n  dispatch(sharingReportCommentSuccess());\n};\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const sharingReportCommentErrorWithFeedback = error => dispatch => {\n  const defaultMessge = i18n.t('An error occurred while submitting your comment!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessge);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(sharingReportCommentError());\n};","import { getDataSetReport, postDataSetReportComment } from '../../utils/api.js';\nimport { selectDataSet as selectDataSetOriginal } from './dataSet.js';\nimport { loadDimensions } from './dataSetDimensions.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback, sharingReportCommentStartWithFeedback, sharingReportCommentSuccessWithFeedback, sharingReportCommentErrorWithFeedback } from './reportData.js';\nexport const actionTypes = {\n  SHOW_DATA_SET_REPORT_FORM: 'SHOW_DATA_SET_REPORT_FORM',\n  TOGGLE_SELECTED_UNIT_ONLY: 'TOGGLE_SELECTED_UNIT_ONLY'\n};\nexport const selectDataSet = dataSetId => (dispatch, getState) => {\n  dispatch(selectDataSetOriginal(dataSetId));\n  const {\n    dataSet\n  } = getState();\n  dispatch(loadDimensions(dataSet.selected.id));\n};\nexport const toggleSelectedUnitOnly = selectedUnitOnly => ({\n  type: actionTypes.TOGGLE_SELECTED_UNIT_ONLY,\n  payload: selectedUnitOnly\n});\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    dataSet,\n    dataSetDimensions,\n    dataSetReport,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  return getDataSetReport({\n    dataSet: dataSet.selected,\n    dataSetDimensions: dataSetDimensions.selected,\n    orgUnitGroupsOptions: organisationUnits.selectedOptions,\n    orgUnit: organisationUnits.selected.id,\n    period: reportPeriod.selectedPeriod,\n    selectedUnitOnly: dataSetReport.selectedUnitOnly\n  }).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};\nexport const shareDataSetReportComment = comment => (dispatch, getState) => {\n  const {\n    dataSet,\n    organisationUnits,\n    reportPeriod\n  } = getState();\n  const dataSetId = dataSet.selected.id;\n  const orgUnitId = organisationUnits.selected.id;\n  const period = reportPeriod.selectedPeriod;\n  dispatch(sharingReportCommentStartWithFeedback());\n  return postDataSetReportComment(dataSetId, orgUnitId, period, comment).then(() => dispatch(sharingReportCommentSuccessWithFeedback())).catch(error => dispatch(sharingReportCommentErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !(!state.organisationUnits.selected || !state.dataSet.selected.id || !state.reportPeriod.selectedPeriod || state.dataSet.loading || state.dataSetDimensions.loading || state.reportData.loading);","export const isHtmlReport = content => !!content && !!content.data && typeof content.data === 'string';","export default function createDataTransformCache() {\n  let inputData = null;\n  let transformedData = null;\n  return {\n    hasValidCacheFor: data => !!inputData && data === inputData,\n    getCachedResult: () => transformedData,\n    setCachedResult: (input, transformed) => {\n      inputData = input;\n      transformedData = transformed;\n    }\n  };\n}","import isEmpty from 'lodash.isempty';\nimport { isHtmlReport } from '../../../utils/dataSetReport/isHtmlReport.js';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nexport const cache = createDataTransformCache();\nexport default function getTransformedTableData(state) {\n  const content = state.reportData.content;\n\n  if (isEmpty(content) || isHtmlReport(content)) {\n    return content;\n  }\n\n  if (cache.hasValidCacheFor(content)) {\n    return cache.getCachedResult();\n  }\n\n  const tables = content.data.map(transformTableData);\n  cache.setCachedResult(content, tables);\n  return tables;\n}\n\nfunction transformTableData(data) {\n  return {\n    title: data.title,\n    headers: data.headers.map(h => h.column),\n    rows: data.rows.map(cells => cells.map(x => !!x || x === 0 ? x : ''))\n  };\n}","import { connect } from 'react-redux';\nimport { loadReportData, selectDataSet, toggleSelectedUnitOnly, shareDataSetReportComment } from '../../redux/actions/dataSetReport.js';\nimport { setReportComment } from '../../redux/actions/reportData.js';\nimport { getIsActionEnabled } from '../../redux/selectors/dataSetReport/getIsActionEnabled.js';\nimport getTransformedTableData from '../../redux/selectors/dataSetReport/getTransformedTableData.js';\nimport { isHtmlReport } from '../../utils/dataSetReport/isHtmlReport.js';\n\nconst mapStateToProps = state => ({\n  isHtmlReport: isHtmlReport(state.reportData.content),\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  reportComment: state.reportData.comment,\n  selectedUnitOnly: state.dataSetReport.selectedUnitOnly,\n  isActionEnabled: getIsActionEnabled(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData()),\n  selectDataSet: e => dispatch(selectDataSet(e.target.value)),\n  toggleSelectedUnitOnly: (e, selectedUnitOnly) => dispatch(toggleSelectedUnitOnly(selectedUnitOnly)),\n  shareDataSetReportComment: comment => dispatch(shareDataSetReportComment(comment)),\n  setDataSetReportComment: comment => dispatch(setReportComment(comment))\n});\n\nexport const connectDataSetReport = connect(mapStateToProps, mapDispatchToProps);","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport Paper from '@material-ui/core/Paper';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\n\nconst ReportLoader = _ref => {\n  let {\n    isLoading,\n    content,\n    children\n  } = _ref;\n\n  if (!isLoading && isEmpty(content)) {\n    return null;\n  }\n\n  const childrenToWrap = isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-434875869\" + \" \" + \"report-loader\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"434875869\"\n  }, [\"div.jsx-434875869{margin:48px 0;text-align:center;}\"])) : children;\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: container.className\n  }, childrenToWrap);\n};\n\nReportLoader.propTypes = {\n  children: PropTypes.node.isRequired,\n  content: reportContent.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default ReportLoader;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst prefix = i18n.t('Download as');\nexport const DownloadOption = _ref => {\n  let {\n    file\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: file.url,\n    download: true,\n    tabIndex: \"0\",\n    rel: \"noreferrer\",\n    target: file.extension === 'pdf' ? '_blank' : '_self',\n    className: \"jsx-3028982603\" + \" \" + \"download-button\"\n  }, prefix, \" \", file.extension, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3028982603\"\n  }, [\".download-button.jsx-3028982603{cursor:pointer;outline:none;color:#757575;font-size:12px;text-transform:uppercase;margin-left:8px;}\"]));\n};\nDownloadOption.propTypes = {\n  file: PropTypes.shape({\n    extension: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  })\n};\nexport const DownloadOptions = _ref2 => {\n  let {\n    fileUrls\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"download-options-container\",\n    className: \"jsx-1652653829\"\n  }, fileUrls.map((file, index) => /*#__PURE__*/React.createElement(DownloadOption, {\n    file: file,\n    key: index\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1652653829\"\n  }, [\"div.jsx-1652653829{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\"]));\n};\nDownloadOptions.propTypes = {\n  fileUrls: PropTypes.array.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { InputField, Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst isCommentingActionEnabled = comment => comment.trim();\n\nconst actionButtonPlaceholder = i18n.t('Share');\nconst inputFieldPlaceholder = i18n.t('Write a comment, question or interpretation of this report');\nexport const ReportComment = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"share-component\",\n  className: \"jsx-1358819727\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1358819727\"\n}, /*#__PURE__*/React.createElement(InputField, {\n  placeholder: inputFieldPlaceholder,\n  type: \"text\",\n  multiline: true,\n  fullWidth: true,\n  value: props.comment,\n  onChange: props.setDataSetReportComment\n}), /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.shareDataSetReportComment,\n  disabled: !isCommentingActionEnabled(props.comment)\n}, actionButtonPlaceholder)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1358819727\"\n}, [\"div.jsx-1358819727>div.jsx-1358819727{margin:16px 0;}\"]));\nReportComment.propTypes = {\n  comment: PropTypes.string.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nexport const Row = _ref => {\n  let {\n    cells\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", null, cells.map((cell, index) => /*#__PURE__*/React.createElement(\"td\", {\n    key: \"c-\".concat(cell, \"-\").concat(index)\n  }, cell)));\n};\nRow.propTypes = {\n  cells: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired\n};\n\nconst ReportTable = _ref2 => {\n  let {\n    content: {\n      title,\n      headers,\n      rows\n    }\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"jsx-2067112289\"\n  }, title), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"jsx-2067112289\"\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"jsx-2067112289\"\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"jsx-2067112289\"\n  }, headers.map((header, index) => /*#__PURE__*/React.createElement(\"th\", {\n    key: \"h-\".concat(header, \"-\").concat(index),\n    className: \"jsx-2067112289\"\n  }, header)))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"jsx-2067112289\"\n  }, rows.map((cells, index) => /*#__PURE__*/React.createElement(Row, {\n    cells: cells,\n    key: \"r-\".concat(cells[0], \"-\").concat(index)\n  })))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2067112289\"\n  }, [\"table.jsx-2067112289{border-collapse:collapse;}\", \"tr.jsx-2067112289{border-bottom:2px solid #e0e0e0;}\", \"tbody.jsx-2067112289 tr{border-bottom:1px solid #e0e0e0;}\", \"th.jsx-2067112289,tbody.jsx-2067112289 td{border:none;font-size:14px;padding:16px 16px;}\", \"th.jsx-2067112289{text-align:left;font-weight:bold;}\", \"tbody.jsx-2067112289 td:not(:first-child),thead.jsx-2067112289 th:not(:first-child){text-align:center;}\"]));\n};\n\nReportTable.propTypes = {\n  content: PropTypes.object.isRequired\n};\nexport default ReportTable;","export const CSS_FILES = [{\n  media: 'screen',\n  styleSheet: '/dhis-web-commons/javascripts/jQuery/ui/css/redmond/jquery-ui.css'\n}, {\n  media: 'print',\n  styleSheet: '/dhis-web-commons/css/print.css'\n}, {\n  media: 'screen,print',\n  styleSheet: '/dhis-web-commons/css/themes/light_blue/light_blue.css'\n}];\nexport const SCRIPT_FILES = ['/dhis-web-commons/javascripts/jQuery/jquery.min.js', '/dhis-web-commons/javascripts/jQuery/jquery.utils.js', '/dhis-web-commons/javascripts/jQuery/ui/jquery-ui.min.js', '/dhis-web-commons/javascripts/dhis2/dhis2.util.js', '/dhis-web-commons/javascripts/dhis2/dhis2.period.js', '/dhis-web-commons/javascripts/commons.js', '/dhis-web-commons/javascripts/commons.ajax.js', '/dhis-web-commons/javascripts/lists.js', '/dhis-web-commons/javascripts/periodType.js', '/dhis-web-commons/javascripts/date.js', '/dhis-web-commons/oust/oust.js'];\nexport const PAGE_STYLES = \"\\n    html {\\n        line-height: 1.15;\\n        text-size-adjust: 100%;\\n    }\\n    body {\\n        font-family: Roboto, sans-serif;\\n        box-sizing: inherit;\\n    }\\n    table {\\n        margin-top: 16px;\\n        border-collapse: collapse;\\n    }\\n    table td,\\n    table th {\\n        border: 1px solid #bcbcbc;\\n        padding: 4px;\\n    }\\n\";","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { getContextPath } from '../../utils/api.js';\nimport { CSS_FILES, SCRIPT_FILES, PAGE_STYLES } from './HtmlReportAssets.js';\n\nconst wrapHtmlInTemplate = html => \"\\n    <!DOCTYPE html>\\n    <html lang=\\\"en\\\">\\n        <head>\\n            <meta charset=\\\"utf-8\\\">\\n            \".concat(CSS_FILES.map(createLinkTag).join('\\n'), \"\\n            \").concat(SCRIPT_FILES.map(createScriptTag).join('\\n'), \"\\n            <style type=\\\"text/css\\\">\\n                \").concat(PAGE_STYLES, \"\\n            </style>\\n        </head>\\n        <body>\\n            \").concat(html, \"\\n        </body>\\n    </html>\\n\");\n\nconst createScriptTag = script => {\n  const src = getContextPath() + script;\n  return \"<script src=\\\"\".concat(src, \"\\\" type=\\\"text/javascript\\\"></script>\");\n};\n\nconst createLinkTag = _ref => {\n  let {\n    media,\n    styleSheet\n  } = _ref;\n  const href = getContextPath() + styleSheet;\n  return \"<link type=\\\"text/css\\\" rel=\\\"stylesheet\\\" media=\\\"\".concat(media, \"\\\" href=\\\"\").concat(href, \"\\\" >\");\n};\n\nconst Loader = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2400364065\"\n}, /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2400364065\"\n}, [\"div.jsx-2400364065{text-align:center;margin:16px;}\"]));\n\nclass HtmlReport extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"state\", {\n      heigth: 'auto'\n    });\n\n    _defineProperty(this, \"heightObserver\", null);\n\n    _defineProperty(this, \"onIframeLoad\", event => {\n      const iframeHtml = event.target.contentWindow.document.documentElement;\n      const iframeBody = event.target.contentWindow.document.body;\n      this.heightObserver = new window.ResizeObserver(this.onContentResize);\n      this.heightObserver.observe(iframeHtml);\n      this.heightObserver.observe(iframeBody);\n      this.adjustHeight(iframeHtml.getBoundingClientRect(), iframeBody.getBoundingClientRect());\n    });\n\n    _defineProperty(this, \"onContentResize\", entries => {\n      this.adjustHeight(...entries.map(entry => entry.contentRect));\n    });\n\n    _defineProperty(this, \"adjustHeight\", (iframeHtmlRect, iframeBodyRect) => {\n      const height = Math.max(iframeHtmlRect.height, iframeBodyRect.height); // Add 20px as a \"safety margin\" in case we get a horizontal scroll bar\n\n      this.setState({\n        height: Math.ceil(height) + 20\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.heightObserver && this.heightObserver.disconnect();\n  }\n\n  render() {\n    return this.props.html ? /*#__PURE__*/React.createElement(\"iframe\", {\n      id: \"html-report-id\",\n      srcDoc: wrapHtmlInTemplate(this.props.html),\n      title: \"html-report-content\",\n      width: \"100%\",\n      height: this.state.height,\n      seamless: true,\n      sandbox: \"allow-same-origin allow-scripts allow-modals allow-downloads\",\n      onLoad: this.onIframeLoad,\n      className: \"jsx-2058224637\"\n    }, /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2058224637\"\n    }, [\"iframe.jsx-2058224637{border:none;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"])) : /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n}\n\nHtmlReport.propTypes = {\n  html: PropTypes.string.isRequired\n};\nexport default HtmlReport;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReportLoader from '../../components/ReportLoader.js';\nimport { DownloadOptions } from '../../components/TabularReport/DownloadOptions.js';\nimport { ReportComment } from '../../components/TabularReport/ReportComment.js';\nimport ReportTable from '../../components/TabularReport/ReportTable.js';\nimport { reportContent } from '../../utils/react/propTypes.js';\nimport HtmlReport from '../standard-report/HtmlReport.js';\n\nconst DataSetReportOutput = props => /*#__PURE__*/React.createElement(ReportLoader, {\n  content: props.content,\n  isLoading: props.isLoading\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"tabular-report\"\n}, /*#__PURE__*/React.createElement(ReportComment, {\n  comment: props.reportComment,\n  shareDataSetReportComment: props.shareDataSetReportComment,\n  setDataSetReportComment: props.setDataSetReportComment\n}), /*#__PURE__*/React.createElement(DownloadOptions, {\n  fileUrls: props.fileUrls\n}), props.isHtmlReport ? /*#__PURE__*/React.createElement(HtmlReport, {\n  html: props.content.data\n}) : !!props.content.length && props.content.map(table => /*#__PURE__*/React.createElement(ReportTable, {\n  key: table.title,\n  content: table\n}))));\n\nDataSetReportOutput.propTypes = {\n  content: reportContent.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  reportComment: ReportComment.propTypes.comment,\n  setDataSetReportComment: ReportComment.propTypes.setDataSetReportComment,\n  shareDataSetReportComment: ReportComment.propTypes.shareDataSetReportComment\n};\nexport default DataSetReportOutput;","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectDimensionOption } from '../redux/actions/dataSetDimensions.js';\nimport { formLabel } from '../utils/styles/shared.js';\n\nconst createDimensionChangeHandler = (onChange, dimensionId) => element => onChange(dimensionId, element);\n\nconst DimensionDropdown = props => /*#__PURE__*/React.createElement(\"div\", {\n  key: props.dimension.id,\n  className: \"data-set-dimension\"\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, props.dimension.displayName), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.values[props.dimension.id],\n  onChange: props.onChange,\n  menuItems: props.dimension.items,\n  includeEmpty: true,\n  emptyLabel: i18n.t('Select Option'),\n  hintText: i18n.t('Select Option')\n}), formLabel.styles);\n\nconst Loader = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2280194982\"\n}, /*#__PURE__*/React.createElement(CircularProgress, {\n  size: 24,\n  thickness: 3\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2280194982\"\n}, [\"div.jsx-2280194982{margin-bottom:16px;text-align:center;}\"]));\n\nDimensionDropdown.propTypes = {\n  dimension: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool.isRequired,\n  values: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst DataSetDimensions = _ref => {\n  let {\n    hide,\n    isLoading,\n    fullWidth,\n    options,\n    selected,\n    onChange\n  } = _ref;\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n  if (hide || options.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"jsx-3127033929\" + \" \" + \"header\"\n  }, i18n.t('Data set dimensions')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3127033929\" + \" \" + \"box\"\n  }, options.map(dimension => /*#__PURE__*/React.createElement(DimensionDropdown, {\n    key: dimension.id,\n    dimension: dimension,\n    fullWidth: fullWidth,\n    values: selected,\n    onChange: createDimensionChangeHandler(onChange, dimension.id)\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3127033929\"\n  }, [\"h6.jsx-3127033929{color:#757575;font-size:14px;margin-bottom:5px;margin-top:0;text-align:left;font-weight:normal;}\", \"div.jsx-3127033929{border:1px solid #bcbcbc;padding:4px;margin-bottom:16px;}\"]));\n};\n\nDataSetDimensions.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  hide: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selected: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nDataSetDimensions.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  hide: !state.dataSet.selected.id,\n  isLoading: state.dataSetDimensions.loading,\n  options: state.dataSetDimensions.options,\n  selected: state.dataSetDimensions.selected\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (id, evt) => dispatch(selectDimensionOption(id, evt.target.value))\n});\n\nconst ConnectedDataSetDimensions = connect(mapStateToProps, mapDispatchToProps)(DataSetDimensions);\nexport { DataSetDimensions as OriginalComponent, ConnectedDataSetDimensions as DataSetDimensions };","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectDataSet } from '../redux/actions/dataSet.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst hintTextLoading = i18n.t('Loading options...');\nconst hintTextDefault = i18n.t('Select Data Set');\nexport const DatasetsDropdown = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, props.label), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.selected.id,\n  onChange: props.onChange ? props.onChange : props.selectDataSet,\n  menuItems: props.options,\n  hintText: props.loading ? hintTextLoading : hintTextDefault,\n  disabled: props.loading\n}), formLabel.styles);\nDatasetsDropdown.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selected: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool,\n  label: PropTypes.string,\n  onChange: PropTypes.func\n};\nDatasetsDropdown.defaultProps = {\n  onChange: null,\n  label: i18n.t('Data set'),\n  fullWidth: true,\n  filter: null\n};\n\nconst mapStateToProps = _ref => {\n  let {\n    dataSet: {\n      loading,\n      selected,\n      options\n    }\n  } = _ref;\n  return {\n    loading,\n    selected,\n    options\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  selectDataSet: event => dispatch(selectDataSet(event.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DatasetsDropdown);","import i18n from '@dhis2/d2-i18n';\nimport { getOrgUnitGroupSets } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  LOADING_GROUP_SETS_START: 'LOADING_GROUP_SETS_START',\n  LOADING_GROUP_SETS_SUCCESS: 'LOADING_GROUP_SETS_SUCCESS',\n  LOADING_GROUP_SETS_ERROR: 'LOADING_GROUP_SETS_ERROR',\n  SET_GROUP_SET: 'SET_GROUP_SET'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingGroupSetsStart = () => ({\n  type: actionTypes.LOADING_GROUP_SETS_START\n});\n/**\n * @param {Array} groupSets\n * @returns {Object}\n */\n\nexport const loadingGroupSetsSuccess = groupSets => ({\n  type: actionTypes.LOADING_GROUP_SETS_SUCCESS,\n  payload: groupSets\n});\n/**\n * @param {Error} error\n * @returns {Object}\n */\n\nexport const loadingGroupSetsErrorDefaultMessage = i18n.t('An error occurred while loading the group sets!');\nexport const loadingGroupSetsError = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadingGroupSetsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch({\n    type: actionTypes.LOADING_GROUP_SETS_ERROR,\n    payload: displayMessage\n  });\n};\n/**\n * @returns {Function}\n */\n\nexport const loadGroupSetOptions = () => dispatch => {\n  dispatch(loadingGroupSetsStart());\n  return getOrgUnitGroupSets().then(response => dispatch(loadingGroupSetsSuccess(response.toArray()))).catch(error => dispatch(loadingGroupSetsError(error)));\n};\n/**\n * @param {string} groupSetId\n * @return {Object}\n */\n\nexport const setGroupSet = groupSetId => ({\n  type: actionTypes.SET_GROUP_SET,\n  payload: groupSetId\n});","import i18n from '@dhis2/d2-i18n';\nimport { getOrganisationUnits } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nimport { loadGroupSetOptions } from './orgUnitGroupSets.js';\nexport const actionTypes = {\n  ORGANISATION_UNITS_LOADING_START: 'ORGANISATION_UNITS_LOADING_START',\n  ORGANISATION_UNITS_RECEIVED: 'ORGANISATION_UNITS_RECEIVED',\n  ORGANISATION_UNITS_ERRORED: 'ORGANISATION_UNITS_ERRORED',\n  ORGANISATION_UNIT_SELECTED: 'ORGANISATION_UNIT_SELECTED',\n  ORGANISATION_UNIT_CLEARED: 'ORGANISATION_UNIT_CLEARED',\n  ORGANISATION_UNITS_OPTION_SELECTED: 'ORGANISATION_UNITS_OPTION_SELECTED',\n  TOGGLE_SHOW_OPTIONS: 'TOGGLE_SHOW_OPTIONS'\n};\nexport const fallbackErrorMessage = i18n.t('Could not load organisation units');\n/**\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsStart = () => ({\n  type: actionTypes.ORGANISATION_UNITS_LOADING_START\n});\n/**\n * @param {Object} periodTypes\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsSuccess = organisationUnits => ({\n  type: actionTypes.ORGANISATION_UNITS_RECEIVED,\n  payload: organisationUnits\n});\n/**\n * @returns {Object}\n */\n\nexport const loadOrganisationUnitsError = () => ({\n  type: actionTypes.ORGANISATION_UNITS_ERRORED\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadOrganisationUnitsErrorDefaultMessage = i18n.t('An error occurred while loading the organisation units!');\nexport const loadOrganisationUnitsErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, loadOrganisationUnitsErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadOrganisationUnitsError());\n};\nexport const loadOrganisationUnits = () => dispatch => {\n  dispatch(loadOrganisationUnitsStart());\n  return getOrganisationUnits().then(organisationUnits => dispatch(loadOrganisationUnitsSuccess(organisationUnits))).catch(error => {\n    console.error(error);\n    dispatch(loadOrganisationUnitsErrorWithFeedback(error));\n  });\n};\nexport const selectOrganisationUnit = (_event, _ref) => {\n  let {\n    id,\n    path,\n    displayName,\n    children\n  } = _ref;\n  return {\n    type: actionTypes.ORGANISATION_UNIT_SELECTED,\n    payload: {\n      id,\n      path,\n      displayName,\n      children\n    }\n  };\n};\nexport const selectOrgUnitOption = (id, value) => ({\n  type: actionTypes.ORGANISATION_UNITS_OPTION_SELECTED,\n  payload: {\n    id,\n    value\n  }\n});\nexport const toggleShowOptions = () => (dispatch, getState) => {\n  const {\n    orgUnitGroupSets\n  } = getState();\n  dispatch({\n    type: actionTypes.TOGGLE_SHOW_OPTIONS\n  });\n\n  if (orgUnitGroupSets.collection.length === 0) {\n    dispatch(loadGroupSetOptions());\n  }\n};\nexport const clearSelectedOrgUnit = () => ({\n  type: actionTypes.ORGANISATION_UNIT_CLEARED\n});","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { OrgUnitTreeMultipleRoots } from '@dhis2/d2-ui-org-unit-tree';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectOrganisationUnit } from '../redux/actions/organisationUnits.js';\nexport function AvailableOrganisationUnitsTree(_ref) {\n  let {\n    selectOrganisationUnit,\n    loading,\n    collection,\n    selected\n  } = _ref;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Updating Organisation Units Tree...'));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2532267554\" + \" \" + \"org-unit-tree-wrapper\"\n  }, /*#__PURE__*/React.createElement(OrgUnitTreeMultipleRoots, {\n    hideMemberCount: true,\n    roots: collection,\n    selected: selected ? [selected.path] : [],\n    initiallyExpanded: collection.map(unit => \"/\".concat(unit.id)),\n    onSelectClick: selectOrganisationUnit\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2532267554\"\n  }, [\"div.jsx-2532267554{border:1px solid #bcbcbc;overflow:auto;width:100%;box-sizing:border-box;font-weight:300;max-height:400px;padding:10px 5px;}\"]));\n}\nAvailableOrganisationUnitsTree.propTypes = {\n  collection: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  selectOrganisationUnit: PropTypes.func.isRequired,\n  selected: PropTypes.object\n};\n\nconst mapStateToProps = _ref2 => {\n  let {\n    organisationUnits\n  } = _ref2;\n  return {\n    loading: organisationUnits.loading,\n    collection: organisationUnits.collection,\n    selected: organisationUnits.selected\n  };\n};\n\nexport default connect(mapStateToProps, {\n  selectOrganisationUnit\n})(AvailableOrganisationUnitsTree);","import _JSXStyle from \"styled-jsx/style\";\n\n/* React */\n\n/* i18n */\nimport i18n from '@dhis2/d2-i18n';\n/* d2-ui components */\n\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport { CircularProgress } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n/* App context */\n\nimport { connect } from 'react-redux';\nimport { selectOrgUnitOption } from '../redux/actions/organisationUnits.js';\nimport { formLabel } from '../utils/styles/shared.js';\n\nconst createGroupSetOnChange = (groupSetId, onChange) => event => {\n  onChange(groupSetId, event.target.value);\n};\n\nconst labelText = i18n.t('Select Option');\n\nconst OrganisationUnitGroupSetDropdown = _ref => {\n  let {\n    groupSet,\n    fullWidth,\n    value,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: groupSet.id\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: formLabel.className\n  }, groupSet.displayName), /*#__PURE__*/React.createElement(DropDown, {\n    fullWidth: fullWidth,\n    value: value,\n    onChange: onChange,\n    menuItems: groupSet.organisationUnitGroups,\n    includeEmpty: true,\n    emptyLabel: labelText,\n    hintText: labelText\n  }), formLabel.styles);\n};\n\nOrganisationUnitGroupSetDropdown.propTypes = {\n  fullWidth: PropTypes.bool.isRequired,\n  groupSet: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string\n};\nOrganisationUnitGroupSetDropdown.defaultProps = {\n  value: ''\n};\nexport const __OrganisationUnitGroupSets = _ref2 => {\n  let {\n    groupSets,\n    isLoading,\n    selectGroupSet,\n    values,\n    fullWidth\n  } = _ref2;\n  return isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-3604278703\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 24,\n    thickness: 3\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3604278703\"\n  }, [\"div.jsx-3604278703{padding-top:16px;text-align:center;}\"])) : groupSets.map(groupSet => /*#__PURE__*/React.createElement(OrganisationUnitGroupSetDropdown, {\n    groupSet: groupSet,\n    key: groupSet.id,\n    onChange: createGroupSetOnChange(groupSet.id, selectGroupSet),\n    value: values[groupSet.id],\n    fullWidth: fullWidth\n  }));\n};\n__OrganisationUnitGroupSets.propTypes = {\n  groupSets: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  values: PropTypes.object.isRequired,\n  fullWidth: PropTypes.bool\n};\n__OrganisationUnitGroupSets.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  isLoading: state.orgUnitGroupSets.loading,\n  groupSets: state.orgUnitGroupSets.collection,\n  values: state.organisationUnits.selectedOptions\n});\n\nexport const OrganisationUnitGroupSets = connect(mapStateToProps, {\n  selectGroupSet: selectOrgUnitOption\n})(__OrganisationUnitGroupSets);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { toggleShowOptions } from '../redux/actions/organisationUnits.js';\nimport { formLabel } from '../utils/styles/shared.js';\nimport OrganisationUnitsTree from './AvailableOrganisationUnitsTree.js';\nimport { OrganisationUnitGroupSets } from './OrganisationUnitGroupSets.js';\n\nconst getExtraOptionsLabel = showOptions => !showOptions ? i18n.t('Show more options') : i18n.t('Show fewer options');\n\nconst getExtraOptionsClassName = showOptions => showOptions ? 'show-options' : 'hide-options';\n\nexport const __OrgUnitsTreeWithExtraOptions = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3942626467\" + \" \" + (formLabel.className || \"\")\n}, i18n.t('Report organisation unit')), /*#__PURE__*/React.createElement(OrganisationUnitsTree, null), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3942626467\"\n}, !props.isLoadingOptions && /*#__PURE__*/React.createElement(\"span\", {\n  id: \"extra-options-action\",\n  role: \"button\",\n  tabIndex: \"0\",\n  onClick: props.toggleShowOptions,\n  className: \"jsx-3942626467\" + \" \" + \"show-more-options-button\"\n}, getExtraOptionsLabel(props.showOptions)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"extra-options\",\n  className: \"jsx-3942626467\" + \" \" + (getExtraOptionsClassName(props.showOptions) || \"\")\n}, /*#__PURE__*/React.createElement(OrganisationUnitGroupSets, null))), formLabel.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3942626467\"\n}, [\".hide-options.jsx-3942626467{display:none;}\", \".show-options.jsx-3942626467{display:block;}\", \".show-more-options-button.jsx-3942626467{display:block;cursor:pointer;color:#004ba0;margin-top:5;margin-bottom:5;outline:none;}\"]));\n__OrgUnitsTreeWithExtraOptions.propTypes = {\n  isLoadingOptions: PropTypes.bool.isRequired,\n  showOptions: PropTypes.bool.isRequired,\n  toggleShowOptions: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  showOptions: state.organisationUnits.showOptions,\n  isLoadingOptions: state.orgUnitGroupSets.loading\n});\n\nexport const OrgUnitsTreeWithExtraOptions = connect(mapStateToProps, {\n  toggleShowOptions\n})(__OrgUnitsTreeWithExtraOptions);","import i18n from '@dhis2/d2-i18n';\nimport { getPeriodTypes } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const actionTypes = {\n  REPORT_PERIOD_TYPES_LOADING_START: 'REPORT_PERIOD_TYPES_LOADING_START',\n  REPORT_PERIOD_TYPES_RECEIVED: 'REPORT_PERIOD_TYPES_RECEIVED',\n  REPORT_PERIOD_TYPES_ERRORED: 'REPORT_PERIOD_TYPES_ERRORED',\n  REPORT_PERIOD_TYPE_SELECTED: 'REPORT_PERIOD_TYPE_SELECTED',\n  REPORT_PERIOD_SELECTED: 'REPORT_PERIOD_SELECTED',\n  REPORT_PERIOD_CLEAR_ALL: 'REPORT_PERIOD_CLEAR_ALL'\n};\n/**\n * @param {Array} periodTypes\n * @returns {Object}\n */\n\nexport const loadPeriodTypesSuccess = periodTypes => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_RECEIVED,\n  payload: periodTypes\n});\n/**\n * @returns {Object}\n */\n\nexport const loadPeriodTypesError = () => ({\n  type: actionTypes.REPORT_PERIOD_TYPES_ERRORED\n});\n/**\n * @param {Error} error\n * @return {Function}\n */\n\nexport const fallbackErrorMessage = i18n.t('Could not load period types');\nexport const loadPeriodTypesErrorWithFeedback = error => dispatch => {\n  const displayMessage = humanReadableErrorMessage(error, fallbackErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadPeriodTypesError());\n};\nexport const loadPeriodTypes = () => dispatch => getPeriodTypes().then(periodTypes => dispatch(loadPeriodTypesSuccess(periodTypes))).catch(error => {\n  console.error(error);\n  dispatch(loadPeriodTypesErrorWithFeedback(error));\n});\nexport const selectPeriodType = event => ({\n  type: actionTypes.REPORT_PERIOD_TYPE_SELECTED,\n  payload: event.target.value\n});\nexport const selectPeriod = period => ({\n  type: actionTypes.REPORT_PERIOD_SELECTED,\n  payload: period\n});\nexport const clearSelectedReportPeriod = () => ({\n  type: actionTypes.REPORT_PERIOD_CLEAR_ALL\n});","import i18n from '@dhis2/d2-i18n';\nimport parseFixedPeriod from 'd2/period/parser';\n/* do not change property names, those are ids from period types server */\n\nexport const fixedPeriodTranslations = {\n  Daily: i18n.t('Daily'),\n  Weekly: i18n.t('Weekly'),\n  WeeklyWednesday: i18n.t('Weekly Wednesday'),\n  WeeklyThursday: i18n.t('Weekly Thursday'),\n  WeeklySaturday: i18n.t('Weekly Saturday'),\n  WeeklySunday: i18n.t('Weekly Sunday'),\n  BiWeekly: i18n.t('Bi-Weekly'),\n  Monthly: i18n.t('Monthly'),\n  BiMonthly: i18n.t('Bi-Monthly'),\n  Quarterly: i18n.t('Quarterly'),\n  SixMonthly: i18n.t('Six-Monthly'),\n  SixMonthlyApril: i18n.t('Six-Monthly April'),\n  SixMonthlyNov: i18n.t('Six-Monthly November'),\n  Yearly: i18n.t('Yearly'),\n  FinancialApril: i18n.t('Financial-April'),\n  FinancialJuly: i18n.t('Financial-July'),\n  FinancialOct: i18n.t('Financial-Oct')\n};\nexport const relativePeriodsThatAreActuallyFixed = {\n  thisDay: ['Daily'],\n  thisWeek: ['Weekly', 'WeeklyWednesday', 'WeeklyThursday', 'WeeklySaturday', 'WeeklySunday'],\n  thisBiWeek: ['BiWeekly'],\n  thisMonth: ['Monthly'],\n  thisBimonth: ['BiMonthly'],\n  thisQuarter: ['Quarterly'],\n  thisSixMonth: ['SixMonthly', 'SixMonthlyApril', 'SixMonthlyNov'],\n  thisYear: ['Yearly'],\n  thisFinancialYear: ['FinancialApril', 'FinancialJuly', 'FinancialOct', 'FinancialNov']\n};\nexport const isFixedPeriodType = periodType => !!fixedPeriodTranslations[periodType];\nexport const getFixedPeriodStartDate = periodCode => {\n  try {\n    const period = parseFixedPeriod(periodCode);\n    return period.startDate;\n  } catch {\n    return null;\n  }\n};","import i18n from '@dhis2/d2-i18n';\nconst THIS_DAY = 'thisDay';\nconst YESTERDAY = 'yesterday';\nconst LAST_3_DAYS = 'last3Days';\nconst LAST_7_DAYS = 'last7Days';\nconst LAST_14_DAYS = 'last14Days';\nconst THIS_WEEK = 'thisWeek';\nconst LAST_WEEK = 'lastWeek';\nconst LAST_4_WEEKS = 'last4Weeks';\nconst LAST_12_WEEKS = 'last12Weeks';\nconst LAST_52_WEEKS = 'last52Weeks';\nconst WEEKS_THIS_YEAR = 'weeksThisYear';\nconst THIS_MONTH = 'thisMonth';\nconst LAST_MONTH = 'lastMonth';\nconst LAST_3_MONTHS = 'last3Months';\nconst LAST_6_MONTHS = 'last6Months';\nconst LAST_12_MONTHS = 'last12Months';\nconst MONTHS_THIS_YEAR = 'monthsThisYear';\nconst THIS_BIMONTH = 'thisBimonth';\nconst LAST_BIMONTH = 'lastBimonth';\nconst LAST_6_BI_MONTHS = 'last6BiMonths';\nconst BI_MONTHS_THIS_YEAR = 'biMonthsThisYear';\nconst THIS_QUARTER = 'thisQuarter';\nconst LAST_QUARTER = 'lastQuarter';\nconst LAST_4_QUARTERS = 'last4Quarters';\nconst QUARTERS_THIS_YEAR = 'quartersThisYear';\nconst THIS_SIX_MONTH = 'thisSixMonth';\nconst LAST_SIX_MONTH = 'lastSixMonth';\nconst LAST_2_SIX_MONTHS = 'last2SixMonths';\nconst THIS_FINANCIAL_YEAR = 'thisFinancialYear';\nconst LAST_FINANCIAL_YEAR = 'lastFinancialYear';\nconst LAST_5_FINANCIAL_YEARS = 'last5FinancialYears';\nconst THIS_YEAR = 'thisYear';\nconst LAST_YEAR = 'lastYear';\nconst LAST_5_YEARS = 'last5Years';\nexport const RELATIVE_PERIODS = [// Days\n{\n  label: i18n.t('Days'),\n  options: [{\n    value: THIS_DAY,\n    label: i18n.t('Reporting day')\n  }, {\n    value: YESTERDAY,\n    label: i18n.t('Yesterday')\n  }, {\n    value: LAST_3_DAYS,\n    label: i18n.t('Last 3 days')\n  }, {\n    value: LAST_7_DAYS,\n    label: i18n.t('Last 7 days')\n  }, {\n    value: LAST_14_DAYS,\n    label: i18n.t('Last 14 days')\n  }]\n}, // Weeks\n{\n  label: i18n.t('Weeks'),\n  options: [{\n    value: THIS_WEEK,\n    label: i18n.t('Reporting week')\n  }, {\n    value: LAST_WEEK,\n    label: i18n.t('Last Week')\n  }, {\n    value: LAST_4_WEEKS,\n    label: i18n.t('Last 2 weeks')\n  }, {\n    value: LAST_12_WEEKS,\n    label: i18n.t('Last 12 weeks')\n  }, {\n    value: LAST_52_WEEKS,\n    label: i18n.t('Last 52 weeks')\n  }, {\n    value: WEEKS_THIS_YEAR,\n    label: i18n.t('Weeks this year')\n  }]\n}, // Months\n{\n  label: i18n.t('Months'),\n  options: [{\n    value: THIS_MONTH,\n    label: i18n.t('Reporting month')\n  }, {\n    value: LAST_MONTH,\n    label: i18n.t('Last month')\n  }, {\n    value: LAST_3_MONTHS,\n    label: i18n.t('Last 3 months')\n  }, {\n    value: LAST_6_MONTHS,\n    label: i18n.t('Last 6 months')\n  }, {\n    value: LAST_12_MONTHS,\n    label: i18n.t('Last 12 months')\n  }, {\n    value: MONTHS_THIS_YEAR,\n    label: i18n.t('Months this year')\n  }]\n}, // Bi-months\n{\n  label: i18n.t('Bi-months'),\n  options: [{\n    value: THIS_BIMONTH,\n    label: i18n.t('Reporting bi-month')\n  }, {\n    value: LAST_BIMONTH,\n    label: i18n.t('Last bi-month')\n  }, {\n    value: LAST_6_BI_MONTHS,\n    label: i18n.t('Last 6 bi-month')\n  }, {\n    value: BI_MONTHS_THIS_YEAR,\n    label: i18n.t('Bi-months this year')\n  }]\n}, // Quarters\n{\n  label: i18n.t('Quarters'),\n  options: [{\n    value: THIS_QUARTER,\n    label: i18n.t('Reporting quarter')\n  }, {\n    value: LAST_QUARTER,\n    label: i18n.t('Last quarter')\n  }, {\n    value: LAST_4_QUARTERS,\n    label: i18n.t('Last 4 quarters')\n  }, {\n    value: QUARTERS_THIS_YEAR,\n    label: i18n.t('Quarters of reporting year')\n  }]\n}, // Six-Months\n{\n  label: i18n.t('Six-Months'),\n  options: [{\n    value: THIS_SIX_MONTH,\n    label: i18n.t('Reporting six-month')\n  }, {\n    value: LAST_SIX_MONTH,\n    label: i18n.t('Last six-month')\n  }, {\n    value: LAST_2_SIX_MONTHS,\n    label: i18n.t('Last 2 six-months')\n  }]\n}, // Financial years\n{\n  label: i18n.t('Financial Years'),\n  options: [{\n    value: THIS_FINANCIAL_YEAR,\n    label: i18n.t('Reporting financial year')\n  }, {\n    value: LAST_FINANCIAL_YEAR,\n    label: i18n.t('Last financial year')\n  }, {\n    value: LAST_5_FINANCIAL_YEARS,\n    label: i18n.t('Last 5 financial years')\n  }]\n}, // years\n{\n  label: i18n.t('Years'),\n  options: [{\n    value: THIS_YEAR,\n    label: i18n.t('Reporting year')\n  }, {\n    value: LAST_YEAR,\n    label: i18n.t('Last year')\n  }, {\n    value: LAST_5_YEARS,\n    label: i18n.t('Last 5 years')\n  }]\n}];\nexport const flattenedRelativePeriods = RELATIVE_PERIODS.reduce((acc, group) => {\n  group.options.forEach(period => {\n    acc[period.value] = {\n      id: period.value,\n      displayName: period.label\n    };\n  });\n  return acc;\n}, {}); // This helper was \"borrowed\" from\n// https://github.com/dhis2/analytics/blob/master/src/components/PeriodDimension/utils/fixedPeriods.js#L537-L546\n// The plan is to eventually move the getRelativePeriodStartDate code over to the anaytics repo,\n// so we are using the helpers as they are there\n\nconst formatYyyyMmDd = timestamp => {\n  const date = new Date(timestamp);\n  const yyyy = date.getFullYear();\n  const mm = (date.getMonth() + 1).toString().padStart(2, '0');\n  const dd = date.getDate().toString().padStart(2, '0');\n  return \"\".concat(yyyy, \"-\").concat(mm, \"-\").concat(dd);\n}; // We are passing `Date.now()` to the `Date` constructor to make this\n// module easier to unit test. This way we only have to mock `Date.now`,\n// which is a lot easier than to mock the `Date` class\n// See here for more info: https://codewithhugo.com/mocking-the-current-date-in-jest-tests/\n\n\nconst getCurrentDate = () => new Date(Date.now());\n\nconst getPreviousMonday = date => {\n  const day = date.getDay(); // date.getDay() will return 0 for a Sunday and 1 for a Monday\n  // so a week starts on Sunday according to the Date API, but\n  // we want the fist day of the week to be Monday, so we need this:\n  // `day + (day === 0 ? -6 : 1)`\n\n  const mondayTimeStamp = date.getDate() - day + (day === 0 ? -6 : 1);\n  return new Date(date.setDate(mondayTimeStamp));\n};\n\nconst daysAgo = offset => {\n  const now = getCurrentDate();\n  return now.setDate(now.getDate() - offset);\n};\n\nconst weeksAgo = offset => {\n  const previousMonday = getPreviousMonday(getCurrentDate());\n  return previousMonday.setDate(previousMonday.getDate() - offset * 7);\n};\n\nconst weeksThisYear = () => {\n  const year = getCurrentDate().getFullYear(); // Calculate the first date of an EPI year base on ISO standard  ( first week always contains 4th Jan )\n\n  const jan4 = new Date(\"\".concat(year, \"-01-04\"));\n  const firstMondayOfYear = getPreviousMonday(jan4);\n  return firstMondayOfYear.getTime();\n};\n\nconst startOfYear = () => {\n  const year = getCurrentDate().getFullYear();\n  const jan1 = new Date(\"\".concat(year, \"-01-01\"));\n  return jan1.getTime();\n};\n\nconst monthUnitsAgo = (unitSize, offset) => {\n  const now = getCurrentDate();\n  const year = now.getFullYear();\n  const monthIndex = now.getMonth(); // Round down to nearest even number so feb(1) will become jan(0)\n\n  const firstMonthIndex = unitSize * Math.floor(monthIndex / unitSize);\n  const firstMonthStr = (firstMonthIndex + 1).toString().padStart(2, '0');\n  const firstMonthStartDate = new Date(\"\".concat(year, \"-\").concat(firstMonthStr, \"-01\"));\n  return firstMonthStartDate.setMonth(firstMonthStartDate.getMonth() - offset * unitSize);\n};\n\nconst yearsAgo = (offset, isFinancial) => {\n  const currentYear = getCurrentDate().getFullYear();\n  const startYear = currentYear - offset;\n  return new Date(isFinancial ? \"\".concat(startYear, \"-10-01\") : \"\".concat(startYear, \"-01-01\"));\n};\n\nconst startDateCalculators = {\n  [THIS_DAY]: () => daysAgo(0),\n  [YESTERDAY]: () => daysAgo(1),\n  [LAST_3_DAYS]: () => daysAgo(3),\n  [LAST_7_DAYS]: () => daysAgo(7),\n  [LAST_14_DAYS]: () => daysAgo(14),\n  [THIS_WEEK]: () => weeksAgo(0),\n  [LAST_WEEK]: () => weeksAgo(1),\n  [LAST_4_WEEKS]: () => weeksAgo(4),\n  [LAST_12_WEEKS]: () => weeksAgo(12),\n  [LAST_52_WEEKS]: () => weeksAgo(52),\n  [WEEKS_THIS_YEAR]: () => weeksThisYear(),\n  [THIS_MONTH]: () => monthUnitsAgo(1, 0),\n  [LAST_MONTH]: () => monthUnitsAgo(1, 1),\n  [LAST_3_MONTHS]: () => monthUnitsAgo(1, 3),\n  [LAST_6_MONTHS]: () => monthUnitsAgo(1, 6),\n  [LAST_12_MONTHS]: () => monthUnitsAgo(1, 12),\n  [MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_BIMONTH]: () => monthUnitsAgo(2, 0),\n  [LAST_BIMONTH]: () => monthUnitsAgo(2, 1),\n  [LAST_6_BI_MONTHS]: () => monthUnitsAgo(2, 6),\n  [BI_MONTHS_THIS_YEAR]: () => startOfYear(),\n  [THIS_QUARTER]: () => monthUnitsAgo(3, 0),\n  [LAST_QUARTER]: () => monthUnitsAgo(3, 1),\n  [LAST_4_QUARTERS]: () => monthUnitsAgo(3, 4),\n  [QUARTERS_THIS_YEAR]: () => startOfYear(),\n  [THIS_SIX_MONTH]: () => monthUnitsAgo(6, 0),\n  [LAST_SIX_MONTH]: () => monthUnitsAgo(6, 1),\n  [LAST_2_SIX_MONTHS]: () => monthUnitsAgo(6, 2),\n  [THIS_FINANCIAL_YEAR]: () => yearsAgo(0, true),\n  [LAST_FINANCIAL_YEAR]: () => yearsAgo(1, true),\n  [LAST_5_FINANCIAL_YEARS]: () => yearsAgo(5, true),\n  [THIS_YEAR]: () => yearsAgo(0),\n  [LAST_YEAR]: () => yearsAgo(1),\n  [LAST_5_YEARS]: () => yearsAgo(5)\n};\nexport const getRelativePeriodStartDate = periodCode => {\n  const startDateCalutator = startDateCalculators[periodCode];\n\n  if (!startDateCalutator) {\n    return null;\n  }\n\n  return formatYyyyMmDd(startDateCalutator());\n};","import i18n from '@dhis2/d2-i18n';\nexport { RELATIVE_PERIODS } from '../../utils/periods/relativePeriods.js';\nexport const REPORTS_ENDPOINT = 'reports';\nexport const REPORT_TEMPLATES_ENDPOINT = 'reportTemplate';\nexport const CONTEXT_MENU_ACTION = {\n  CREATE: 'createReport',\n  EDIT: 'editReport',\n  DELETE: 'delete',\n  SHARING_SETTINGS: 'sharingSettings'\n};\nexport const CONTEXT_MENU_ICONS = {\n  [CONTEXT_MENU_ACTION.CREATE]: 'arrow_right',\n  [CONTEXT_MENU_ACTION.EDIT]: 'edit',\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: 'people',\n  [CONTEXT_MENU_ACTION.DELETE]: 'delete'\n};\nexport const NONE = {\n  id: 'none',\n  name: i18n.t('[ None ]')\n};\nexport const TYPES = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const REPORT_MODE = {\n  REPORT: 'report',\n  REPORT_TABLE: 'table'\n};\nexport const GET_REPORT_AS_ENDPOINT = {\n  PDF: 'data.pdf',\n  XLS: 'data.xls',\n  HTML: 'data.html'\n};\nexport const reportTypes = {\n  JASPER_REPORT_TABLE: 'JASPER_REPORT_TABLE',\n  JASPER_JDBC: 'JASPER_JDBC',\n  HTML: 'HTML'\n};\nexport const reportTypeOptions = [{\n  value: reportTypes.JASPER_REPORT_TABLE,\n  label: i18n.t('Jasper report with report table data source')\n}, {\n  value: reportTypes.JASPER_JDBC,\n  label: i18n.t('Jasper report with JDBC data source')\n}, {\n  value: reportTypes.HTML,\n  label: i18n.t('HTML report')\n}];\nexport const REPORT_TYPES = [{\n  id: TYPES.JASPER_REPORT_TABLE,\n  name: i18n.t('Jasper report with report table data source')\n}, {\n  id: TYPES.JASPER_JDBC,\n  name: i18n.t('Jasper report with JDBC data source')\n}, {\n  id: TYPES.HTML,\n  name: i18n.t('HTML report')\n}];\nexport const cacheStrategies = [{\n  value: 'NO_CACHE',\n  label: i18n.t('No cache')\n}, {\n  value: 'RESPECT_SYSTEM_SETTING',\n  label: i18n.t('Respect system setting')\n}, {\n  value: 'CACHE_1_HOUR',\n  label: i18n.t('Cache for one hour')\n}, {\n  value: 'CACHE_6AM_TOMORROW',\n  label: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  value: 'CACHE_TWO_WEEKS',\n  label: i18n.t('Cache for two weeks')\n}];\nexport const CACHE_STRATEGIES = [{\n  id: 'NO_CACHE',\n  name: i18n.t('No cache')\n}, {\n  id: 'RESPECT_SYSTEM_SETTING',\n  name: i18n.t('Respect system setting')\n}, {\n  id: 'CACHE_1_HOUR',\n  name: i18n.t('Cache for one hour')\n}, {\n  id: 'CACHE_6AM_TOMORROW',\n  name: i18n.t('Cache until 6 AM tomorrow')\n}, {\n  id: 'CACHE_TWO_WEEKS',\n  name: i18n.t('Cache for two weeks')\n}];","export const isFalsy = value => !value;","import { getFixedPeriodStartDate } from './fixedPeriods.js';\nimport { getRelativePeriodStartDate } from './relativePeriods.js';\nexport const getPeriodStartDate = periodCode => {\n  return getRelativePeriodStartDate(periodCode) || getFixedPeriodStartDate(periodCode);\n};","import omitBy from 'lodash.omitby';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf.js';\nimport { getSelectedOrgUnit } from '../../redux/selectors/organisationUnit/getSelectedOrgUnit.js';\nimport { getSelectedReportPeriod } from '../../redux/selectors/reportPeriod/getSelectedReportPeriod.js';\nimport { isFalsy } from '../boolean/isFalsy.js';\nimport { getPeriodStartDate } from '../periods/periodTypes.js';\nexport const extractRequiredReportParams = reportParams => omitBy({\n  period: reportParams.reportingPeriod,\n  organisationUnit: reportParams.organisationUnit || reportParams.parentOrganisationUnit || reportParams.grandParentOrganisationUnit\n}, isFalsy);\nexport const isHtmlReport = report => report.type === reportTypes.HTML;\nexport const isJasperReportTableReport = report => report.type === reportTypes.JASPER_REPORT_TABLE;\nexport const getReportParams = report => report.reportTable && report.reportTable.reportParams || report.reportParams;\nexport const appendOrgUnitsAndReportPeriodToQueryString = function (state) {\n  let baseStr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  const {\n    standardReport,\n    organisationUnits,\n    reportPeriod\n  } = state;\n  const {\n    reportParams\n  } = standardReport;\n\n  if (reportParams.organisationUnit) {\n    baseStr += \"&ou=\".concat(organisationUnits.selected.id);\n  }\n\n  if (reportParams.period) {\n    const startDate = getPeriodStartDate(reportPeriod.selectedPeriod);\n    baseStr += \"&pe=\".concat(reportPeriod.selectedPeriod);\n\n    if (startDate) {\n      baseStr += \"&date=\".concat(startDate);\n    }\n  }\n\n  return baseStr ? \"?\".concat(baseStr) : baseStr;\n};\nexport const validateRequiredParams = (state, requiredParams) => {\n  const errors = [];\n\n  if (requiredParams.organisationUnit && !getSelectedOrgUnit(state)) {\n    errors.push('You need to select an organisation unit');\n  }\n\n  if (requiredParams.period && !getSelectedReportPeriod(state)) {\n    errors.push('You need to select a period');\n  }\n\n  return errors;\n};\nexport const processCheckboxValues = (formSelectedKeys, stateValues) => {\n  if (!stateValues) {\n    return {};\n  }\n\n  const selectedKeys = new Set(formSelectedKeys);\n  return Object.keys(stateValues).reduce((acc, key) => {\n    acc[key] = selectedKeys.has(key);\n    return acc;\n  }, {});\n};","import { fixedPeriodTranslations, relativePeriodsThatAreActuallyFixed } from '../../../utils/periods/fixedPeriods.js';\nimport { flattenedRelativePeriods } from '../../../utils/periods/relativePeriods.js';\nimport { isJasperReportTableReport } from '../../../utils/standardReport/index.js';\nexport const getFilteredPeriodTypes = state => {\n  const fixedPeriodTypes = state.reportPeriod.collection.map(periodType => ({\n    id: periodType.name,\n    displayName: fixedPeriodTranslations[periodType.name]\n  }));\n\n  if (!state.standardReport.showReportParams) {\n    return fixedPeriodTypes;\n  } // In report params modal we want to show a mix of fixed period types and relative periods\n\n\n  const report = state.standardReport.selectedReport;\n  const reportConfig = isJasperReportTableReport(report) ? report.reportTable : report;\n  const periods = reportConfig.relativePeriods || {};\n  return Object.keys(periods).reduce((acc, periodKey) => {\n    const isSelected = periods[periodKey];\n\n    if (isSelected) {\n      const fixedPeriodTypes = relativePeriodsThatAreActuallyFixed[periodKey];\n\n      if (fixedPeriodTypes) {\n        fixedPeriodTypes.forEach(periodKey => {\n          acc.push({\n            id: periodKey,\n            displayName: fixedPeriodTranslations[periodKey]\n          });\n        });\n      } else {\n        acc.push({ ...flattenedRelativePeriods[periodKey],\n          isRelative: true\n        });\n      }\n    }\n\n    return acc;\n  }, []);\n};","import i18n from '@dhis2/d2-i18n';\nimport { DropDown, PeriodPicker } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { selectPeriod, selectPeriodType } from '../redux/actions/reportPeriod.js';\nimport { getFilteredPeriodTypes } from '../redux/selectors/reportPeriod/periodTypes.js';\nimport { isFixedPeriodType } from '../utils/periods/fixedPeriods.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst periodTypeLabelText = i18n.t('Select Period Type');\nexport function PeriodPickerWithPeriodType(_ref) {\n  let {\n    selectPeriodType,\n    selectPeriod,\n    label,\n    collection,\n    selectedPeriodType\n  } = _ref;\n\n  const onDropDownChange = event => {\n    selectPeriodType(event); // relative periods can be selected from the first dropdown\n\n    if (!isFixedPeriodType(event.target.value)) {\n      selectPeriod(event.target.value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n    className: formLabel.className\n  }, label), /*#__PURE__*/React.createElement(DropDown, {\n    fullWidth: true,\n    emptyLabel: periodTypeLabelText,\n    hintText: periodTypeLabelText,\n    menuItems: collection,\n    onChange: onDropDownChange,\n    value: selectedPeriodType\n  }), selectedPeriodType && isFixedPeriodType(selectedPeriodType) && /*#__PURE__*/React.createElement(PeriodPicker, {\n    periodType: selectedPeriodType,\n    onPickPeriod: selectPeriod\n  }), formLabel.styles);\n}\nPeriodPickerWithPeriodType.propTypes = {\n  collection: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  selectPeriod: PropTypes.func.isRequired,\n  selectPeriodType: PropTypes.func.isRequired,\n  selectedPeriodType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({ ...state.reportPeriod,\n  collection: getFilteredPeriodTypes(state)\n});\n\nexport default connect(mapStateToProps, {\n  selectPeriodType,\n  selectPeriod\n})(PeriodPickerWithPeriodType);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { CheckBox, Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DataSetDimensions } from '../../components/DataSetDimensions.js';\nimport DataSets from '../../components/DatasetsDropdown.js';\nimport { OrgUnitsTreeWithExtraOptions } from '../../components/OrgUnitsTreeWithExtraOptions.js';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType.js';\n\nconst Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-report-form\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(OrgUnitsTreeWithExtraOptions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-selection\"\n}, /*#__PURE__*/React.createElement(DataSets, {\n  onChange: props.onDataSetChange\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-dimensions-container\"\n}, /*#__PURE__*/React.createElement(DataSetDimensions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-period\"\n}, /*#__PURE__*/React.createElement(PeriodPickerComponent, {\n  label: i18n.t('Report period')\n})), /*#__PURE__*/React.createElement(CheckBox, {\n  id: \"selected-unit-only\",\n  onChange: props.onSelectedUnitOnlyChange,\n  value: props.selectedUnitOnly,\n  label: i18n.t('Use data for selected unit only')\n}))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"main-action-button\",\n  className: \"jsx-1033327044\"\n}, /*#__PURE__*/React.createElement(Button, {\n  id: \"main-action-button\",\n  raised: true,\n  color: \"primary\",\n  onClick: props.onGetReportClick,\n  disabled: props.isGetReportDisabled\n}, i18n.t('Get Report')), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1033327044\"\n}, [\"div.jsx-1033327044{display:block;margin-top:48px;margin-bottom:16px;}\"])));\n\nForm.propTypes = {\n  isGetReportDisabled: PropTypes.bool.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  onDataSetChange: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired,\n  onSelectedUnitOnlyChange: PropTypes.func.isRequired\n};\nexport default Form;","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { DATA_SET_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectDataSetReport } from './data-set-report/connectDataSetReport.js';\nimport DataSetReportOutput from './data-set-report/DataSetReportOutput.js';\nimport Form from './data-set-report/Form.js';\n\nconst DataSetReport = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n  label: sections[DATA_SET_REPORT_SECTION_KEY].info.label,\n  sectionKey: DATA_SET_REPORT_SECTION_KEY\n}), /*#__PURE__*/React.createElement(Paper, {\n  className: container.className\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-report-form\"\n}, /*#__PURE__*/React.createElement(Form, {\n  selectedUnitOnly: props.selectedUnitOnly,\n  onDataSetChange: props.selectDataSet,\n  onSelectedUnitOnlyChange: props.toggleSelectedUnitOnly,\n  onGetReportClick: props.loadReportData,\n  isGetReportDisabled: !props.isActionEnabled\n}))), /*#__PURE__*/React.createElement(DataSetReportOutput, {\n  isHtmlReport: props.isHtmlReport,\n  content: props.reportContent,\n  isLoading: props.isReportLoading,\n  fileUrls: props.fileUrls,\n  reportComment: props.reportComment,\n  shareDataSetReportComment: props.shareDataSetReportComment,\n  setDataSetReportComment: props.setDataSetReportComment\n}), container.styles, /*#__PURE__*/React.createElement(Snackbar, null));\n\nDataSetReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isHtmlReport: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportComment: PropTypes.string.isRequired,\n  reportContent: reportContent.isRequired,\n  selectDataSet: PropTypes.func.isRequired,\n  selectedUnitOnly: PropTypes.bool.isRequired,\n  setDataSetReportComment: PropTypes.func.isRequired,\n  shareDataSetReportComment: PropTypes.func.isRequired,\n  toggleSelectedUnitOnly: PropTypes.func.isRequired\n};\nconst ConnectedDataSetReport = connectDataSetReport(DataSetReport);\nexport { ConnectedDataSetReport as DataSetReport };","import _JSXStyle from \"styled-jsx/style\";\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { card } from '../utils/styles/shared.js';\n\nconst MenuElement = _ref => {\n  let {\n    entry\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: card.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-title-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-name\"\n  }, entry.label), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-2223066612\" + \" \" + \"material-icons icon section-icon\"\n  }, entry.icon)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-description\"\n  }, entry.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-2223066612\" + \" \" + \"section-action-text\"\n  }, entry.actionText), card.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2223066612\"\n  }, [\".section-title-bar.jsx-2223066612{margin-top:28px;min-height:42px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".section-name.jsx-2223066612{font-size:24px;text-align:left;color:#000000;}\", \".section-icon.jsx-2223066612{float:right;color:#757575;font-size:50px;}\", \".section-description.jsx-2223066612{font-size:14px;text-align:left;color:#757575;margin-top:38px;margin-bottom:38px;display:block;}\", \".section-action-text.jsx-2223066612{position:absolute;bottom:20px;display:block;font-size:16px;font-weight:600;text-align:left;color:#2196f3;}\"]));\n};\n\nMenuElement.propTypes = {\n  entry: PropTypes.shape({\n    actionText: PropTypes.string,\n    description: PropTypes.string,\n    icon: PropTypes.string,\n    label: PropTypes.string\n  }).isRequired\n};\nexport default MenuElement;","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport MenuElement from '../../components/MenuElement.js';\nimport { sectionOrder, sections } from '../../config/sections.config.js';\n\nconst Home = () => {\n  const menuCards = sectionOrder.map(sectionKey => {\n    const element = sections[sectionKey];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: element.key,\n      className: \"jsx-4277548905\" + \" \" + \"col-sm-12 col-md-6 col-lg-4\"\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: element.path,\n      className: \"menu-card-link\"\n    }, /*#__PURE__*/React.createElement(MenuElement, {\n      entry: element.info\n    })), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"4277548905\"\n    }, [\"div.jsx-4277548905{margin-bottom:8px;}\", \"div.jsx-4277548905 .menu-card-link{-webkit-text-decoration:none !important;text-decoration:none !important;}\"]));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: 'menu-grid-id',\n    className: \"row\"\n  }, menuCards);\n};\n\nexport default Home;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport ReportLoader from './ReportLoader.js';\n\nconst BarChart = _ref => {\n  let {\n    content,\n    isLoading\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ReportLoader, {\n    content: content,\n    isLoading: isLoading\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart\"\n  }, /*#__PURE__*/React.createElement(Bar, {\n    data: content.data,\n    options: content.options\n  })));\n};\n\nBarChart.propTypes = {\n  content: PropTypes.object.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default BarChart;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReportLoader from './ReportLoader.js';\nimport { DownloadOptions } from './TabularReport/DownloadOptions.js';\nimport ReportTable from './TabularReport/ReportTable.js';\n\nconst TabularReport = _ref => {\n  let {\n    content,\n    isLoading,\n    fileUrls\n  } = _ref;\n  return /*#__PURE__*/React.createElement(ReportLoader, {\n    content: content,\n    isLoading: isLoading\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabular-report\"\n  }, /*#__PURE__*/React.createElement(DownloadOptions, {\n    fileUrls: fileUrls\n  }), /*#__PURE__*/React.createElement(ReportTable, {\n    content: content\n  })));\n};\n\nTabularReport.propTypes = {\n  content: PropTypes.object.isRequired,\n  fileUrls: PropTypes.array.isRequired,\n  isLoading: PropTypes.bool.isRequired\n};\nexport default TabularReport;","import { getOrgUnitDistReport } from '../../utils/api.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData.js';\nexport const actionTypes = {\n  SET_TABULAR_OUTPUT: 'SET_TABULAR_OUTPUT',\n  SET_CHART_OUTPUT: 'SET_CHART_OUTPUT'\n};\n/**\n * @returns {Object}\n */\n\nexport const setOutputToChart = () => ({\n  type: actionTypes.SET_CHART_OUTPUT\n});\n/**\n * @returns {Object}\n */\n\nexport const setOutputToTabular = () => ({\n  type: actionTypes.SET_TABULAR_OUTPUT\n});\n/**\n * @returns {Function}\n */\n\nexport const loadChart = () => dispatch => {\n  dispatch(setOutputToChart());\n  dispatch(loadReport());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadTable = () => dispatch => {\n  dispatch(setOutputToTabular());\n  dispatch(loadReport());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadReport = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    orgUnitGroupSets,\n    orgUnitDistReport: {\n      shouldShowChart\n    }\n  } = getState();\n  const orgUnit = organisationUnits.selected;\n  const groupSetId = orgUnitGroupSets.selected;\n  return getOrgUnitDistReport(orgUnit, groupSetId, shouldShowChart).then(response => dispatch(loadingReportDataSuccessWithFeedback(response, shouldShowChart))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.orgUnitGroupSets.selected && !state.reportData.loading);","export const FONT_FAMILY = \"'Roboto', sans-serif\";\nexport const BASE_COLOR = '39, 102, 150'; // DHIS2 blue","/**\n * @param {Object} state - app state\n * @returns {String} - table title\n */\nexport function getTitle(state) {\n  return [state.reportData.content.headers[1].column, state.organisationUnits.selected.displayName].join(' - ');\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport { FONT_FAMILY, BASE_COLOR } from '../../../config/style.config.js';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nimport { getTitle } from '../../../utils/dataTransformHelpers.js';\nexport const cache = createDataTransformCache();\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by BarChart\n */\n\nexport default function getTransformedChartData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const chartData = getChartData(getLabels(data.headers), getDataPoints(data.rows[0]), getTitle(state));\n  cache.setCachedResult(data, chartData);\n  return chartData;\n}\n\nfunction getLabels(headers) {\n  return headers.reduce((acc, header, index) => {\n    if (index > 0) {\n      acc.push(header.column);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction getDataPoints(cells) {\n  return cells.reduce((acc, cell, index) => {\n    if (index > 0) {\n      acc.push(parseInt(cell, 10));\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction getChartData(labels, data, title) {\n  return {\n    data: {\n      labels,\n      datasets: [{\n        label: i18n.t('Count'),\n        backgroundColor: \"rgba(\".concat(BASE_COLOR, \", 0.6)\"),\n        borderColor: \"rgb(\".concat(BASE_COLOR, \")\"),\n        borderWidth: 1,\n        hoverBackgroundColor: \"rgba(\".concat(BASE_COLOR, \", 0.8)\"),\n        data\n      }]\n    },\n    options: {\n      title: {\n        display: true,\n        text: title,\n        fontSize: '16',\n        fontFamily: FONT_FAMILY\n      },\n      legend: {\n        position: 'bottom',\n        fontFamily: FONT_FAMILY\n      },\n      animation: {\n        duration: 180\n      }\n    }\n  };\n}","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nimport { getTitle } from '../../../utils/dataTransformHelpers.js';\nconst orgUnitColumnDisplayName = i18n.t('Organisation Unit');\nconst totalColumnDisplayName = i18n.t('Total');\nexport const cache = createDataTransformCache();\n/**\n * @param {Object} state - App state\n * @returns {Object} - Transformed table data that can be consumed by TabularReport\n */\n\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const tableData = {\n    title: getTitle(state),\n    headers: getHeaders(data.headers),\n    rows: getRows(state)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\n/**\n * @param {Array} headers - The headers array from the response data structure\n * @returns {Array<String>} - table header names\n */\n\nfunction getHeaders(headers) {\n  return [...headers.map(header => header.name === 'ou' ? orgUnitColumnDisplayName : header.column), totalColumnDisplayName];\n}\n/**\n * @param {Object} state - app state\n * @returns {Array} - a nested array containing values for each column\n */\n\n\nfunction getRows(state) {\n  const {\n    rows\n  } = state.reportData.content;\n  const selectedOrgUnitName = state.organisationUnits.selected.displayName;\n  return rows.map(toNumericWithTotal).sort((rowA, rowB) => ascByNameWithParentBelow(rowA, rowB, selectedOrgUnitName));\n}\n\nfunction toNumericWithTotal(cells) {\n  const cellsWithTotals = cells.reduce((acc, cellStr, index) => {\n    if (index === 0) {\n      acc.cells.push(cellStr);\n    } else {\n      const cellVal = cellStr ? parseInt(cellStr, 10) : 0;\n      acc.cells.push(cellVal);\n      acc.total += cellVal;\n    }\n\n    return acc;\n  }, {\n    cells: [],\n    total: 0\n  });\n  return [...cellsWithTotals.cells, cellsWithTotals.total];\n}\n/**\n * This function is used to sort the rows, which needs to be done ASC by name\n * with the exception of the parent orgUnit, which should be the last item\n * @param {Array} a - current row, with org unit name at index 0\n * @param {Array} b - next row\n * @param {String} selectedOrgUnitName - name of the org unit parent\n * @returns {Number} - values 1 || -1 || 0 for sorting\n */\n\n\nfunction ascByNameWithParentBelow(a, b, selectedOrgUnitName) {\n  const nameA = a[0].toUpperCase();\n  const nameB = b[0].toUpperCase();\n  const upperOrgUnitName = selectedOrgUnitName.toUpperCase();\n\n  if (nameB === upperOrgUnitName) {\n    return -1;\n  }\n\n  if (nameA === upperOrgUnitName) {\n    return 1;\n  }\n\n  return nameA.localeCompare(nameB);\n}","import { connect } from 'react-redux';\nimport { loadChart, loadTable } from '../../redux/actions/orgUnitDistReport.js';\nimport { loadGroupSetOptions } from '../../redux/actions/orgUnitGroupSets.js';\nimport { getIsActionEnabled } from '../../redux/selectors/orgUnitDistReport/getIsActionEnabled.js';\nimport getTransformedChartData from '../../redux/selectors/orgUnitDistReport/getTransformedChartData.js';\nimport getTransformedTableData from '../../redux/selectors/orgUnitDistReport/getTransformedTableData.js';\n\nconst mapStateToProps = state => ({\n  shouldShowChart: state.orgUnitDistReport.shouldShowChart,\n  loading: state.reportData.loading,\n  reportContent: state.orgUnitDistReport.shouldShowChart ? getTransformedChartData(state) : getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isActionEnabled: getIsActionEnabled(state),\n  groupSetsReady: !!state.orgUnitGroupSets.collection.length\n});\n\nconst mapDispatchToProps = {\n  loadChart,\n  loadTable,\n  loadGroupSetOptions\n};\nexport const connectOrganisationUnitDistributionReport = connect(mapStateToProps, mapDispatchToProps);","import i18n from '@dhis2/d2-i18n';\nimport { DropDown } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setGroupSet } from '../redux/actions/orgUnitGroupSets.js';\nimport { formLabel } from '../utils/styles/shared.js';\nconst label = i18n.t('Group Set');\nconst hintText = i18n.t('Select Group Set');\nexport const GroupSetsDropdown = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n  className: formLabel.className\n}, label), /*#__PURE__*/React.createElement(DropDown, {\n  fullWidth: props.fullWidth,\n  value: props.selected,\n  onChange: props.selectGroupSet,\n  menuItems: props.collection,\n  includeEmpty: true,\n  emptyLabel: hintText,\n  hintText: hintText\n}), formLabel.styles);\nGroupSetsDropdown.propTypes = {\n  collection: PropTypes.array.isRequired,\n  selectGroupSet: PropTypes.func.isRequired,\n  selected: PropTypes.string.isRequired,\n  fullWidth: PropTypes.bool\n};\nGroupSetsDropdown.defaultProps = {\n  fullWidth: true\n};\n\nconst mapStateToProps = state => ({\n  collection: state.orgUnitGroupSets.collection,\n  selected: state.orgUnitGroupSets.selected\n});\n\nconst mapDispatchToProps = dispatch => ({\n  selectGroupSet: e => dispatch(setGroupSet(e.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GroupSetsDropdown);","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport OrganisationUnitsTree from '../../components/AvailableOrganisationUnitsTree.js';\nimport GroupSets from '../../components/GroupSetsDropdown.js';\nimport { formLabel, actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"org-unit-dist-report-form\",\n  className: \"jsx-3036976882\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + (formLabel.className || \"\")\n}, i18n.t('Report organisation unit')), /*#__PURE__*/React.createElement(OrganisationUnitsTree, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3036976882\" + \" \" + \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"group-sets-selection\",\n  className: \"jsx-3036976882\"\n}, /*#__PURE__*/React.createElement(GroupSets, null)))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"actions\",\n  className: \"jsx-3036976882\" + \" \" + (actionsContainer.className || \"\")\n}, /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.onGetReportClick,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Report')), /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"accent\",\n  onClick: props.onGetChartClick,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Chart'))), formLabel.styles, actionsContainer.styles, /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3036976882\"\n}, [\"div.jsx-3036976882 #actions.jsx-3036976882 .d2-ui-button:first-child{margin-right:16px;}\"]));\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  onGetChartClick: PropTypes.func.isRequired,\n  onGetReportClick: PropTypes.func.isRequired\n};","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport BarChart from '../components/BarChart.js';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport TabularReport from '../components/TabularReport.js';\nimport { ORG_UNIT_DIST_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectOrganisationUnitDistributionReport } from './organisation-unit-distribution-report/connectOrganisationUnitDistributionReport.js';\nimport { Form } from './organisation-unit-distribution-report/Form.js';\n\nclass OrganisationUnitDistributionReport extends React.Component {\n  componentDidMount() {\n    if (!this.props.groupSetsReady) {\n      this.props.loadGroupSetOptions();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].info.label,\n      sectionKey: ORG_UNIT_DIST_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Paper, {\n      className: container.className\n    }, /*#__PURE__*/React.createElement(Form, {\n      isActionEnabled: this.props.isActionEnabled,\n      onGetReportClick: this.props.loadTable,\n      onGetChartClick: this.props.loadChart\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"report-container\"\n    }, !this.props.shouldShowChart && /*#__PURE__*/React.createElement(TabularReport, {\n      content: this.props.reportContent,\n      isLoading: this.props.loading,\n      fileUrls: this.props.fileUrls\n    }), this.props.shouldShowChart && /*#__PURE__*/React.createElement(BarChart, {\n      content: this.props.reportContent,\n      isLoading: this.props.loading\n    })), /*#__PURE__*/React.createElement(Snackbar, null), container.styles);\n  }\n\n}\n\nOrganisationUnitDistributionReport.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  groupSetsReady: PropTypes.bool.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadChart: PropTypes.func.isRequired,\n  loadGroupSetOptions: PropTypes.func.isRequired,\n  loadTable: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  reportContent: reportContent.isRequired,\n  shouldShowChart: PropTypes.bool.isRequired\n};\nconst ConnectedOrganisationUnitDistributionReport = connectOrganisationUnitDistributionReport(OrganisationUnitDistributionReport);\nexport { ConnectedOrganisationUnitDistributionReport as OrganisationUnitDistributionReport };","export const getIsActionEnabled = state => !!(state.organisationUnits.selected && state.reportPeriod.selectedPeriod && state.dataSet.selected.id && !state.reportData.loading);","import i18n from '@dhis2/d2-i18n';\nimport isEmpty from 'lodash.isempty';\nimport createDataTransformCache from '../../../utils/dataTransformCache.js';\nconst cache = createDataTransformCache();\nconst nameColumnDisplayName = i18n.t('Name');\nconst rowIndexesToRead = [1, // Org unit name\n4, // column values\n5, 6, 7, 8];\nexport default function getTransformedTableData(state) {\n  const data = state.reportData.content;\n\n  if (isEmpty(data)) {\n    return data;\n  }\n\n  if (cache.hasValidCacheFor(data)) {\n    return cache.getCachedResult();\n  }\n\n  const tableData = {\n    title: parseTitle(state),\n    headers: parseHeaders(data),\n    rows: parseRows(data.rows)\n  };\n  cache.setCachedResult(data, tableData);\n  return tableData;\n}\nexport function parseTitle(state) {\n  return [state.organisationUnits.selected.displayName, state.dataSet.selected.displayName, state.reportData.content.title].join(' - ');\n}\nexport function parseHeaders(data) {\n  return data.metaData.dimensions.dx.reduce((acc, dimensionCode) => {\n    acc.push(data.metaData.items[dimensionCode].name);\n    return acc;\n  }, [nameColumnDisplayName]);\n}\nexport function parseRows(rowsWithAllFields) {\n  return rowsWithAllFields.map(row => rowIndexesToRead.reduce((acc, rowIndex) => {\n    acc.push(row[rowIndex]);\n    return acc;\n  }, [])).sort((a, b) => parseFloat(b[b.length - 1]) - parseFloat(a[a.length - 1]));\n}","import { connect } from 'react-redux';\nimport { loadReportData } from '../../redux/actions/reportingRateSummary.js';\nimport { getIsActionEnabled } from '../../redux/selectors/reportingRateSummary/getIsActionEnabled.js';\nimport getTransformedTableData from '../../redux/selectors/reportingRateSummary/getTransformedTableData.js';\n\nconst mapStateToProps = state => ({\n  reportContent: getTransformedTableData(state),\n  fileUrls: state.reportData.content.fileUrls || [],\n  isReportLoading: state.reportData.loading,\n  isActionEnabled: getIsActionEnabled(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadReportData: () => dispatch(loadReportData())\n});\n\nexport const connectReportingRateSummary = connect(mapStateToProps, mapDispatchToProps);","import { getReportingRateSummaryReport } from '../../utils/api.js';\nimport { loadingReportDataStart, loadingReportDataSuccessWithFeedback, loadingReportDataErrorWithFeedback } from './reportData.js';\n/**\n * @returns {Function} redux thunk\n */\n\nexport const loadReportData = () => (dispatch, getState) => {\n  dispatch(loadingReportDataStart());\n  const {\n    organisationUnits,\n    dataSet,\n    reportPeriod\n  } = getState();\n  return getReportingRateSummaryReport(organisationUnits.selected, dataSet.selected.id, reportPeriod.selectedPeriod, organisationUnits.selectedOptions).then(response => dispatch(loadingReportDataSuccessWithFeedback(response))).catch(error => dispatch(loadingReportDataErrorWithFeedback(error)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport DataSets from '../../components/DatasetsDropdown.js';\nimport { OrgUnitsTreeWithExtraOptions } from '../../components/OrgUnitsTreeWithExtraOptions.js';\nimport PeriodPickerComponent from '../../components/PeriodPickerWithPeriodType.js';\nimport { actionsContainer } from '../../utils/styles/shared.js';\nexport const Form = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-rate-summary-form\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(OrgUnitsTreeWithExtraOptions, null)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12 col-md-6\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"data-set-selection\"\n}, /*#__PURE__*/React.createElement(DataSets, null)), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"report-period\"\n}, /*#__PURE__*/React.createElement(PeriodPickerComponent, {\n  label: i18n.t('Report period')\n})))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"main-action-button\",\n  className: actionsContainer.className\n}, /*#__PURE__*/React.createElement(Button, {\n  raised: true,\n  color: \"primary\",\n  onClick: props.loadReportData,\n  disabled: !props.isActionEnabled\n}, i18n.t('Get Report'))), actionsContainer.styles);\nForm.propTypes = {\n  isActionEnabled: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired\n};\nForm.defaultProps = {\n  showForm: true\n};","import Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport TabularReport from '../components/TabularReport.js';\nimport { REPORTING_RATE_SUMMARY_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { reportContent } from '../utils/react/propTypes.js';\nimport { container } from '../utils/styles/shared.js';\nimport { connectReportingRateSummary } from './reporting-rate-summary/connectReportingRateSummary.js';\nimport { Form } from './reporting-rate-summary/Form.js';\n\nconst ReportingRateSummary = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n  label: sections[REPORTING_RATE_SUMMARY_SECTION_KEY].info.label,\n  sectionKey: REPORTING_RATE_SUMMARY_SECTION_KEY\n}), /*#__PURE__*/React.createElement(Paper, {\n  className: container.className\n}, /*#__PURE__*/React.createElement(Form, {\n  loadReportData: props.loadReportData,\n  isActionEnabled: props.isActionEnabled\n})), /*#__PURE__*/React.createElement(TabularReport, {\n  content: props.reportContent,\n  isLoading: props.isReportLoading,\n  fileUrls: props.fileUrls\n}), /*#__PURE__*/React.createElement(Snackbar, null), container.styles);\n\nReportingRateSummary.propTypes = {\n  fileUrls: PropTypes.array.isRequired,\n  isActionEnabled: PropTypes.bool.isRequired,\n  isReportLoading: PropTypes.bool.isRequired,\n  loadReportData: PropTypes.func.isRequired,\n  reportContent: reportContent.isRequired\n};\nconst ConnectedReportingRateSummary = connectReportingRateSummary(ReportingRateSummary);\nexport { ConnectedReportingRateSummary as ReportingRateSummary };","export default function getPagerCurrentlyShown(state) {\n  const {\n    pageSize,\n    total,\n    page\n  } = state.pagination;\n  const projectedEnd = page * pageSize;\n  const start = projectedEnd - pageSize + 1;\n  const end = projectedEnd > total ? total : projectedEnd;\n  return \"\".concat(start, \" - \").concat(end);\n}","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Pagination, SvgIcon } from '@dhis2/d2-ui-core';\nimport '@dhis2/d2-ui-core/css/Pagination.css';\nimport '@dhis2/d2-ui-core/css/Table.css';\nimport Table from '@dhis2/d2-ui-table';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport getPagerCurrentlyShown from '../redux/selectors/pagination/getPagerCurrentlyShown.js';\nconst searchText = i18n.t('Search');\n\nconst SearchablePagedList = props => {\n  const pagination = /*#__PURE__*/React.createElement(Pagination, {\n    total: props.pagerTotal,\n    hasNextPage: props.pagerHasNextPage,\n    hasPreviousPage: props.pagerHasPreviousPage,\n    currentlyShown: props.pagerCurrentlyShown,\n    onNextPageClick: props.goToNextPage,\n    onPreviousPageClick: props.goToPrevPage\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-\".concat(styles.__hash)\n  }, pagination, /*#__PURE__*/React.createElement(TextField, {\n    className: \"search-input\",\n    value: props.searchInputValue,\n    type: \"search\",\n    label: searchText,\n    onChange: props.searchInputChangeHandler\n  }), /*#__PURE__*/React.createElement(Table, {\n    rows: props.isLoading ? [] : props.rows,\n    columns: props.columns,\n    contextMenuActions: props.contextMenuActions,\n    primaryAction: props.primaryAction,\n    contextMenuIcons: props.contextMenuIcons,\n    isContextActionAllowed: props.isContextActionAllowed\n  }), props.isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"data-table-fake-row\"\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 32,\n    className: \"loader\"\n  })), props.rows.length === 0 && !props.isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"data-table-fake-row\"\n  }, i18n.t('No results have been found')), pagination, /*#__PURE__*/React.createElement(Button, {\n    id: 'add-resource-btn-id',\n    fab: true,\n    onClick: props.addButtonClickHandler\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    icon: \"Add\"\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n};\n\nconst styles = [\"div.jsx-559166881>.search-input input.jsx-559166881{-webkit-appearance:textfield;}\", \"div.jsx-559166881>.search-input{width:400px;}\", \"div.jsx-559166881>.data-table-pager{float:right;padding-top:8px;}\", \"div.jsx-559166881>.d2-ui-button{position:fixed;bottom:1.5rem;right:1.5rem;}\", \".data-table-fake-row.jsx-559166881{position:relative;height:50px;line-height:50px;background-color:#ffffff;text-align:center;font-style:italic;color:#757575;box-shadow:0 1px 3px 0 rgba(0,0,0,0.12), 0 1px 2px 0 rgba(0,0,0,0.24);}\", \".data-table-fake-row.jsx-559166881 .loader{margin-top:8px;}\"];\nstyles.__hash = \"559166881\";\nSearchablePagedList.propTypes = {\n  addButtonClickHandler: PropTypes.func.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.string).isRequired,\n  contextMenuActions: PropTypes.object.isRequired,\n  contextMenuIcons: PropTypes.object.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  isContextActionAllowed: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  pagerCurrentlyShown: PropTypes.string.isRequired,\n  pagerHasNextPage: PropTypes.func.isRequired,\n  pagerHasPreviousPage: PropTypes.func.isRequired,\n  pagerTotal: PropTypes.number.isRequired,\n  primaryAction: PropTypes.func.isRequired,\n  rows: PropTypes.array.isRequired,\n  searchInputChangeHandler: PropTypes.func.isRequired,\n  searchInputValue: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  pagerTotal: state.pagination.total,\n  pagerHasNextPage: () => state.pagination.page < state.pagination.pageCount,\n  pagerHasPreviousPage: () => state.pagination.page > 1,\n  pagerCurrentlyShown: getPagerCurrentlyShown(state)\n});\n\nexport default connect(mapStateToProps)(SearchablePagedList);","import i18n from '@dhis2/d2-i18n';\nexport const resourceTypes = {\n  UPLOAD_FILE: 'UPLOAD_FILE',\n  EXTERNAL_URL: 'EXTERNAL_URL'\n};\nexport const resourceTypeOptions = [{\n  value: resourceTypes.EXTERNAL_URL,\n  label: i18n.t('External url')\n}, {\n  value: resourceTypes.UPLOAD_FILE,\n  label: i18n.t('Upload file')\n}];\nexport const resourceActions = {\n  NEW: 'newResource',\n  VIEW: 'viewResource',\n  EDIT: 'editResource',\n  SHARING_SETTINGS: 'sharingSettings',\n  DELETE: 'delete'\n};\nexport const contextMenuIcons = {\n  [resourceActions.VIEW]: 'arrow_right',\n  [resourceActions.EDIT]: 'edit',\n  [resourceActions.SHARING_SETTINGS]: 'people',\n  [resourceActions.DELETE]: 'delete'\n};","export const DEBOUNCE_DELAY = 500;","export const actionTypes = {\n  GO_TO_NEXT_PAGE: 'GO_TO_NEXT_PAGE',\n  GO_TO_PREV_PAGE: 'GO_TO_PREV_PAGE',\n  SET_PAGINATION: 'SET_PAGINATION',\n  RESET_PAGINATION: 'RESET_PAGINATION'\n};\n/**\n * @return {Object}\n */\n\nexport const goToNextPage = () => ({\n  type: actionTypes.GO_TO_NEXT_PAGE\n});\n/**\n * @return {Object}\n */\n\nexport const goToPrevPage = () => ({\n  type: actionTypes.GO_TO_PREV_PAGE\n});\n/**\n * @param {Object} pagination\n * @returns {Object}\n */\n\nexport const setPagination = pagination => ({\n  type: actionTypes.SET_PAGINATION,\n  payload: pagination\n});\n/**\n * returns {Object}\n */\n\nexport const resetPagination = () => ({\n  type: actionTypes.RESET_PAGINATION\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { RESOURCE_ENDPOINT, getApi, getResources, getResourceById, postResource, putResource, deleteResource as sendDeleteResourceRequest } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showSuccessSnackBar, showErrorSnackBar, showConfirmationSnackBar } from './feedback.js';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, resetPagination, setPagination } from './pagination.js';\nexport const actionTypes = {\n  LOADING_RESOURCES_START: 'LOADING_RESOURCES_START',\n  LOADING_RESOURCES_SUCCESS: 'LOADING_RESOURCES_SUCCESS',\n  LOADING_RESOURCES_ERROR: 'LOADING_RESOURCES_ERROR',\n  SET_RESOURCE_SEARCH: 'SET_RESOURCE_SEARCH',\n  VIEW_RESOURCE: 'VIEW_RESOURCE',\n  SHOW_SHARING_SETTINGS: 'SHOW_SHARING_SETTINGS',\n  SET_RESOURCE: 'SET_RESOURCE',\n  REQUEST_DELETE_RESOURCE: 'REQUEST_DELETE_RESOURCE',\n  DELETE_RESOURCE_START: 'DELETE_RESOURCE_START',\n  DELETE_RESOURCE_SUCCESS: 'DELETE_RESOURCE_SUCCESS',\n  DELETE_RESOURCE_ERROR: 'DELETE_RESOURCE_ERROR',\n  CLEAR_SELECTED_RESOURCE: 'CLEAR_SELECTED_RESOURCE',\n  RESOURCE_ADD_LOADING_START: 'RESOURCE_ADD_LOADING_START',\n  RESOURCE_ADD_LOADING_SUCCESS: 'RESOURCE_ADD_LOADING_SUCCESS',\n  RESOURCE_ADD_LOADING_ERROR: 'RESOURCE_ADD_LOADING_ERROR',\n  RESOURCE_EDIT_LOADING_START: 'RESOURCE_EDIT_LOADING_START',\n  RESOURCE_EDIT_LOADING_SUCCESS: 'RESOURCE_EDIT_LOADING_SUCCESS',\n  RESOURCE_EDIT_LOADING_ERROR: 'RESOURCE_EDIT_LOADING_ERROR'\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingResourcesStart = () => ({\n  type: actionTypes.LOADING_RESOURCES_START\n});\n/**\n * @param {Array} resources\n * @returns {Object}\n */\n\nexport const loadingResourcesSuccess = resources => ({\n  type: actionTypes.LOADING_RESOURCES_SUCCESS,\n  payload: resources\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingResourcesError = () => ({\n  type: actionTypes.LOADING_RESOURCES_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingResourcesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the resources!');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingResourcesError());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadResources = () => (dispatch, getState) => {\n  dispatch(loadingResourcesStart());\n  const {\n    pagination,\n    resource\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = resource;\n  return getResources(page, pageSize, search).then(response => {\n    dispatch(loadingResourcesSuccess(response.documents));\n    dispatch(setPagination(response.pager));\n  }).catch(error => {\n    dispatch(loadingResourcesErrorWithFeedback(error));\n  });\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadResources());\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadResources());\n};\n/**\n * @param {string} searchTerm\n * @returns {Object}\n */\n\nexport const setSearch = searchTerm => ({\n  type: actionTypes.SET_RESOURCE_SEARCH,\n  payload: searchTerm\n});\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\n\nconst debouncedLoadResources = debounce(dispatch => dispatch(loadResources()), DEBOUNCE_DELAY);\nexport const setSearchAndLoadResources = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n  debouncedLoadResources(dispatch);\n};\n/**\n * @param {Object} resource\n * @param {string} resource.id\n * @returns {Object}\n */\n\nexport const viewResource = resource => {\n  const {\n    id\n  } = resource;\n  const baseUrl = getApi().baseUrl;\n  const resourceUrl = \"\".concat(baseUrl, \"/\").concat(RESOURCE_ENDPOINT, \"/\").concat(id, \"/data\");\n  window.open(resourceUrl);\n  return {\n    type: actionTypes.VIEW_RESOURCE,\n    payload: resource\n  };\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const showSharingSettings = resource => ({\n  type: actionTypes.SHOW_SHARING_SETTINGS,\n  payload: resource\n});\n/**\n * @returns {Object}\n */\n\nexport const addResource = () => dispatch => {\n  dispatch(toResourceForm());\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const editResource = resource => dispatch => {\n  dispatch(setResource(resource));\n  dispatch(toResourceForm(resource.id));\n};\n/**\n * @param {String} id\n * @returns {Object}\n */\n\nexport const toResourceForm = id => {\n  const path = id ? \"/resource/edit/\".concat(id) : '/resource/new';\n  return push(path);\n};\n/**\n * @param {String} id\n * @returns {Object}\n */\n\nexport const loadResource = id => async dispatch => {\n  const resource = await getResourceById(id);\n  return dispatch(setResource(resource));\n};\n/**\n * @param {Object} resource\n * @returns {Object}\n */\n\nexport const setResource = resource => ({\n  type: actionTypes.SET_RESOURCE,\n  payload: resource\n});\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\n\nconst confirmationMessage = i18n.t('Do you really want to delete this resource?');\nexport const requestDeleteResource = resource => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_RESOURCE,\n    payload: resource\n  });\n  dispatch(showConfirmationSnackBar(confirmationMessage));\n};\nexport const deleteResourceStart = () => ({\n  type: actionTypes.DELETE_RESOURCE_START\n});\nexport const deleteResourceSuccess = () => ({\n  type: actionTypes.DELETE_RESOURCE_SUCCESS\n});\nexport const deleteResourceError = () => ({\n  type: actionTypes.DELETE_RESOURCE_ERROR\n});\nconst successMessage = i18n.t('The resource has been deleted successfully');\nexport const deleteResourceSuccessWithFeedback = () => dispatch => {\n  dispatch(showSuccessSnackBar(successMessage));\n  dispatch(deleteResourceSuccess());\n};\nconst defaultDeleteResourceErrorMessage = i18n.t('An error occurred when deleting the resource!');\nexport const deleteResourceErrorWithFeedback = error => dispatch => {\n  const message = humanReadableErrorMessage(error, defaultDeleteResourceErrorMessage);\n  dispatch(showErrorSnackBar(message));\n  dispatch(deleteResourceError());\n};\nexport const deleteResource = () => (dispatch, getState) => {\n  dispatch(deleteResourceStart());\n  const {\n    resource: {\n      selectedResource\n    }\n  } = getState();\n  return sendDeleteResourceRequest(selectedResource.id).then(() => {\n    dispatch(deleteResourceSuccessWithFeedback());\n    dispatch(loadResources());\n  }).catch(error => dispatch(deleteResourceErrorWithFeedback(error)));\n};\nexport const clearSelectedResource = () => ({\n  type: actionTypes.CLEAR_SELECTED_RESOURCE\n});\nexport const backToList = () => dispatch => {\n  dispatch(clearSelectedResource());\n  dispatch(push('/resource'));\n};\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch(clearSelectedResource());\n\n  if (refreshList) {\n    dispatch(resetPagination());\n    dispatch(loadResources());\n  }\n};\n/**\n *\n * Adding a resource\n *\n */\n\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceStart = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingAddResourceError = () => ({\n  type: actionTypes.RESOURCE_ADD_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingAddResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while adding the resource!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\n\nexport const addNewResource = (resource, file) => dispatch => {\n  dispatch(loadingAddResourceStart());\n  postResource(resource, file).then(() => {\n    dispatch(loadingAddResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingAddResourceErrorWithFeedback(error));\n  });\n};\n/**\n *\n * Editing a resource\n *\n */\n\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceStart = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceSuccess = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingEditResourceError = () => ({\n  type: actionTypes.RESOURCE_EDIT_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingEditResourceErrorWithFeedback = error => dispatch => {\n  const defaultAddResourceErrorMessage = i18n.t('An error occurred while saving the modifications!');\n  const displayMessage = humanReadableErrorMessage(error, defaultAddResourceErrorMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingAddResourceError());\n};\n/**\n * @param {Object} resource\n * @param {File} [file]\n * @returns {Function}\n */\n\nexport const updateResource = (resource, file) => (dispatch, getState) => {\n  dispatch(loadingEditResourceStart());\n  const resourceId = getState().resource.selectedResource.id;\n  putResource(resourceId, resource, file).then(() => {\n    dispatch(loadingEditResourceSuccess());\n    dispatch(loadResources());\n  }).catch(error => {\n    dispatch(loadingEditResourceErrorWithFeedback(error));\n  });\n};","import { connect } from 'react-redux';\nimport { addResource, closeContextMenu, requestDeleteResource, deleteResource, editResource, goToNextPage, goToPrevPage, loadResources, setSearchAndLoadResources, showSharingSettings, viewResource } from '../../redux/actions/resource.js';\n\nconst mapStateToProps = state => ({\n  open: state.resource.open,\n  resources: state.resource.collection,\n  selectedAction: state.resource.selectedAction,\n  selectedResource: state.resource.selectedResource,\n  loadingResources: state.resource.loading,\n  search: state.resource.search,\n  pager: state.pagination\n});\n\nconst mapDispatchToProps = {\n  goToNextPage,\n  goToPrevPage,\n  loadResources,\n  requestDeleteResource,\n  deleteResource,\n  setSearch: event => setSearchAndLoadResources(event.target.value),\n  addResource,\n  viewResource,\n  editResource,\n  showSharingSettings,\n  closeContextMenu\n};\nexport const connectResource = connect(mapStateToProps, mapDispatchToProps);","export const isRequired = value => value ? undefined : 'Required';\nexport const isRequiredWhen = when => (value, values) => when(values) ? isRequired(value) : undefined;","import omit from 'lodash.omit';\nimport { isRequiredWhen } from '../../utils/form/validators.js';\nimport { resourceActions, resourceTypes } from '../../utils/resource/constants.js';\nexport const showContextAction = deleteResource => (document, action) => {\n  const access = document && document.access ? document.access : {};\n  const actions = {\n    [resourceActions.VIEW]: access.read,\n    [resourceActions.SHARING_SETTINGS]: access.manage || access.externalize,\n    [resourceActions.DELETE]: deleteResource,\n\n    /**\n     * This is currently not working on the backend for non-external documents\n     * See the docs (docs/sections/resources.md) in this repo for more details\n     */\n    [resourceActions.EDIT]: access.update && document.external\n  };\n  return actions[action] || false;\n};\nexport const extractFileAndFormattedResource = values => {\n  const file = values.type === resourceTypes.UPLOAD_FILE && values.file ? values.file.file : null;\n  const resource = omit(values, 'file');\n  const formattedResource = { ...resource,\n    attachment: values.attachment === 'yes',\n    external: values.type === resourceTypes.EXTERNAL_URL\n  };\n  return {\n    file,\n    resource: formattedResource\n  };\n};\n/**\n *\n * Validation\n *\n */\n\nexport const isTypeExternalUrl = values => values.type === resourceTypes.EXTERNAL_URL;\nexport const isTypeUploadFile = values => values.type === resourceTypes.UPLOAD_FILE;\nexport const isRequriedWhenTypeExternalUrl = isRequiredWhen(isTypeExternalUrl);\nexport const isRequriedWhenTypeUploadFile = isRequiredWhen(isTypeUploadFile);","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api.js';\nimport { resourceActions } from '../../utils/resource/constants.js';\n\nconst ResourceActions = props => {\n  const {\n    selectedAction\n  } = props;\n\n  if (!props.selectedAction) {\n    return null;\n  }\n\n  if (selectedAction === resourceActions.SHARING_SETTINGS) {\n    return /*#__PURE__*/React.createElement(SharingDialog, {\n      open: props.open,\n      id: props.selectedResource.id,\n      type: \"document\",\n      onRequestClose: props.handleClose,\n      d2: getD2()\n    });\n  }\n\n  return null;\n};\n\nResourceActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired\n};\nexport default ResourceActions;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport SearchablePagedList from '../components/SearchablePagedList.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { RESOURCE_SECTION_KEY, sections } from '../config/sections.config.js';\nimport { contextMenuIcons, resourceActions } from '../utils/resource/constants.js';\nimport { connectResource } from './resource/connectResource.js';\nimport { showContextAction } from './resource/helper.js';\nimport ResourceActions from './resource/ResourceActions.js';\n\nconst createContextMenuOptions = props => ({\n  [resourceActions.VIEW]: props.viewResource,\n  [resourceActions.EDIT]: props.editResource,\n  [resourceActions.SHARING_SETTINGS]: props.showSharingSettings,\n  [resourceActions.DELETE]: props.requestDeleteResource\n});\n\nclass Resource extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n\n  componentDidMount() {\n    if (this.props.resources.length === 0) {\n      this.props.loadResources();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[RESOURCE_SECTION_KEY].info.label,\n      sectionKey: RESOURCE_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"resource-content\"\n    }, /*#__PURE__*/React.createElement(SearchablePagedList, {\n      columns: ['displayName'],\n      rows: this.props.resources,\n      isLoading: this.props.loadingResources,\n      contextMenuActions: this.contextMenuOptions,\n      primaryAction: this.contextMenuOptions[resourceActions.VIEW],\n      contextMenuIcons: contextMenuIcons,\n      isContextActionAllowed: showContextAction(this.props.deleteResource),\n      searchInputValue: this.props.search,\n      searchInputChangeHandler: this.props.setSearch,\n      addButtonClickHandler: this.props.addResource,\n      goToNextPage: this.props.goToNextPage,\n      goToPrevPage: this.props.goToPrevPage\n    }), /*#__PURE__*/React.createElement(ResourceActions, {\n      open: this.props.open,\n      selectedAction: this.props.selectedAction,\n      selectedResource: this.props.selectedResource,\n      handleClose: this.props.closeContextMenu\n    }), /*#__PURE__*/React.createElement(Snackbar, {\n      action: i18n.t('CONFIRM'),\n      onActionClick: this.props.deleteResource\n    })));\n  }\n\n}\n\nResource.propTypes = {\n  addResource: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteResource: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  loadResources: PropTypes.func.isRequired,\n  loadingResources: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  resources: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedResource: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired\n};\nconst ConnectedResource = connectResource(Resource);\nexport { ConnectedResource as Resource };","import _JSXStyle from \"styled-jsx/style\";\nimport { Button as D2UIButton } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Button = props => /*#__PURE__*/React.createElement(\"span\", {\n  className: \"jsx-3902943628\"\n}, /*#__PURE__*/React.createElement(D2UIButton, {\n  raised: true,\n  type: props.type,\n  onClick: props.onClick,\n  color: props.isPrimary ? 'primary' : 'default',\n  disabled: props.disabled\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3902943628\"\n}, [\"span.jsx-3902943628{display:inline-block;margin-right:10px;}\"]));\nButton.propTypes = {\n  label: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  isPrimary: PropTypes.bool,\n  type: PropTypes.string\n};\nButton.defaultProps = {\n  isPrimary: false,\n  type: 'submit'\n};","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormSection = _ref => {\n  let {\n    show,\n    render,\n    children\n  } = _ref;\n\n  if (!show) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"jsx-232685539\"\n  }, children || render(), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"232685539\"\n  }, [\"section.jsx-232685539{margin:0 0 10px;padding:0 2px;overflow:hidden;}\"]));\n};\nFormSection.propTypes = {\n  children,\n  render: PropTypes.func,\n  show: PropTypes.bool\n};\nFormSection.defaultProps = {\n  children: null,\n  render: () => null,\n  show: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormRow = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1762692579\"\n}, props.children), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1762692579\"\n}, [\"div.jsx-1762692579{margin-bottom:20px;}\"]));\nFormRow.propTypes = {\n  children: children.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes.js';\nexport const RadioButton = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2817873616\" + \" \" + \"form-checkbox\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-2817873616\" + \" \" + \"input-container\"\n}, /*#__PURE__*/React.createElement(\"input\", _extends({\n  id: props.input.name + props.input.value\n}, props.input, {\n  type: \"radio\",\n  className: \"jsx-2817873616\" + \" \" + (props.input && props.input.className != null && props.input.className || \"\")\n}))), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: props.input.name + props.input.value,\n  className: \"jsx-2817873616\" + \" \" + \"label-container\"\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2817873616\"\n}, [\".form-checkbox.jsx-2817873616{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:30px;width:100%;}\", \".input-container.jsx-2817873616{width:20px;}\", \"input.jsx-2817873616{display:block;margin:0;}\", \"label.jsx-2817873616{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\"]));\nRadioButton.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { RadioButton } from './RadioButton.js';\nconst styles = {\n  container: {\n    margin: '0'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const RadioButtons = withStyles(styles)(props => /*#__PURE__*/React.createElement(FormControl, {\n  className: props.classes.container\n}, props.label && /*#__PURE__*/React.createElement(FormHelperText, {\n  className: props.classes.label\n}, props.label), props.showError && /*#__PURE__*/React.createElement(Field, {\n  name: props.name,\n  type: \"checkbox\"\n}, _ref => {\n  let {\n    meta\n  } = _ref;\n  return meta.error && meta.touched ? meta.error : '';\n}), props.options.map(option => /*#__PURE__*/React.createElement(\"div\", {\n  key: option.label\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"radio\",\n  value: option.value,\n  label: option.label,\n  component: RadioButton,\n  name: props.name\n})))));\nRadioButtons.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nRadioButtons.defaultProps = {\n  label: '',\n  showError: true\n};","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { RadioButtons } from '../../../../components/form/RadioButtons.js';\nexport const Attachment = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"jsx-245692591\"\n}, i18n.t('Do you want to use this file as an attachment?')), /*#__PURE__*/React.createElement(RadioButtons, {\n  name: \"attachment\",\n  options: [{\n    value: 'yes',\n    label: i18n.t('Yes')\n  }, {\n    value: 'no',\n    label: i18n.t('No')\n  }],\n  showError: false\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"245692591\"\n}, [\"p.jsx-245692591{margin-top:0;}\"]));","import _JSXStyle from \"styled-jsx/style\";\nimport red from '@material-ui/core/colors/red';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst errorTextColor = red[500];\nexport const ErrorText = props => {\n  if (!props.showErrorText) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"769049044\", [errorTextColor]]])\n  }, props.error && props.touched ? props.error : ''), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"769049044\",\n    dynamic: [errorTextColor]\n  }, [\"span.__jsx-style-dynamic-selector{color:\".concat(errorTextColor, \";}\")]));\n};\nErrorText.propTypes = {\n  error: PropTypes.string.isRequired,\n  touched: PropTypes.bool.isRequired,\n  showErrorText: PropTypes.bool\n};\nErrorText.defaultProps = {\n  showErrorText: true\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\n\nconst createChangeHandler = input => event => {\n  event.persist();\n  input.onChange({\n    file: event.target.files[0],\n    value: event.target.value\n  });\n};\n\nconst formatBlobToString = data => data ? data.value : '';\n\nexport const File = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-1568741591\"\n}, /*#__PURE__*/React.createElement(Field, _extends({\n  name: props.name,\n  type: \"file\",\n  placeholder: props.placeholder,\n  format: formatBlobToString\n}, props.fieldProps), _ref => {\n  let {\n    input,\n    meta,\n    placeholder\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormControl, null, /*#__PURE__*/React.createElement(ErrorText, {\n    error: meta.error || '',\n    touched: meta.touched\n  }), /*#__PURE__*/React.createElement(FormHelperText, null, placeholder), /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: input.name,\n    className: \"jsx-1568741591\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"span\"\n  }, i18n.t('Select file')))), /*#__PURE__*/React.createElement(\"input\", {\n    name: input.name,\n    value: input.value,\n    onChange: createChangeHandler(input),\n    id: input.name,\n    type: \"file\",\n    className: \"jsx-1568741591\"\n  }), /*#__PURE__*/React.createElement(FormHelperText, null, input.value.replace('C:\\\\fakepath\\\\', '') || i18n.t('No file chosen')));\n}), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"1568741591\"\n}, [\"input.jsx-1568741591{display:none;}\"]));\nFile.propTypes = {\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  fieldProps: PropTypes.object\n};\nFile.defaultProps = {\n  fieldProps: {}\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { File as FileInput } from '../../../../components/form/File.js';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const File = props => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FileInput, {\n  name: \"file\",\n  placeholder: i18n.t('File'),\n  fieldProps: props.isRequired ? {\n    validate: isRequired\n  } : {}\n}));\nFile.propTypes = {\n  isRequired: PropTypes.bool.isRequired\n};","import blue from '@material-ui/core/colors/blue';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const HelpText = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormHelperText, {\n    style: {\n      color: blue[800]\n    }\n  }, children);\n};\nHelpText.propTypes = {\n  children: PropTypes.node.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nexport const section = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3980597411\"\n  }, [\".jsx-3980597411{margin:0 0 10px;}\"]),\n  className: \"jsx-3980597411\"\n};\nexport const sectionTitle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"254529828\"\n  }, [\".jsx-254529828{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]),\n  className: \"jsx-254529828\"\n};\nexport const container = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2649160175\"\n  }, [\".jsx-2649160175{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:20px;}\"]),\n  className: \"jsx-2649160175\"\n};\nexport const inputWrapper = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"516171561\"\n  }, [\".jsx-516171561{margin:0;width:100%;}\"]),\n  className: \"jsx-516171561\"\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport FormControl from '@material-ui/core/FormControl';\nimport MUIInput from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes.js';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nimport { HelpText } from './buildingBlocks/HelpText.js';\nimport { inputWrapper } from './styles.js';\nexport const Input = props => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormControl, {\n  className: inputWrapper.className\n}, /*#__PURE__*/React.createElement(InputLabel, {\n  htmlFor: props.input.name\n}, props.placeholder), /*#__PURE__*/React.createElement(MUIInput, _extends({}, props.input, {\n  label: props.placeholder\n})), props.helpText && /*#__PURE__*/React.createElement(HelpText, null, props.helpText), /*#__PURE__*/React.createElement(ErrorText, {\n  error: props.meta.error || '',\n  touched: props.meta.touched\n})), inputWrapper.styles);\nInput.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  helpText: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Input } from '../../../../components/form/Input.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const Name = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"name\",\n  placeholder: i18n.t('Name*'),\n  component: Input,\n  validate: isRequired\n}));","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { children } from '../../utils/react/propTypes.js';\nexport const FormSectionTitle = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"jsx-4079111950\"\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4079111950\"\n  }, [\"h2.jsx-4079111950{color:black;font-weight:bold;font-size:1.3em;line-height:2;margin:0 0 10px;}\"]));\n};\nFormSectionTitle.propTypes = {\n  children: children.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormSectionTitle } from '../../../../components/form/FormSectionTitle.js';\nexport const Title = props => /*#__PURE__*/React.createElement(FormSectionTitle, null, props.label);\nTitle.propTypes = {\n  label: PropTypes.string.isRequired\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Title } from './Title.js';\nexport const TitleDetails = () => /*#__PURE__*/React.createElement(Title, {\n  label: i18n.t('Details')\n});","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Title } from './Title.js';\nexport const TitleResource = () => /*#__PURE__*/React.createElement(Title, {\n  label: i18n.t('Resource')\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MUISelect from '@material-ui/core/Select';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput, formInputMeta, formOptions } from '../../utils/react/propTypes.js';\nimport { ErrorText } from './buildingBlocks/ErrorText.js';\nimport { inputWrapper } from './styles.js';\nexport const SelectField = props => /*#__PURE__*/React.createElement(MUISelect, _extends({}, props.input, {\n  disabled: props.disabled\n}), props.showEmptyOption && /*#__PURE__*/React.createElement(MenuItem, {\n  value: \"\"\n}), props.options.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n  key: option.value,\n  value: option.value\n}, option.label)));\nSelectField.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  input: formInput.isRequired,\n  options: formOptions.isRequired,\n  showEmptyOption: PropTypes.bool.isRequired\n};\nconst {\n  className,\n  styles\n} = inputWrapper;\nexport const Select = props => /*#__PURE__*/React.createElement(FormControl, {\n  className: className\n}, /*#__PURE__*/React.createElement(InputLabel, {\n  htmlFor: props.input.name\n}, props.placeholder), /*#__PURE__*/React.createElement(SelectField, {\n  input: props.input,\n  showEmptyOption: props.showEmptyOption,\n  options: props.options,\n  disabled: props.disabled\n}), /*#__PURE__*/React.createElement(ErrorText, {\n  showErrorText: props.showErrorText,\n  error: props.meta.error || '',\n  touched: props.meta.touched\n}), styles);\nSelect.propTypes = {\n  input: formInput.isRequired,\n  meta: formInputMeta.isRequired,\n  options: formOptions.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  showEmptyOption: PropTypes.bool,\n  showErrorText: PropTypes.bool\n};\nSelect.defaultProps = {\n  showEmptyOption: false,\n  showErrorText: false,\n  disabled: false\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Select } from '../../../../components/form/Select.js';\nimport { resourceTypeOptions } from '../../../../utils/resource/constants.js';\nexport const Type = props => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"type\",\n  placeholder: i18n.t('Resource Type'),\n  options: resourceTypeOptions,\n  showErrorText: false,\n  component: Select,\n  disabled: props.disabled\n}));\nType.propTypes = {\n  disabled: PropTypes.bool\n};\nType.defaultProps = {\n  disabled: false\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { FormRow } from '../../../../components/form/FormRow.js';\nimport { Input } from '../../../../components/form/Input.js';\nimport { isRequired } from '../../../../utils/form/validators.js';\nexport const Url = () => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"url\",\n  placeholder: i18n.t('Url*'),\n  component: Input,\n  validate: isRequired\n}));","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport { Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button.js';\nimport { FormSection } from '../../../components/form/FormSection.js';\nimport { resourceTypes } from '../../../utils/resource/constants.js';\nimport { Attachment } from './ResourceForm/Attachment.js';\nimport { File } from './ResourceForm/File.js';\nimport { Name } from './ResourceForm/Name.js';\nimport { TitleDetails } from './ResourceForm/TitleDetails.js';\nimport { TitleResource } from './ResourceForm/TitleResource.js';\nimport { Type } from './ResourceForm/Type.js';\nimport { Url } from './ResourceForm/Url.js';\nexport const ResourceForm = props => /*#__PURE__*/React.createElement(Form, {\n  onSubmit: props.onSubmit,\n  initialValues: props.initialValues\n}, _ref => {\n  let {\n    handleSubmit,\n    values,\n    valid\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-612925129\"\n  }, props.isEditingFileResource && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"jsx-612925129\" + \" \" + \"edit-unavailable\"\n  }, i18n.t('File resources can not be edited, only created')), /*#__PURE__*/React.createElement(\"fieldset\", {\n    disabled: props.isEditingFileResource,\n    className: \"jsx-612925129\"\n  }, /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(TitleDetails, null), /*#__PURE__*/React.createElement(Name, null), /*#__PURE__*/React.createElement(Type, null)), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type === resourceTypes.EXTERNAL_URL,\n    render: () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TitleResource, null), /*#__PURE__*/React.createElement(Url, null))\n  }), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type === resourceTypes.UPLOAD_FILE,\n    render: () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TitleResource, null), /*#__PURE__*/React.createElement(Attachment, null), /*#__PURE__*/React.createElement(File, {\n      isRequired: props.isFileRequired\n    }))\n  })), /*#__PURE__*/React.createElement(Button, {\n    label: props.onSubmitLabel,\n    isPrimary: true,\n    onClick: handleSubmit,\n    disabled: !valid || props.isEditingFileResource\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Cancel'),\n    onClick: props.onCancel\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"612925129\"\n  }, [\"fieldset.jsx-612925129{position:relative;border:none;margin:0;padding:0;}\", \"fieldset.jsx-612925129:disabled.jsx-612925129::after{content:' ';display:block;position:absolute;top:0;left:0;height:100%;width:100%;background-color:rgba(255,255,255,0.5);pointer-events:none;}\", \"p.edit-unavailable.jsx-612925129{color:red;}\"]));\n});\nResourceForm.propTypes = {\n  initialValues: PropTypes.object.isRequired,\n  isEditingFileResource: PropTypes.bool.isRequired,\n  isFileRequired: PropTypes.bool.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onSubmitLabel: PropTypes.string.isRequired\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline.js';\nimport { RESOURCE_SECTION_KEY } from '../../config/sections.config.js';\nimport { loadResource, addNewResource, updateResource, backToList } from '../../redux/actions/resource.js';\nimport { resourceTypeOptions } from '../../utils/resource/constants.js';\nimport { formCard, formLoader } from '../../utils/styles/shared.js';\nimport { ResourceForm } from './add-edit-resource/ResourceForm.js';\nimport { extractFileAndFormattedResource } from './helper.js';\n\nclass AddEditResource extends Component {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"onSubmit\", values => {\n      const {\n        file,\n        resource\n      } = extractFileAndFormattedResource(values);\n      const submitHandler = this.isEdit() ? this.props.updateResource : this.props.addNewResource;\n      submitHandler(resource, file);\n      this.props.backToList();\n    });\n  }\n\n  componentDidMount() {\n    if (!this.isResourceLoaded()) {\n      this.props.loadResource(this.getResourceIdFromUrl());\n    }\n  }\n\n  getInitialValues() {\n    const {\n      resource\n    } = this.props;\n    return this.isEdit() ? {\n      name: resource.displayName,\n      type: resourceTypeOptions[resource.external ? 0 : 1].value,\n      attachment: resource.attachment ? 'yes' : 'no',\n      url: resource.url\n    } : {\n      name: '',\n      type: resourceTypeOptions[1].value,\n      attachment: 'no'\n    };\n  }\n\n  isEdit() {\n    return this.props.match.params.mode === 'edit';\n  }\n\n  isResourceLoaded() {\n    return !(this.isEdit() && !this.props.resource.id);\n  }\n\n  isEditingFileResource() {\n    return this.isEdit() && !this.props.resource.external;\n  }\n\n  getResourceIdFromUrl() {\n    return this.props.match.params.id;\n  }\n\n  getFormTexts(isEdit) {\n    const editTitle = i18n.t('Edit resource');\n    const editSubmitLabel = i18n.t('Save resource');\n    const addText = i18n.t('Add resource');\n    return {\n      title: isEdit ? editTitle : addText,\n      submitLabel: isEdit ? editSubmitLabel : addText\n    };\n  }\n\n  render() {\n    const isEdit = this.isEdit();\n    const {\n      title,\n      submitLabel\n    } = this.getFormTexts(isEdit);\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: title,\n      showBackButton: true,\n      onBackClick: this.props.backToList,\n      sectionKey: RESOURCE_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: formCard.className\n    }, this.isResourceLoaded() ? /*#__PURE__*/React.createElement(ResourceForm, {\n      open: true,\n      title: title,\n      isFileRequired: !isEdit,\n      onSubmitLabel: submitLabel,\n      initialValues: this.getInitialValues(),\n      onSubmit: this.onSubmit,\n      onCancel: this.props.backToList,\n      isEditingFileResource: this.isEditingFileResource()\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: formLoader.className\n    }, /*#__PURE__*/React.createElement(CircularProgress, null))), formCard.styles, formLoader.styles);\n  }\n\n}\n\nAddEditResource.propTypes = {\n  addNewResource: PropTypes.func.isRequired,\n  backToList: PropTypes.func.isRequired,\n  loadResource: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      mode: PropTypes.oneOf(['new', 'edit']).isRequired,\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  resource: PropTypes.object.isRequired,\n  updateResource: PropTypes.func.isRequired\n};\nconst ConnectedAddEditResource = connect(state => ({\n  resource: state.resource.selectedResource\n}), {\n  loadResource,\n  updateResource,\n  addNewResource,\n  backToList\n})(AddEditResource);\nexport { ConnectedAddEditResource as AddEditResource, AddEditResource as AddEditResourceComponent };","export const fileToText = blob => new Promise((resolve, reject) => {\n  const fileReader = new FileReader();\n  fileReader.readAsText(blob);\n\n  fileReader.onload = event => {\n    if (event.target.readyState !== 2) {\n      return;\n    }\n\n    if (event.target.error) {\n      reject('File could not be read');\n    }\n\n    resolve(event.target.result);\n  };\n});","import i18n from '@dhis2/d2-i18n';\nimport { push } from 'connected-react-router';\nimport debounce from 'lodash.debounce';\nimport omit from 'lodash.omit';\nimport size from 'lodash.size';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { reportTypes } from '../../pages/standard-report/standard.report.conf.js';\nimport { deleteStandardReport as deleteStandardReportRequest, getApi, getFilteredStandardReports, getStandardReportDetails, getStandardReportHtmlReport, postStandardReport, updateStandardReport } from '../../utils/api.js';\nimport { formatStandardReportPayloadBySystemVersion } from '../../utils/backwardCompatability.js';\nimport { fileToText } from '../../utils/fileToText.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { getPeriodStartDate } from '../../utils/periods/periodTypes.js';\nimport { appendOrgUnitsAndReportPeriodToQueryString, extractRequiredReportParams, getReportParams, isHtmlReport, validateRequiredParams, processCheckboxValues, isJasperReportTableReport } from '../../utils/standardReport/index.js';\nimport { clearFeedback, showConfirmationSnackBar, showErrorSnackBar, showSuccessSnackBar } from './feedback.js';\nimport { clearSelectedOrgUnit } from './organisationUnits.js';\nimport { goToNextPage as goToNextPageOrig, goToPrevPage as goToPrevPageOrig, setPagination } from './pagination.js';\nimport { loadingReportDataError, loadingReportDataStart, loadingReportDataSuccess } from './reportData.js';\nimport { clearSelectedReportPeriod } from './reportPeriod.js';\nexport const actionTypes = {\n  SET_SELECTED_REPORT: 'SET_SELECTED_REPORT',\n  CLEAR_SELECTED_REPORT: 'CLEAR_SELECTED_REPORT',\n  LOAD_STANDARD_REPORTS: 'LOAD_STANDARD_REPORTS',\n  LOADING_STANDARD_REPORTS_START: 'LOADING_STANDARD_REPORTS_START',\n  LOADING_STANDARD_REPORTS_SUCCESS: 'LOADING_STANDARD_REPORTS_SUCCESS',\n  LOADING_STANDARD_REPORTS_ERROR: 'LOADING_STANDARD_REPORTS_ERROR',\n  LOADING_STANDARD_REPORTS_DETAILS_START: 'LOADING_STANDARD_REPORTS_DETAILS_START',\n  LOADING_STANDARD_REPORTS_DETAILS_SUCCESS: 'LOADING_STANDARD_REPORTS_DETAILS_SUCCESS',\n  LOADING_STANDARD_REPORTS_DETAILS_ERROR: 'LOADING_STANDARD_REPORTS_DETAILS_ERROR',\n  SET_SEARCH: 'SET_SEARCH',\n  ADD_REPORT_FORM_SHOW: 'ADD_REPORT_FORM_SHOW',\n  ADD_REPORT_FORM_HIDE: 'ADD_REPORT_FORM_HIDE',\n  EDIT_REPORT_FORM_SHOW: 'EDIT_REPORT_FORM_SHOW',\n  EDIT_REPORT_FORM_HIDE: 'EDIT_REPORT_FORM_HIDE',\n  CREATE_REPORT_SHOW: 'CREATE_REPORT_SHOW',\n  CREATE_REPORT_HIDE: 'CREATE_REPORT_HIDE',\n  SHARING_SETTINGS_SHOW: 'SHARING_SETTINGS_SHOW',\n  SHARING_SETTINGS_HIDE: 'SHARING_SETTINGS_HIDE',\n  REQUEST_DELETE_STANDARD_REPORT: 'REQUEST_DELETE_STANDARD_REPORT',\n  DELETE_STANDARD_REPORT_START: 'DELETE_STANDARD_REPORT_START',\n  DELETE_STANDARD_REPORT_SUCCESS: 'DELETE_STANDARD_REPORT_SUCCESS',\n  DELETE_STANDARD_REPORT_ERROR: 'DELETE_STANDARD_REPORT_ERROR',\n  HTML_REPORT_SHOW: 'HTML_REPORT_SHOW',\n  HTML_REPORT_HIDE: 'HTML_REPORT_HIDE',\n  CLOSE_CONTEXT_MENU: 'CLOSE_CONTEXT_MENU',\n  STANDARD_REPORT_SEND_START: 'STANDARD_REPORT_SEND_START',\n  STANDARD_REPORT_SEND_SUCCESS: 'STANDARD_REPORT_SEND_SUCCESS',\n  STANDARD_REPORT_SEND_ERROR: 'STANDARD_REPORT_SEND_ERROR',\n  DEFINE_REQUIRED_PARAMS: 'DEFINE_REQUIRED_PARAMS',\n  REQUIRED_PARAMS_ERROR: 'REQUIRED_PARAMS_ERROR',\n  GENERATE_PDF_REPORT: 'GENERATE_PDF_REPORT',\n  CANCEL_GENERATING_PDF_REPORT: 'CANCEL_GENERATING_PDF_REPORT'\n};\n/**\n * @returns {Object}\n */\n\nexport const setSelectedReport = report => ({\n  type: actionTypes.SET_SELECTED_REPORT,\n  payload: report\n});\nexport const clearSelectedReport = () => ({\n  type: actionTypes.CLEAR_SELECTED_REPORT\n});\n/**\n * @returns {Object}\n */\n\nexport const startLoadingStandardReports = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_START\n});\n/**\n * @param {Array} reports\n * @returns {Object}\n */\n\nexport const loadingStandardReportsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_SUCCESS,\n  payload: reports\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard reports');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsError());\n};\n/**\n * @param {string} searchTerm\n * @return {Function} Redux thunk\n */\n\nconst debouncedLoadStandardReports = debounce(dispatch => dispatch(loadStandardReports()), DEBOUNCE_DELAY);\nexport const setSearch = searchTerm => dispatch => {\n  dispatch({\n    type: actionTypes.SET_SEARCH,\n    payload: searchTerm\n  });\n  debouncedLoadStandardReports(dispatch);\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToNextPage = () => dispatch => {\n  dispatch(goToNextPageOrig());\n  dispatch(loadStandardReports());\n};\n/**\n * @param {number} nextPage\n * @return {Function}\n */\n\nexport const goToPrevPage = () => dispatch => {\n  dispatch(goToPrevPageOrig());\n  dispatch(loadStandardReports());\n};\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const addReportFormShow = () => push(\"\".concat(STANDARD_REPORT_SECTION_KEY, \"/new\"));\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const editReportFormShow = report => push(\"\".concat(STANDARD_REPORT_SECTION_KEY, \"/edit/\").concat(report.id));\n/**\n * @param {Object} report A d2 report model\n * @return {Object}\n */\n\nexport const sharingSettingsShow = report => ({\n  type: actionTypes.SHARING_SETTINGS_SHOW,\n  payload: report\n});\n/**\n * Used to get a confirmation from the user\n * @return {Object}\n */\n\nexport const requestDeleteStandardReport = report => dispatch => {\n  dispatch({\n    type: actionTypes.REQUEST_DELETE_STANDARD_REPORT,\n    payload: report\n  });\n  dispatch(showConfirmationSnackBar('Do you really want to delete this report?'));\n};\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportStart = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_START\n});\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportSuccess = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const deleteStandardReportError = () => ({\n  type: actionTypes.DELETE_STANDARD_REPORT_ERROR\n});\n/**\n * @return {Object}\n */\n\nexport const deleteStandardReportSuccessWithFeedback = () => dispatch => {\n  dispatch(deleteStandardReportSuccess());\n  dispatch(loadStandardReports());\n  dispatch(clearFeedback());\n};\n/**\n * @param {Error} error\n * @return {Object}\n */\n\nexport const deleteStandardReportErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while trying to delete the standard report');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(deleteStandardReportError());\n};\n/**\n * @returns {Object}\n */\n\nexport const closeContextMenu = refreshList => dispatch => {\n  dispatch({\n    type: actionTypes.CLOSE_CONTEXT_MENU\n  });\n\n  if (refreshList) {\n    dispatch(loadStandardReports());\n  }\n};\n/**\n * @param {string} reportData\n * @returns {Object}\n */\n\nexport const showReportData = reportData => dispatch => {\n  dispatch(loadingReportDataSuccess(reportData));\n  dispatch(closeContextMenu());\n};\n/**\n * @returns {Object}\n */\n\nexport const hideReportData = () => ({\n  type: actionTypes.HTML_REPORT_HIDE\n});\n/**\n * @return {Function} Redux thunk\n */\n\nexport const loadStandardReports = () => (dispatch, getState) => {\n  const {\n    standardReport,\n    pagination\n  } = getState();\n  const {\n    page,\n    pageSize\n  } = pagination;\n  const {\n    search\n  } = standardReport;\n  dispatch(startLoadingStandardReports());\n  return getFilteredStandardReports(page, pageSize, search).then(response => {\n    dispatch(loadingStandardReportsSuccess(response.reports));\n    dispatch(setPagination(response.pager));\n  }).catch(error => dispatch(loadingStandardReportsErrorWithFeedback(error)));\n};\n/**\n * @param {Object} report\n * @return {Function} A redux thunk\n */\n\nexport const deleteStandardReport = () => (dispatch, getState) => {\n  const {\n    selectedReport\n  } = getState().standardReport;\n  dispatch(deleteStandardReportStart());\n  return deleteStandardReportRequest(selectedReport.id).then(() => dispatch(deleteStandardReportSuccessWithFeedback())).catch(error => dispatch(deleteStandardReportErrorWithFeedback(error)));\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsStart = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START\n});\n/**\n * @param {Array} reports\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsSuccess = reports => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS,\n  payload: reports\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportsDetailsError = () => ({\n  type: actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportsDetailsErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the standard report details');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportsDetailsError());\n};\n/**\n * @param {string} id\n * @returns {Function}\n */\n\nexport const loadStandardReportDetails = id => dispatch => {\n  dispatch(loadingStandardReportsDetailsStart());\n  getStandardReportDetails(id).then(report => dispatch(loadingStandardReportsDetailsSuccess(report))).catch(error => dispatch(loadingStandardReportsDetailsError(error)));\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportStart = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_START\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportSuccess = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_SUCCESS\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingSendStandardReportError = () => ({\n  type: actionTypes.STANDARD_REPORT_SEND_ERROR\n});\n/**\n * @param {Object} report\n * @param {bool} isEdit - When false, add new report\n * @returns {Promise}\n */\n\nexport const sendStandardReport = (report, isEdit) => (dispatch, getState) => {\n  dispatch(loadingSendStandardReportStart());\n  const {\n    standardReport: {\n      selectedReport\n    }\n  } = getState();\n  const formattedReport = { ...report,\n    relativePeriods: processCheckboxValues(report.relativePeriods, selectedReport.relativePeriods),\n    reportParams: processCheckboxValues(report.reportParams, selectedReport.reportParams),\n    reportTable: report.reportTable ? {\n      id: report.reportTable\n    } : ''\n  };\n  const cleanedFormattedReportReport = isJasperReportTableReport(report) ? formattedReport : omit(formattedReport, ['reportTable']);\n  const dhis2CoreVersionFormattedReport = formatStandardReportPayloadBySystemVersion(cleanedFormattedReportReport);\n  const doRequest = isEdit ? report => updateStandardReport(report) : report => postStandardReport(report);\n  const successMessage = isEdit ? i18n.t('The report has been updated successfully') : i18n.t('The report has been added successfully');\n  const errorMessage = isEdit ? i18n.t('An error occurred while updating the report!') : i18n.t('An error occurred while adding the report!');\n  const request = !dhis2CoreVersionFormattedReport.designContent ? doRequest({ ...selectedReport,\n    ...dhis2CoreVersionFormattedReport\n  }) : fileToText(dhis2CoreVersionFormattedReport.designContent.file).then(file => ({ ...selectedReport,\n    ...dhis2CoreVersionFormattedReport,\n    designContent: file\n  })).then(doRequest);\n  return request.then(() => {\n    dispatch(showSuccessSnackBar(successMessage));\n    dispatch(loadingSendStandardReportSuccess());\n    dispatch(loadStandardReports());\n    dispatch(navigateToList());\n  }).catch(error => {\n    const displayMessage = humanReadableErrorMessage(error, errorMessage);\n    dispatch(showErrorSnackBar(displayMessage));\n    dispatch(loadingSendStandardReportError());\n  });\n};\nexport const navigateToList = () => dispatch => {\n  dispatch(clearSelectedReport());\n  dispatch(push(\"/\".concat(STANDARD_REPORT_SECTION_KEY)));\n};\n/**\n * =============================================\n * Generate report\n * =============================================\n */\n\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const generatingHtmlReportErrorWithFeedback = error => dispatch => {\n  const generatingHtmlReportErrorDefaultMessage = i18n.t('An error occurred while generating the html report');\n  const displayMessage = humanReadableErrorMessage(error, generatingHtmlReportErrorDefaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingReportDataError());\n};\n/**\n * @param {string} id\n * @returns {Function}\n */\n\nexport const generateHtmlReport = _ref => {\n  let {\n    id,\n    orgUnitId,\n    reportPeriod\n  } = _ref;\n  return dispatch => {\n    dispatch(loadingReportDataStart());\n    const reportRequestBody = {};\n\n    if (orgUnitId) {\n      reportRequestBody.ou = orgUnitId;\n    }\n\n    if (reportPeriod) {\n      const startDate = getPeriodStartDate(reportPeriod);\n      reportRequestBody.pe = reportPeriod;\n\n      if (startDate) {\n        reportRequestBody.date = startDate;\n      }\n    }\n\n    return getStandardReportHtmlReport(id, reportRequestBody).then(report => dispatch(loadingReportDataSuccess(report))).catch(error => dispatch(generatingHtmlReportErrorWithFeedback(error)));\n  };\n};\nexport const defineRequiredReportParams = requiredParams => ({\n  type: actionTypes.DEFINE_REQUIRED_PARAMS,\n  payload: requiredParams\n});\nexport const requiredReportParamsError = errors => ({\n  type: actionTypes.REQUIRED_PARAMS_ERROR,\n  payload: errors\n});\nexport const cancelGeneratingPdfReport = () => dispatch => {\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  dispatch({\n    type: actionTypes.CANCEL_GENERATING_PDF_REPORT\n  });\n};\nexport const submitRequiredReportParams = () => (dispatch, getState) => {\n  const state = getState();\n  const {\n    standardReport\n  } = state;\n  const {\n    selectedReport,\n    reportParams\n  } = standardReport;\n  const errors = validateRequiredParams(state, reportParams);\n\n  if (size(errors)) {\n    dispatch(requiredReportParamsError(errors));\n  } else {\n    if (selectedReport.type === reportTypes.HTML) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  }\n};\n/**\n * @param {string} reportId\n * @returns {Function}\n */\n\nexport const showReportParams = report => dispatch => {\n  dispatch(setSelectedReport(report));\n  const reportParams = getReportParams(report);\n  const requiredParams = extractRequiredReportParams(reportParams);\n\n  if (!size(requiredParams)) {\n    if (isHtmlReport(report)) {\n      dispatch(navigateToHtmlReportView());\n    } else {\n      dispatch(generatePdfReport());\n    }\n  } else {\n    dispatch(defineRequiredReportParams(requiredParams));\n  }\n};\nexport const navigateToHtmlReportView = () => (dispatch, getState) => {\n  const state = getState();\n  const reportId = state.standardReport.selectedReport.id;\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state);\n  dispatch(push(\"\".concat(STANDARD_REPORT_SECTION_KEY, \"/view/\").concat(reportId).concat(reportQueryString)));\n};\nexport const generatePdfReport = () => (dispatch, getState) => {\n  const api = getApi();\n  const state = getState();\n  const {\n    id\n  } = state.standardReport.selectedReport;\n  const reportPath = \"reports/\".concat(id, \"/data.pdf\");\n  const reportQueryString = appendOrgUnitsAndReportPeriodToQueryString(state, \"t=\".concat(new Date().getTime()));\n  dispatch({\n    type: actionTypes.GENERATE_PDF_REPORT\n  });\n  dispatch(clearSelectedReportPeriod());\n  dispatch(clearSelectedOrgUnit());\n  window.open(\"\".concat(api.baseUrl, \"/\").concat(reportPath).concat(reportQueryString));\n};","export const identity = input => input;","import { matchPath } from 'react-router-dom';\nimport { createSelector } from 'reselect';\nimport { reportTypes, cacheStrategies } from '../../../pages/standard-report/standard.report.conf.js';\nimport { identity } from '../../../utils/boolean/identity.js';\nexport const getSelectedStandardReport = state => state.standardReport.selectedReport;\nexport const getIsEdit = state => {\n  const match = matchPath(state.router.location.pathname, {\n    path: '/standard-report/:mode'\n  });\n  return !!(match && match.params.mode === 'edit');\n};\nexport const getEditFormInitialValues = createSelector([getSelectedStandardReport, getIsEdit], (selectedReport, isEdit) => {\n  if (isEdit) {\n    if (selectedReport.id) {\n      return {\n        id: selectedReport.id,\n        name: selectedReport.name,\n        type: selectedReport.type,\n        reportTable: selectedReport.reportTable && selectedReport.reportTable.id ? selectedReport.reportTable.id : '',\n        relativePeriods: Object.keys(selectedReport.relativePeriods).reduce((acc, cur) => selectedReport.relativePeriods[cur] ? [...acc, cur] : acc, []),\n        reportParams: [selectedReport.reportParams.reportingPeriod ? 'reportingPeriod' : '', selectedReport.reportParams.organisationUnit ? 'organisationUnit' : ''].filter(identity),\n        cacheStrategy: selectedReport.cacheStrategy\n      };\n    } else {\n      // edit mode, but report hasn't loaded yet\n      return {};\n    }\n  } // create mode\n\n\n  return {\n    type: reportTypes.JASPER_REPORT_TABLE,\n    cacheStrategy: cacheStrategies[1].value,\n    reportTable: ''\n  };\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { formInput } from '../../utils/react/propTypes.js';\nconst checkboxStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3225532101\"\n  }, [\"span.jsx-3225532101{width:20px;height:20px;padding:0;}\"]),\n  className: \"jsx-3225532101\"\n};\nexport const CheckBox = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3779354103\" + \" \" + \"form-checkbox\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3779354103\" + \" \" + \"input-container\"\n}, /*#__PURE__*/React.createElement(Checkbox, _extends({\n  id: props.input.name + props.input.value\n}, props.input, {\n  type: \"checkbox\",\n  className: checkboxStyle.className\n}))), /*#__PURE__*/React.createElement(\"label\", {\n  htmlFor: props.input.name + props.input.value,\n  className: \"jsx-3779354103\" + \" \" + \"label-container\"\n}, props.label), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3779354103\"\n}, [\".form-checkbox.jsx-3779354103{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:30px;width:100%;}\", \".input-container.jsx-3779354103{width:25px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"input.jsx-3779354103{display:block;margin:0;}\", \"label.jsx-3779354103{display:block;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:2px 0 5px;}\"]), checkboxStyle.styles);\nCheckBox.propTypes = {\n  input: formInput.isRequired,\n  label: PropTypes.string.isRequired\n};","import FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CheckBox } from './CheckBox.js';\nconst styles = {\n  container: {\n    margin: '0 0 20px'\n  },\n  label: {\n    margin: '0 0 10px',\n    fontSize: '1rem',\n    color: 'black'\n  }\n};\nexport const CheckBoxes = withStyles(styles)(props => /*#__PURE__*/React.createElement(FormControl, {\n  className: props.classes.container\n}, props.label && /*#__PURE__*/React.createElement(FormHelperText, {\n  className: props.classes.label\n}, props.label), props.showError && /*#__PURE__*/React.createElement(Field, {\n  name: props.name,\n  type: \"checkbox\"\n}, _ref => {\n  let {\n    meta\n  } = _ref;\n  return meta.error && meta.touched ? meta.error : '';\n}), props.options.map(option => /*#__PURE__*/React.createElement(\"div\", {\n  key: option.label\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  value: option.value,\n  label: option.label,\n  component: CheckBox,\n  name: props.name\n})))));\nCheckBoxes.propTypes = {\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object).isRequired,\n  label: PropTypes.string,\n  showError: PropTypes.bool\n};\nCheckBoxes.defaultProps = {\n  label: '',\n  showError: true\n};","import FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CheckBoxes } from './CheckBoxes.js';\nexport const CheckBoxGroups = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\"\n}, props.displayError && /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-xs-12\"\n}, /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  name: props.name\n}, _ref => {\n  let {\n    meta\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormHelperText, null, meta.error && meta.touched ? meta.error : '');\n})), props.groups.map(group => /*#__PURE__*/React.createElement(\"div\", {\n  key: group.label,\n  className: \"col-xs-12 col-sm-6 col-md-4 col-lg-3\"\n}, /*#__PURE__*/React.createElement(CheckBoxes, {\n  name: props.name,\n  label: group.label,\n  options: group.options,\n  showError: false\n}))));\nCheckBoxGroups.propTypes = {\n  groups: PropTypes.array.isRequired,\n  name: PropTypes.string.isRequired,\n  displayError: PropTypes.bool\n};\nCheckBoxGroups.defaultProps = {\n  displayError: true\n};","import i18n from '@dhis2/d2-i18n';\nimport debounce from 'lodash.debounce';\nimport { DEBOUNCE_DELAY } from '../../config/search.config.js';\nimport { getStandardReportTables } from '../../utils/api.js';\nimport humanReadableErrorMessage from '../../utils/humanReadableErrorMessage.js';\nimport { showErrorSnackBar } from './feedback.js';\nexport const MIN_CHAR_LENGTH = 3;\nexport const actionTypes = {\n  STANDARD_REPORT_TABLES_SET_SEARCH_TERM: 'STANDARD_REPORT_TABLES_SET_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM: 'STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM',\n  STANDARD_REPORT_TABLES_LOADING_START: 'STANDARD_REPORT_TABLES_LOADING_START',\n  STANDARD_REPORT_TABLES_LOADING_SUCCESS: 'STANDARD_REPORT_TABLES_LOADING_SUCCESS',\n  STANDARD_REPORT_TABLES_LOADING_ERROR: 'STANDARD_REPORT_TABLES_LOADING_ERROR'\n};\n/**\n * @returns {Function}\n */\n\nexport const loadFilteredStandardReportTables = searchTerm => dispatch => {\n  dispatch(setSearch(searchTerm));\n\n  if (searchTerm.length >= MIN_CHAR_LENGTH) {\n    debouncedLoadStandardReportTables(dispatch);\n  }\n};\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesStart = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_START\n});\n/**\n * @returns {Object}\n */\n\nexport const setSearch = searchTerm => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM,\n  payload: searchTerm\n});\nexport const clearSearch = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM\n});\n/**\n * @param {Array} tables\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesSuccess = tables => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS,\n  payload: tables\n});\n/**\n * @returns {Object}\n */\n\nexport const loadingStandardReportTablesError = () => ({\n  type: actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR\n});\n/**\n * @param {Error} error\n * @returns {Function}\n */\n\nexport const loadingStandardReportTablesErrorWithFeedback = error => dispatch => {\n  const defaultMessage = i18n.t('An error occurred while loading the report table options');\n  const displayMessage = humanReadableErrorMessage(error, defaultMessage);\n  dispatch(showErrorSnackBar(displayMessage));\n  dispatch(loadingStandardReportTablesError());\n};\n/**\n * @returns {Function}\n */\n\nexport const loadStandardReportTables = () => (dispatch, getState) => {\n  const {\n    standardReportTables\n  } = getState();\n  dispatch(loadingStandardReportTablesStart());\n  return getStandardReportTables(standardReportTables.searchTerm).then(reportTables => {\n    const formattedReportTables = reportTables.map(_ref => {\n      let {\n        id,\n        displayName\n      } = _ref;\n      return {\n        value: id,\n        label: displayName\n      };\n    });\n    dispatch(loadingStandardReportTablesSuccess(formattedReportTables));\n  }).catch(error => {\n    dispatch(loadingStandardReportTablesErrorWithFeedback(error));\n  });\n};\nconst debouncedLoadStandardReportTables = debounce(dispatch => dispatch(loadStandardReportTables()), DEBOUNCE_DELAY);","import i18n from '@dhis2/d2-i18n';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport red from '@material-ui/core/colors/red';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { loadFilteredStandardReportTables, clearSearch, MIN_CHAR_LENGTH } from '../../redux/actions/standardReportTables.js';\nimport { formInput, formInputMeta } from '../../utils/react/propTypes.js';\nimport { Input } from './Input.js';\nconst centeredStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  paddingTop: 16,\n  paddingBottom: 16\n};\nconst errorStyle = { ...centeredStyle,\n  color: red[500]\n};\nconst infoStyle = { ...centeredStyle,\n  color: '#494949,',\n  fontStyle: 'italic'\n};\n\nconst getListContent = _ref => {\n  let {\n    onClick,\n    loading,\n    error,\n    collection,\n    noMatches\n  } = _ref;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: centeredStyle\n    }, /*#__PURE__*/React.createElement(CircularProgress, null));\n  } else if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: errorStyle\n    }, error);\n  } else if (noMatches) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: infoStyle\n    }, i18n.t('No matches found'));\n  } else if (collection.length > 0) {\n    return collection.map(item => {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: item.value // use onMouseDown instead of onClick because this fires\n        // before the search-input's onBlur\n        ,\n        onMouseDown: () => onClick(item.value, item.label)\n      }, item.label);\n    });\n  } else {\n    return null;\n  }\n};\n\nexport const ReportTableSearchInputUI = props => {\n  var _inputRef$current;\n\n  const inputRef = useRef();\n  const [isSearchMode, setSearchMode] = useState(false);\n  const [reportTableName, setReportTableName] = useState('');\n  const showResults = isSearchMode && props.searchTerm.length >= MIN_CHAR_LENGTH;\n  const showHint = isSearchMode && props.searchTerm.length < MIN_CHAR_LENGTH;\n\n  const onFocus = () => {\n    if (!isSearchMode) {\n      setSearchMode(true);\n    }\n\n    props.input.onFocus && props.input.onFocus();\n  };\n\n  const onBlur = () => {\n    if (isSearchMode) {\n      setSearchMode(false);\n    }\n\n    props.input.onBlur && props.input.onBlur();\n  };\n\n  const onSearch = event => {\n    props.loadFilteredStandardReportTables(event.target.value);\n  };\n\n  const usedValue = isSearchMode ? props.searchTerm : reportTableName || props.persistedReportTableName;\n  const inputProps = { ...props,\n    helpText: showHint ? i18n.t('Please enter at least {{count}} characters', {\n      count: MIN_CHAR_LENGTH\n    }) : undefined,\n    input: { ...props.input,\n      value: usedValue,\n      onFocus: onFocus,\n      onChange: isSearchMode ? onSearch : props.input.onChange,\n      onBlur: isSearchMode ? onBlur : props.input.onBlur,\n      placeholder: i18n.t('Type to search a report table'),\n      inputRef,\n      autoComplete: 'off'\n    }\n  };\n\n  const onChange = (value, label) => {\n    setSearchMode(false);\n    setReportTableName(label);\n    props.clearSearch();\n    props.input.onChange(value);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, inputProps), /*#__PURE__*/React.createElement(Popper, {\n    open: showResults,\n    anchorEl: inputRef.current,\n    style: {\n      width: (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.offsetWidth\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    style: {\n      maxHeight: 400,\n      overflow: 'auto'\n    }\n  }, getListContent({\n    onClick: onChange,\n    loading: props.loading,\n    error: props.error,\n    collection: props.collection,\n    noMatches: props.noMatches\n  }))));\n};\nReportTableSearchInputUI.propTypes = {\n  clearSearch: PropTypes.func.isRequired,\n  input: formInput.isRequired,\n  loadFilteredStandardReportTables: PropTypes.func.isRequired,\n  meta: formInputMeta.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  collection: PropTypes.array,\n  error: PropTypes.string,\n  loading: PropTypes.bool,\n  noMatches: PropTypes.bool,\n  persistedReportTableName: PropTypes.string,\n  searchTerm: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  searchTerm: state.standardReportTables.searchTerm,\n  collection: state.standardReportTables.collection,\n  loading: state.standardReportTables.loading,\n  error: state.standardReportTables.error,\n  noMatches: state.standardReportTables.noMatches,\n  persistedReportTableName: state.standardReport.selectedReport.reportTable && state.standardReport.selectedReport.reportTable.displayName || ''\n});\n\nexport const ReportTableSearchInput = connect(mapStateToProps, {\n  loadFilteredStandardReportTables,\n  clearSearch\n})(ReportTableSearchInputUI);","import i18n from '../locales/index.js';\nexport const reportParameterOptions = [{\n  value: 'reportingPeriod',\n  label: i18n.t('Reporting Period')\n}, {\n  value: 'organisationUnit',\n  label: i18n.t('Organisation Unit')\n}];","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getApi } from '../../../utils/api.js';\nimport { reportTypes, REPORTS_ENDPOINT, REPORT_TEMPLATES_ENDPOINT } from '../standard.report.conf.js';\nexport const DesignFileDownloadButton = _ref => {\n  let {\n    isEditing,\n    reportType,\n    reportId\n  } = _ref;\n  let url;\n  let label;\n  const api = getApi();\n  const type = reportType === reportTypes.HTML ? 'html' : 'xml';\n\n  if (isEditing) {\n    label = i18n.t('Get current design');\n    url = \"\".concat(api.baseUrl, \"/\").concat(REPORTS_ENDPOINT, \"/\").concat(reportId, \"/design\");\n  } else {\n    label = reportType === reportTypes.HTML ? i18n.t('Get HTML Report Template') : i18n.t('Get Jasper Report Template');\n    url = \"\".concat(api.baseUrl, \"/\").concat(REPORT_TEMPLATES_ENDPOINT, \".\").concat(type);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-690866626\"\n  }, /*#__PURE__*/React.createElement(FormHelperText, null, label), /*#__PURE__*/React.createElement(FormHelperText, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"span\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: url,\n    target: \"_blank\",\n    download: type !== 'html',\n    className: \"jsx-690866626\"\n  }, i18n.t('Download')))), /*#__PURE__*/React.createElement(FormHelperText, null), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"690866626\"\n  }, [\"a.jsx-690866626{color:inherit;-webkit-text-decoration:none;text-decoration:none;}\"]));\n};\nDesignFileDownloadButton.propTypes = {\n  isEditing: PropTypes.bool.isRequired,\n  reportId: PropTypes.string.isRequired,\n  reportType: PropTypes.string.isRequired\n};","import { reportTypes } from '../standard.report.conf.js';\nexport const validateNewReport = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateDesignContent(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\nexport const validateReportUpdate = values => {\n  const errors = {};\n  validateName(errors, values);\n  validateReportTable(errors, values);\n  validateCacheStrategy(errors, values);\n  return errors;\n};\n\nconst validateName = (errors, values) => {\n  if (!values.name) {\n    errors.name = 'Required';\n  }\n};\n\nconst validateReportTable = (errors, values) => {\n  if (values.type === reportTypes.JASPER_REPORT_TABLE && !values.reportTable) {\n    errors.reportTable = 'Required';\n  }\n};\n\nconst validateDesignContent = (errors, values) => {\n  if (!values.designContent) {\n    errors.designContent = 'Required';\n  }\n};\n\nconst validateCacheStrategy = (errors, values) => {\n  if (!values.cacheStrategy) {\n    errors.cacheStrategy = 'Required';\n  }\n};","import i18n from '@dhis2/d2-i18n';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Field, Form } from 'react-final-form';\nimport { Button } from '../../../components/form/Button.js';\nimport { CheckBoxes } from '../../../components/form/CheckBoxes.js';\nimport { CheckBoxGroups } from '../../../components/form/CheckBoxGroups.js';\nimport { File } from '../../../components/form/File.js';\nimport { FormRow } from '../../../components/form/FormRow.js';\nimport { FormSection } from '../../../components/form/FormSection.js';\nimport { FormSectionTitle } from '../../../components/form/FormSectionTitle.js';\nimport { Input } from '../../../components/form/Input.js';\nimport { ReportTableSearchInput } from '../../../components/form/ReportTableSearchInput.js';\nimport { Select } from '../../../components/form/Select.js';\nimport { reportParameterOptions } from '../../../config/standardReport.js';\nimport { RELATIVE_PERIODS } from '../../../utils/periods/relativePeriods.js';\nimport { cacheStrategies, reportTypeOptions, reportTypes } from '../standard.report.conf.js';\nimport { DesignFileDownloadButton } from './DesignFileDownloadButton.js';\nimport { validateNewReport, validateReportUpdate } from './validate.js';\n\nconst ReportForm = props => /*#__PURE__*/React.createElement(Form, {\n  onSubmit: props.onSubmit,\n  validate: props.edit ? validateReportUpdate : validateNewReport,\n  initialValues: props.report,\n  subscription: {\n    values: true,\n    initialValues: false\n  }\n}, _ref => {\n  let {\n    handleSubmit,\n    values\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Details')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"name\",\n    placeholder: i18n.t('Name*'),\n    component: Input\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"type\",\n    placeholder: i18n.t('Report Type*'),\n    options: reportTypeOptions,\n    showErrorText: false,\n    component: Select\n  })), values.type === reportTypes.JASPER_REPORT_TABLE && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"reportTable\",\n    placeholder: i18n.t('Report Table*'),\n    component: ReportTableSearchInput\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/React.createElement(File, {\n    name: \"designContent\",\n    placeholder: props.edit ? i18n.t('Design File') : i18n.t('Design File*')\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-6\"\n  }, /*#__PURE__*/React.createElement(FormHelperText, null), /*#__PURE__*/React.createElement(DesignFileDownloadButton, {\n    isEditing: props.edit,\n    reportType: values.type,\n    reportId: props.edit ? props.report.id : ''\n  })))), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type !== reportTypes.JASPER_REPORT_TABLE,\n    render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Relative periods')), /*#__PURE__*/React.createElement(CheckBoxGroups, {\n      name: \"relativePeriods\",\n      groups: RELATIVE_PERIODS,\n      displayError: false\n    }))\n  }), /*#__PURE__*/React.createElement(FormSection, {\n    show: values.type !== reportTypes.JASPER_REPORT_TABLE,\n    render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Report parameters')), /*#__PURE__*/React.createElement(CheckBoxes, {\n      name: \"reportParams\",\n      options: reportParameterOptions\n    }))\n  }), /*#__PURE__*/React.createElement(FormSection, null, /*#__PURE__*/React.createElement(FormSectionTitle, null, i18n.t('Settings')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"cacheStrategy\",\n    placeholder: i18n.t('Cache Strategy*'),\n    options: cacheStrategies,\n    component: Select\n  }))), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Submit'),\n    isPrimary: true,\n    onClick: handleSubmit\n  }), /*#__PURE__*/React.createElement(Button, {\n    label: i18n.t('Cancel'),\n    onClick: props.backToList\n  }));\n});\n\nReportForm.propTypes = {\n  backToList: PropTypes.func.isRequired,\n  edit: PropTypes.bool.isRequired,\n  report: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport { ReportForm };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularProgress } from '@material-ui/core';\nimport isEmpty from 'lodash.isempty';\nimport PropTypes from 'prop-types';\nimport React, { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { SectionHeadline } from '../../components/SectionHeadline.js';\nimport { STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { loadStandardReportDetails, navigateToList, sendStandardReport } from '../../redux/actions/standardReport.js';\nimport { getEditFormInitialValues, getIsEdit } from '../../redux/selectors/standardReport/getEditFormInitialValues.js';\nimport { formCard, formLoader } from '../../utils/styles/shared.js';\nimport { ReportForm } from './add-edit-report/ReportForm.js';\nexport class AddEditStandardReport extends PureComponent {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"onSubmit\", values => {\n      const {\n        sendStandardReport,\n        edit\n      } = this.props;\n      sendStandardReport(values, edit);\n    });\n  }\n\n  componentDidMount() {\n    const {\n      edit,\n      loadStandardReportDetails,\n      match\n    } = this.props;\n\n    if (edit) {\n      loadStandardReportDetails(match.params.id);\n    }\n  }\n\n  render() {\n    const isLoading = isEmpty(this.props.report);\n    const headlineText = this.props.edit ? i18n.t('Edit standard report') : i18n.t('Create standard report');\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: headlineText,\n      showBackButton: true,\n      onBackClick: this.props.navigateToList,\n      sectionKey: STANDARD_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: formCard.className\n    }, isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: formLoader.className\n    }, /*#__PURE__*/React.createElement(CircularProgress, null)) : /*#__PURE__*/React.createElement(ReportForm, _extends({}, this.props, {\n      backToList: this.props.navigateToList,\n      onSubmit: this.onSubmit\n    }))), formCard.styles, formLoader.styles);\n  }\n\n}\nAddEditStandardReport.propTypes = {\n  loadStandardReportDetails: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n      mode: PropTypes.oneOf(['new', 'edit'])\n    })\n  }).isRequired,\n  navigateToList: PropTypes.func.isRequired,\n  sendStandardReport: PropTypes.func.isRequired,\n  edit: ReportForm.propTypes.edit,\n  report: ReportForm.propTypes.report\n};\n\nconst mapStateToProps = state => {\n  return {\n    report: getEditFormInitialValues(state),\n    edit: getIsEdit(state)\n  };\n};\n\nconst ConnectedComponent = connect(mapStateToProps, {\n  loadStandardReportDetails,\n  sendStandardReport,\n  navigateToList\n})(AddEditStandardReport);\nexport { ConnectedComponent as ConnectedAddEditStdReport };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { sections, STANDARD_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nimport { generateHtmlReport } from '../../redux/actions/standardReport.js';\nimport HtmlReport from './HtmlReport.js';\nconst reportCard = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1439671591\"\n  }, [\".jsx-1439671591{margin-top:16px;padding:16px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]),\n  className: \"jsx-1439671591\"\n};\nconst LinkToListWithRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(Link, _extends({\n  innerRef: ref,\n  to: sections[STANDARD_REPORT_SECTION_KEY].path\n}, props)));\nLinkToListWithRef.displayName = 'LinkToListWithRef';\n\nclass StyledHtmlReport extends React.Component {\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          id\n        }\n      },\n      location: {\n        search\n      },\n      generateHtmlReport\n    } = this.props;\n    const searchParams = new URLSearchParams(search);\n    const orgUnitId = searchParams.get('ou');\n    const reportPeriod = searchParams.get('pe');\n    generateHtmlReport({\n      id,\n      orgUnitId,\n      reportPeriod\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-1249471346\" + \" \" + \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-1249471346\" + \" \" + \"button-row\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      component: LinkToListWithRef\n    }, i18n.t('Back to standard reports list'))), /*#__PURE__*/React.createElement(Card, {\n      className: reportCard.className\n    }, /*#__PURE__*/React.createElement(HtmlReport, {\n      html: this.props.reportData\n    })), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"1249471346\"\n    }, [\".container.jsx-1249471346{min-height:calc(100vh - 84px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\"]), reportCard.styles);\n  }\n\n}\n\nStyledHtmlReport.propTypes = {\n  generateHtmlReport: PropTypes.func.isRequired,\n  reportData: PropTypes.string.isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string\n  }),\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  })\n};\nexport default connect(_ref => {\n  let {\n    reportData\n  } = _ref;\n  return {\n    reportData: typeof reportData.content === 'string' ? reportData.content : ''\n  };\n}, {\n  generateHtmlReport\n})(StyledHtmlReport);","import isEmpty from 'lodash.isempty';\nimport { connect } from 'react-redux';\nimport { addReportFormShow, closeContextMenu, deleteStandardReport, editReportFormShow, goToNextPage, goToPrevPage, hideReportData, loadStandardReports, requestDeleteStandardReport, sendStandardReport, setSearch, sharingSettingsShow, showReportData, showReportParams } from '../../redux/actions/standardReport.js'; // import { unsetReportData } from '../../redux/actions/reportData.js'\n\nconst mapStateToProps = state => ({ ...state.standardReport,\n  reportData: isEmpty(state.reportData.content) ? '' : state.reportData.content,\n  pager: state.pagination\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addReportFormShow: report => dispatch(addReportFormShow(report)),\n  addStandardReport: report => dispatch(sendStandardReport(report, false)),\n  closeContextMenu: refreshList => dispatch(closeContextMenu(refreshList)),\n  createReport: report => dispatch(showReportParams(report)),\n  deleteStandardReport: report => dispatch(deleteStandardReport(report)),\n  editReport: report => dispatch(editReportFormShow(report)),\n  goToNextPage: () => dispatch(goToNextPage()),\n  goToPrevPage: () => dispatch(goToPrevPage()),\n  hideReportData: reportData => dispatch(hideReportData(reportData)),\n  loadStandardReports: () => dispatch(loadStandardReports()),\n  requestDeleteStandardReport: report => dispatch(requestDeleteStandardReport(report)),\n  setSearch: event => dispatch(setSearch(event.target.value)),\n  sharingSettings: report => dispatch(sharingSettingsShow(report)),\n  showReportData: reportData => dispatch(showReportData(reportData)),\n  updateStandardReport: report => dispatch(sendStandardReport(report, true))\n});\n\nconst connectStandardReport = connect(mapStateToProps, mapDispatchToProps);\nexport default connectStandardReport;","import { CONTEXT_MENU_ACTION } from './standard.report.conf.js';\n/* Context Menu */\n\nconst displayNoResults = (reports, loading) => reports.length > 0 || loading ? {\n  display: 'none'\n} : '';\n\nconst showContextAction = (report, action) => {\n  const access = report && report.access ? report.access : {};\n  const actions = {\n    [CONTEXT_MENU_ACTION.CREATE]: access.read,\n    [CONTEXT_MENU_ACTION.EDIT]: access.update,\n    [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: access.manage || access.externalize,\n    [CONTEXT_MENU_ACTION.DELETE]: access.delete\n  };\n  return actions[action] || false;\n};\n\nexport { displayNoResults, showContextAction };","import _JSXStyle from \"styled-jsx/style\";\nimport i18n from '@dhis2/d2-i18n';\nimport theme from '@dhis2/d2-ui-core/theme/theme';\nimport Button from '@material-ui/core/Button';\nimport red from '@material-ui/core/colors/red';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport OrganisationUnitTree from '../../components/AvailableOrganisationUnitsTree.js';\nimport PeriodPicker from '../../components/PeriodPickerWithPeriodType.js';\nimport { cancelGeneratingPdfReport, submitRequiredReportParams } from '../../redux/actions/standardReport.js';\nconst labelCancel = i18n.t('Cancel');\nconst labelSubmit = i18n.t('Generate report');\nconst title = i18n.t('Report parameters');\nconst colorError = red[500];\nconst buttonStyles = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2079549993\"\n  }, [\".jsx-2079549993{width:100%;}\"]),\n  className: \"jsx-2079549993\"\n};\nconst primaryButtonStyle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3451007021\"\n  }, [\"button.jsx-3451007021{color:white;background-color:\".concat(theme.palette.primary2Color, \";}\"), \"button.jsx-3451007021:hover{background-color:\".concat(theme.palette.primary1Color, \";}\")]),\n  className: \"jsx-3451007021\"\n};\nexport const ReportParams = props => /*#__PURE__*/React.createElement(Dialog, {\n  open: props.showReportParams,\n  onClose: props.cancelGeneratingPdfReport,\n  fullWidth: true,\n  maxWidth: \"md\"\n}, /*#__PURE__*/React.createElement(DialogTitle, null, title), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"inputs\"\n}, props.reportParams.organisationUnit && /*#__PURE__*/React.createElement(OrganisationUnitTree, null), props.reportParams.period && /*#__PURE__*/React.createElement(PeriodPicker, {\n  label: \"\"\n})), !!props.reportParamsErrors.length && /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"errors\"\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, i18n.t('There are some errors you have to fix first!')), /*#__PURE__*/React.createElement(\"ul\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, props.reportParamsErrors.map(error => /*#__PURE__*/React.createElement(\"li\", {\n  key: error,\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"error\"\n}, error)))), /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]]) + \" \" + \"primary-action\"\n}, /*#__PURE__*/React.createElement(Button, {\n  onClick: props.submitRequiredReportParams,\n  variant: \"contained\",\n  className: buttonStyles.className + ' ' + primaryButtonStyle.className\n}, labelSubmit)), /*#__PURE__*/React.createElement(\"div\", {\n  className: _JSXStyle.dynamic([[\"2045032263\", [colorError]]])\n}, /*#__PURE__*/React.createElement(Button, {\n  onClick: props.cancelGeneratingPdfReport,\n  variant: \"contained\",\n  className: buttonStyles.className\n}, labelCancel)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"2045032263\",\n  dynamic: [colorError]\n}, [\".inputs.__jsx-style-dynamic-selector{margin-bottom:30px;}\", \".errors.__jsx-style-dynamic-selector{margin-bottom:10px;}\", \".error.__jsx-style-dynamic-selector{color:\".concat(colorError, \";}\"), \".primary-action.__jsx-style-dynamic-selector{margin-bottom:10px;}\"]), buttonStyles.styles, primaryButtonStyle.styles));\nReportParams.propTypes = {\n  cancelGeneratingPdfReport: PropTypes.func.isRequired,\n  reportParams: PropTypes.object.isRequired,\n  reportParamsErrors: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showReportParams: PropTypes.bool.isRequired,\n  submitRequiredReportParams: PropTypes.func.isRequired\n};\nexport const ConnectedReportParams = connect(state => ({\n  reportParams: state.standardReport.reportParams,\n  reportParamsErrors: state.standardReport.reportParamsErrors,\n  showReportParams: state.standardReport.showReportParams\n}), {\n  cancelGeneratingPdfReport,\n  submitRequiredReportParams\n})(ReportParams);","export const getSelectedOrgUnit = state => state.organisationUnits.selected;","export const getSelectedReportPeriod = state => state.reportPeriod.selectedPeriod;","import SharingDialog from '@dhis2/d2-ui-sharing-dialog';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getD2 } from '../../utils/api.js';\nimport { CONTEXT_MENU_ACTION } from './standard.report.conf.js'; // import { ConnectedAddEditStdReport } from './AddEditStdReport.js'\n\nconst StandardReportActions = _ref => {\n  let {\n    open,\n    selectedAction,\n    selectedReport,\n    handleClose\n  } = _ref;\n\n  if (selectedAction === CONTEXT_MENU_ACTION.SHARING_SETTINGS) {\n    return /*#__PURE__*/React.createElement(SharingDialog, {\n      id: selectedReport.id,\n      d2: getD2(),\n      open: open,\n      type: \"report\",\n      onRequestClose: handleClose\n    });\n  }\n\n  return null;\n};\n\nStandardReportActions.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired\n};\nexport default StandardReportActions;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Snackbar } from '../components/feedback/Snackbar.js';\nimport SearchablePagedList from '../components/SearchablePagedList.js';\nimport { SectionHeadline } from '../components/SectionHeadline.js';\nimport { STANDARD_REPORT_SECTION_KEY, sections } from '../config/sections.config.js';\nimport connectStandardReport from './standard-report/connectStandardReport.js';\nimport { showContextAction } from './standard-report/helper.js';\nimport { ConnectedReportParams } from './standard-report/ReportParams.js';\nimport { CONTEXT_MENU_ACTION, CONTEXT_MENU_ICONS } from './standard-report/standard.report.conf.js';\nimport StandardReportActions from './standard-report/StandardReportActions.js';\n\nconst createContextMenuOptions = props => ({\n  [CONTEXT_MENU_ACTION.CREATE]: props.createReport,\n  [CONTEXT_MENU_ACTION.EDIT]: props.editReport,\n  [CONTEXT_MENU_ACTION.SHARING_SETTINGS]: props.sharingSettings,\n  [CONTEXT_MENU_ACTION.DELETE]: props.requestDeleteStandardReport\n});\n\nclass StandardReport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.contextMenuOptions = createContextMenuOptions(props);\n  }\n\n  componentDidMount() {\n    if (this.props.reports.length === 0) {\n      this.props.loadStandardReports();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SectionHeadline, {\n      label: sections[STANDARD_REPORT_SECTION_KEY].info.label,\n      showBackButton: !!this.props.reportData,\n      onBackClick: this.props.hideReportData,\n      sectionKey: STANDARD_REPORT_SECTION_KEY\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"std-report-content\"\n    }, /*#__PURE__*/React.createElement(SearchablePagedList, {\n      columns: ['displayName'],\n      rows: this.props.reports,\n      isLoading: this.props.loading,\n      contextMenuActions: this.contextMenuOptions,\n      primaryAction: this.contextMenuOptions[[CONTEXT_MENU_ACTION.CREATE]],\n      contextMenuIcons: CONTEXT_MENU_ICONS,\n      isContextActionAllowed: showContextAction,\n      searchInputValue: this.props.search,\n      searchInputChangeHandler: this.props.setSearch,\n      addButtonClickHandler: this.props.addReportFormShow,\n      goToNextPage: this.props.goToNextPage,\n      goToPrevPage: this.props.goToPrevPage\n    }), /*#__PURE__*/React.createElement(StandardReportActions, {\n      open: this.props.open,\n      selectedAction: this.props.selectedAction,\n      selectedReport: this.props.selectedReport,\n      handleClose: this.props.closeContextMenu,\n      handleDisplayReportData: this.props.showReportData\n    })), /*#__PURE__*/React.createElement(ConnectedReportParams, null), /*#__PURE__*/React.createElement(Snackbar, {\n      action: i18n.t('CONFIRM'),\n      onActionClick: this.props.deleteStandardReport\n    }));\n  }\n\n}\n\nStandardReport.propTypes = {\n  addReportFormShow: PropTypes.func.isRequired,\n  closeContextMenu: PropTypes.func.isRequired,\n  deleteStandardReport: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPrevPage: PropTypes.func.isRequired,\n  hideReportData: PropTypes.func.isRequired,\n  loadStandardReports: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  open: PropTypes.bool.isRequired,\n  reportData: PropTypes.string.isRequired,\n  reports: PropTypes.array.isRequired,\n  search: PropTypes.string.isRequired,\n  selectedAction: PropTypes.string.isRequired,\n  selectedReport: PropTypes.object.isRequired,\n  setSearch: PropTypes.func.isRequired,\n  showReportData: PropTypes.func.isRequired\n};\nconst ConnectedStandardReport = connectStandardReport(StandardReport);\nexport { ConnectedStandardReport as StandardReport };","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst NoMatch = props => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, \"No match for \", /*#__PURE__*/React.createElement(\"code\", null, props.location.pathname)));\n\nNoMatch.propTypes = {\n  location: PropTypes.object.isRequired\n};\nexport default NoMatch;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { sections, DATA_SET_REPORT_SECTION_KEY, ORG_UNIT_DIST_REPORT_SECTION_KEY, REPORTING_RATE_SUMMARY_SECTION_KEY, RESOURCE_SECTION_KEY, STANDARD_REPORT_SECTION_KEY } from '../config/sections.config.js';\nimport { DataSetReport } from '../pages/DataSetReport.js';\nimport Home from '../pages/home/Home.js';\nimport { OrganisationUnitDistributionReport } from '../pages/OrganisationUnitDistributionReport.js';\nimport { ReportingRateSummary } from '../pages/ReportingRateSummary.js';\nimport { Resource } from '../pages/Resource.js';\nimport { AddEditResource } from '../pages/resource/AddEditResource.js';\nimport { ConnectedAddEditStdReport } from '../pages/standard-report/AddEditStdReport.js';\nimport StyledHtmlReport from '../pages/standard-report/StyledHtmlReport.js';\nimport { StandardReport } from '../pages/StandardReport.js';\nimport NoMatch from './NoMatch.js';\nconst standardReportPath = sections[STANDARD_REPORT_SECTION_KEY].path;\nconst resourcePath = sections[RESOURCE_SECTION_KEY].path;\n\nconst AppRouter = () => /*#__PURE__*/React.createElement(\"main\", null, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  key: \"home\",\n  exact: true,\n  path: \"/\",\n  component: Home\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: STANDARD_REPORT_SECTION_KEY,\n  path: standardReportPath,\n  component: StandardReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: \"\".concat(STANDARD_REPORT_SECTION_KEY, \"-viewHTMLReport\"),\n  path: \"\".concat(standardReportPath, \"/view/:id\"),\n  component: StyledHtmlReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: \"\".concat(STANDARD_REPORT_SECTION_KEY, \"-addEdit\") // /edit/id or /new\n  ,\n  path: \"\".concat(standardReportPath, \"/:mode/:id?\"),\n  component: ConnectedAddEditStdReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: DATA_SET_REPORT_SECTION_KEY,\n  path: sections[DATA_SET_REPORT_SECTION_KEY].path,\n  component: DataSetReport\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: REPORTING_RATE_SUMMARY_SECTION_KEY,\n  path: sections[REPORTING_RATE_SUMMARY_SECTION_KEY].path,\n  component: ReportingRateSummary\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: RESOURCE_SECTION_KEY,\n  path: resourcePath,\n  component: Resource\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: \"\".concat(RESOURCE_SECTION_KEY, \"-addEdit\") // /edit/id or /new\n  ,\n  path: \"\".concat(resourcePath, \"/:mode/:id?\"),\n  component: AddEditResource\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  key: ORG_UNIT_DIST_REPORT_SECTION_KEY,\n  path: sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path,\n  component: OrganisationUnitDistributionReport\n}), /*#__PURE__*/React.createElement(Route, {\n  key: \"no-match-route\",\n  component: NoMatch\n})));\n\nexport default AppRouter;","import { sections, ORG_UNIT_DIST_REPORT_SECTION_KEY } from '../../config/sections.config.js';\nexport const getIsUiBlocked = state => state.organisationUnits.loading || state.reportPeriod.loading || state.dataSet.loading || state.standardReport.loadingSendReport || state.resource.addEditLoading || atOrgUnitDistReportSection(state) && state.orgUnitGroupSets.loading;\n\nconst atOrgUnitDistReportSection = _ref => {\n  let {\n    router\n  } = _ref;\n  return router.location.pathname === sections[ORG_UNIT_DIST_REPORT_SECTION_KEY].path;\n};","import { getIsUiBlocked } from '../getIsUiBlocked.js';\nexport const getShowLoading = state => state.feedback.showLoader || getIsUiBlocked(state);","import _JSXStyle from \"styled-jsx/style\";\nimport { CircularProgress } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getShowLoading } from '../../redux/selectors/feedback/getShowLoading.js';\n\nconst Loader = props => props.show ? /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3072581291\" + \" \" + \"loading-container\"\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"jsx-3072581291\" + \" \" + \"progress-wrap\"\n}, /*#__PURE__*/React.createElement(CircularProgress, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n  id: \"3072581291\"\n}, [\".loading-container.jsx-3072581291{position:fixed;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,0.4);z-index:3000;}\", \".progress-wrap.jsx-3072581291{position:absolute;top:50%;left:50%;-webkit-transform:'translate(-50%, -50%)';-ms-transform:'translate(-50%, -50%)';transform:'translate(-50%, -50%)';}\"])) : null;\n\nLoader.propTypes = {\n  show: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  show: getShowLoading(state)\n});\n\nconst connectedLoader = connect(mapStateToProps)(Loader);\nexport { connectedLoader as Loader, Loader as LoaderOriginal };","import { sections } from '../../../config/sections.config.js';\nexport const getCurrentSection = state => state.router.location.pathname.substring(1);\nexport const getShowSidebar = state => !!sections[getCurrentSection(state)];","import _JSXStyle from \"styled-jsx/style\";\nimport { Sidebar } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport AppRouter from './components/AppRouter.js';\nimport { Loader } from './components/feedback/Loader.js';\nimport { sectionOrder, sections } from './config/sections.config.js';\nimport { loadDataSetOptions } from './redux/actions/dataSet.js';\nimport { loadOrganisationUnits } from './redux/actions/organisationUnits.js';\nimport { loadPeriodTypes } from './redux/actions/reportPeriod.js';\nimport { getCurrentSection, getShowSidebar } from './redux/selectors/sidebar/index.js'; // is not \"marked\" as required but it's used by Sidebar\n\nconst nonOnChangeSection = () => null;\n\nconst sidebarSections = sectionOrder.map(sectionKey => {\n  const section = sections[sectionKey];\n  return { ...section,\n    icon: section.info.icon,\n    label: section.info.label,\n    containerElement: /*#__PURE__*/React.createElement(Link, {\n      to: section.path\n    })\n  };\n});\n\nclass App extends PureComponent {\n  getChildContext() {\n    return {\n      d2: this.props.d2\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadOrganisationUnits();\n    this.props.loadPeriodTypes();\n    this.props.loadDataSetOptions();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.showSidebar && /*#__PURE__*/React.createElement(Sidebar, {\n      sections: sidebarSections,\n      onChangeSection: nonOnChangeSection,\n      currentSection: this.props.currentSection\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jsx-2459228718 \" + _JSXStyle.dynamic([[\"3655102473\", [this.props.showSidebar ? '295px' : '0']]]) + \" \" + \"content-area\"\n    }, /*#__PURE__*/React.createElement(AppRouter, null)), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"3655102473\",\n      dynamic: [this.props.showSidebar ? '295px' : '0']\n    }, [\".content-wrapper.__jsx-style-dynamic-selector{margin-left:\".concat(this.props.showSidebar ? '295px' : '0', \";}\"), \".content-area.__jsx-style-dynamic-selector{padding:1rem 20px 20px;}\"]), /*#__PURE__*/React.createElement(_JSXStyle, {\n      id: \"2459228718\"\n    }, [\"body{margin:0;padding:0;}\", \"html{background:#f3f3f3;font-family:'Roboto',sans-serif;}\", \"h1{font-size:24px;font-weight:300;-webkit-letter-spacing:1.2px;-moz-letter-spacing:1.2px;-ms-letter-spacing:1.2px;letter-spacing:1.2px;color:rgba(0,0,0,0.87);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;}\", \".left-bar{width:295px;position:fixed;bottom:0;top:0;left:0;margin-top:3rem;}\", \".d2-ui-table{margin-bottom:0 !important;margin-top:0 !important;}\", \".d2-ui-table__rows__row{font-size:14px;}\", \".data-table-pager--page-info{padding:0 !important;}\", \".data-table-pager--buttons{margin-top:10px !important;margin-bottom:10px !important;}\", \".data-table-pager--buttons .material-icons{margin:0 !important;padding:0 !important;}\", \"#report-container table{width:100% !important;}\"])), /*#__PURE__*/React.createElement(Loader, null));\n  }\n\n}\n\nApp.propTypes = {\n  currentSection: PropTypes.string.isRequired,\n  d2: PropTypes.object.isRequired,\n  loadDataSetOptions: PropTypes.func.isRequired,\n  loadOrganisationUnits: PropTypes.func.isRequired,\n  loadPeriodTypes: PropTypes.func.isRequired,\n  showSidebar: PropTypes.bool.isRequired\n};\nApp.childContextTypes = {\n  d2: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  currentSection: getCurrentSection(state),\n  showSidebar: getShowSidebar(state)\n});\n\nexport default connect(mapStateToProps, {\n  loadOrganisationUnits,\n  loadPeriodTypes,\n  loadDataSetOptions\n})(App);","import { createHashHistory } from 'history';\nconst history = createHashHistory();\nexport default history;","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSet.js';\nexport const defaultSelected = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  loading: false,\n  selected: defaultSelected,\n  options: []\n};\nexport const dataSet = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.SELECT_DATA_SET:\n      return { ...state,\n        selected: state.options.reduce((curSelected, cur) => cur.id === payload ? cur : curSelected, {\n          id: '',\n          displayName: ''\n        })\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_START:\n      return { ...state,\n        loading: true,\n        loadingError: '',\n        options: []\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_SUCCESS:\n      return { ...state,\n        loading: false,\n        options: payload\n      };\n\n    case actionTypes.LOADING_DATA_SET_OPTIONS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case LOCATION_CHANGE:\n      return { ...state,\n        selected: defaultSelected\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/dataSetDimensions.js';\nexport const defaultState = {\n  loading: false,\n  options: [],\n  selected: {}\n};\nexport const dataSetDimensions = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.LOADING_DIMENSIONS_START:\n      return { ...state,\n        loading: true,\n        options: []\n      };\n\n    case actionTypes.LOADING_DIMENSIONS_SUCCESS:\n      return { ...state,\n        loading: false,\n        options: payload\n      };\n\n    case actionTypes.LOADING_DIMENSIONS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SELECT_DIMENSION_OPTION:\n      return { ...state,\n        selected: { ...state.selected,\n          [payload.dimension]: payload.value\n        }\n      };\n\n    case LOCATION_CHANGE:\n      return { ...defaultState\n      };\n\n    default:\n      return state;\n  }\n};","import { actionTypes } from '../actions/dataSetReport.js';\nexport const defaultState = {\n  selectedUnitOnly: false\n};\nexport const dataSetReport = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.TOGGLE_SELECTED_UNIT_ONLY:\n      return { ...state,\n        selectedUnitOnly: payload\n      };\n\n    default:\n      return state;\n  }\n};","import { actionTypes as types } from '../actions/feedback.js';\nexport const defaultState = {\n  showSnackbar: false,\n  showLoader: false,\n  message: '',\n  type: ''\n};\nexport const feedback = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case types.FEEDBACK_CLEAR:\n      return defaultState;\n\n    case types.FEEDBACK_SHOW_LOADER:\n      return { ...state,\n        showLoader: true\n      };\n\n    case types.FEEDBACK_SHOW_SNACKBAR:\n      return { ...state,\n        ...payload,\n        showSnackbar: true,\n        showLoader: false\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/organisationUnits.js';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selected: null,\n  selectedOptions: {},\n  showOptions: false\n};\nexport function organisationUnits() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case ACTIONS.ORGANISATION_UNITS_RECEIVED:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case ACTIONS.ORGANISATION_UNITS_ERRORED:\n      return { ...state,\n        loading: false\n      };\n\n    case ACTIONS.ORGANISATION_UNIT_SELECTED:\n      return { ...state,\n        selected: payload\n      };\n\n    case ACTIONS.ORGANISATION_UNITS_OPTION_SELECTED:\n      return { ...state,\n        selectedOptions: { ...state.selectedOptions,\n          [payload.id]: payload.value\n        }\n      };\n\n    case ACTIONS.TOGGLE_SHOW_OPTIONS:\n      return { ...state,\n        showOptions: !state.showOptions\n      };\n\n    case ACTIONS.ORGANISATION_UNIT_CLEARED:\n    case ACTIONS.LOCATION_CHANGE:\n      return { ...defaultState,\n        loading: false,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { actionTypes } from '../actions/orgUnitDistReport.js';\nexport const defaultState = {\n  shouldShowChart: false\n};\nexport const orgUnitDistReport = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.SET_TABULAR_OUTPUT:\n      return {\n        shouldShowChart: false\n      };\n\n    case actionTypes.SET_CHART_OUTPUT:\n      return {\n        shouldShowChart: true\n      };\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/orgUnitGroupSets.js';\nexport const defaultState = {\n  loading: false,\n  collection: [],\n  selected: ''\n};\nexport function orgUnitGroupSets() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.LOADING_GROUP_SETS_START:\n      return { ...state,\n        loading: true,\n        collection: []\n      };\n\n    case actionTypes.LOADING_GROUP_SETS_SUCCESS:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case actionTypes.LOADING_GROUP_SETS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_GROUP_SET:\n      return { ...state,\n        selected: payload\n      };\n\n    case LOCATION_CHANGE:\n      return { ...defaultState,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/pagination.js';\nconst allActionTypes = { ...actionTypes,\n  LOCATION_CHANGE\n};\nexport const DEFAULT_PAGE_SIZE = 50;\nexport const defaultState = {\n  pageSize: DEFAULT_PAGE_SIZE,\n  page: 1,\n  total: 0,\n  pageCount: 1,\n  nextPage: '',\n  prevPage: ''\n};\nexport const pagination = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case allActionTypes.GO_TO_NEXT_PAGE:\n      return { ...state,\n        page: state.page + 1\n      };\n\n    case allActionTypes.GO_TO_PREV_PAGE:\n      return { ...state,\n        page: state.page - 1\n      };\n\n    case allActionTypes.SET_PAGINATION:\n      return payload;\n\n    case actionTypes.RESET_PAGINATION:\n    case allActionTypes.LOCATION_CHANGE:\n      return defaultState;\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportData.js';\nexport const defaultState = {\n  loading: false,\n  content: {},\n  comment: ''\n};\nexport const reportData = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.LOADING_REPORT_DATA_START:\n      return { ...state,\n        loading: true,\n        content: {}\n      };\n\n    case actionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return { ...state,\n        loading: false,\n        content: payload\n      };\n\n    case actionTypes.LOADING_REPORT_DATA_ERROR:\n      return { ...state,\n        loading: false\n      };\n    // @TODO: not sure this is needed.\n    // Not required for reporting-rate-summary\n\n    case actionTypes.UNSET_REPORT_DATA:\n      return { ...state,\n        content: {}\n      };\n\n    case actionTypes.SET_DATA_SET_REPORT_COMMENT:\n      return { ...state,\n        comment: payload\n      };\n\n    case LOCATION_CHANGE:\n      return defaultState;\n\n    default:\n      return state;\n  }\n};","import { LOCATION_CHANGE } from 'connected-react-router';\nimport { actionTypes } from '../actions/reportPeriod.js';\nexport const ACTIONS = {\n  LOCATION_CHANGE,\n  ...actionTypes\n};\nexport const defaultState = {\n  loading: true,\n  collection: [],\n  selectedPeriodType: '',\n  selectedPeriod: ''\n};\nexport function reportPeriod() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case ACTIONS.REPORT_PERIOD_TYPES_RECEIVED:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case ACTIONS.REPORT_PERIOD_TYPES_ERRORED:\n      return { ...state,\n        loading: false\n      };\n\n    case ACTIONS.REPORT_PERIOD_TYPE_SELECTED:\n      return { ...state,\n        selectedPeriodType: payload,\n        selectedPeriod: ''\n      };\n\n    case ACTIONS.REPORT_PERIOD_SELECTED:\n      return { ...state,\n        selectedPeriod: payload\n      };\n\n    case ACTIONS.REPORT_PERIOD_CLEAR_ALL:\n    case ACTIONS.LOCATION_CHANGE:\n      return { ...defaultState,\n        loading: state.loading,\n        collection: state.collection\n      };\n\n    default:\n      return state;\n  }\n}","import { resourceActions } from '../../utils/resource/constants.js';\nimport { actionTypes } from '../actions/resource.js';\nexport const defaultSelectedResource = {\n  id: '',\n  displayName: ''\n};\nexport const defaultState = {\n  open: false,\n  loading: false,\n  addEditLoading: false,\n  search: '',\n  collection: [],\n  selectedAction: '',\n  selectedResource: defaultSelectedResource\n};\nexport const resource = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.REQUEST_DELETE_RESOURCE:\n      return { ...state,\n        selectedResource: payload\n      };\n\n    case actionTypes.LOADING_RESOURCES_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.LOADING_RESOURCES_SUCCESS:\n      return { ...state,\n        loading: false,\n        collection: payload\n      };\n\n    case actionTypes.LOADING_RESOURCES_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_RESOURCE_SEARCH:\n      return { ...state,\n        search: payload\n      };\n\n    case actionTypes.SET_RESOURCE:\n      return { ...state,\n        open: true,\n        selectedResource: payload\n      };\n\n    case actionTypes.SHOW_SHARING_SETTINGS:\n      return { ...state,\n        open: true,\n        selectedResource: payload,\n        selectedAction: resourceActions.SHARING_SETTINGS\n      };\n\n    case actionTypes.DELETE_RESOURCE_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.DELETE_RESOURCE_SUCCESS:\n    case actionTypes.DELETE_RESOURCE_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.CLEAR_SELECTED_RESOURCE:\n      return { ...state,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_START:\n    case actionTypes.RESOURCE_EDIT_LOADING_START:\n      return { ...state,\n        addEditLoading: true\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_SUCCESS:\n    case actionTypes.RESOURCE_EDIT_LOADING_SUCCESS:\n      return { ...state,\n        addEditLoading: false,\n        open: false,\n        selectedAction: '',\n        selectedResource: defaultSelectedResource\n      };\n\n    case actionTypes.RESOURCE_ADD_LOADING_ERROR:\n    case actionTypes.RESOURCE_EDIT_LOADING_ERROR:\n      return { ...state,\n        addEditLoading: false\n      };\n\n    default:\n      return state;\n  }\n};","import { CONTEXT_MENU_ACTION } from '../../pages/standard-report/standard.report.conf.js';\nimport { actionTypes as reportDataActionTypes } from '../actions/reportData.js';\nimport { actionTypes } from '../actions/standardReport.js';\nexport const defaultState = {\n  reports: [],\n  selectedReport: {},\n  selectedAction: '',\n  search: '',\n  open: false,\n  reportData: '',\n  loading: false,\n  loadingError: '',\n  requestDelete: false,\n  loadingDetails: false,\n  loadingSendReport: false,\n  reportParams: {},\n  reportParamsErrors: [],\n  showReportParams: false\n};\nexport const standardReport = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case actionTypes.SET_SELECTED_REPORT:\n      return { ...state,\n        selectedReport: payload\n      };\n\n    case actionTypes.CLEAR_SELECTED_REPORT:\n      return { ...state,\n        selectedReport: {}\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_START:\n      return { ...state,\n        loading: true\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_SUCCESS:\n      return { ...state,\n        reports: payload,\n        loading: false\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.SET_SEARCH:\n      return { ...state,\n        search: payload\n      };\n\n    case actionTypes.SHARING_SETTINGS_SHOW:\n      return { ...state,\n        open: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.SHARING_SETTINGS\n      };\n\n    case actionTypes.CLOSE_CONTEXT_MENU:\n      return { ...state,\n        open: false,\n        selectedReport: {},\n        selectedAction: ''\n      };\n\n    case actionTypes.REQUEST_DELETE_STANDARD_REPORT:\n      return { ...state,\n        requestDelete: true,\n        selectedReport: payload,\n        selectedAction: CONTEXT_MENU_ACTION.DELETE\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_START:\n      return { ...state,\n        requestDelete: false,\n        loading: true\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_SUCCESS:\n      return { ...state,\n        selectedReport: {},\n        selectedAction: '',\n        loading: false\n      };\n\n    case actionTypes.DELETE_STANDARD_REPORT_ERROR:\n      return { ...state,\n        loading: false\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_START:\n      return { ...state,\n        loadingDetails: true\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_SUCCESS:\n      return { ...state,\n        open: true,\n        loadingDetails: false,\n        selectedReport: payload\n      };\n\n    case actionTypes.LOADING_STANDARD_REPORTS_DETAILS_ERROR:\n      return { ...state,\n        loadingDetails: false\n      };\n\n    case actionTypes.STANDARD_REPORT_SEND_START:\n      return { ...state,\n        loadingSendReport: true\n      };\n\n    case actionTypes.STANDARD_REPORT_SEND_SUCCESS:\n    case actionTypes.STANDARD_REPORT_SEND_ERROR:\n      return { ...state,\n        open: false,\n        loadingSendReport: false\n      };\n\n    case actionTypes.DEFINE_REQUIRED_PARAMS:\n      return { ...state,\n        reportParams: payload,\n        showReportParams: true\n      };\n\n    case actionTypes.REQUIRED_PARAMS_ERROR:\n      return { ...state,\n        reportParamsErrors: payload\n      };\n\n    case actionTypes.GENERATE_PDF_REPORT:\n    case actionTypes.CANCEL_GENERATING_PDF_REPORT:\n    case reportDataActionTypes.LOADING_REPORT_DATA_SUCCESS:\n      return { ...state,\n        reportParams: {},\n        reportParamsErrors: [],\n        showReportParams: false\n      };\n\n    default:\n      return state;\n  }\n};","import { actionTypes } from '../actions/standardReportTables.js';\nexport const defaultState = {\n  loading: false,\n  error: '',\n  collection: [],\n  noMatches: false,\n  searchTerm: ''\n};\nexport const standardReportTables = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (type) {\n    case actionTypes.STANDARD_REPORT_TABLES_SET_SEARCH_TERM:\n      return { ...state,\n        searchTerm: payload,\n        noMatches: false\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_CLEAR_SEARCH_TERM:\n      return { ...state,\n        searchTerm: '',\n        collection: [],\n        noMatches: false\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_START:\n      return { ...state,\n        error: '',\n        loading: true\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_SUCCESS:\n      return { ...state,\n        loading: false,\n        error: '',\n        collection: payload,\n        noMatches: payload.length === 0\n      };\n\n    case actionTypes.STANDARD_REPORT_TABLES_LOADING_ERROR:\n      return { ...state,\n        loading: false,\n        noMatches: false\n      };\n\n    default:\n      return state;\n  }\n};","import { connectRouter } from 'connected-react-router';\nimport { combineReducers } from 'redux';\nimport history from '../utils/history.js';\nimport { dataSet } from './reducers/dataSet.js';\nimport { dataSetDimensions } from './reducers/dataSetDimensions.js';\nimport { dataSetReport } from './reducers/dataSetReport.js';\nimport { feedback } from './reducers/feedback.js';\nimport { organisationUnits } from './reducers/organisationUnits.js';\nimport { orgUnitDistReport } from './reducers/orgUnitDistReport.js';\nimport { orgUnitGroupSets } from './reducers/orgUnitGroupSets.js';\nimport { pagination } from './reducers/pagination.js';\nimport { reportData } from './reducers/reportData.js';\nimport { reportPeriod } from './reducers/reportPeriod.js';\nimport { resource } from './reducers/resource.js';\nimport { standardReport } from './reducers/standardReport.js';\nimport { standardReportTables } from './reducers/standardReportTables.js';\nexport default combineReducers({\n  router: connectRouter(history),\n  feedback,\n  standardReport,\n  standardReportTables,\n  dataSetReport,\n  reportPeriod,\n  organisationUnits,\n  orgUnitGroupSets,\n  dataSet,\n  dataSetDimensions,\n  reportData,\n  pagination,\n  orgUnitDistReport,\n  resource\n});","import { routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reduxThunk from 'redux-thunk';\nimport history from '../utils/history.js';\nimport rootReducer from './rootReducer.js';\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(routerMiddleware(history), reduxThunk)));\nexport default store;","import i18n from '../locales/index.js';\nconst d2UiTranslations = {\n  settings: i18n.t('Settings'),\n  app_search_placeholder: i18n.t('Search apps'),\n  profile: i18n.t('Profile'),\n  account: i18n.t('Account'),\n  help: i18n.t('Help'),\n  log_out: i18n.t('Log out'),\n  about_dhis2: i18n.t('About DHIS 2'),\n  manage_my_apps: i18n.t('Manage my apps'),\n  no_results_found: i18n.t('No results found'),\n  interpretations: i18n.t('Interpretations'),\n  messages: i18n.t('Messages'),\n  display_name: i18n.t('Name'),\n  report_table: i18n.t('Report Table'),\n  id: i18n.t('ID'),\n  createReport: i18n.t('Create'),\n  editReport: i18n.t('Edit'),\n  actions: i18n.t('Actions'),\n  delete: i18n.t('Delete'),\n  sharingSettings: i18n.t('Sharing settings'),\n  viewResource: i18n.t('View Resource'),\n  editResource: i18n.t('Edit Resource'),\n  add_users_and_user_groups: i18n.t('Add users and user groups'),\n  enter_names: i18n.t('Enter names'),\n  share: i18n.t('Sharing settings'),\n  metadata: i18n.t('Permissions'),\n  created_by: i18n.t('Created By'),\n  who_has_access: i18n.t('Who has access'),\n  external_access: i18n.t('External access (without login)'),\n  can_edit_and_view: i18n.t('Can edit and view'),\n  can_view: i18n.t('Can view'),\n  can_view_only: i18n.t('Can view only'),\n  no_access: i18n.t('No access'),\n  public_access: i18n.t('Public access (with login)'),\n  public_can_edit: i18n.t('Public can edit'),\n  public_can_view: i18n.t('Public can view'),\n  anyone_can_find_view_and_edit: i18n.t('Public can find, view and edit'),\n  anyone_can_find_and_view: i18n.t('Public can find and view'),\n  close: i18n.t('Close'),\n  week: i18n.t('week'),\n  month: i18n.t('month'),\n  year: i18n.t('year'),\n  biMonth: i18n.t('bi monthly'),\n  day: i18n.t('day'),\n  jan: i18n.t('January'),\n  feb: i18n.t('February'),\n  mar: i18n.t('March'),\n  apr: i18n.t('April'),\n  may: i18n.t('May'),\n  jun: i18n.t('June'),\n  jul: i18n.t('July'),\n  aug: i18n.t('August'),\n  sep: i18n.t('September'),\n  oct: i18n.t('October'),\n  nov: i18n.t('November'),\n  dec: i18n.t('December'),\n  'jan-feb': i18n.t('January-February'),\n  'mar-apr': i18n.t('March-April'),\n  'may-jun': i18n.t('May-June'),\n  'jul-aug': i18n.t('July-August'),\n  'sep-oct': i18n.t('September-October'),\n  'nov-dec': i18n.t('November-December'),\n  'nov-apr': i18n.t('November-April'),\n  'may-oct': i18n.t('May-October'),\n  quarter: i18n.t('quarter'),\n  Q1: i18n.t('January-March'),\n  Q2: i18n.t('April-June'),\n  Q3: i18n.t('July-September'),\n  Q4: i18n.t('October-December'),\n  sixMonth: i18n.t('six monthly'),\n  'jan-jun': i18n.t('January-June'),\n  'jul-dec': i18n.t('July-December'),\n  'apr-sep': i18n.t('April-September'),\n  'oct-mar': i18n.t('October-March'),\n  biWeek: i18n.t('Bi-Week'),\n  bi_week: i18n.t('Bi-Week')\n};\n\nconst injectTranslationsToD2 = d2 => {\n  if (d2) {\n    Object.assign(d2.i18n.translations, d2UiTranslations);\n  }\n};\n\nexport default injectTranslationsToD2;","import 'material-design-icons-iconfont/dist/material-design-icons.css';\nimport 'flexboxgrid/css/flexboxgrid.css';\nimport './locales/index.js';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport D2UIApp from '@dhis2/d2-ui-app';\nimport { mui3theme } from '@dhis2/d2-ui-core';\nimport { MuiThemeProvider as Mui3ThemeProvider, createMuiTheme as createMui3Theme } from '@material-ui/core/styles';\nimport { ConnectedRouter } from 'connected-react-router';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport App from './App.js';\nimport store from './redux/store.js';\nimport { initApi } from './utils/api.js';\nimport history from './utils/history.js';\nimport injectTranslationsToD2 from './utils/injectTranslationsToD2.js';\nconst MUI3Theme = createMui3Theme(mui3theme);\n\nconst AppWrapper = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    d2\n  } = useD2({\n    d2Config: {\n      baseUrl: baseUrl + '/api',\n      schemas: ['dataApprovalLevel', 'dataSet', 'organisationUnit', 'organisationUnitGroupSet', 'report']\n    },\n    onInitialized: d2 => {\n      initApi(d2);\n      injectTranslationsToD2(d2);\n    }\n  });\n\n  if (!d2) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(D2UIApp, null, /*#__PURE__*/React.createElement(Mui3ThemeProvider, {\n    theme: MUI3Theme\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(ConnectedRouter, {\n    history: history\n  }, /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  })))));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}